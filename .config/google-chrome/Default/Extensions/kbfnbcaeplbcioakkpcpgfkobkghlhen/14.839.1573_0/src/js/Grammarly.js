!function(modules) {
    var installedModules = {};
    function __webpack_require__(moduleId) {
        if (installedModules[moduleId]) return installedModules[moduleId].exports;
        var module = installedModules[moduleId] = {
            i: moduleId,
            l: !1,
            exports: {}
        };
        return modules[moduleId].call(module.exports, module, module.exports, __webpack_require__), 
        module.l = !0, module.exports;
    }
    __webpack_require__.m = modules, __webpack_require__.c = installedModules, __webpack_require__.d = function(exports, name, getter) {
        __webpack_require__.o(exports, name) || Object.defineProperty(exports, name, {
            configurable: !1,
            enumerable: !0,
            get: getter
        });
    }, __webpack_require__.n = function(module) {
        var getter = module && module.__esModule ? function() {
            return module.default;
        } : function() {
            return module;
        };
        return __webpack_require__.d(getter, "a", getter), getter;
    }, __webpack_require__.o = function(object, property) {
        return Object.prototype.hasOwnProperty.call(object, property);
    }, __webpack_require__.p = "", __webpack_require__(__webpack_require__.s = 641);
}([ function(module, exports, __webpack_require__) {
    "use strict";
    var root_1 = __webpack_require__(46), toSubscriber_1 = __webpack_require__(644), observable_1 = __webpack_require__(343), pipe_1 = __webpack_require__(374), Observable = function() {
        function Observable(subscribe) {
            this._isScalar = !1, subscribe && (this._subscribe = subscribe);
        }
        return Observable.prototype.lift = function(operator) {
            var observable = new Observable();
            return observable.source = this, observable.operator = operator, observable;
        }, Observable.prototype.subscribe = function(observerOrNext, error, complete) {
            var operator = this.operator, sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);
            if (operator ? operator.call(sink, this.source) : sink.add(this.source || !sink.syncErrorThrowable ? this._subscribe(sink) : this._trySubscribe(sink)), 
            sink.syncErrorThrowable && (sink.syncErrorThrowable = !1, sink.syncErrorThrown)) throw sink.syncErrorValue;
            return sink;
        }, Observable.prototype._trySubscribe = function(sink) {
            try {
                return this._subscribe(sink);
            } catch (err) {
                sink.syncErrorThrown = !0, sink.syncErrorValue = err, sink.error(err);
            }
        }, Observable.prototype.forEach = function(next, PromiseCtor) {
            var _this = this;
            if (PromiseCtor || (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise ? PromiseCtor = root_1.root.Rx.config.Promise : root_1.root.Promise && (PromiseCtor = root_1.root.Promise)), 
            !PromiseCtor) throw new Error("no Promise impl found");
            return new PromiseCtor(function(resolve, reject) {
                var subscription;
                subscription = _this.subscribe(function(value) {
                    if (subscription) try {
                        next(value);
                    } catch (err) {
                        reject(err), subscription.unsubscribe();
                    } else next(value);
                }, reject, resolve);
            });
        }, Observable.prototype._subscribe = function(subscriber) {
            return this.source.subscribe(subscriber);
        }, Observable.prototype[observable_1.observable] = function() {
            return this;
        }, Observable.prototype.pipe = function() {
            for (var operations = [], _i = 0; _i < arguments.length; _i++) operations[_i - 0] = arguments[_i];
            return 0 === operations.length ? this : pipe_1.pipeFromArray(operations)(this);
        }, Observable.prototype.toPromise = function(PromiseCtor) {
            var _this = this;
            if (PromiseCtor || (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise ? PromiseCtor = root_1.root.Rx.config.Promise : root_1.root.Promise && (PromiseCtor = root_1.root.Promise)), 
            !PromiseCtor) throw new Error("no Promise impl found");
            return new PromiseCtor(function(resolve, reject) {
                var value;
                _this.subscribe(function(x) {
                    return value = x;
                }, function(err) {
                    return reject(err);
                }, function() {
                    return resolve(value);
                });
            });
        }, Observable.create = function(subscribe) {
            return new Observable(subscribe);
        }, Observable;
    }();
    exports.Observable = Observable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var logger_1 = __webpack_require__(161);
    exports.SimpleLogger = logger_1.SimpleLogger, exports.Logger = logger_1.Logger;
    var logWriter_1 = __webpack_require__(73);
    exports.FunctionLogWriter = logWriter_1.FunctionLogWriter, exports.ConsoleLogWriter = logWriter_1.ConsoleLogWriter;
    var logFilter_1 = __webpack_require__(74);
    exports.logLevelFilter = logFilter_1.logLevelFilter;
    var logConfig_1 = __webpack_require__(72);
    exports.LogConfig = logConfig_1.LogConfig;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function(resolve, reject) {
            function fulfilled(value) {
                try {
                    step(generator.next(value));
                } catch (e) {
                    reject(e);
                }
            }
            function rejected(value) {
                try {
                    step(generator.throw(value));
                } catch (e) {
                    reject(e);
                }
            }
            function step(result) {
                result.done ? resolve(result.value) : new P(function(resolve) {
                    resolve(result.value);
                }).then(fulfilled, rejected);
            }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }, __generator = this && this.__generator || function(thisArg, body) {
        var f, y, t, g, _ = {
            label: 0,
            sent: function() {
                if (1 & t[0]) throw t[1];
                return t[1];
            },
            trys: [],
            ops: []
        };
        return g = {
            next: verb(0),
            throw: verb(1),
            return: verb(2)
        }, "function" == typeof Symbol && (g[Symbol.iterator] = function() {
            return this;
        }), g;
        function verb(n) {
            return function(v) {
                return function(op) {
                    if (f) throw new TypeError("Generator is already executing.");
                    for (;_; ) try {
                        if (f = 1, y && (t = y[2 & op[0] ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                        switch (y = 0, t && (op = [ 0, t.value ]), op[0]) {
                          case 0:
                          case 1:
                            t = op;
                            break;

                          case 4:
                            return _.label++, {
                                value: op[1],
                                done: !1
                            };

                          case 5:
                            _.label++, y = op[1], op = [ 0 ];
                            continue;

                          case 7:
                            op = _.ops.pop(), _.trys.pop();
                            continue;

                          default:
                            if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                                _ = 0;
                                continue;
                            }
                            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                                _.label = op[1];
                                break;
                            }
                            if (6 === op[0] && _.label < t[1]) {
                                _.label = t[1], t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2], _.ops.push(op);
                                break;
                            }
                            t[2] && _.ops.pop(), _.trys.pop();
                            continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [ 6, e ], y = 0;
                    } finally {
                        f = t = 0;
                    }
                    if (5 & op[0]) throw op[1];
                    return {
                        value: op[0] ? op[1] : void 0,
                        done: !0
                    };
                }([ n, v ]);
            };
        }
    }, __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var transform = __webpack_require__(117), nch = __webpack_require__(188), newConfig_1 = __webpack_require__(25), newConfig_2 = __webpack_require__(25);
    function interval(cb, time) {
        var items = interval.items = interval.items || {}, item = items[cb];
        if (item || time) {
            if (item && !time) return clearTimeout(item), void delete items[cb];
            !function() {
                function _cb() {
                    timeout(), cb();
                }
                function timeout() {
                    var tid = setTimeout(_cb, time);
                    items[cb] = tid;
                }
                timeout();
            }();
        }
    }
    function s4() {
        return (65536 * (1 + Math.random()) | 0).toString(16).substring(1);
    }
    function _f() {}
    function delay(ms) {
        return new Promise(function(resolve) {
            return setTimeout(resolve, ms);
        });
    }
    exports.isTestsMode = newConfig_2.isTestsMode, exports.getBrowser = newConfig_2.getBrowser, 
    exports.isBg = newConfig_2.isBg, exports.isBgOrPopup = newConfig_2.isBgOrPopup, 
    exports.isChrome = newConfig_2.isChrome, exports.isFF = newConfig_2.isFF, exports.isPopup = newConfig_2.isPopup, 
    exports.isSafari = newConfig_2.isSafari, exports.isEdge = newConfig_2.isEdge, exports.isWindows = newConfig_2.isWindows, 
    exports.chromeBgError = function() {
        return window.chrome && window.chrome.runtime && window.chrome.runtime.lastError;
    }, exports.isFunction = function(obj) {
        return !!(obj && obj.constructor && obj.call && obj.apply);
    }, exports.interval = interval, function(interval) {
        interval.items = {};
    }(interval = exports.interval || (exports.interval = {})), exports.cancelInterval = function(cb) {
        interval(cb);
    }, exports.guid = function() {
        return s4() + s4() + "-" + s4() + "-" + s4() + "-" + s4() + "-" + s4() + s4() + s4();
    }, exports.bytes = function(str) {
        for (var codePoint, next, result = 0, len = str.length, i = 0; i < len; i++) (codePoint = str.charCodeAt(i)) >= 55296 && codePoint < 57344 && codePoint < 56320 && i + 1 < len && (next = str.charCodeAt(i + 1)) >= 56320 && next < 57344 ? (result += 4, 
        i++) : result += codePoint < 128 ? 1 : codePoint < 2048 ? 2 : 3;
        return result;
    }, exports.chunks = function(s, len) {
        for (var curr = len, prev = 0, result = []; s[curr]; ) if (" " === s[curr++]) result.push(s.substring(prev, curr)), 
        prev = curr, curr += len; else {
            var currReverse = curr;
            do {
                if (" " === s.substring(currReverse - 1, currReverse)) {
                    result.push(s.substring(prev, currReverse)), prev = currReverse, curr = currReverse + len;
                    break;
                }
                currReverse--;
            } while (currReverse > prev);
        }
        return result.push(s.substr(prev)), result;
    }, exports._f = _f, exports._F = function() {
        return !0;
    }, exports.bgPageReload = function() {
        window.chrome && window.chrome.runtime && window.chrome.runtime.reload ? window.chrome.runtime.reload() : window.location.reload();
    }, exports.isGmail = function(doc) {
        if (doc.location) {
            var host = "mail.google.com" == doc.location.host, frames = doc.querySelector("iframe#js_frame") && doc.querySelector("iframe#sound_frame");
            return host || frames;
        }
    }, exports.isValidEmail = function(value) {
        return /^[-!#$%&\'*+\\./0-9=?A-Z^_`a-z{|}~]+@[-!#$%&\'*+\\/0-9=?A-Z^_`a-z{|}~]+\.[-!#$%&\'*+\\./0-9=?A-Z^_`a-z{|}~]+$/.test(value);
    }, exports.formatNumber = function(i) {
        return i.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }, exports.declension = function(value, arr) {
        return arr[1 == value ? 0 : 1];
    }, exports.stub = function(methods) {
        return transform(methods, function(result, m) {
            return result[m] = _f;
        });
    }, exports.memoize = function(func, resolver, ttl) {
        var cache = {};
        return function() {
            var key = "_memoize_" + (resolver ? resolver.apply(this, arguments) : arguments[0]);
            return window.hasOwnProperty.call(cache, key) ? cache[key] : (ttl && setTimeout(function() {
                delete cache[key];
            }, ttl), cache[key] = func.apply(this, arguments));
        };
    }, exports.syncWait = function(promise, methods) {
        return Object.keys(methods).reduce(function(obj, method) {
            return Object.assign({}, obj, ((_a = {})[method] = function() {
                for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
                return promise.then(function() {
                    return methods[method].apply(methods, __spread(args));
                });
            }, _a));
            var _a;
        }, {});
    }, exports.promisify = function(method) {
        return new Promise(function(resolve) {
            return method(resolve);
        });
    }, exports.getRandomIntInclusive = function(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }, exports.delay = delay;
    var months = [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ];
    exports.formatDate = function(dateStr) {
        if (dateStr) {
            var date = new Date(dateStr);
            if ("Invalid Date" !== date.toString()) return months[date.getMonth()] + " " + date.getDate() + ", " + date.getFullYear();
        }
    }, exports.createClass = function(getPrototype) {
        var _class = function() {};
        return _class.prototype = getPrototype(), _class;
    }, exports.versionComparator = function(v1, v2) {
        function splitToArray(str) {
            return str.split(".").map(function(el) {
                return Number(el) || 0;
            });
        }
        void 0 === v1 && (v1 = ""), void 0 === v2 && (v2 = "");
        var v1arr = splitToArray(v1), v2arr = splitToArray(v2), postfix = Array(Math.abs(v1arr.length - v2arr.length)).fill(0);
        if (v1arr.length > v2arr.length ? v2arr.push.apply(v2arr, __spread(postfix)) : v1arr.push.apply(v1arr, __spread(postfix)), 
        v1arr.every(function(v, i) {
            return v === v2arr[i];
        })) return 0;
        for (var i = 0, len = v1arr.length; i < len; i++) {
            if (v1arr[i] > v2arr[i]) return 1;
            if (v1arr[i] < v2arr[i]) return -1;
        }
        return -1;
    }, exports.isBgAlive = function() {
        return __awaiter(this, void 0, void 0, function() {
            return __generator(this, function(_a) {
                switch (_a.label) {
                  case 0:
                    if (!newConfig_1.isChrome() && !newConfig_1.isFF()) return [ 2, null ];
                    _a.label = 1;

                  case 1:
                    return _a.trys.push([ 1, 3, , 4 ]), [ 4, Promise.race([ new Promise(function(resolve) {
                        return window.chrome.runtime.sendMessage("ping", resolve);
                    }), delay(1e4).then(function(_) {
                        return "timeouted";
                    }) ]) ];

                  case 2:
                    return [ 2, _a.sent() ];

                  case 3:
                    return _a.sent(), [ 2, "orphaned" ];

                  case 4:
                    return [ 2 ];
                }
            });
        });
    }, exports.asyncCall = function(cb, time) {
        void 0 === time && (time = 10), setTimeout(cb, time);
    }, exports.createChannel = function(_a) {
        var _b = (void 0 === _a ? {} : _a).buffered, buffered = void 0 === _b || _b, messageQueue = [], resolveQueue = [];
        return {
            take: function() {
                return messageQueue.length ? Promise.resolve(messageQueue.shift()) : new Promise(function(resolve) {
                    return resolveQueue.push(resolve);
                });
            },
            put: function(msg) {
                resolveQueue.length > 0 ? resolveQueue.shift()(msg) : buffered ? messageQueue.push(msg) : messageQueue[0] = msg;
            }
        };
    }, exports.normalizedHashCode = function(str, base) {
        if (void 0 === base && (base = 100), !str) return NaN;
        var algo = nch.createHash("superfasthash");
        return parseInt(algo.hash(str), 16) % base;
    }, exports.keyCode = function(event) {
        return event.which || event.charCode || event.keyCode || 0;
    }, exports.NBSP_RE = new RegExp(String.fromCharCode(160), "g");
    var nbsp = String.fromCharCode(160), reBr = /\n/g, reLastSpace = /\s$/g, reBrSpace = new RegExp("\n" + String.fromCharCode(32), "g");
    exports.br = function(val, last) {
        return val = val.replace(reBrSpace, "<br>" + nbsp).replace(reBr, "<br>"), last && (val = val.replace(reLastSpace, nbsp)), 
        val;
    }, exports.trimLeft = function(s) {
        return s.replace(/^\s+/, "");
    }, exports.trimRight = function(s) {
        return s.replace(/\s+$/, "");
    }, exports.SECOND = 1e3, exports.MINUTE = 60 * exports.SECOND, exports.HOUR = 60 * exports.MINUTE, 
    exports.DAY = 24 * exports.HOUR, exports.ESC_KEY = 27, exports.ENTER_KEY = 13, exports.pastDays = function(date) {
        return Math.round(Math.abs(+new Date() - +new Date(date)) / exports.DAY);
    }, exports.getNextPingDate = function() {
        var now = new Date();
        return now.getHours() > 2 && now.setDate(now.getDate() + 1), now.setHours(3), now.setMinutes(Math.floor(60 * Math.random())), 
        now.getTime();
    }, exports.escapeRegExp = function(str) {
        return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var ReactDOM = __webpack_require__(19), stdlib_1 = __webpack_require__(4), DOMPurify = __webpack_require__(100), transform = __webpack_require__(117), each = __webpack_require__(96), isString = __webpack_require__(410), isArray = __webpack_require__(7), isObject = __webpack_require__(9), extend = __webpack_require__(38), events_1 = __webpack_require__(138);
    function hasClass(_el, cls) {
        return !(!_el || void 0 === _el.className) && _el.classList.contains(cls);
    }
    function removeClass(_el, cls) {
        if (_el && _el.classList) return _el.classList.remove(cls);
    }
    function addClass(_el, cls) {
        if (_el) {
            if (-1 === cls.indexOf(" ")) return _el.classList.add(cls);
            for (var classes = cls.split(" "), i = 0; i < classes.length; i++) _el.classList.add(classes[i]);
        }
    }
    function isContentEditable(el) {
        return "true" === el.contentEditable || "plaintext-only" === el.contentEditable;
    }
    function matchesSelector(el, sel) {
        if (!el) return !1;
        var method = el.matches || el.msMatchesSelector || el.matchesSelector || el.webkitMatchesSelector || el.mozMatchesSelector;
        return !!method && method.apply(el, [ sel ]);
    }
    function on(type, listener, useCapture) {
        var _this = this;
        return this.addEventListener(type, listener, useCapture), {
            off: function() {
                return off.apply(_this, [ type, listener, useCapture ]);
            }
        };
    }
    function off(type, listener, useCapture) {
        this.removeEventListener(type, listener, useCapture);
    }
    exports.listen = events_1.listen, exports.unlisten = events_1.unlisten, exports.IFRAME_STYLE_CLASS = "gr__style", 
    exports.createEl = function(html, doc) {
        var div = (doc || document).createElement("div");
        return div.innerHTML = DOMPurify.sanitize(html.trim()), div.firstElementChild;
    }, exports.renderReactWithParent = function(reactElement, p, id, type) {
        void 0 === type && (type = "div");
        var parent = p, react = parent[id] = parent[id] || {}, clickHandler = function(e) {
            e.stopPropagation(), e.stopImmediatePropagation();
        };
        react.el || (react.el = parent.ownerDocument.createElement(type), react.el.addEventListener("click", clickHandler), 
        parent.appendChild(react.el));
        var component = ReactDOM.render(reactElement, react.el);
        return null == react.remove && (react.remove = function() {
            delete parent[id], react.el.removeEventListener("click", clickHandler), parent.removeChild(react.el), 
            ReactDOM.unmountComponentAtNode(react.el);
        }), {
            component: component,
            remove: react.remove.bind(react),
            el: react.el
        };
    }, exports.inEl = function(el, target, deep) {
        void 0 === deep && (deep = 1e3);
        for (var cur = el; cur.parentNode && 0 < deep; ) {
            if ("string" != typeof target && target === cur) return !0;
            if (cur.id === target || cur === target) return !0;
            cur = cur.parentNode;
        }
        return !1;
    }, exports.hasClass = hasClass, exports.removeClass = removeClass, exports.addClass = addClass, 
    exports.toggleClass = function(el, flag, cls) {
        flag ? addClass(el, cls) : removeClass(el, cls);
    }, exports.getParentBySel = function(el, sel) {
        for (var e = el.parentNode; null !== e; ) {
            if (matchesSelector(e, sel)) return e;
            e = e.parentNode;
        }
        return !1;
    }, exports.parentIsContentEditable = function(el) {
        for (var e = el.parentNode; null !== e; ) {
            if (isContentEditable(e)) return e;
            e = e.parentNode;
        }
        return !1;
    }, exports.isContentEditable = isContentEditable, exports.matchesSelector = matchesSelector, 
    exports.isFocused = function(el) {
        return document.activeElement && "IFRAME" === document.activeElement.tagName ? el === el.ownerDocument.activeElement : (document.activeElement && document.activeElement.tagName, 
        el === document.activeElement);
    }, exports.on = on, exports.off = off, exports.once = function(event, cb) {
        var _this = this, done = function(e) {
            cb(e), off.call(_this, event, done);
        };
        on.call(this, event, done);
    }, exports.emit = function(event, data) {
        var e = document.createEvent("CustomEvent");
        e.initCustomEvent(event, !0, !0, data), this.dispatchEvent(e);
    }, exports.isVisible = function(el, getClientHeight) {
        void 0 === getClientHeight && (getClientHeight = function(el) {
            return el.clientHeight;
        });
        var style = getComputedStyle(el, void 0);
        return "none" !== style.getPropertyValue("display") && "hidden" !== style.getPropertyValue("visibility") && getClientHeight(el) > 0;
    }, exports.cs = function() {
        for (var keys = [], _i = 0; _i < arguments.length; _i++) keys[_i] = arguments[_i];
        return keys.reduce(function(res, cur) {
            return res.concat(isObject(cur) ? Object.keys(cur).filter(function(cls) {
                return cur[cls];
            }) : cur);
        }, []).filter(function(x) {
            return Boolean(x);
        }).join(" ");
    };
    var cssNumber = {
        "column-count": 1,
        columns: 1,
        "font-weight": 1,
        "line-height": 1,
        opacity: 1,
        "z-index": 1,
        zoom: 1
    };
    function maybeAddPx(name, value) {
        return "number" != typeof value || cssNumber[dasherize(name)] ? value : value + "px";
    }
    function camelize(str) {
        return str.replace(/-+(.)?/g, function(_, chr) {
            return chr ? chr.toUpperCase() : "";
        });
    }
    function dasherize(str) {
        return str.replace(/::/g, "/").replace(/([A-Z]+)([A-Z][a-z])/g, "$1_$2").replace(/([a-z\d])([A-Z])/g, "$1_$2").replace(/_/g, "-").toLowerCase();
    }
    function css(el, arg2, arg3) {
        if (arguments.length < 3) {
            var element_1 = el;
            if (!element_1) return;
            var computedStyle_1 = getComputedStyle(element_1, "");
            if ("string" == typeof arg2) return element_1.style[camelize(arg2)] || computedStyle_1.getPropertyValue(arg2);
            if (isArray(arg2)) {
                var props_1 = {};
                return each(arg2, function(val, _) {
                    props_1[camelize(val)] = element_1.style[camelize(val)] || computedStyle_1.getPropertyValue(val);
                }), props_1;
            }
        }
        var result = "";
        if (isString(arg2)) arg3 || 0 === arg3 ? result = dasherize(arg2) + ":" + maybeAddPx(arg2, arg3) : el.style.removeProperty(dasherize(arg2)); else for (var key in arg2 = arg2) arg2[key] || 0 === arg2[key] ? result += dasherize(key) + ":" + maybeAddPx(key, arg2[key]) + ";" : el.style.removeProperty(dasherize(key));
        return el.style.cssText += result;
    }
    function getParent(el, cls) {
        for (var e = el.parentNode; null !== e; ) {
            if (hasClass(e, cls)) return e;
            e = e.parentNode;
        }
        return !1;
    }
    function addRange(doc, range) {
        var s = doc.getSelection();
        s.removeAllRanges(), s.addRange(range);
    }
    exports.maybeAddPx = maybeAddPx, exports.camelize = camelize, exports.camelizeAttrs = function(obj) {
        return transform(obj, function(result, value, key) {
            return result[camelize(key)] = value;
        });
    }, exports.dasherize = dasherize, exports.css = css, exports.setCustomCss = function(field, style) {
        if (style && field) {
            var originStyle = css(field, Object.keys(style));
            return css(field, style), function() {
                return css(field, originStyle);
            };
        }
    }, exports.getParentByTag = function(el, tag) {
        for (var e = el.parentNode; null !== e; ) {
            if (e.tagName === tag) return e;
            e = e.parentNode;
        }
        return null;
    }, exports.getParentByData = function(el, key, val) {
        for (var e = el.parentNode; null !== e; ) {
            if (e.dataset && e.dataset[key] && e.dataset[key] == val) return e;
            e = e.parentNode;
        }
    }, exports.resolveEl = function(el, cls) {
        return hasClass(el, cls) ? el : getParent(el, cls);
    }, exports.getParent = getParent, exports.parentHasClass = function(el, cls) {
        if (!el) return !1;
        for (var e = el; e.parentNode; ) {
            if (hasClass(e, cls)) return e;
            e = e.parentNode;
        }
        return !1;
    }, exports.getParentByDepth = function getParentByDepth(depth) {
        return void 0 === depth && (depth = 1), depth ? getParentByDepth.call(this.parentNode, --depth) : this;
    }, exports.isParent = function(el, parent) {
        if (!el) return !1;
        for (var e = el; e.parentNode; ) {
            if (parent === e.parentNode) return e;
            e = e.parentNode;
        }
        return !1;
    }, exports.insertAfter = function(newElement, targetElement) {
        var parent = targetElement.parentNode;
        if (null === parent) throw new stdlib_1.AssertionError("Expected non-null parent");
        parent.lastChild === targetElement ? parent.appendChild(newElement) : parent.insertBefore(newElement, targetElement.nextSibling);
    }, exports.insertBefore = function(newElement, targetElement) {
        stdlib_1.assertNonNull(targetElement.parentNode, "parent node").insertBefore(newElement, targetElement);
    }, exports.elementInDocument = function(el, doc) {
        doc = doc || document;
        for (var element = el; element; ) {
            if (element === doc) return !0;
            element = element.parentNode;
        }
        return !1;
    }, exports.runKeyEvent = function(ee) {
        var evt, defaultView, e = extend({
            ctrl: !1,
            meta: !1,
            shift: !1,
            alt: !1
        }, ee);
        try {
            evt = e.el.ownerDocument.createEvent("KeyEvents"), defaultView = e.el.ownerDocument.defaultView, 
            evt.initKeyEvent(e.type, !0, !0, defaultView, e.ctrl, e.alt, e.shift, e.meta, 0, 0);
        } catch (err) {
            (evt = e.el.ownerDocument.createEvent("UIEvents")).initUIEvent.bind(evt)(void 0, !0, !0, window, 1), 
            evt.keyCode = 0, evt.which = 0, evt.charCode = 0, evt.ctrlKey = e.ctrl, evt.altKey = e.alt, 
            evt.shiftKey = e.shift, evt.metaKey = e.meta;
        }
        e.el.dispatchEvent(evt);
    }, exports.docHidden = function(doc) {
        return void 0 !== doc.hidden ? doc.hidden : void 0 !== doc.mozHidden ? doc.mozHidden : void 0 !== doc.webkitHidden ? doc.webkitHidden : void 0 !== doc.msHidden && doc.msHidden;
    }, exports.visibilityEvent = function(doc) {
        return void 0 !== doc.hidden ? "visibilitychange" : void 0 !== doc.mozHidden ? "mozvisibilitychange" : void 0 !== doc.webkitHidden ? "webkitvisibilitychange" : void 0 !== doc.msHidden ? "msvisibilitychange" : "";
    }, exports.transformProp = function(doc) {
        if (void 0 === doc && (doc = document), void 0 === doc.body.style.transform) {
            if (void 0 !== doc.body.style.WebkitTransform) return "WebkitTransform";
            if (void 0 !== doc.body.style.MozTransform) return "MozTransform";
        }
        return "transform";
    }, exports.getDocSelection = function(doc) {
        return doc.getSelection() || {};
    }, exports.compStyle = function(el) {
        for (var props = [], _i = 1; _i < arguments.length; _i++) props[_i - 1] = arguments[_i];
        if (el) {
            var doc = el.ownerDocument;
            if (doc) {
                var win = doc.defaultView || window;
                if (win) {
                    var s = win.getComputedStyle(el, void 0);
                    if (s) return 1 === props.length ? s.getPropertyValue(props[0]) : props.reduce(function(result, prop) {
                        return Object.assign({}, result, ((_a = {})[prop] = s.getPropertyValue(prop), _a));
                        var _a;
                    }, {});
                }
            }
        }
    }, exports.classSelector = function(cls) {
        return cls.split(" ").map(function(c) {
            return "." !== c[0] ? "." + c : c;
        }).join("").trim();
    }, exports.selectorAll = function selectorAll(cls) {
        for (var classes = [], _i = 1; _i < arguments.length; _i++) classes[_i - 1] = arguments[_i];
        if (classes.length > 0) {
            var result_1 = [];
            return result_1.push(selectorAll(cls)), classes.forEach(function(c) {
                return result_1.push(selectorAll(c));
            }), result_1.join(", ");
        }
        return (cls = cls.split(", ").map(function(c) {
            return "." !== c[0] ? "." + c : c;
        }).join(", ").trim()) + ", " + cls + " *";
    }, exports.whichAnimationEndEvent = function() {
        var el = document.createElement("fakeelement"), transitions = {
            animation: "animationend",
            MozAnimation: "animationend",
            WebkitAnimation: "webkitAnimationEnd"
        };
        for (var t in transitions) if (void 0 !== el.style[t]) return transitions[t];
    }, exports.transitionEndEventName = function() {
        var el = document.createElement("fakeelement"), transitions = {
            transition: "transitionend",
            MozTransition: "transitionend",
            WebkitTransition: "webkitTransitionEnd"
        };
        for (var i in transitions) if (transitions.hasOwnProperty(i) && void 0 !== el.style[i]) return transitions[i];
    }, exports.addIframeCss = function(frameDoc, editorType) {
        if (void 0 !== window.GR_INLINE_STYLES) {
            var style = frameDoc.createElement("style");
            style.innerHTML = window.GR_INLINE_STYLES, style.classList.add(exports.IFRAME_STYLE_CLASS), 
            "ckeditor" === editorType && (style.dataset.ckeTemp = "1");
            try {
                frameDoc.querySelector("head").appendChild(style);
            } catch (e) {
                console.log("can't append style", e);
            }
        }
    }, exports.setGRAttributes = function(el, id) {
        el.setAttribute("data-gramm_id", id), el.setAttribute("data-gramm", "true");
    }, exports.emitDomEvent = function(key, data) {
        void 0 === data && (data = {});
        var e = document.createEvent("CustomEvent");
        e.initCustomEvent(key + "-gr", !0, !0, data), document.dispatchEvent(e);
    }, exports.addRange = addRange, exports.setDomRange = function(doc, data) {
        var range = doc.createRange();
        range.setStart(data.anchorNode, data.anchorOffset), range.setEnd(data.focusNode, data.focusOffset), 
        addRange(doc, range);
    }, exports.closestEl = function closestEl(el, sel) {
        return null === el ? null : matchesSelector(el, sel) ? el : el.querySelector(sel) || closestEl(el.parentElement, sel);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var assert_1 = __webpack_require__(155);
    exports.assert = assert_1.assert, exports.assertNonNull = assert_1.assertNonNull, 
    exports.AssertionError = assert_1.AssertionError;
    var promise_1 = __webpack_require__(62);
    exports.SafePromise = promise_1.SafePromise;
    var circularbuffer_1 = __webpack_require__(156);
    exports.CircularBuffer = circularbuffer_1.CircularBuffer;
    var promise_2 = __webpack_require__(62), Arr = __webpack_require__(157);
    exports.Arr = Arr;
    var Obj = __webpack_require__(158);
    exports.Obj = Obj;
    var MapEx = __webpack_require__(159);
    exports.MapEx = MapEx;
    var Ms = __webpack_require__(160);
    exports.Ms = Ms;
    var Global = function() {
        function Global(_getFallbackValue) {
            this._getFallbackValue = _getFallbackValue;
        }
        return Global.prototype.init = function(v) {
            if (void 0 !== this._value) throw new Error("Global value already initialized.");
            this._value = v;
        }, Global.prototype.get = function() {
            if (void 0 === this._value) {
                if (void 0 === this._getFallbackValue) throw new Error("Global value not initialized and no fallback value provided.");
                this._value = this._getFallbackValue();
            }
            return this._value;
        }, Global;
    }();
    function optionalStringUnion(allowedValues, value) {
        return allowedValues.some(function(x) {
            return x === value;
        }) ? value : void 0;
    }
    exports.Global = Global, exports.optionalStringUnion = optionalStringUnion, exports.assertStringUnion = function(allowedValues, value, name) {
        var validated = optionalStringUnion(allowedValues, value);
        if (void 0 !== validated) return validated;
        throw new TypeError('Unrecognized string union value "' + value + '"' + (name ? " for " + name : ""));
    };
    var MatchingNotExhaustiveError = function(_super) {
        function MatchingNotExhaustiveError(actualValue) {
            return _super.call(this, "Matching not exhaustive" + (actualValue ? ": unexpected value " + actualValue : "")) || this;
        }
        return __extends(MatchingNotExhaustiveError, _super), MatchingNotExhaustiveError;
    }(Error);
    function optionalIntString(val) {
        var parsed = parseInt(val, 10);
        return isNaN(parsed) ? void 0 : parsed;
    }
    exports.MatchingNotExhaustiveError = MatchingNotExhaustiveError, exports.assertNever = function(x) {
        throw new MatchingNotExhaustiveError(x);
    }, exports.optionalIntString = optionalIntString, exports.assertIntString = function(val, name) {
        var opt = optionalIntString(val);
        if (void 0 !== opt) return opt;
        throw new Error("Expected a number string, got '" + val + "'" + (void 0 !== name ? " for " + name : ""));
    }, exports.try_ = function(run, handle) {
        try {
            return run();
        } catch (err) {
            return handle(err);
        }
    }, exports.noOp = function() {}, exports.throttle = function(timeMs, fn) {
        var lastCallTs, result, gate = !0;
        function runIndeterminate(afterMs) {
            return gate && (gate = !1, result = promise_2.SafePromise.createCompletionSource(), 
            setTimeout(function() {
                try {
                    result.resolve(fn());
                } catch (err) {
                    result.reject(err);
                } finally {
                    gate = !0;
                }
            }, afterMs)), result.promise;
        }
        return function() {
            var oldLastCallTs = lastCallTs;
            return lastCallTs = Date.now(), runIndeterminate(void 0 === oldLastCallTs || lastCallTs - oldLastCallTs >= timeMs ? 0 : timeMs - (lastCallTs - oldLastCallTs));
        };
    };
    var LazyImpl = function() {
        function LazyImpl(_factory) {
            this._factory = _factory, this._hasValue = !1;
        }
        return LazyImpl.prototype.get = function() {
            return this._hasValue || (this._value = this._factory(), this._hasValue = !0), this._value;
        }, LazyImpl;
    }();
    exports.lazy = function(factory) {
        return new LazyImpl(factory);
    }, function(Guid) {
        function s4() {
            return (65536 * (1 + Math.random()) | 0).toString(16).substring(1);
        }
        Guid.create = function() {
            return s4() + s4() + "-" + s4() + "-" + s4() + "-" + s4() + "-" + s4() + s4() + s4();
        };
    }(exports.Guid || (exports.Guid = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    module.exports = __webpack_require__(401);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, isFunction_1 = __webpack_require__(341), Subscription_1 = __webpack_require__(30), Observer_1 = __webpack_require__(455), rxSubscriber_1 = __webpack_require__(342), Subscriber = function(_super) {
        function Subscriber(destinationOrNext, error, complete) {
            switch (_super.call(this), this.syncErrorValue = null, this.syncErrorThrown = !1, 
            this.syncErrorThrowable = !1, this.isStopped = !1, arguments.length) {
              case 0:
                this.destination = Observer_1.empty;
                break;

              case 1:
                if (!destinationOrNext) {
                    this.destination = Observer_1.empty;
                    break;
                }
                if ("object" == typeof destinationOrNext) {
                    destinationOrNext instanceof Subscriber ? (this.syncErrorThrowable = destinationOrNext.syncErrorThrowable, 
                    this.destination = destinationOrNext, this.destination.add(this)) : (this.syncErrorThrowable = !0, 
                    this.destination = new SafeSubscriber(this, destinationOrNext));
                    break;
                }

              default:
                this.syncErrorThrowable = !0, this.destination = new SafeSubscriber(this, destinationOrNext, error, complete);
            }
        }
        return __extends(Subscriber, _super), Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function() {
            return this;
        }, Subscriber.create = function(next, error, complete) {
            var subscriber = new Subscriber(next, error, complete);
            return subscriber.syncErrorThrowable = !1, subscriber;
        }, Subscriber.prototype.next = function(value) {
            this.isStopped || this._next(value);
        }, Subscriber.prototype.error = function(err) {
            this.isStopped || (this.isStopped = !0, this._error(err));
        }, Subscriber.prototype.complete = function() {
            this.isStopped || (this.isStopped = !0, this._complete());
        }, Subscriber.prototype.unsubscribe = function() {
            this.closed || (this.isStopped = !0, _super.prototype.unsubscribe.call(this));
        }, Subscriber.prototype._next = function(value) {
            this.destination.next(value);
        }, Subscriber.prototype._error = function(err) {
            this.destination.error(err), this.unsubscribe();
        }, Subscriber.prototype._complete = function() {
            this.destination.complete(), this.unsubscribe();
        }, Subscriber.prototype._unsubscribeAndRecycle = function() {
            var _parent = this._parent, _parents = this._parents;
            return this._parent = null, this._parents = null, this.unsubscribe(), this.closed = !1, 
            this.isStopped = !1, this._parent = _parent, this._parents = _parents, this;
        }, Subscriber;
    }(Subscription_1.Subscription);
    exports.Subscriber = Subscriber;
    var SafeSubscriber = function(_super) {
        function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {
            var next;
            _super.call(this), this._parentSubscriber = _parentSubscriber;
            var context = this;
            isFunction_1.isFunction(observerOrNext) ? next = observerOrNext : observerOrNext && (next = observerOrNext.next, 
            error = observerOrNext.error, complete = observerOrNext.complete, observerOrNext !== Observer_1.empty && (context = Object.create(observerOrNext), 
            isFunction_1.isFunction(context.unsubscribe) && this.add(context.unsubscribe.bind(context)), 
            context.unsubscribe = this.unsubscribe.bind(this))), this._context = context, this._next = next, 
            this._error = error, this._complete = complete;
        }
        return __extends(SafeSubscriber, _super), SafeSubscriber.prototype.next = function(value) {
            if (!this.isStopped && this._next) {
                var _parentSubscriber = this._parentSubscriber;
                _parentSubscriber.syncErrorThrowable ? this.__tryOrSetError(_parentSubscriber, this._next, value) && this.unsubscribe() : this.__tryOrUnsub(this._next, value);
            }
        }, SafeSubscriber.prototype.error = function(err) {
            if (!this.isStopped) {
                var _parentSubscriber = this._parentSubscriber;
                if (this._error) _parentSubscriber.syncErrorThrowable ? (this.__tryOrSetError(_parentSubscriber, this._error, err), 
                this.unsubscribe()) : (this.__tryOrUnsub(this._error, err), this.unsubscribe()); else {
                    if (!_parentSubscriber.syncErrorThrowable) throw this.unsubscribe(), err;
                    _parentSubscriber.syncErrorValue = err, _parentSubscriber.syncErrorThrown = !0, 
                    this.unsubscribe();
                }
            }
        }, SafeSubscriber.prototype.complete = function() {
            var _this = this;
            if (!this.isStopped) {
                var _parentSubscriber = this._parentSubscriber;
                if (this._complete) {
                    var wrappedComplete = function() {
                        return _this._complete.call(_this._context);
                    };
                    _parentSubscriber.syncErrorThrowable ? (this.__tryOrSetError(_parentSubscriber, wrappedComplete), 
                    this.unsubscribe()) : (this.__tryOrUnsub(wrappedComplete), this.unsubscribe());
                } else this.unsubscribe();
            }
        }, SafeSubscriber.prototype.__tryOrUnsub = function(fn, value) {
            try {
                fn.call(this._context, value);
            } catch (err) {
                throw this.unsubscribe(), err;
            }
        }, SafeSubscriber.prototype.__tryOrSetError = function(parent, fn, value) {
            try {
                fn.call(this._context, value);
            } catch (err) {
                return parent.syncErrorValue = err, parent.syncErrorThrown = !0, !0;
            }
            return !1;
        }, SafeSubscriber.prototype._unsubscribe = function() {
            var _parentSubscriber = this._parentSubscriber;
            this._context = null, this._parentSubscriber = null, _parentSubscriber.unsubscribe();
        }, SafeSubscriber;
    }(Subscriber);
}, function(module, exports) {
    var isArray = Array.isArray;
    module.exports = isArray;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var call_1 = __webpack_require__(115);
    exports.call = call_1.call, exports.getLog = call_1.getLog, exports.logCall = call_1.logCall;
    var logger_1 = __webpack_require__(184);
    exports.felog = logger_1.felog;
}, function(module, exports) {
    module.exports = function(value) {
        var type = typeof value;
        return null != value && ("object" == type || "function" == type);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Config = __webpack_require__(11), newConfig_1 = __webpack_require__(25);
    exports.isTestsMode = newConfig_1.isTestsMode, exports.getVersion = newConfig_1.getVersion, 
    exports.getUuid = newConfig_1.getUuid, exports.ENV = newConfig_1.ENV, exports.URLS = newConfig_1.URLS, 
    exports.GRAMMARLY_DOMAIN = newConfig_1.GRAMMARLY_DOMAIN, exports.appName = newConfig_1.appName, 
    exports.gnarAppName = newConfig_1.gnarAppName;
    exports.GNAR = Config.getGlobal().appConfig.gnar, exports.news = [ "The G logo gets out of the way when you're typing", "Switch between American, British, Australian, and Canadian English", "Quickly disable checking in certain types of text fields", "A fully redesigned and improved interface" ], 
    exports.userFields = [ "id", "email", "firstName", "anonymous", "type", "subscriptionFree", "experiments", "isTest", "premium", "settings", "registrationDate", "mimic", "groups", "extensionInstallDate", "fixed_errors" ], 
    exports.userFields.push("token"), exports.nextVerClass = "gr_ver_2", exports.grammarlyAttrs = [ "data-gramm_editor", "data-gramm", "data-gramm_id", "gramm_editor" ], 
    exports.restrictedAttrs = __spread(exports.grammarlyAttrs, [ "readonly", "disabled" ]), 
    exports.customFieldsRestrictedAttrs = [ "pm-container", [ "class", "ProseMirror" ], "data-synchrony", [ "data-gramm", "false" ], [ "data-enable-grammarly", "false" ], [ "class", "redactor-layer" ], [ "class", "redactor-editor" ], [ "class", "ck-editor__editable" ], [ "class", "redactor_box" ], [ "aria-label", "Search Facebook" ] ], 
    exports.allRestrictedAttrs = __spread(exports.restrictedAttrs, exports.customFieldsRestrictedAttrs), 
    exports.forceEnableAttr = {
        name: "data-enable-grammarly",
        value: "true"
    }, exports.restrictedParentAttrs = "[data-reactid]", exports.externalEvents = [ "changed-user", "changed-plan", "changed-dialect", "cleanup", "editor-fix" ], 
    exports.development = "127.0.0.1:3117" === document.location.host;
}, function(module, exports, __webpack_require__) {
    "use strict";
    function __export(m) {
        for (var p in m) exports.hasOwnProperty(p) || (exports[p] = m[p]);
    }
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), __export(__webpack_require__(68)), __export(__webpack_require__(71)), __export(__webpack_require__(29)), 
    __export(__webpack_require__(70)), __export(__webpack_require__(75)), __export(__webpack_require__(69)), 
    __export(__webpack_require__(76));
    var mainConfig_1 = __webpack_require__(76), bundle_1 = __webpack_require__(29), stdlib_1 = __webpack_require__(4), log = __webpack_require__(1).Logger.create("config"), globalConfig = new stdlib_1.Global(function() {
        log.warn("Global config not initialized -- using fall back value.");
        var browser = stdlib_1.assertNonNull(bundle_1.TargetBrowser.detect(window), "runtime-detected browser type"), cfg = mainConfig_1.MainConfig.create(browser, bundle_1.TargetContext.detect(window, browser), mainConfig_1.ProcessEnv.fromBrowserify());
        return window.GR_CFG = cfg, cfg;
    });
    exports.getGlobal = function() {
        return globalConfig.get();
    }, exports.initGlobal = function(browser, context, env) {
        globalConfig.init(mainConfig_1.MainConfig.create(browser, context, env || mainConfig_1.ProcessEnv.fromBrowserify())), 
        window.GR_CFG = globalConfig.get();
    };
}, function(module, exports, __webpack_require__) {
    var freeGlobal = __webpack_require__(121), freeSelf = "object" == typeof self && self && self.Object === Object && self, root = freeGlobal || freeSelf || Function("return this")();
    module.exports = root;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var root_1 = __webpack_require__(46), isArrayLike_1 = __webpack_require__(460), isPromise_1 = __webpack_require__(461), isObject_1 = __webpack_require__(453), Observable_1 = __webpack_require__(0), iterator_1 = __webpack_require__(282), InnerSubscriber_1 = __webpack_require__(653), observable_1 = __webpack_require__(343);
    exports.subscribeToResult = function(outerSubscriber, result, outerValue, outerIndex) {
        var destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex);
        if (destination.closed) return null;
        if (result instanceof Observable_1.Observable) return result._isScalar ? (destination.next(result.value), 
        destination.complete(), null) : (destination.syncErrorThrowable = !0, result.subscribe(destination));
        if (isArrayLike_1.isArrayLike(result)) {
            for (var i = 0, len = result.length; i < len && !destination.closed; i++) destination.next(result[i]);
            destination.closed || destination.complete();
        } else {
            if (isPromise_1.isPromise(result)) return result.then(function(value) {
                destination.closed || (destination.next(value), destination.complete());
            }, function(err) {
                return destination.error(err);
            }).then(null, function(err) {
                root_1.root.setTimeout(function() {
                    throw err;
                });
            }), destination;
            if (result && "function" == typeof result[iterator_1.iterator]) for (var iterator = result[iterator_1.iterator](); ;) {
                var item = iterator.next();
                if (item.done) {
                    destination.complete();
                    break;
                }
                if (destination.next(item.value), destination.closed) break;
            } else if (result && "function" == typeof result[observable_1.observable]) {
                var obs = result[observable_1.observable]();
                if ("function" == typeof obs.subscribe) return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex));
                destination.error(new TypeError("Provided object does not correctly implement Symbol.observable"));
            } else {
                var msg = "You provided " + (isObject_1.isObject(result) ? "an invalid object" : "'" + result + "'") + " where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";
                destination.error(new TypeError(msg));
            }
        }
        return null;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, OuterSubscriber = function(_super) {
        function OuterSubscriber() {
            _super.apply(this, arguments);
        }
        return __extends(OuterSubscriber, _super), OuterSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.destination.next(innerValue);
        }, OuterSubscriber.prototype.notifyError = function(error, innerSub) {
            this.destination.error(error);
        }, OuterSubscriber.prototype.notifyComplete = function(innerSub) {
            this.destination.complete();
        }, OuterSubscriber;
    }(__webpack_require__(6).Subscriber);
    exports.OuterSubscriber = OuterSubscriber;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function(resolve, reject) {
            function fulfilled(value) {
                try {
                    step(generator.next(value));
                } catch (e) {
                    reject(e);
                }
            }
            function rejected(value) {
                try {
                    step(generator.throw(value));
                } catch (e) {
                    reject(e);
                }
            }
            function step(result) {
                result.done ? resolve(result.value) : new P(function(resolve) {
                    resolve(result.value);
                }).then(fulfilled, rejected);
            }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }, __generator = this && this.__generator || function(thisArg, body) {
        var f, y, t, g, _ = {
            label: 0,
            sent: function() {
                if (1 & t[0]) throw t[1];
                return t[1];
            },
            trys: [],
            ops: []
        };
        return g = {
            next: verb(0),
            throw: verb(1),
            return: verb(2)
        }, "function" == typeof Symbol && (g[Symbol.iterator] = function() {
            return this;
        }), g;
        function verb(n) {
            return function(v) {
                return function(op) {
                    if (f) throw new TypeError("Generator is already executing.");
                    for (;_; ) try {
                        if (f = 1, y && (t = y[2 & op[0] ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                        switch (y = 0, t && (op = [ 0, t.value ]), op[0]) {
                          case 0:
                          case 1:
                            t = op;
                            break;

                          case 4:
                            return _.label++, {
                                value: op[1],
                                done: !1
                            };

                          case 5:
                            _.label++, y = op[1], op = [ 0 ];
                            continue;

                          case 7:
                            op = _.ops.pop(), _.trys.pop();
                            continue;

                          default:
                            if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                                _ = 0;
                                continue;
                            }
                            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                                _.label = op[1];
                                break;
                            }
                            if (6 === op[0] && _.label < t[1]) {
                                _.label = t[1], t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2], _.ops.push(op);
                                break;
                            }
                            t[2] && _.ops.pop(), _.trys.pop();
                            continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [ 6, e ], y = 0;
                    } finally {
                        f = t = 0;
                    }
                    if (5 & op[0]) throw op[1];
                    return {
                        value: op[0] ? op[1] : void 0,
                        done: !0
                    };
                }([ n, v ]);
            };
        }
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var util_1 = __webpack_require__(2), defaults_1 = __webpack_require__(109), stdlib_1 = __webpack_require__(4), stripDomain = function(domain) {
        return domain.replace("www.", "");
    };
    function currentUrl(_a) {
        var _this = this, tabs = _a.tabs;
        return stdlib_1.SafePromise.create(function(resolve) {
            return __awaiter(_this, void 0, void 0, function() {
                var retry, url;
                return __generator(this, function(_a) {
                    switch (_a.label) {
                      case 0:
                        return retry = setTimeout(function() {
                            return tabs.getActiveTabUrl().then(resolve);
                        }, 2e3), [ 4, tabs.getActiveTabUrl() ];

                      case 1:
                        return url = _a.sent(), clearTimeout(retry), resolve(url), [ 2 ];
                    }
                });
            });
        });
    }
    function getDomain(el) {
        var doc = el && el.ownerDocument || document, location = doc.location || doc.defaultView.location;
        return location ? stripDomain(location.hostname) : "";
    }
    function domainFromUrl(url) {
        if (util_1.isFF() && /^about:/.test(url)) return url;
        var location = document.createElement("a");
        return location.href = url, stripDomain(location.hostname);
    }
    function getUrl(el) {
        var doc = el && el.ownerDocument || document, location = doc.location || doc.defaultView.location;
        return location ? location.pathname + location.search : "";
    }
    exports.currentUrl = currentUrl, exports.getDomain = getDomain, exports.promiseGetDomain = function(api) {
        return Promise.race([ currentUrl(api).then(domainFromUrl), util_1.delay(1e4).then(function() {
            throw new Error("Request to tabs.getCurrentTabUrl rejected by timeout");
        }) ]);
    }, exports.domainFromUrl = domainFromUrl, exports.isFacebookSite = function() {
        return defaults_1.FACEBOOK_SITES.includes(getDomain());
    }, exports.isGdocsSite = function() {
        return /\/document\//.test(getUrl()) && "docs.google.com" === getDomain();
    }, exports.isJiraSite = function() {
        return /\.atlassian\.net/.test(getDomain());
    }, exports.isBlackboardSite = function() {
        return /\.blackboard\.com/.test(getDomain());
    }, exports.isGmailSite = function() {
        return "mail.google.com" === getDomain();
    }, exports.getUrl = getUrl, exports.getFavicon = function() {
        for (var isAbsolute = new RegExp("^(?:[a-z]+:)?//", "i"), favicon = "", links = document.getElementsByTagName("link"), i = 0; i < links.length; i++) {
            var link = links[i];
            -1 !== ('"' + link.getAttribute("rel") + '"').search(/(\"icon )|( icon\")|(\"icon\")|( icon )/i) && (favicon = link.getAttribute("href"));
        }
        return favicon || (favicon = "favicon.ico"), isAbsolute.test(favicon) ? favicon : "/" !== favicon[0] ? "//" + document.location.host + document.location.pathname + favicon : "//" + document.location.host + favicon;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    (function(process) {
        var __values = this && this.__values || function(o) {
            var m = "function" == typeof Symbol && o[Symbol.iterator], i = 0;
            return m ? m.call(o) : {
                next: function() {
                    return o && i >= o.length && (o = void 0), {
                        value: o && o[i++],
                        done: !o
                    };
                }
            };
        }, __read = this && this.__read || function(o, n) {
            var m = "function" == typeof Symbol && o[Symbol.iterator];
            if (!m) return o;
            var r, e, i = m.call(o), ar = [];
            try {
                for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
            } catch (error) {
                e = {
                    error: error
                };
            } finally {
                try {
                    r && !r.done && (m = i.return) && m.call(i);
                } finally {
                    if (e) throw e.error;
                }
            }
            return ar;
        }, __spread = this && this.__spread || function() {
            for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
            return ar;
        };
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var throttle = __webpack_require__(178), emitter = __webpack_require__(18), util_1 = __webpack_require__(2), events_1 = __webpack_require__(138), extension_api_1 = __webpack_require__(65), message = (process && process.env, 
        extension_api_1.getGlobalExtensionApi()).message, errorEmitter = emitter({}), Listeners = {};
        function on(type, callback) {
            if ("__bgerror" !== type) {
                var listeners = Listeners[type] = Listeners[type] || [];
                if (listeners.push(callback), 1 === listeners.length) try {
                    message.listen(type, function() {
                        for (var e_1, _a, args = [], _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
                        try {
                            for (var listeners_1 = __values(listeners), listeners_1_1 = listeners_1.next(); !listeners_1_1.done; listeners_1_1 = listeners_1.next()) {
                                listeners_1_1.value.apply(void 0, __spread(args));
                            }
                        } catch (e_1_1) {
                            e_1 = {
                                error: e_1_1
                            };
                        } finally {
                            try {
                                listeners_1_1 && !listeners_1_1.done && (_a = listeners_1.return) && _a.call(listeners_1);
                            } finally {
                                if (e_1) throw e_1.error;
                            }
                        }
                    });
                } catch (e) {
                    exports.emitError(e);
                }
            } else errorEmitter.on("__bgerror", callback);
        }
        function off(type, callback) {
            if ("__bgerror" !== type) {
                var listeners = Listeners[type];
                if (listeners) {
                    var i = listeners.indexOf(callback);
                    -1 !== i && listeners.splice(i, 1), 0 === listeners.length && delete Listeners[type];
                }
            } else errorEmitter.off("__bgerror", callback);
        }
        exports.emitError = throttle(function(e) {
            return errorEmitter.emit("__bgerror", e);
        }, 1e3), util_1.isBg() && events_1.listen(document, "grammarly:offline", function() {
            return exports.emitError("proxy dead");
        }, void 0), exports.one = function(type, cb) {
            on(type, function _cb() {
                for (var data = [], _i = 0; _i < arguments.length; _i++) data[_i] = arguments[_i];
                off(type, _cb), cb.apply(this, data);
            });
        }, exports.on = on, exports.off = off, exports.emitTabs = function(type) {
            try {
                switch (message.kind) {
                  case "background-message-api":
                    message.broadcast(type, {});
                    break;

                  default:
                    throw new Error("emitTabs can be used only on background");
                }
            } catch (e) {
                exports.emitError(e);
            }
        }, exports.emitTo = function(tabId, type, content, _callback) {
            void 0 === content && (content = {});
            var callback = _callback || function() {};
            try {
                if (!tabId) throw TypeError("emitTo can't be used without destination point");
                switch (message.kind) {
                  case "background-message-api":
                    message.sendTo(tabId, type, content, callback);
                    break;

                  default:
                    throw new Error("emitTo can be used only on background");
                }
            } catch (e) {
                exports.emitError(e);
            }
        }, exports.emitFocusedTab = function(type, content) {
            try {
                message.toFocused(type, content);
            } catch (e) {
                exports.emitError(e);
            }
        }, exports.emitBackground = function(type, content, callback) {
            try {
                switch (message.kind) {
                  case "content-script-message-api":
                    message.broadcastBackground(type, content, callback);
                    break;

                  default:
                    throw new Error("emitBackground can be used only in content script");
                }
            } catch (e) {
                exports.emitError(e);
            }
        }, exports.promiseBackground = function(type, data, timeout) {
            void 0 === data && (data = {}), void 0 === timeout && (timeout = 1e4);
            var request = new Promise(function(resolve, reject) {
                try {
                    switch (message.kind) {
                      case "content-script-message-api":
                        message.broadcastBackground(type, data, resolve, reject);
                        break;

                      default:
                        throw new Error("promiseBackground can be used only on client scripts");
                    }
                } catch (e) {
                    reject(e), exports.emitError(e);
                }
            });
            return Promise.race([ request, util_1.delay(timeout).then(function() {
                throw new Error("Request to bg page (" + message + ") rejected by timeout");
            }) ]);
        };
    }).call(exports, __webpack_require__(60));
}, function(module, exports) {
    module.exports = function(value) {
        return null != value && "object" == typeof value;
    };
}, function(module, exports, __webpack_require__) {
    try {
        module.exports = __webpack_require__(288);
    } catch (e) {}
}, function(module, exports, __webpack_require__) {
    "use strict";
    !function checkDCE() {
        if ("undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && "function" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE) try {
            __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);
        } catch (err) {
            console.error(err);
        }
    }(), module.exports = __webpack_require__(400);
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var message = __webpack_require__(16);
    exports.gnar = new Proxy({}, {
        get: function(_, method) {
            return function() {
                for (var props = [], _i = 0; _i < arguments.length; _i++) props[_i] = arguments[_i];
                return message.emitBackground("gnar-track", {
                    method: method,
                    props: props
                });
            };
        }
    }), exports.fire = function(msg) {
        for (var data = [], _i = 1; _i < arguments.length; _i++) data[_i - 1] = arguments[_i];
        message.emitBackground("tracking-fire", {
            msg: msg,
            data: data
        });
    }, exports.initContentScript = function() {
        var times = 0, pageCookie = __webpack_require__(411);
        pageCookie.default && (pageCookie = pageCookie.default);
        var interval = setInterval(function() {
            ++times > MAX && clearInterval(interval);
            var data = {
                gnar: pageCookie("gnar_containerId"),
                dapi: pageCookie("__fngrprnt__")
            };
            clearInterval(interval), message.emitBackground("tracker-init", data);
        }, 500), MAX = 10;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    (function(process) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _extends = Object.assign || function(target) {
            for (var i = 1; i < arguments.length; i++) {
                var source = arguments[i];
                for (var key in source) Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);
            }
            return target;
        };
        exports.ident = function(v) {
            return v;
        }, exports.check = function(value, predicate, error) {
            if (!predicate(value)) throw new Error(error);
        }, exports.remove = function(array, item) {
            var index = array.indexOf(item);
            index >= 0 && array.splice(index, 1);
        }, exports.deferred = deferred, exports.arrayOfDeffered = function(length) {
            for (var arr = [], i = 0; i < length; i++) arr.push(deferred());
            return arr;
        }, exports.autoInc = function() {
            var seed = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
            return function() {
                return ++seed;
            };
        }, exports.asap = function(action) {
            return Promise.resolve(1).then(function() {
                return action();
            });
        }, exports.warnDeprecated = function(msg) {
            isDev && console.warn("DEPRECATION WARNING", msg);
        };
        var sym = exports.sym = function(id) {
            return "@@redux-saga/" + id;
        }, TASK = exports.TASK = sym("TASK");
        exports.kTrue = function() {
            return !0;
        }, exports.noop = function() {};
        var isDev = exports.isDev = void 0 !== process && process.env && !1;
        var is = exports.is = {
            undef: function(v) {
                return null == v;
            },
            notUndef: function(v) {
                return null != v;
            },
            func: function(f) {
                return "function" == typeof f;
            },
            array: Array.isArray,
            promise: function(p) {
                return p && is.func(p.then);
            },
            iterator: function(it) {
                return it && is.func(it.next) && is.func(it.throw);
            },
            task: function(it) {
                return it && it[TASK];
            }
        };
        function deferred() {
            var props = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], def = _extends({}, props), promise = new Promise(function(resolve, reject) {
                def.resolve = resolve, def.reject = reject;
            });
            return def.promise = promise, def;
        }
    }).call(exports, __webpack_require__(60));
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), string_1 = __webpack_require__(414);
    exports.setInnerHTML = function(html, allowedTags) {
        return {
            dangerouslySetInnerHTML: {
                __html: string_1.sanitize(html, allowedTags)
            }
        };
    }, exports.stopPropagation = function(callback) {
        return function(e) {
            e.stopPropagation(), callback(e);
        };
    };
    var GenericButton = function(_super) {
        function GenericButton() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.handleClick = function(e) {
                e && (e.stopPropagation(), e.stopImmediatePropagation(), _this.props.clickHandler(e));
            }, _this;
        }
        return __extends(GenericButton, _super), GenericButton.prototype.componentDidMount = function() {
            this.wrapperRef && this.wrapperRef.addEventListener("click", this.handleClick);
        }, GenericButton.prototype.componentWillUnmount = function() {
            this.wrapperRef && this.wrapperRef.removeEventListener("click", this.handleClick);
        }, GenericButton.prototype.render = function() {
            var _this = this;
            return React.createElement("div", {
                ref: function(el) {
                    return _this.wrapperRef = el;
                },
                style: {
                    display: "initial"
                }
            }, this.props.children);
        }, GenericButton;
    }(React.Component);
    exports.GenericButton = GenericButton;
}, function(module, exports, __webpack_require__) {
    var Symbol = __webpack_require__(32), getRawTag = __webpack_require__(214), objectToString = __webpack_require__(215), nullTag = "[object Null]", undefinedTag = "[object Undefined]", symToStringTag = Symbol ? Symbol.toStringTag : void 0;
    module.exports = function(value) {
        return null == value ? void 0 === value ? undefinedTag : nullTag : symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var AsyncAction_1 = __webpack_require__(330), AsyncScheduler_1 = __webpack_require__(331);
    exports.async = new AsyncScheduler_1.AsyncScheduler(AsyncAction_1.AsyncAction);
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var globalConfig = __webpack_require__(11).getGlobal();
    function isBg() {
        return "bg" === globalConfig.bundleInfo.context;
    }
    function isPopup() {
        return "popup" === globalConfig.bundleInfo.context;
    }
    exports.isTestsMode = function() {
        return !!window.__extensionTestsMode;
    }, exports.getUuid = function() {
        return globalConfig.appConfig.extensionId;
    }, exports.isFF = function() {
        return "firefox" === globalConfig.bundleInfo.browser;
    }, exports.isChrome = function() {
        return "chrome" === globalConfig.bundleInfo.browser;
    }, exports.isSafari = function() {
        return "safari" === globalConfig.bundleInfo.browser;
    }, exports.isEdge = function() {
        return "edge" === globalConfig.bundleInfo.browser;
    }, exports.isWindows = function() {
        return globalConfig.systemInfo.os.isWindows;
    }, exports.isBg = isBg, exports.isPopup = isPopup, exports.isBgOrPopup = function() {
        return isBg() || isPopup();
    }, exports.getBrowser = function() {
        return globalConfig.bundleInfo.browser;
    }, exports.getVersion = function() {
        return globalConfig.buildInfo.version;
    }, exports.ENV = globalConfig.bundleInfo.env, exports.URLS = globalConfig.appConfig.url, 
    exports.appName = globalConfig.appConfig.felog.appName, exports.gnarAppName = globalConfig.appConfig.gnar.appName, 
    exports.GRAMMARLY_DOMAIN = globalConfig.appConfig.url.grammarlyDomain;
}, function(module, exports, __webpack_require__) {
    var baseIsNative = __webpack_require__(231), getValue = __webpack_require__(234);
    module.exports = function(object, key) {
        var value = getValue(object, key);
        return baseIsNative(value) ? value : void 0;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Observable_1 = __webpack_require__(0), Subscriber_1 = __webpack_require__(6), Subscription_1 = __webpack_require__(30), ObjectUnsubscribedError_1 = __webpack_require__(345), SubjectSubscription_1 = __webpack_require__(468), rxSubscriber_1 = __webpack_require__(342), SubjectSubscriber = function(_super) {
        function SubjectSubscriber(destination) {
            _super.call(this, destination), this.destination = destination;
        }
        return __extends(SubjectSubscriber, _super), SubjectSubscriber;
    }(Subscriber_1.Subscriber);
    exports.SubjectSubscriber = SubjectSubscriber;
    var Subject = function(_super) {
        function Subject() {
            _super.call(this), this.observers = [], this.closed = !1, this.isStopped = !1, this.hasError = !1, 
            this.thrownError = null;
        }
        return __extends(Subject, _super), Subject.prototype[rxSubscriber_1.rxSubscriber] = function() {
            return new SubjectSubscriber(this);
        }, Subject.prototype.lift = function(operator) {
            var subject = new AnonymousSubject(this, this);
            return subject.operator = operator, subject;
        }, Subject.prototype.next = function(value) {
            if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
            if (!this.isStopped) for (var observers = this.observers, len = observers.length, copy = observers.slice(), i = 0; i < len; i++) copy[i].next(value);
        }, Subject.prototype.error = function(err) {
            if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
            this.hasError = !0, this.thrownError = err, this.isStopped = !0;
            for (var observers = this.observers, len = observers.length, copy = observers.slice(), i = 0; i < len; i++) copy[i].error(err);
            this.observers.length = 0;
        }, Subject.prototype.complete = function() {
            if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
            this.isStopped = !0;
            for (var observers = this.observers, len = observers.length, copy = observers.slice(), i = 0; i < len; i++) copy[i].complete();
            this.observers.length = 0;
        }, Subject.prototype.unsubscribe = function() {
            this.isStopped = !0, this.closed = !0, this.observers = null;
        }, Subject.prototype._trySubscribe = function(subscriber) {
            if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
            return _super.prototype._trySubscribe.call(this, subscriber);
        }, Subject.prototype._subscribe = function(subscriber) {
            if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
            return this.hasError ? (subscriber.error(this.thrownError), Subscription_1.Subscription.EMPTY) : this.isStopped ? (subscriber.complete(), 
            Subscription_1.Subscription.EMPTY) : (this.observers.push(subscriber), new SubjectSubscription_1.SubjectSubscription(this, subscriber));
        }, Subject.prototype.asObservable = function() {
            var observable = new Observable_1.Observable();
            return observable.source = this, observable;
        }, Subject.create = function(destination, source) {
            return new AnonymousSubject(destination, source);
        }, Subject;
    }(Observable_1.Observable);
    exports.Subject = Subject;
    var AnonymousSubject = function(_super) {
        function AnonymousSubject(destination, source) {
            _super.call(this), this.destination = destination, this.source = source;
        }
        return __extends(AnonymousSubject, _super), AnonymousSubject.prototype.next = function(value) {
            var destination = this.destination;
            destination && destination.next && destination.next(value);
        }, AnonymousSubject.prototype.error = function(err) {
            var destination = this.destination;
            destination && destination.error && this.destination.error(err);
        }, AnonymousSubject.prototype.complete = function() {
            var destination = this.destination;
            destination && destination.complete && this.destination.complete();
        }, AnonymousSubject.prototype._subscribe = function(subscriber) {
            return this.source ? this.source.subscribe(subscriber) : Subscription_1.Subscription.EMPTY;
        }, AnonymousSubject;
    }(Subject);
    exports.AnonymousSubject = AnonymousSubject;
}, function(module, exports, __webpack_require__) {
    var isFunction = __webpack_require__(41), isLength = __webpack_require__(78);
    module.exports = function(value) {
        return null != value && isLength(value.length) && !isFunction(value);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var stdlib_1 = __webpack_require__(4);
    !function(TargetBrowser) {
        TargetBrowser.create = function(x) {
            return stdlib_1.optionalStringUnion([ "chrome", "safari", "firefox", "edge" ], x);
        }, TargetBrowser.detect = function(win) {
            return win.chrome && /google/i.test(win.navigator.vendor) ? "chrome" : -1 !== win.navigator.userAgent.indexOf("Firefox") ? "firefox" : /^((?!chrome).)*safari/i.test(win.navigator.userAgent) ? "safari" : "Netscape" === win.navigator.appName && win.navigator.appVersion.indexOf("Edge") > -1 ? "edge" : void 0;
        };
    }(exports.TargetBrowser || (exports.TargetBrowser = {})), function(TargetEnv) {
        TargetEnv.create = function(x) {
            return stdlib_1.optionalStringUnion([ "dev", "prod", "qa" ], x);
        };
    }(exports.TargetEnv || (exports.TargetEnv = {})), function(TargetContext) {
        TargetContext.create = function(x) {
            return stdlib_1.optionalStringUnion([ "bg", "cs", "popup" ], x);
        }, TargetContext.detect = function(win, browser) {
            var isBg = !!win.IS_BG, isPopup = "safari" === browser ? function() {
                try {
                    return win.safari.extension.globalPage.contentWindow !== win;
                } catch (_) {
                    return !1;
                }
            }() : !!win.IS_POPUP;
            return isBg ? "bg" : isPopup ? "popup" : "cs";
        };
    }(exports.TargetContext || (exports.TargetContext = {})), function(BundleInfo) {
        BundleInfo.create = function(browser, env, context) {
            return {
                browser: browser,
                env: env,
                context: context
            };
        };
    }(exports.BundleInfo || (exports.BundleInfo = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    var isArray_1 = __webpack_require__(95), isObject_1 = __webpack_require__(453), isFunction_1 = __webpack_require__(341), tryCatch_1 = __webpack_require__(44), errorObject_1 = __webpack_require__(37), UnsubscriptionError_1 = __webpack_require__(454), Subscription = function() {
        function Subscription(unsubscribe) {
            this.closed = !1, this._parent = null, this._parents = null, this._subscriptions = null, 
            unsubscribe && (this._unsubscribe = unsubscribe);
        }
        var empty;
        return Subscription.prototype.unsubscribe = function() {
            var errors, hasErrors = !1;
            if (!this.closed) {
                var _parent = this._parent, _parents = this._parents, _unsubscribe = this._unsubscribe, _subscriptions = this._subscriptions;
                this.closed = !0, this._parent = null, this._parents = null, this._subscriptions = null;
                for (var index = -1, len = _parents ? _parents.length : 0; _parent; ) _parent.remove(this), 
                _parent = ++index < len && _parents[index] || null;
                if (isFunction_1.isFunction(_unsubscribe)) tryCatch_1.tryCatch(_unsubscribe).call(this) === errorObject_1.errorObject && (hasErrors = !0, 
                errors = errors || (errorObject_1.errorObject.e instanceof UnsubscriptionError_1.UnsubscriptionError ? flattenUnsubscriptionErrors(errorObject_1.errorObject.e.errors) : [ errorObject_1.errorObject.e ]));
                if (isArray_1.isArray(_subscriptions)) for (index = -1, len = _subscriptions.length; ++index < len; ) {
                    var sub = _subscriptions[index];
                    if (isObject_1.isObject(sub)) if (tryCatch_1.tryCatch(sub.unsubscribe).call(sub) === errorObject_1.errorObject) {
                        hasErrors = !0, errors = errors || [];
                        var err = errorObject_1.errorObject.e;
                        err instanceof UnsubscriptionError_1.UnsubscriptionError ? errors = errors.concat(flattenUnsubscriptionErrors(err.errors)) : errors.push(err);
                    }
                }
                if (hasErrors) throw new UnsubscriptionError_1.UnsubscriptionError(errors);
            }
        }, Subscription.prototype.add = function(teardown) {
            if (!teardown || teardown === Subscription.EMPTY) return Subscription.EMPTY;
            if (teardown === this) return this;
            var subscription = teardown;
            switch (typeof teardown) {
              case "function":
                subscription = new Subscription(teardown);

              case "object":
                if (subscription.closed || "function" != typeof subscription.unsubscribe) return subscription;
                if (this.closed) return subscription.unsubscribe(), subscription;
                if ("function" != typeof subscription._addParent) {
                    var tmp = subscription;
                    (subscription = new Subscription())._subscriptions = [ tmp ];
                }
                break;

              default:
                throw new Error("unrecognized teardown " + teardown + " added to Subscription.");
            }
            return (this._subscriptions || (this._subscriptions = [])).push(subscription), subscription._addParent(this), 
            subscription;
        }, Subscription.prototype.remove = function(subscription) {
            var subscriptions = this._subscriptions;
            if (subscriptions) {
                var subscriptionIndex = subscriptions.indexOf(subscription);
                -1 !== subscriptionIndex && subscriptions.splice(subscriptionIndex, 1);
            }
        }, Subscription.prototype._addParent = function(parent) {
            var _parent = this._parent, _parents = this._parents;
            _parent && _parent !== parent ? _parents ? -1 === _parents.indexOf(parent) && _parents.push(parent) : this._parents = [ parent ] : this._parent = parent;
        }, Subscription.EMPTY = ((empty = new Subscription()).closed = !0, empty), Subscription;
    }();
    function flattenUnsubscriptionErrors(errors) {
        return errors.reduce(function(errs, err) {
            return errs.concat(err instanceof UnsubscriptionError_1.UnsubscriptionError ? err.errors : err);
        }, []);
    }
    exports.Subscription = Subscription;
}, function(module, exports, __webpack_require__) {
    var arrayLikeKeys = __webpack_require__(120), baseKeys = __webpack_require__(163), isArrayLike = __webpack_require__(28);
    module.exports = function(object) {
        return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
    };
}, function(module, exports, __webpack_require__) {
    var Symbol = __webpack_require__(12).Symbol;
    module.exports = Symbol;
}, function(module, exports) {
    var g;
    g = function() {
        return this;
    }();
    try {
        g = g || Function("return this")() || (0, eval)("this");
    } catch (e) {
        "object" == typeof window && (g = window);
    }
    module.exports = g;
}, function(module, exports, __webpack_require__) {
    (function(module) {
        var root = __webpack_require__(12), stubFalse = __webpack_require__(216), freeExports = "object" == typeof exports && exports && !exports.nodeType && exports, freeModule = freeExports && "object" == typeof module && module && !module.nodeType && module, Buffer = freeModule && freeModule.exports === freeExports ? root.Buffer : void 0, isBuffer = (Buffer ? Buffer.isBuffer : void 0) || stubFalse;
        module.exports = isBuffer;
    }).call(exports, __webpack_require__(77)(module));
}, function(module, exports) {
    module.exports = function(value, other) {
        return value === other || value != value && other != other;
    };
}, function(module, exports, __webpack_require__) {
    var assignValue = __webpack_require__(176), baseAssignValue = __webpack_require__(66);
    module.exports = function(source, props, object, customizer) {
        var isNew = !object;
        object || (object = {});
        for (var index = -1, length = props.length; ++index < length; ) {
            var key = props[index], newValue = customizer ? customizer(object[key], source[key], key, object, source) : void 0;
            void 0 === newValue && (newValue = source[key]), isNew ? baseAssignValue(object, key, newValue) : assignValue(object, key, newValue);
        }
        return object;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    exports.errorObject = {
        e: {}
    };
}, function(module, exports, __webpack_require__) {
    module.exports = __webpack_require__(292);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var LogLevel;
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), function(LogLevel) {
        LogLevel[LogLevel.INFO = 0] = "INFO", LogLevel[LogLevel.WARN = 1] = "WARN", LogLevel[LogLevel.ERROR = 2] = "ERROR";
    }(LogLevel = exports.LogLevel || (exports.LogLevel = {})), function(LogLevel) {
        LogLevel.toFelogString = function(l) {
            switch (l) {
              case LogLevel.INFO:
                return "INFO";

              case LogLevel.WARN:
                return "WARN";

              case LogLevel.ERROR:
                return "ERROR";

              default:
                throw new TypeError("Unrecognized log level " + l);
            }
        };
    }(LogLevel = exports.LogLevel || (exports.LogLevel = {})), exports.createEventPayload = function(event, appLevelData) {
        return {
            application: appLevelData.appName,
            version: appLevelData.appVersion,
            env: appLevelData.env,
            logger: event.logger,
            message: event.message,
            extra: event.extra,
            extra_usage: event.extra_usage,
            extra_performance: event.extra_performance,
            level: LogLevel.toFelogString(event.level),
            userId: appLevelData.context && appLevelData.context.userId,
            containerId: appLevelData.context && appLevelData.context.containerId
        };
    }, exports.felogRequestUrl = function(payload, baseUrl) {
        return baseUrl + "/log?json=" + encodeURIComponent(JSON.stringify(payload));
    }, exports.felogUsageRequestUrl = function(payload, baseUrl) {
        return baseUrl + "/log?json=" + encodeURIComponent(JSON.stringify(payload));
    };
}, function(module, exports, __webpack_require__) {
    var baseIsTypedArray = __webpack_require__(217), baseUnary = __webpack_require__(79), nodeUtil = __webpack_require__(105), nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray, isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;
    module.exports = isTypedArray;
}, function(module, exports, __webpack_require__) {
    var baseGetTag = __webpack_require__(23), isObject = __webpack_require__(9), asyncTag = "[object AsyncFunction]", funcTag = "[object Function]", genTag = "[object GeneratorFunction]", proxyTag = "[object Proxy]";
    module.exports = function(value) {
        if (!isObject(value)) return !1;
        var tag = baseGetTag(value);
        return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
    };
}, function(module, exports, __webpack_require__) {
    var isSymbol = __webpack_require__(51), INFINITY = 1 / 0;
    module.exports = function(value) {
        if ("string" == typeof value || isSymbol(value)) return value;
        var result = value + "";
        return "0" == result && 1 / value == -INFINITY ? "-0" : result;
    };
}, function(module, exports, __webpack_require__) {
    var arrayLikeKeys = __webpack_require__(120), baseKeysIn = __webpack_require__(277), isArrayLike = __webpack_require__(28);
    module.exports = function(object) {
        return isArrayLike(object) ? arrayLikeKeys(object, !0) : baseKeysIn(object);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var tryCatchTarget, errorObject_1 = __webpack_require__(37);
    function tryCatcher() {
        try {
            return tryCatchTarget.apply(this, arguments);
        } catch (e) {
            return errorObject_1.errorObject.e = e, errorObject_1.errorObject;
        }
    }
    exports.tryCatch = function(fn) {
        return tryCatchTarget = fn, tryCatcher;
    };
}, function(module, exports, __webpack_require__) {
    var baseIsArguments = __webpack_require__(213), isObjectLike = __webpack_require__(17), objectProto = Object.prototype, hasOwnProperty = objectProto.hasOwnProperty, propertyIsEnumerable = objectProto.propertyIsEnumerable, isArguments = baseIsArguments(function() {
        return arguments;
    }()) ? baseIsArguments : function(value) {
        return isObjectLike(value) && hasOwnProperty.call(value, "callee") && !propertyIsEnumerable.call(value, "callee");
    };
    module.exports = isArguments;
}, function(module, exports, __webpack_require__) {
    "use strict";
    (function(global) {
        var __window = "undefined" != typeof window && window, __self = "undefined" != typeof self && "undefined" != typeof WorkerGlobalScope && self instanceof WorkerGlobalScope && self, _root = __window || void 0 !== global && global || __self;
        exports.root = _root, function() {
            if (!_root) throw new Error("RxJS could not find any global context (window, self, global)");
        }();
    }).call(exports, __webpack_require__(33));
}, function(module, exports, __webpack_require__) {
    var listCacheClear = __webpack_require__(221), listCacheDelete = __webpack_require__(222), listCacheGet = __webpack_require__(223), listCacheHas = __webpack_require__(224), listCacheSet = __webpack_require__(225);
    function ListCache(entries) {
        var index = -1, length = null == entries ? 0 : entries.length;
        for (this.clear(); ++index < length; ) {
            var entry = entries[index];
            this.set(entry[0], entry[1]);
        }
    }
    ListCache.prototype.clear = listCacheClear, ListCache.prototype.delete = listCacheDelete, 
    ListCache.prototype.get = listCacheGet, ListCache.prototype.has = listCacheHas, 
    ListCache.prototype.set = listCacheSet, module.exports = ListCache;
}, function(module, exports, __webpack_require__) {
    var eq = __webpack_require__(35);
    module.exports = function(array, key) {
        for (var length = array.length; length--; ) if (eq(array[length][0], key)) return length;
        return -1;
    };
}, function(module, exports, __webpack_require__) {
    var nativeCreate = __webpack_require__(26)(Object, "create");
    module.exports = nativeCreate;
}, function(module, exports, __webpack_require__) {
    var isKeyable = __webpack_require__(243);
    module.exports = function(map, key) {
        var data = map.__data__;
        return isKeyable(key) ? data["string" == typeof key ? "string" : "hash"] : data.map;
    };
}, function(module, exports, __webpack_require__) {
    var baseGetTag = __webpack_require__(23), isObjectLike = __webpack_require__(17), symbolTag = "[object Symbol]";
    module.exports = function(value) {
        return "symbol" == typeof value || isObjectLike(value) && baseGetTag(value) == symbolTag;
    };
}, function(module, exports) {
    module.exports = function(value) {
        return value;
    };
}, function(module, exports, __webpack_require__) {
    var isObject = __webpack_require__(9), now = __webpack_require__(287), toNumber = __webpack_require__(194), FUNC_ERROR_TEXT = "Expected a function", nativeMax = Math.max, nativeMin = Math.min;
    module.exports = function(func, wait, options) {
        var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = !1, maxing = !1, trailing = !0;
        if ("function" != typeof func) throw new TypeError(FUNC_ERROR_TEXT);
        function invokeFunc(time) {
            var args = lastArgs, thisArg = lastThis;
            return lastArgs = lastThis = void 0, lastInvokeTime = time, result = func.apply(thisArg, args);
        }
        function shouldInvoke(time) {
            var timeSinceLastCall = time - lastCallTime;
            return void 0 === lastCallTime || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && time - lastInvokeTime >= maxWait;
        }
        function timerExpired() {
            var time = now();
            if (shouldInvoke(time)) return trailingEdge(time);
            timerId = setTimeout(timerExpired, function(time) {
                var timeWaiting = wait - (time - lastCallTime);
                return maxing ? nativeMin(timeWaiting, maxWait - (time - lastInvokeTime)) : timeWaiting;
            }(time));
        }
        function trailingEdge(time) {
            return timerId = void 0, trailing && lastArgs ? invokeFunc(time) : (lastArgs = lastThis = void 0, 
            result);
        }
        function debounced() {
            var time = now(), isInvoking = shouldInvoke(time);
            if (lastArgs = arguments, lastThis = this, lastCallTime = time, isInvoking) {
                if (void 0 === timerId) return function(time) {
                    return lastInvokeTime = time, timerId = setTimeout(timerExpired, wait), leading ? invokeFunc(time) : result;
                }(lastCallTime);
                if (maxing) return timerId = setTimeout(timerExpired, wait), invokeFunc(lastCallTime);
            }
            return void 0 === timerId && (timerId = setTimeout(timerExpired, wait)), result;
        }
        return wait = toNumber(wait) || 0, isObject(options) && (leading = !!options.leading, 
        maxWait = (maxing = "maxWait" in options) ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait, 
        trailing = "trailing" in options ? !!options.trailing : trailing), debounced.cancel = function() {
            void 0 !== timerId && clearTimeout(timerId), lastInvokeTime = 0, lastArgs = lastCallTime = lastThis = timerId = void 0;
        }, debounced.flush = function() {
            return void 0 === timerId ? result : trailingEdge(now());
        }, debounced;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.asEffect = exports.SELECT_ARG_ERROR = exports.INVALID_PATTERN = exports.CANCEL_ARG_ERROR = exports.JOIN_ARG_ERROR = exports.FORK_ARG_ERROR = exports.CALL_FUNCTION_ARG_ERROR = void 0;
    var _slicedToArray = function() {
        return function(arr, i) {
            if (Array.isArray(arr)) return arr;
            if (Symbol.iterator in Object(arr)) return function(arr, i) {
                var _arr = [], _n = !0, _d = !1, _e = void 0;
                try {
                    for (var _s, _i = arr[Symbol.iterator](); !(_n = (_s = _i.next()).done) && (_arr.push(_s.value), 
                    !i || _arr.length !== i); _n = !0) ;
                } catch (err) {
                    _d = !0, _e = err;
                } finally {
                    try {
                        !_n && _i.return && _i.return();
                    } finally {
                        if (_d) throw _e;
                    }
                }
                return _arr;
            }(arr, i);
            throw new TypeError("Invalid attempt to destructure non-iterable instance");
        };
    }();
    exports.matcher = function(pattern) {
        return ("*" === pattern ? matchers.wildcard : _utils.is.array(pattern) ? matchers.array : _utils.is.func(pattern) ? matchers.predicate : matchers.default)(pattern);
    }, exports.take = function(pattern) {
        if (arguments.length > 0 && _utils.is.undef(pattern)) throw new Error(INVALID_PATTERN);
        return effect(TAKE, _utils.is.undef(pattern) ? "*" : pattern);
    }, exports.put = function(action) {
        return effect(PUT, action);
    }, exports.race = function(effects) {
        return effect(RACE, effects);
    }, exports.call = function(fn) {
        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) args[_key - 1] = arguments[_key];
        return effect(CALL, getFnCallDesc(fn, args));
    }, exports.apply = function(context, fn) {
        var args = arguments.length <= 2 || void 0 === arguments[2] ? [] : arguments[2];
        return effect(CALL, getFnCallDesc({
            context: context,
            fn: fn
        }, args));
    }, exports.cps = function(fn) {
        for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) args[_key2 - 1] = arguments[_key2];
        return effect(CPS, getFnCallDesc(fn, args));
    }, exports.fork = function(fn) {
        for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) args[_key3 - 1] = arguments[_key3];
        return effect(FORK, getFnCallDesc(fn, args));
    }, exports.join = function(taskDesc) {
        if (!isForkedTask(taskDesc)) throw new Error(JOIN_ARG_ERROR);
        return effect(JOIN, taskDesc);
    }, exports.cancel = function(taskDesc) {
        if (!isForkedTask(taskDesc)) throw new Error(CANCEL_ARG_ERROR);
        return effect(CANCEL, taskDesc);
    }, exports.select = function(selector) {
        for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) args[_key4 - 1] = arguments[_key4];
        0 === arguments.length ? selector = _utils.ident : (0, _utils.check)(selector, _utils.is.func, SELECT_ARG_ERROR);
        return effect(SELECT, {
            selector: selector,
            args: args
        });
    };
    var _utils = __webpack_require__(21);
    function _defineProperty(obj, key, value) {
        return key in obj ? Object.defineProperty(obj, key, {
            value: value,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : obj[key] = value, obj;
    }
    var CALL_FUNCTION_ARG_ERROR = exports.CALL_FUNCTION_ARG_ERROR = "call/cps/fork first argument must be a function, an array [context, function] or an object {context, fn}", JOIN_ARG_ERROR = (exports.FORK_ARG_ERROR = "fork first argument must be a generator function or an iterator", 
    exports.JOIN_ARG_ERROR = "join argument must be a valid task (a result of a fork)"), CANCEL_ARG_ERROR = exports.CANCEL_ARG_ERROR = "cancel argument must be a valid task (a result of a fork)", INVALID_PATTERN = exports.INVALID_PATTERN = "Invalid pattern passed to `take` (HINT: check if you didn't mispell a constant)", SELECT_ARG_ERROR = exports.SELECT_ARG_ERROR = "select first argument must be a function", IO = (0, 
    _utils.sym)("IO"), TAKE = "TAKE", PUT = "PUT", RACE = "RACE", CALL = "CALL", CPS = "CPS", FORK = "FORK", JOIN = "JOIN", CANCEL = "CANCEL", SELECT = "SELECT", effect = function(type, payload) {
        var _ref;
        return _defineProperty(_ref = {}, IO, !0), _defineProperty(_ref, type, payload), 
        _ref;
    }, matchers = {
        wildcard: function() {
            return _utils.kTrue;
        },
        default: function(pattern) {
            return function(input) {
                return input.type === pattern;
            };
        },
        array: function(patterns) {
            return function(input) {
                return patterns.some(function(p) {
                    return p === input.type;
                });
            };
        },
        predicate: function(_predicate) {
            return function(input) {
                return _predicate(input);
            };
        }
    };
    function getFnCallDesc(fn, args) {
        (0, _utils.check)(fn, _utils.is.notUndef, CALL_FUNCTION_ARG_ERROR);
        var context = null;
        if (_utils.is.array(fn)) {
            var _fn2 = _slicedToArray(fn, 2);
            context = _fn2[0], fn = _fn2[1];
        } else if (fn.fn) {
            var _fn3 = fn;
            context = _fn3.context, fn = _fn3.fn;
        }
        return (0, _utils.check)(fn, _utils.is.func, CALL_FUNCTION_ARG_ERROR), {
            context: context,
            fn: fn,
            args: args
        };
    }
    var isForkedTask = function(task) {
        return task[_utils.TASK];
    };
    exports.asEffect = {
        take: function(effect) {
            return effect && effect[IO] && effect[TAKE];
        },
        put: function(effect) {
            return effect && effect[IO] && effect[PUT];
        },
        race: function(effect) {
            return effect && effect[IO] && effect[RACE];
        },
        call: function(effect) {
            return effect && effect[IO] && effect[CALL];
        },
        cps: function(effect) {
            return effect && effect[IO] && effect[CPS];
        },
        fork: function(effect) {
            return effect && effect[IO] && effect[FORK];
        },
        join: function(effect) {
            return effect && effect[IO] && effect[JOIN];
        },
        cancel: function(effect) {
            return effect && effect[IO] && effect[CANCEL];
        },
        select: function(effect) {
            return effect && effect[IO] && effect[SELECT];
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    function SagaCancellationException(type, saga, origin) {
        var message = "SagaCancellationException; type: " + type + ", saga: " + saga + ", origin: " + origin;
        this.name = "SagaCancellationException", this.message = message, this.type = type, 
        this.saga = saga, this.origin = origin, this.stack = new Error().stack;
    }
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = SagaCancellationException, SagaCancellationException.prototype = Object.create(Error.prototype), 
    SagaCancellationException.prototype.constructor = SagaCancellationException;
}, function(module, exports) {
    var objectProto = Object.prototype;
    module.exports = function(value) {
        var Ctor = value && value.constructor;
        return value === ("function" == typeof Ctor && Ctor.prototype || objectProto);
    };
}, function(module, exports, __webpack_require__) {
    var ListCache = __webpack_require__(47), stackClear = __webpack_require__(226), stackDelete = __webpack_require__(227), stackGet = __webpack_require__(228), stackHas = __webpack_require__(229), stackSet = __webpack_require__(230);
    function Stack(entries) {
        var data = this.__data__ = new ListCache(entries);
        this.size = data.size;
    }
    Stack.prototype.clear = stackClear, Stack.prototype.delete = stackDelete, Stack.prototype.get = stackGet, 
    Stack.prototype.has = stackHas, Stack.prototype.set = stackSet, module.exports = Stack;
}, function(module, exports, __webpack_require__) {
    var DataView = __webpack_require__(254), Map = __webpack_require__(80), Promise = __webpack_require__(255), Set = __webpack_require__(187), WeakMap = __webpack_require__(256), baseGetTag = __webpack_require__(23), toSource = __webpack_require__(123), dataViewCtorString = toSource(DataView), mapCtorString = toSource(Map), promiseCtorString = toSource(Promise), setCtorString = toSource(Set), weakMapCtorString = toSource(WeakMap), getTag = baseGetTag;
    (DataView && "[object DataView]" != getTag(new DataView(new ArrayBuffer(1))) || Map && "[object Map]" != getTag(new Map()) || Promise && "[object Promise]" != getTag(Promise.resolve()) || Set && "[object Set]" != getTag(new Set()) || WeakMap && "[object WeakMap]" != getTag(new WeakMap())) && (getTag = function(value) {
        var result = baseGetTag(value), Ctor = "[object Object]" == result ? value.constructor : void 0, ctorString = Ctor ? toSource(Ctor) : "";
        if (ctorString) switch (ctorString) {
          case dataViewCtorString:
            return "[object DataView]";

          case mapCtorString:
            return "[object Map]";

          case promiseCtorString:
            return "[object Promise]";

          case setCtorString:
            return "[object Set]";

          case weakMapCtorString:
            return "[object WeakMap]";
        }
        return result;
    }), module.exports = getTag;
}, function(module, exports, __webpack_require__) {
    var getPrototype = __webpack_require__(122)(Object.getPrototypeOf, Object);
    module.exports = getPrototype;
}, function(module, exports) {
    var cachedSetTimeout, cachedClearTimeout, process = module.exports = {};
    function defaultSetTimout() {
        throw new Error("setTimeout has not been defined");
    }
    function defaultClearTimeout() {
        throw new Error("clearTimeout has not been defined");
    }
    function runTimeout(fun) {
        if (cachedSetTimeout === setTimeout) return setTimeout(fun, 0);
        if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) return cachedSetTimeout = setTimeout, 
        setTimeout(fun, 0);
        try {
            return cachedSetTimeout(fun, 0);
        } catch (e) {
            try {
                return cachedSetTimeout.call(null, fun, 0);
            } catch (e) {
                return cachedSetTimeout.call(this, fun, 0);
            }
        }
    }
    !function() {
        try {
            cachedSetTimeout = "function" == typeof setTimeout ? setTimeout : defaultSetTimout;
        } catch (e) {
            cachedSetTimeout = defaultSetTimout;
        }
        try {
            cachedClearTimeout = "function" == typeof clearTimeout ? clearTimeout : defaultClearTimeout;
        } catch (e) {
            cachedClearTimeout = defaultClearTimeout;
        }
    }();
    var currentQueue, queue = [], draining = !1, queueIndex = -1;
    function cleanUpNextTick() {
        draining && currentQueue && (draining = !1, currentQueue.length ? queue = currentQueue.concat(queue) : queueIndex = -1, 
        queue.length && drainQueue());
    }
    function drainQueue() {
        if (!draining) {
            var timeout = runTimeout(cleanUpNextTick);
            draining = !0;
            for (var len = queue.length; len; ) {
                for (currentQueue = queue, queue = []; ++queueIndex < len; ) currentQueue && currentQueue[queueIndex].run();
                queueIndex = -1, len = queue.length;
            }
            currentQueue = null, draining = !1, function(marker) {
                if (cachedClearTimeout === clearTimeout) return clearTimeout(marker);
                if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) return cachedClearTimeout = clearTimeout, 
                clearTimeout(marker);
                try {
                    cachedClearTimeout(marker);
                } catch (e) {
                    try {
                        return cachedClearTimeout.call(null, marker);
                    } catch (e) {
                        return cachedClearTimeout.call(this, marker);
                    }
                }
            }(timeout);
        }
    }
    function Item(fun, array) {
        this.fun = fun, this.array = array;
    }
    function noop() {}
    process.nextTick = function(fun) {
        var args = new Array(arguments.length - 1);
        if (arguments.length > 1) for (var i = 1; i < arguments.length; i++) args[i - 1] = arguments[i];
        queue.push(new Item(fun, args)), 1 !== queue.length || draining || runTimeout(drainQueue);
    }, Item.prototype.run = function() {
        this.fun.apply(null, this.array);
    }, process.title = "browser", process.browser = !0, process.env = {}, process.argv = [], 
    process.version = "", process.versions = {}, process.on = noop, process.addListener = noop, 
    process.once = noop, process.off = noop, process.removeListener = noop, process.removeAllListeners = noop, 
    process.emit = noop, process.prependListener = noop, process.prependOnceListener = noop, 
    process.listeners = function(name) {
        return [];
    }, process.binding = function(name) {
        throw new Error("process.binding is not supported");
    }, process.cwd = function() {
        return "/";
    }, process.chdir = function(dir) {
        throw new Error("process.chdir is not supported");
    }, process.umask = function() {
        return 0;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.ports = {
        bridge: "bridge",
        background: "message:to-priv",
        broadcast: "message:to-non-priv"
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), function(SafePromise) {
        function create(run) {
            return new Promise(run);
        }
        SafePromise.create = create, SafePromise.createCompletionSource = function() {
            var res, rej;
            return {
                promise: new Promise(function(res_, rej_) {
                    res = res_, rej = rej_;
                }),
                resolve: function(v) {
                    res(v);
                },
                reject: function(err) {
                    rej(err);
                }
            };
        }, SafePromise.sync = function(run) {
            return create(function(r, _) {
                return r(run());
            });
        };
    }(exports.SafePromise || (exports.SafePromise = {}));
}, function(module, exports) {
    var MAX_SAFE_INTEGER = 9007199254740991, reIsUint = /^(?:0|[1-9]\d*)$/;
    module.exports = function(value, length) {
        var type = typeof value;
        return !!(length = null == length ? MAX_SAFE_INTEGER : length) && ("number" == type || "symbol" != type && reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;
    };
}, function(module, exports, __webpack_require__) {
    var baseMatches = __webpack_require__(219), baseMatchesProperty = __webpack_require__(258), identity = __webpack_require__(52), isArray = __webpack_require__(7), property = __webpack_require__(267);
    module.exports = function(value) {
        return "function" == typeof value ? value : null == value ? identity : "object" == typeof value ? isArray(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value) : property(value);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var stdlib_1 = __webpack_require__(4), log = __webpack_require__(1).Logger.create("extension-api");
    !function(m) {
        for (var p in m) exports.hasOwnProperty(p) || (exports[p] = m[p]);
    }(__webpack_require__(61)), exports.initGlobalExtensionApi = function(api) {
        window.extensionApi && log.warn("Extension Api init called more than once"), window.extensionApi = window.extensionApi || api;
    }, exports.getGlobalExtensionApi = function() {
        return stdlib_1.assertNonNull(window.extensionApi, "extension api was not initialized");
    };
}, function(module, exports, __webpack_require__) {
    var defineProperty = __webpack_require__(134);
    module.exports = function(object, key, value) {
        "__proto__" == key && defineProperty ? defineProperty(object, key, {
            configurable: !0,
            enumerable: !0,
            value: value,
            writable: !0
        }) : object[key] = value;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var location_1 = __webpack_require__(15), util_1 = __webpack_require__(2), extend = __webpack_require__(38), each = __webpack_require__(96), ClientScript = __webpack_require__(293), integration_1 = __webpack_require__(183), dom_1 = __webpack_require__(3), external_1 = __webpack_require__(487), RULES = {
        "translate.google.com": {
            "#gt-clear": {
                zIndex: "2"
            }
        },
        "linkedin.com": {
            ".mentions-highlighter": {
                zIndex: "0"
            }
        },
        "us.nakedwines.com": {
            ".postbutton": {
                display: "inline-block"
            }
        }
    }, fbSpanOffsets_fbNewPostFieldEmoji = {
        heightOffset: -3,
        widthOffset: 2
    }, fbSpanOffsets_fbCommentFieldEmoji = {
        heightOffset: -3,
        widthOffset: 2
    }, fbSpanOffsets_fbChatFieldEmoji = {
        heightOffset: -3,
        widthOffset: 0
    }, messengerSpanOffsets = {
        heightOffset: -3,
        widthOffset: 0
    }, fbEmojis = /\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]\uFE0F|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F|[]|/g;
    function checkAttr(el, _a) {
        var _b = __read(_a, 2), attr = _b[0], value = _b[1], attrValue = el.getAttribute(attr);
        return Boolean(attrValue && (attrValue === value || attrValue.includes(value) && attr + ":" + value));
    }
    var isNew, isNewGPlus = function() {
        return void 0 === isNew && (isNew = !!document.querySelector("c-wiz")), isNew;
    };
    function getFacebookTestId(el) {
        return el.dataset && el.dataset.testid;
    }
    function isZendeskRichText(el) {
        return el.classList.contains("zendesk-editor--rich-text-comment");
    }
    function replaceFacebookEmojisWithSpans(text, node, emojiSpanSelector, spanOffsets) {
        var emojiSpan = node.querySelector(emojiSpanSelector);
        if (emojiSpan) {
            var _a = emojiSpan.getBoundingClientRect(), height = _a.height, width = _a.width, emojiReplacement = '<span style="display: inline-block; height: ' + (height + spanOffsets.heightOffset) + "px; width: " + (width + spanOffsets.widthOffset) + 'px"></span>';
            return text.replace(fbEmojis, emojiReplacement);
        }
    }
    var fixesForDomains = {
        "airbnb.com": {
            stopImmediatePropagationForClick: function(field) {
                return field.classList.contains("send-message-textarea");
            }
        },
        "twitter.com": {
            btnDiff: function(editorEl) {
                if ("tweet-box-dm-conversation" === editorEl.id) return [ -25, 1 ];
                var emojiPicker = editorEl.parentElement && editorEl.parentElement.parentElement && editorEl.parentElement.parentElement.querySelector(".EmojiPicker");
                return null != emojiPicker && emojiPicker.offsetHeight > 0 ? [ -25, 3 ] : editorEl.clientHeight > 40 || "tweet-box-home-timeline" !== editorEl.id ? [ 0, 0 ] : [ -30, 0 ];
            },
            fieldRestoreInlineStyles: function(editorEl, styles) {
                "tweet-box-dm-conversation" === editorEl.id && editorEl.style.zIndex !== styles.src["z-index"] && (editorEl.style.zIndex = styles.src["z-index"], 
                editorEl.style.position = styles.src.position, editorEl.style.transition = "none", 
                editorEl.style.background = "transparent");
            }
        },
        "linkedin.com": {
            fieldStateForDomain: function(el) {
                if ("IFRAME" === el.tagName && el.id) return el.id.replace(/\d*\d/, "");
                return function(selectors, el) {
                    return selectors.find(function(sel) {
                        return checkAttr(el, sel.split(":"));
                    });
                }([ "class:trans" ], el);
            },
            menuPosLeft: function(_, left, state) {
                return !util_1.isSafari() || state.enabled ? left : left - 7;
            }
        },
        "*.slack.com": {
            forceMinimize: function(editorEl) {
                return editorEl.clientHeight > 40;
            },
            btnCustomContainer: function(posSourceEl) {
                return posSourceEl;
            },
            btnCustomStyles: function(isFullState, posSourceEl) {
                var diff = posSourceEl.clientHeight < 40 ? 25 : 0;
                return isFullState ? {
                    right: 10 + diff,
                    bottom: 10,
                    left: "auto",
                    top: "auto"
                } : {
                    right: -10,
                    bottom: -2,
                    left: "auto",
                    top: "auto"
                };
            },
            customDefaultBg: function(el) {
                return el.parentNode && el.parentNode.parentNode && el.parentNode.parentNode.classList.contains("offline") ? "rgb(253, 241, 193)" : "rgb(255, 255, 255)";
            }
        },
        "docs.google.com": {
            btnCustomContainer: function(posSourceEl) {
                return posSourceEl;
            },
            btnCustomStyles: function(_1, el) {
                var viewMode = el.ownerDocument.querySelector(integration_1.gDocsViewModeIconSelector);
                return el.classList.contains(integration_1.gDocsEditorElementClassName) ? viewMode ? {
                    display: "none"
                } : {
                    display: "block",
                    bottom: 25,
                    right: 67,
                    left: "auto",
                    top: "auto"
                } : {
                    right: 9,
                    bottom: 12,
                    left: "auto",
                    top: "auto"
                };
            },
            shouldRemove: function(el) {
                return "TEXTAREA" === el.tagName && (document.activeElement !== el && !dom_1.parentHasClass(el, "docos-input-typing"));
            }
        },
        "*.zendesk.com": {
            btnCustomContainer: function(posSourceEl) {
                return isZendeskRichText(posSourceEl) ? posSourceEl : null;
            },
            btnCustomStyles: function(_, posSourceEl) {
                return isZendeskRichText(posSourceEl) ? {
                    bottom: 50,
                    right: 8,
                    left: "auto",
                    top: "auto"
                } : {};
            },
            customDefaultBg: function(el) {
                return el.classList.contains("ember-text-area") && (el.parentNode && el.parentNode.parentNode && el.parentNode.parentNode.parentNode && !el.parentNode.parentNode.parentNode.classList.contains("is-public") ? "#fff6d9" : "#fff") || null;
            },
            setZindexInTwitterReplyOnZendesk: function(el) {
                if (el.classList.contains("ember-text-area") && el.parentNode) {
                    var commentTwitterIdentityEl = el.parentNode.querySelector(".comment-twitter-identity");
                    commentTwitterIdentityEl && (commentTwitterIdentityEl.style.zIndex = "1");
                }
            }
        },
        "messenger.com": {
            forceMinimize: function(editorEl) {
                return editorEl.clientHeight < 25;
            },
            replaceMessengerEmojis: function(text, node) {
                var newText = replaceFacebookEmojisWithSpans(text, node, "div[aria-label='New message'] div[data-gramm_editor=true] span[style*=background-image]", messengerSpanOffsets);
                return newText || text;
            }
        },
        "facebook.com": {
            replaceFacebookEmojis: function(text, node) {
                return replaceFacebookEmojisWithSpans(text, node, "div[data-testid=status-attachment-mentions-input] span[contentstate]", fbSpanOffsets_fbNewPostFieldEmoji) || replaceFacebookEmojisWithSpans(text, node, "div.UFIAddCommentInput div[data-gramm_editor=true] span[style*=background-image]", fbSpanOffsets_fbCommentFieldEmoji) || replaceFacebookEmojisWithSpans(text, node, "div.fbNubFlyoutFooter div[data-gramm_editor=true] span[style*=background-image]", fbSpanOffsets_fbChatFieldEmoji) || text;
            },
            fieldStateForDomain: function(el) {
                return [ "role:textbox", "testid:ufi_comment_composer", "testid:react-composer-root" ].find(function(sel) {
                    var _a = __read(sel.split(":"), 2), attr = _a[0], value = _a[1];
                    return "testid" === attr ? Boolean(function(el, _a) {
                        var _b = __read(_a, 2), value = (_b[0], _b[1]);
                        return el.dataset && el.dataset.testid === value ? "testid:" + value : !!dom_1.getParentByData(el, "testid", value) && "testid:" + value;
                    }(el, [ attr, value ])) : checkAttr(el, [ attr, value ]);
                });
            },
            ghostHeight: function(height) {
                var newHeight = parseInt(height, 10);
                return newHeight > 0 ? newHeight + 2 + "px" : newHeight + "px";
            },
            setContainerLineHeight: function(el, fontSize) {
                "status-attachment-mentions-input" === getFacebookTestId(el) && (dom_1.getParentByDepth.call(el, 0).style.lineHeight = {
                    "14px": "18px",
                    "24px": "28px",
                    "30px": "1.2em"
                }[fontSize] || parseInt(fontSize, 10) + 4 + "px");
            },
            removeContainerFontSize: function(el) {
                return "status-attachment-mentions-input" === getFacebookTestId(el);
            },
            menuPosLeft: function(editor, left) {
                return editor && editor.el.name && "xhpc_message_text" === editor.el.name ? Math.ceil(left) : left;
            },
            forceMinimize: function(posSourceEl) {
                return "ufi_reply_composer" === getFacebookTestId(posSourceEl);
            },
            getContainerTextAlign: function(el) {
                if ("status-attachment-mentions-input" === getFacebookTestId(el)) return dom_1.getParentByDepth.call(el, 4).style.textAlign;
            },
            btnCustomContainer: function(posSourceEl) {
                var container, testId = getFacebookTestId(posSourceEl);
                return "ufi_comment_composer" === testId || "ufi_reply_composer" === testId ? posSourceEl : "status-attachment-mentions-input" === testId ? ((container = dom_1.getParentByDepth.call(posSourceEl, 4)).parentNode.style.position = "relative", 
                container) : posSourceEl.name && "xhpc_message_text" === posSourceEl.name ? posSourceEl : dom_1.getParentByData(posSourceEl, "testid", "react-composer-root") ? ((container = dom_1.getParentByDepth.call(posSourceEl, 3)).parentNode.style.position = "relative", 
                container) : "webMessengerRecentMessages" === posSourceEl.getAttribute("aria-controls") ? posSourceEl : void 0;
            },
            btnCustomStyles: function(isFullState, posSourceEl) {
                var top = "auto";
                if ("webMessengerRecentMessages" === posSourceEl.getAttribute("aria-controls")) return isFullState ? {
                    right: 10,
                    bottom: 10,
                    left: "auto",
                    top: top
                } : {
                    right: -5,
                    bottom: 2,
                    left: "auto",
                    top: top
                };
                var testId = getFacebookTestId(posSourceEl);
                if ("ufi_comment_composer" === testId) {
                    var ICONS_TOP_OFFSET = 10, minRightOffset = (actionBtnContainer = dom_1.getParentByDepth.call(posSourceEl, 6).querySelector(".UFICommentAttachmentButtons")).offsetTop < ICONS_TOP_OFFSET ? -(actionBtnContainer.clientWidth + 15) : -16, minBottomOffset = (actionBtnContainer.offsetTop, 
                    -12);
                    return {
                        right: isFullState ? 0 : minRightOffset,
                        bottom: isFullState ? -2 : minBottomOffset,
                        left: "auto",
                        top: top
                    };
                }
                if ("ufi_reply_composer" === testId || posSourceEl.hasAttribute("aria-haspopup") && posSourceEl.hasAttribute("aria-owns")) {
                    var actionBtnContainer;
                    ICONS_TOP_OFFSET = 10, minRightOffset = (actionBtnContainer = dom_1.getParentByDepth.call(posSourceEl, 6).querySelector(".UFICommentAttachmentButtons")).offsetTop < ICONS_TOP_OFFSET ? -(actionBtnContainer.clientWidth + 17) : -17, 
                    minBottomOffset = actionBtnContainer.offsetTop < ICONS_TOP_OFFSET ? -6 : -7;
                    return {
                        right: isFullState ? 0 : minRightOffset,
                        bottom: isFullState ? -2 : minBottomOffset,
                        left: "auto",
                        top: top
                    };
                }
                var right = isFullState ? 10 : -8, bottom = isFullState ? 10 : -5, postWrapper = dom_1.getParentByData(posSourceEl, "testid", "react-composer-root");
                if (postWrapper) {
                    postWrapper.querySelectorAll('[aria-label="Post a sticker"], [aria-label="Insert an emoji"]').length > 0 && (right = isFullState ? 30 : -12, 
                    bottom = isFullState ? 6 : -3);
                }
                return posSourceEl.name && "xhpc_message_text" === posSourceEl.name && (bottom = 50), 
                {
                    right: right,
                    bottom: bottom,
                    left: "auto",
                    top: top
                };
            }
        },
        "mail.google.com": {
            btnCustomContainer: function(posSourceEl) {
                var innerTable = dom_1.getParentByTag(posSourceEl, "TABLE"), tableEl = innerTable && dom_1.getParentByTag(innerTable, "TABLE"), filesEl = tableEl && tableEl.querySelector('[command="Files"]');
                return tableEl && filesEl ? dom_1.getParentByTag(filesEl, "TABLE") : null;
            },
            btnCustomStyles: function(isFullState) {
                return isFullState ? {
                    right: 10,
                    top: -30,
                    left: "auto"
                } : {
                    right: -2,
                    top: -25,
                    left: "auto"
                };
            },
            shouldRemove: function(field) {
                var parent = dom_1.getParentByTag(field, "TABLE");
                if (parent) {
                    var table = dom_1.getParentByTag(parent, "TABLE");
                    if (table) {
                        var panel = table.querySelector('[role=toolbar][aria-label="Spell Check"]');
                        return panel && panel.offsetParent;
                    }
                }
            },
            getSkipTagExceptions: function() {
                return [ "blockquote" ];
            }
        },
        "inbox.google.com": {
            btnCustomContainer: function(posSourceEl) {
                return posSourceEl.parentNode;
            },
            btnCustomStyles: function(isFullState) {
                return isFullState ? {
                    right: 12,
                    top: "auto",
                    left: "auto",
                    bottom: 62
                } : {
                    right: -5,
                    top: "auto",
                    left: "auto",
                    bottom: 60
                };
            }
        },
        "medium.com": {
            btnDiff: function(editorEl) {
                return dom_1.parentHasClass(editorEl, "postArticle--full") ? [ -75, 0, !1 ] : [ 0, 0, !1 ];
            }
        },
        "plus.google.com": {
            forceMinimize: function(editorEl) {
                return editorEl.clientHeight < 30;
            },
            btnCustomContainer: function(posSourceEl) {
                return isNewGPlus() ? /comment/i.test(posSourceEl.getAttribute("aria-label") || "") ? posSourceEl.parentNode : posSourceEl : posSourceEl;
            },
            btnCustomStyles: function(isFullState) {
                var right = isNewGPlus() ? -12 : -18, bottom = isNewGPlus() ? -5 : -10;
                return isFullState ? {
                    right: 10,
                    bottom: 10,
                    left: "auto",
                    top: "auto"
                } : {
                    right: right,
                    bottom: bottom,
                    left: "auto",
                    top: "auto"
                };
            },
            fieldParentCustomStyle: function() {
                return isNewGPlus() ? {
                    "padding-bottom": "2px",
                    "overflow-x": "hidden"
                } : {};
            }
        },
        "app.asana.com": {
            forceMinimize: function(el) {
                return !!el.classList.contains("task-comments-input") && (!!(el.parentNode && el.parentNode.parentNode && el.parentNode.parentNode.parentNode) && !el.parentNode.parentNode.parentNode.classList.contains("focused"));
            }
        },
        "youtube.com": {
            btnDiff: function(editorEl) {
                return dom_1.hasClass(editorEl, "comment-simplebox-text") ? [ 15, 15 ] : [ 0, 0 ];
            },
            fireCustomReplaceEvent: function(id, el, txt) {
                dom_1.hasClass(el, "iron-autogrow-textarea") && external_1.setYoutubeComponentValue(id, txt);
            }
        },
        "*.force.com": {
            fireCustomReplaceEvent: function(id, el) {
                return external_1.fireSalesforceChangeEvent(id, el.nodeName);
            }
        },
        "quizlet.com": {
            btnDiff: function() {
                return [ 0, 4, !1 ];
            },
            fireCustomReplaceEvent: function(id, el) {
                return external_1.fireInputEvent(id, el.nodeName);
            }
        },
        "web.whatsapp.com": {
            fireCustomReplaceEvent: function(id, el) {
                return external_1.fireInputEvent(id, el.nodeName);
            }
        },
        "socialflow.com": {
            fieldParentCustomStyle: function(field) {
                return field ? {
                    width: "",
                    overflow: "visible"
                } : {};
            }
        }
    };
    exports.pageStyles = function(doc) {
        void 0 === doc && (doc = document);
        var domain = location_1.getDomain(doc.documentElement), styles = RULES[domain];
        return {
            addDomainClass: function() {
                doc.documentElement.classList.add("gr__" + domain.replace(/\./g, "_"));
            },
            customizeElements: function() {
                styles && each(styles, function(styles, selector) {
                    return Array.from(doc.querySelectorAll(selector)).forEach(function(node) {
                        return extend(node.style || {}, styles);
                    });
                });
            },
            getFixesForCurrentDomain: function() {
                var fixes = fixesForDomains[domain];
                if (fixes) return fixes;
                var parteredDomain = Object.keys(fixesForDomains).filter(function(key) {
                    return key.includes("*");
                }).find(function(key) {
                    return domain.indexOf(key.replace("*", "")) > -1;
                });
                return parteredDomain && fixesForDomains[parteredDomain] || {};
            }
        };
    }, function() {
        var domain = location_1.getDomain();
        (domain.indexOf("chase.com") > -1 || domain.indexOf("chaseonline.com") > -1) && ClientScript.addScript(document, [ function() {
            if (window.randomize) {
                var oldR = window.randomize;
                window.randomize = function(e) {
                    try {
                        if (e.data) {
                            var json = JSON.parse(e.data);
                            json[0] && json[0].parentWindowLocation && oldR(e);
                        }
                    } catch (_) {}
                };
            }
        } ]);
    }();
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var stdlib_1 = __webpack_require__(4), url_1 = __webpack_require__(69), services_1 = __webpack_require__(70);
    !function(AppConfig) {
        var forgeExtensionId = "87677a2c52b84ad3a151a4a72f5bd3c4", grammarlyProdDomain = "grammarly.com", newsVersion = 0;
        AppConfig.create = function(browser, env, edgePopupUrl, emptyScriptUrl) {
            var felogUrl = "prod" === env ? "https://f-log-extension.grammarly.io" : "qa" === env || "dev" === env ? "https://127.0.0.1:8000" : stdlib_1.assertNever(env), sumoLogicUrl = "prod" === env ? "https://endpoint2.collection.us2.sumologic.com/receiver/v1/http/ZaVnC4dhaV1OF-4ic11yqpre0casnyvs_ZoaCHciEYdRyBkrfwP6DMlsWt8tSVU76RPqgGvAGjXGQk_UNuxPx-pYbToJapM_Fr0CUcgKaA8_IVl-lhSr5Q==" : "qa" === env || "dev" === env ? "https://127.0.0.1:8000" : stdlib_1.assertNever(env), gnarDomain = "prod" === env ? grammarlyProdDomain : "qa" === env || "dev" === env ? "qagr.io" : stdlib_1.assertNever(env);
            return {
                url: url_1.UrlConfig.create(grammarlyProdDomain, felogUrl, sumoLogicUrl, edgePopupUrl, emptyScriptUrl),
                gnar: services_1.GnarConfig.create(browser, gnarDomain),
                felog: services_1.FelogConfig.create(browser),
                sumologic: services_1.SumoLogicConfig.create(browser),
                capi: services_1.CapiConfig.create(),
                extensionId: forgeExtensionId,
                newsVersion: newsVersion
            };
        };
    }(exports.AppConfig || (exports.AppConfig = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), function(UrlConfig) {
        UrlConfig.create = function(grammarlyDomain, felogUrl, sumologicUrl, edgePopupUrl, emptyScriptUrl) {
            var funnel = "https://www." + grammarlyDomain, dapi = "https://data." + grammarlyDomain, editor = "https://app." + grammarlyDomain, auth = "https://auth." + grammarlyDomain + "/v3";
            return {
                app: editor,
                appPersonalDictionary: editor + "/profile/dictionary",
                capi: "wss://capi." + grammarlyDomain + "/freews",
                capiGDocs: "wss://capi." + grammarlyDomain + "/gdocs",
                dapiMimic: dapi + "/api/mimic",
                dapiProps: dapi + "/api/props/v2",
                editorDictionary: editor + "/profile/dictionary",
                dictionary: "https://capi." + grammarlyDomain + "/api/defs",
                docs: editor + "/docs",
                docsApi: "https://dox." + grammarlyDomain + "/documents",
                newDoc: editor + "/docs/new",
                userOrAnonymous: auth + "/user/oranonymous",
                authSignin: auth + "/api/login",
                authSignup: auth + "/api/signup",
                signin: funnel + "/signin",
                signup: funnel + "/signup",
                fbSignin: funnel + "/signin?fromExtensionFb=true",
                fbSignup: funnel + "/signup?fromExtensionFb=true",
                googleSignin: funnel + "/signin?fromExtensionGoogle=true",
                googleSignup: funnel + "/signup?fromExtensionGoogle=true",
                resetPassword: funnel + "/resetpassword",
                newFelog: felogUrl,
                sumoLogic: sumologicUrl,
                welcomeC: funnel + "/extension-success",
                afterInstall: funnel + "/after_install_page",
                upgrade: funnel + "/upgrade",
                uninstall: funnel + "/extension-uninstall",
                terms: funnel + "/terms",
                policy: funnel + "/privacy-policy",
                pageConfigUrl: "https://d3cv4a9a9wh0bt.cloudfront.net/browserplugin/config.json",
                edgePopupUrl: edgePopupUrl,
                emptyScriptUrl: emptyScriptUrl,
                grammarlyDomain: grammarlyDomain
            };
        };
    }(exports.UrlConfig || (exports.UrlConfig = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var stdlib_1 = __webpack_require__(4);
    !function(GnarConfig) {
        var gnarAppName = {
            chrome: "chromeExt",
            firefox: "firefoxExt",
            safari: "safariExt",
            edge: "edgeExt"
        };
        GnarConfig.create = function(browserType, domain) {
            return {
                appName: stdlib_1.assertNonNull(gnarAppName[browserType], "gnar app name"),
                url: "https://gnar." + domain,
                domain: "." + domain,
                sendEmailInfoTracking: !0
            };
        };
    }(exports.GnarConfig || (exports.GnarConfig = {})), function(FelogConfig) {
        var felogAppName = {
            chrome: "extensionChrome",
            firefox: "extensionFirefox",
            safari: "extensionSafari",
            edge: "extensionEdge"
        };
        FelogConfig.create = function(browser) {
            return {
                appName: stdlib_1.assertNonNull(felogAppName[browser], "felog app name"),
                sendUsageMetrics: "chrome" === browser,
                sendPerfMetrics: !1
            };
        };
    }(exports.FelogConfig || (exports.FelogConfig = {})), function(SumoLogicConfig) {
        var sumoLogicAppName = {
            chrome: "extensionChrome",
            firefox: "extensionFirefox",
            safari: "extensionSafari",
            edge: "extensionEdge"
        };
        SumoLogicConfig.create = function(browser) {
            return {
                appName: stdlib_1.assertNonNull(sumoLogicAppName[browser], "sumologic app name")
            };
        };
    }(exports.SumoLogicConfig || (exports.SumoLogicConfig = {})), function(CapiConfig) {
        CapiConfig.create = function() {
            return {
                sendEmailData: !0
            };
        };
    }(exports.CapiConfig || (exports.CapiConfig = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var stdlib_1 = __webpack_require__(4), log = __webpack_require__(1).Logger.create("config.build");
    !function(BuildInfo) {
        BuildInfo.create = function(major, minor, patch, browser, env, branch, commit) {
            var branch_ = void 0 !== branch && void 0 !== commit ? branch : "UNVERSIONED", manifestVersion = major + "." + minor + "." + patch;
            return {
                version: manifestVersion,
                fullVersion: manifestVersion + "-" + [ browser, [ "prod" !== env ? env : null, branch_ !== browser ? branch_ : null ].filter(function(x) {
                    return !!x;
                }).join(".") ].filter(function(x) {
                    return "" !== x;
                }).join("/"),
                commitHash: commit,
                gitBranch: branch
            };
        }, BuildInfo.getManifestVersion = function(browser, context, win) {
            try {
                switch (browser) {
                  case "safari":
                    switch (context) {
                      case "bg":
                      case "popup":
                        return win.safari.extension.displayVersion;

                      default:
                        return;
                    }

                  case "chrome":
                    return win.chrome.runtime.getManifest().version;

                  case "firefox":
                    return win.firefox.runtime.getManifest().version;

                  case "edge":
                    return win.edge.runtime.getManifest().version;

                  default:
                    return stdlib_1.assertNever(browser);
                }
            } catch (e) {
                return void log.error("Could not get extension version from manifest", e);
            }
        };
    }(exports.BuildInfo || (exports.BuildInfo = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var logWriter_1 = __webpack_require__(73), logFilter_1 = __webpack_require__(74);
    !function(LogConfig) {
        LogConfig.defaultConfig = {
            writer: new logWriter_1.ConsoleLogWriter({
                useColors: !1
            }),
            filterFn: function(_) {
                return !0;
            }
        };
        var globalConfig = LogConfig.defaultConfig;
        function updateGlobal(updates) {
            globalConfig = Object.assign({}, globalConfig, updates);
        }
        LogConfig.getGlobal = function() {
            return globalConfig;
        }, LogConfig.updateGlobal = updateGlobal, LogConfig.configure = function(options) {
            updateGlobal({
                writer: new logWriter_1.ConsoleLogWriter({
                    useColors: !options.edge
                }),
                filterFn: options.prodCs ? logFilter_1.logLevelFilter("ERROR") : function(_) {
                    return !0;
                }
            });
        };
    }(exports.LogConfig || (exports.LogConfig = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var FunctionLogWriter = function() {
        return function(write) {
            this.write = write;
        };
    }();
    exports.FunctionLogWriter = FunctionLogWriter;
    var _a, ConsoleLogWriter = function() {
        function ConsoleLogWriter(_config) {
            void 0 === _config && (_config = {
                useColors: !0
            }), this._config = _config, this._writeColor = function(event) {
                var cfg = ConsoleLogWriter._outputConfigMap[event.level];
                if (cfg) {
                    var exceptionOrData = event.data || event.exception, data = event.data && event.exception;
                    cfg.writeFunc("%c" + event.loggerName + "%c %c" + event.level + "%c %c" + event.message, "font-weight: bold; color: #00b", "", "color: " + cfg.foreground + "; background: " + cfg.background, "", "", "", exceptionOrData || "", data || "");
                }
            }, this._writeMonochrome = function(event) {
                var cfg = ConsoleLogWriter._outputConfigMap[event.level];
                if (cfg) {
                    var exceptionOrData = event.data || event.exception, data = event.data && event.exception;
                    cfg.writeFunc(event.loggerName + " [" + event.level + "] " + event.message, exceptionOrData || "", data || "", "", "", "", "", "", "");
                }
            }, this.write = this._config.useColors ? this._writeColor : this._writeMonochrome;
        }
        return ConsoleLogWriter._outputConfigMap = ((_a = {}).TRACE = {
            writeFunc: function(a0, a1, a2, a3, a4, a5, a6, a7, a8) {
                return console.log(a0, a1, a2, a3, a4, a5, a6, a7, a8);
            },
            foreground: "#fff",
            background: "#bbb"
        }, _a.DEBUG = {
            writeFunc: function(a0, a1, a2, a3, a4, a5, a6, a7, a8) {
                return console.log(a0, a1, a2, a3, a4, a5, a6, a7, a8);
            },
            foreground: "#fff",
            background: "#666"
        }, _a.INFO = {
            writeFunc: function(a0, a1, a2, a3, a4, a5, a6, a7, a8) {
                return console.info(a0, a1, a2, a3, a4, a5, a6, a7, a8);
            },
            foreground: "#000",
            background: ""
        }, _a.WARN = {
            writeFunc: function(a0, a1, a2, a3, a4, a5, a6, a7, a8) {
                return console.warn(a0, a1, a2, a3, a4, a5, a6, a7, a8);
            },
            foreground: "",
            background: ""
        }, _a.ERROR = {
            writeFunc: function(a0, a1, a2, a3, a4, a5, a6, a7, a8) {
                return console.error(a0, a1, a2, a3, a4, a5, a6, a7, a8);
            },
            foreground: "",
            background: ""
        }, _a.FATAL = {
            writeFunc: function(a0, a1, a2, a3, a4, a5, a6, a7, a8) {
                return console.error(a0, a1, a2, a3, a4, a5, a6, a7, a8);
            },
            foreground: "#fff",
            background: "#f00"
        }, _a), ConsoleLogWriter;
    }();
    exports.ConsoleLogWriter = ConsoleLogWriter;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var common_1 = __webpack_require__(162);
    exports.logLevelFilter = function(level) {
        return function(event) {
            return common_1.getLogRank(event.level) >= common_1.getLogRank(level);
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var BrowserInfo, OsInfo, bundle_1 = __webpack_require__(29), stdlib_1 = __webpack_require__(4);
    !function(BrowserInfo) {
        BrowserInfo.create = function(targetBrowser, win) {
            return {
                type: bundle_1.TargetBrowser.detect(win) || "other",
                isWE: "firefox" === targetBrowser ? stdlib_1.try_(function() {
                    return !!firefox.runtime;
                }, function(_) {
                    return !1;
                }) : "chrome" === targetBrowser || "edge" === targetBrowser
            };
        };
    }(BrowserInfo = exports.BrowserInfo || (exports.BrowserInfo = {})), function(OsInfo) {
        OsInfo.create = function(win) {
            return {
                isWindows: -1 !== win.navigator.appVersion.indexOf("Win")
            };
        };
    }(OsInfo = exports.OsInfo || (exports.OsInfo = {})), function(SystemInfo) {
        SystemInfo.create = function(targetBrowser, win) {
            return {
                browser: BrowserInfo.create(targetBrowser, win),
                os: OsInfo.create(win)
            };
        };
    }(exports.SystemInfo || (exports.SystemInfo = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var app_1 = __webpack_require__(68), build_1 = __webpack_require__(71), system_1 = __webpack_require__(75), bundle_1 = __webpack_require__(29), stdlib_1 = __webpack_require__(4), log = __webpack_require__(1).Logger.create("config.mainConfig");
    !function(ProcessEnv) {
        function create(env, major_number, build_number, release_number, git_branch, git_commit, edge_popup_url, empty_script_url) {
            return {
                env: env,
                major_number: major_number,
                build_number: build_number,
                release_number: release_number,
                git_branch: git_branch,
                git_commit: git_commit,
                edge_popup_url: edge_popup_url,
                empty_script_url: empty_script_url
            };
        }
        ProcessEnv.create = create, ProcessEnv.fromBrowserify = function() {
            return create("prod", "14", "839", "1573", "UNVERSIONED", "bdc30600e460164a6068a55c8bc01fb8990229c4", "", "");
        };
    }(exports.ProcessEnv || (exports.ProcessEnv = {})), function(MainConfig) {
        MainConfig.create = function(browser, context, processEnv) {
            var env_;
            if (processEnv.env) {
                var e = bundle_1.TargetEnv.create(processEnv.env);
                void 0 !== e ? env_ = e : (log.warn("*** process.env.ENV is invalid ('" + processEnv.env + "'), assuming 'prod' env"), 
                env_ = "prod");
            } else log.warn("*** process.env.ENV is not defined, assuming 'prod' env"), env_ = "prod";
            var finalVersion, env = stdlib_1.assertNonNull(env_, "ENV env var OR a fallback value"), processEnvVersion = [ processEnv.major_number, processEnv.build_number, processEnv.release_number ].map(stdlib_1.optionalIntString);
            if (3 === processEnvVersion.length && processEnvVersion.every(function(x) {
                return void 0 !== x;
            })) finalVersion = processEnvVersion; else {
                var manifestVersion = (build_1.BuildInfo.getManifestVersion(browser, context, window) || "").split(".").map(stdlib_1.optionalIntString);
                finalVersion = 3 === manifestVersion.length && manifestVersion.every(function(x) {
                    return void 0 !== x;
                }) ? manifestVersion : [ 0, 0, 0 ];
            }
            var _a = __read(finalVersion, 3), versionMajor = _a[0], versionMinor = _a[1], versionPatch = _a[2];
            return {
                buildInfo: build_1.BuildInfo.create(versionMajor, versionMinor, versionPatch, browser, env, processEnv.git_branch, processEnv.git_commit),
                bundleInfo: bundle_1.BundleInfo.create(browser, env, context),
                appConfig: app_1.AppConfig.create(browser, env, processEnv.edge_popup_url, processEnv.empty_script_url),
                systemInfo: system_1.SystemInfo.create(browser, window)
            };
        };
    }(exports.MainConfig || (exports.MainConfig = {}));
}, function(module, exports) {
    module.exports = function(module) {
        return module.webpackPolyfill || (module.deprecate = function() {}, module.paths = [], 
        module.children || (module.children = []), Object.defineProperty(module, "loaded", {
            enumerable: !0,
            get: function() {
                return module.l;
            }
        }), Object.defineProperty(module, "id", {
            enumerable: !0,
            get: function() {
                return module.i;
            }
        }), module.webpackPolyfill = 1), module;
    };
}, function(module, exports) {
    var MAX_SAFE_INTEGER = 9007199254740991;
    module.exports = function(value) {
        return "number" == typeof value && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
    };
}, function(module, exports) {
    module.exports = function(func) {
        return function(value) {
            return func(value);
        };
    };
}, function(module, exports, __webpack_require__) {
    var Map = __webpack_require__(26)(__webpack_require__(12), "Map");
    module.exports = Map;
}, function(module, exports, __webpack_require__) {
    var mapCacheClear = __webpack_require__(235), mapCacheDelete = __webpack_require__(242), mapCacheGet = __webpack_require__(244), mapCacheHas = __webpack_require__(245), mapCacheSet = __webpack_require__(246);
    function MapCache(entries) {
        var index = -1, length = null == entries ? 0 : entries.length;
        for (this.clear(); ++index < length; ) {
            var entry = entries[index];
            this.set(entry[0], entry[1]);
        }
    }
    MapCache.prototype.clear = mapCacheClear, MapCache.prototype.delete = mapCacheDelete, 
    MapCache.prototype.get = mapCacheGet, MapCache.prototype.has = mapCacheHas, MapCache.prototype.set = mapCacheSet, 
    module.exports = MapCache;
}, function(module, exports, __webpack_require__) {
    var baseIsEqualDeep = __webpack_require__(247), isObjectLike = __webpack_require__(17);
    module.exports = function baseIsEqual(value, other, bitmask, customizer, stack) {
        return value === other || (null == value || null == other || !isObjectLike(value) && !isObjectLike(other) ? value != value && other != other : baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack));
    };
}, function(module, exports, __webpack_require__) {
    var isArray = __webpack_require__(7), isKey = __webpack_require__(84), stringToPath = __webpack_require__(260), toString = __webpack_require__(168);
    module.exports = function(value, object) {
        return isArray(value) ? value : isKey(value, object) ? [ value ] : stringToPath(toString(value));
    };
}, function(module, exports, __webpack_require__) {
    var isArray = __webpack_require__(7), isSymbol = __webpack_require__(51), reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, reIsPlainProp = /^\w*$/;
    module.exports = function(value, object) {
        if (isArray(value)) return !1;
        var type = typeof value;
        return !("number" != type && "symbol" != type && "boolean" != type && null != value && !isSymbol(value)) || reIsPlainProp.test(value) || !reIsDeepProp.test(value) || null != object && value in Object(object);
    };
}, function(module, exports) {
    module.exports = function(array, iteratee) {
        for (var index = -1, length = null == array ? 0 : array.length, result = Array(length); ++index < length; ) result[index] = iteratee(array[index], index, array);
        return result;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    exports.isScheduler = function(value) {
        return value && "function" == typeof value.schedule;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.MANUAL_CANCEL = exports.RACE_AUTO_CANCEL = exports.PARALLEL_AUTO_CANCEL = exports.CANCEL = exports.undefindInputError = exports.NOT_ITERATOR_ERROR = void 0, 
    exports.default = function proc(iterator) {
        var subscribe = arguments.length <= 1 || void 0 === arguments[1] ? function() {
            return _utils.noop;
        } : arguments[1];
        var dispatch = arguments.length <= 2 || void 0 === arguments[2] ? _utils.noop : arguments[2];
        var getState = arguments.length <= 3 || void 0 === arguments[3] ? _utils.noop : arguments[3];
        var monitor = arguments.length <= 4 || void 0 === arguments[4] ? _utils.noop : arguments[4];
        var parentEffectId = arguments.length <= 5 || void 0 === arguments[5] ? 0 : arguments[5];
        var name = arguments.length <= 6 || void 0 === arguments[6] ? "anonymous" : arguments[6];
        var forked = arguments[7];
        (0, _utils.check)(iterator, _utils.is.iterator, NOT_ITERATOR_ERROR);
        var UNDEFINED_INPUT_ERROR = undefindInputError(name);
        var deferredInputs = [];
        var deferredEnd = (0, _utils.deferred)();
        var unsubscribe = subscribe(function(input) {
            if (void 0 === input) throw UNDEFINED_INPUT_ERROR;
            for (var i = 0; i < deferredInputs.length; i++) {
                var def = deferredInputs[i];
                def.match(input) && (deferredInputs = [], def.resolve(input));
            }
        });
        next.cancel = _utils.noop;
        var task = function(id, name, iterator, done, forked) {
            var _ref6;
            return _defineProperty(_ref6 = {}, _utils.TASK, !0), _defineProperty(_ref6, "id", id), 
            _defineProperty(_ref6, "name", name), _defineProperty(_ref6, "done", done), _defineProperty(_ref6, "forked", forked), 
            _defineProperty(_ref6, "cancel", function(error) {
                error instanceof _SagaCancellationException2.default || (error = new _SagaCancellationException2.default(MANUAL_CANCEL, name, error)), 
                done[CANCEL](error);
            }), _defineProperty(_ref6, "isRunning", function() {
                return iterator._isRunning;
            }), _defineProperty(_ref6, "result", function() {
                return iterator._result;
            }), _defineProperty(_ref6, "error", function() {
                return iterator._error;
            }), _ref6;
        }(parentEffectId, name, iterator, deferredEnd.promise, forked);
        task.done[CANCEL] = function(_ref) {
            var type = _ref.type, origin = _ref.origin;
            next.cancel(new _SagaCancellationException2.default(type, name, origin));
        };
        iterator._isRunning = !0;
        next();
        return task;
        function logError(level, message, error) {
            "undefined" == typeof window ? console.log("redux-saga " + level + ": " + message + "\n" + error.stack) : console[level].call(console, message, error);
        }
        function next(error, arg) {
            if (!iterator._isRunning) throw new Error("Trying to resume an already finished generator");
            try {
                var result = error ? iterator.throw(error) : iterator.next(arg);
                result.done ? end(result.value) : runEffect(result.value, parentEffectId, "", next);
            } catch (error) {
                end(error, !0), error instanceof _SagaCancellationException2.default ? _utils.isDev && logError("warn", name + ": uncaught", error) : logError("error", name + ": uncaught", error);
            }
        }
        function end(result, isError) {
            iterator._isRunning = !1, isError ? (iterator._error = result, deferredEnd.reject(result)) : (iterator._result = result, 
            deferredEnd.resolve(result)), unsubscribe();
        }
        function runEffect(effect, parentEffectId) {
            var label = arguments.length <= 2 || void 0 === arguments[2] ? "" : arguments[2], cb = arguments[3], effectId = nextEffectId();
            monitor(monitorActions.effectTriggered(effectId, parentEffectId, label, effect));
            var effectSettled = void 0;
            function currCb(err, res) {
                effectSettled || (effectSettled = !0, cb.cancel = _utils.noop, monitor(err ? monitorActions.effectRejected(effectId, err) : monitorActions.effectResolved(effectId, res)), 
                cb(err, res));
            }
            currCb.cancel = _utils.noop, cb.cancel = function(cancelError) {
                if (!effectSettled) {
                    effectSettled = !0;
                    try {
                        currCb.cancel(cancelError);
                    } catch (err) {}
                    currCb.cancel = _utils.noop, cb(cancelError), monitor(monitorActions.effectRejected(effectId, cancelError));
                }
            };
            var data = void 0;
            return _utils.is.promise(effect) ? resolvePromise(effect, currCb) : _utils.is.iterator(effect) ? resolveIterator(effect, effectId, name, currCb) : _utils.is.array(effect) ? function(effects, effectId, cb) {
                if (!effects.length) return void cb(null, []);
                var completedCount = 0, completed = void 0, results = Array(effects.length);
                var childCbs = effects.map(function(eff, idx) {
                    var chCbAtIdx = function(err, res) {
                        if (!completed) if (err) {
                            try {
                                cb.cancel(new _SagaCancellationException2.default(PARALLEL_AUTO_CANCEL, name, name));
                            } catch (err) {}
                            cb(err);
                        } else results[idx] = res, ++completedCount === results.length && (completed = !0, 
                        cb(null, results));
                    };
                    return chCbAtIdx.cancel = _utils.noop, chCbAtIdx;
                });
                cb.cancel = function(cancelError) {
                    completed || (completed = !0, childCbs.forEach(function(chCb) {
                        return chCb.cancel(cancelError);
                    }));
                }, effects.forEach(function(eff, idx) {
                    return runEffect(eff, effectId, idx, childCbs[idx]);
                });
            }(effect, effectId, currCb) : _utils.is.notUndef(data = _io.asEffect.take(effect)) ? function(pattern, cb) {
                var def = {
                    match: (0, _io.matcher)(pattern),
                    pattern: pattern,
                    resolve: function(input) {
                        return cb(null, input);
                    }
                };
                deferredInputs.push(def), cb.cancel = function() {
                    return (0, _utils.remove)(deferredInputs, def);
                };
            }(data, currCb) : _utils.is.notUndef(data = _io.asEffect.put(effect)) ? function(action, cb) {
                (0, _utils.asap)(function() {
                    return cb(null, dispatch(action));
                });
            }(data, currCb) : _utils.is.notUndef(data = _io.asEffect.race(effect)) ? function(effects, effectId, cb) {
                var completed = void 0, keys = Object.keys(effects), childCbs = {};
                keys.forEach(function(key) {
                    var chCbAtKey = function(err, res) {
                        if (!completed) if (err) {
                            try {
                                cb.cancel(new _SagaCancellationException2.default(RACE_AUTO_CANCEL, name, name));
                            } catch (err) {}
                            cb(_defineProperty({}, key, err));
                        } else {
                            try {
                                cb.cancel(new _SagaCancellationException2.default(RACE_AUTO_CANCEL, name, name));
                            } catch (err) {}
                            completed = !0, cb(null, _defineProperty({}, key, res));
                        }
                    };
                    chCbAtKey.cancel = _utils.noop, childCbs[key] = chCbAtKey;
                }), cb.cancel = function(cancelError) {
                    completed || (completed = !0, keys.forEach(function(key) {
                        return childCbs[key].cancel(cancelError);
                    }));
                }, keys.forEach(function(key) {
                    return runEffect(effects[key], effectId, key, childCbs[key]);
                });
            }(data, effectId, currCb) : _utils.is.notUndef(data = _io.asEffect.call(effect)) ? function(_ref2, effectId, cb) {
                var context = _ref2.context, fn = _ref2.fn, args = _ref2.args, result = void 0;
                try {
                    result = fn.apply(context, args);
                } catch (error) {
                    return cb(error);
                }
                return _utils.is.promise(result) ? resolvePromise(result, cb) : _utils.is.iterator(result) ? resolveIterator(result, effectId, fn.name, cb) : cb(null, result);
            }(data, effectId, currCb) : _utils.is.notUndef(data = _io.asEffect.cps(effect)) ? function(_ref3, cb) {
                var context = _ref3.context, fn = _ref3.fn, args = _ref3.args;
                try {
                    fn.apply(context, args.concat(cb));
                } catch (error) {
                    return cb(error);
                }
            }(data, currCb) : _utils.is.notUndef(data = _io.asEffect.fork(effect)) ? function(_ref4, effectId, cb) {
                var context = _ref4.context, fn = _ref4.fn, args = _ref4.args, result = void 0, error = void 0, _iterator = void 0;
                try {
                    result = fn.apply(context, args);
                } catch (err) {
                    error = error;
                }
                _iterator = _utils.is.iterator(result) ? result : (error ? regeneratorRuntime.mark(function _callee() {
                    return regeneratorRuntime.wrap(function(_context) {
                        for (;;) switch (_context.prev = _context.next) {
                          case 0:
                            throw error;

                          case 1:
                          case "end":
                            return _context.stop();
                        }
                    }, _callee, this);
                }) : regeneratorRuntime.mark(function _callee2() {
                    return regeneratorRuntime.wrap(function(_context2) {
                        for (;;) switch (_context2.prev = _context2.next) {
                          case 0:
                            return _context2.next = 2, result;

                          case 2:
                            return _context2.abrupt("return", _context2.sent);

                          case 3:
                          case "end":
                            return _context2.stop();
                        }
                    }, _callee2, this);
                }))();
                cb(null, proc(_iterator, subscribe, dispatch, getState, monitor, effectId, fn.name, !0));
            }(data, effectId, currCb) : _utils.is.notUndef(data = _io.asEffect.join(effect)) ? function(task, cb) {
                resolvePromise(task.done, cb);
            }(data, currCb) : _utils.is.notUndef(data = _io.asEffect.cancel(effect)) ? function(task, cb) {
                task.done[CANCEL](new _SagaCancellationException2.default(MANUAL_CANCEL, name, name)), 
                cb();
            }(data, currCb) : _utils.is.notUndef(data = _io.asEffect.select(effect)) ? function(_ref5, cb) {
                var selector = _ref5.selector, args = _ref5.args;
                try {
                    var state = selector.apply(void 0, [ getState() ].concat(function(arr) {
                        {
                            if (Array.isArray(arr)) {
                                for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];
                                return arr2;
                            }
                            return Array.from(arr);
                        }
                    }(args)));
                    cb(null, state);
                } catch (error) {
                    cb(error);
                }
            }(data, currCb) : currCb(null, effect);
        }
        function resolvePromise(promise, cb) {
            var cancelPromise = promise[CANCEL];
            "function" == typeof cancelPromise && (cb.cancel = cancelPromise), promise.then(function(result) {
                return cb(null, result);
            }, function(error) {
                return cb(error);
            });
        }
        function resolveIterator(iterator, effectId, name, cb) {
            resolvePromise(proc(iterator, subscribe, dispatch, getState, monitor, effectId, name).done, cb);
        }
    };
    var obj, _utils = __webpack_require__(21), _io = __webpack_require__(54), monitorActions = function(obj) {
        {
            if (obj && obj.__esModule) return obj;
            var newObj = {};
            if (null != obj) for (var key in obj) Object.prototype.hasOwnProperty.call(obj, key) && (newObj[key] = obj[key]);
            return newObj.default = obj, newObj;
        }
    }(__webpack_require__(88)), _SagaCancellationException = __webpack_require__(55), _SagaCancellationException2 = (obj = _SagaCancellationException) && obj.__esModule ? obj : {
        default: obj
    };
    function _toConsumableArray(arr) {
        if (Array.isArray(arr)) {
            for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
                arr2[i] = arr[i];
            }
            return arr2;
        } else {
            return Array.from(arr);
        }
    }
    function _defineProperty(obj, key, value) {
        return key in obj ? Object.defineProperty(obj, key, {
            value: value,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : obj[key] = value, obj;
    }
    var NOT_ITERATOR_ERROR = exports.NOT_ITERATOR_ERROR = "proc first argument (Saga function result) must be an iterator", undefindInputError = exports.undefindInputError = function(name) {
        return "\n  " + name + " saga was provided with an undefined input action\n  Hints :\n  - check that your Action Creator returns a non undefined value\n  - if the Saga was started using runSaga, check that your subscribe source provides the action to its listeners\n";
    }, CANCEL = exports.CANCEL = (0, _utils.sym)("@@redux-saga/cancelPromise"), PARALLEL_AUTO_CANCEL = exports.PARALLEL_AUTO_CANCEL = "PARALLEL_AUTO_CANCEL", RACE_AUTO_CANCEL = exports.RACE_AUTO_CANCEL = "RACE_AUTO_CANCEL", MANUAL_CANCEL = exports.MANUAL_CANCEL = "MANUAL_CANCEL", nextEffectId = (0, 
    _utils.autoInc)();
    function proc(iterator) {
        var subscribe = arguments.length <= 1 || arguments[1] === undefined ? function() {
            return _utils.noop;
        } : arguments[1];
        var dispatch = arguments.length <= 2 || arguments[2] === undefined ? _utils.noop : arguments[2];
        var getState = arguments.length <= 3 || arguments[3] === undefined ? _utils.noop : arguments[3];
        var monitor = arguments.length <= 4 || arguments[4] === undefined ? _utils.noop : arguments[4];
        var parentEffectId = arguments.length <= 5 || arguments[5] === undefined ? 0 : arguments[5];
        var name = arguments.length <= 6 || arguments[6] === undefined ? "anonymous" : arguments[6];
        var forked = arguments[7];
        (0, _utils.check)(iterator, _utils.is.iterator, NOT_ITERATOR_ERROR);
        var UNDEFINED_INPUT_ERROR = undefindInputError(name);
        var deferredInputs = [];
        var deferredEnd = (0, _utils.deferred)();
        var unsubscribe = subscribe(function(input) {
            if (input === undefined) throw UNDEFINED_INPUT_ERROR;
            for (var i = 0; i < deferredInputs.length; i++) {
                var def = deferredInputs[i];
                if (def.match(input)) {
                    deferredInputs = [];
                    def.resolve(input);
                }
            }
        });
        next.cancel = _utils.noop;
        var task = newTask(parentEffectId, name, iterator, deferredEnd.promise, forked);
        task.done[CANCEL] = function(_ref) {
            var type = _ref.type;
            var origin = _ref.origin;
            next.cancel(new _SagaCancellationException2.default(type, name, origin));
        };
        iterator._isRunning = true;
        next();
        return task;
        function logError(level, message, error) {
            if (typeof window === "undefined") {
                console.log("redux-saga " + level + ": " + message + "\n" + error.stack);
            } else {
                console[level].call(console, message, error);
            }
        }
        function next(error, arg) {
            if (!iterator._isRunning) throw new Error("Trying to resume an already finished generator");
            try {
                var result = error ? iterator.throw(error) : iterator.next(arg);
                if (!result.done) {
                    runEffect(result.value, parentEffectId, "", next);
                } else {
                    end(result.value);
                }
            } catch (error) {
                end(error, true);
                if (error instanceof _SagaCancellationException2.default) {
                    if (_utils.isDev) {
                        logError("warn", name + ": uncaught", error);
                    }
                } else {
                    logError("error", name + ": uncaught", error);
                }
            }
        }
        function end(result, isError) {
            iterator._isRunning = false;
            if (!isError) {
                iterator._result = result;
                deferredEnd.resolve(result);
            } else {
                iterator._error = result;
                deferredEnd.reject(result);
            }
            unsubscribe();
        }
        function runEffect(effect, parentEffectId) {
            var label = arguments.length <= 2 || arguments[2] === undefined ? "" : arguments[2];
            var cb = arguments[3];
            var effectId = nextEffectId();
            monitor(monitorActions.effectTriggered(effectId, parentEffectId, label, effect));
            var effectSettled = undefined;
            function currCb(err, res) {
                if (effectSettled) return;
                effectSettled = true;
                cb.cancel = _utils.noop;
                err ? monitor(monitorActions.effectRejected(effectId, err)) : monitor(monitorActions.effectResolved(effectId, res));
                cb(err, res);
            }
            currCb.cancel = _utils.noop;
            cb.cancel = function(cancelError) {
                if (effectSettled) return;
                effectSettled = true;
                try {
                    currCb.cancel(cancelError);
                } catch (err) {
                    void 0;
                }
                currCb.cancel = _utils.noop;
                cb(cancelError);
                monitor(monitorActions.effectRejected(effectId, cancelError));
            };
            var data = undefined;
            return _utils.is.promise(effect) ? resolvePromise(effect, currCb) : _utils.is.iterator(effect) ? resolveIterator(effect, effectId, name, currCb) : _utils.is.array(effect) ? runParallelEffect(effect, effectId, currCb) : _utils.is.notUndef(data = _io.asEffect.take(effect)) ? runTakeEffect(data, currCb) : _utils.is.notUndef(data = _io.asEffect.put(effect)) ? runPutEffect(data, currCb) : _utils.is.notUndef(data = _io.asEffect.race(effect)) ? runRaceEffect(data, effectId, currCb) : _utils.is.notUndef(data = _io.asEffect.call(effect)) ? runCallEffect(data, effectId, currCb) : _utils.is.notUndef(data = _io.asEffect.cps(effect)) ? runCPSEffect(data, currCb) : _utils.is.notUndef(data = _io.asEffect.fork(effect)) ? runForkEffect(data, effectId, currCb) : _utils.is.notUndef(data = _io.asEffect.join(effect)) ? runJoinEffect(data, currCb) : _utils.is.notUndef(data = _io.asEffect.cancel(effect)) ? runCancelEffect(data, currCb) : _utils.is.notUndef(data = _io.asEffect.select(effect)) ? runSelectEffect(data, currCb) : currCb(null, effect);
        }
        function resolvePromise(promise, cb) {
            var cancelPromise = promise[CANCEL];
            if (typeof cancelPromise === "function") {
                cb.cancel = cancelPromise;
            }
            promise.then(function(result) {
                return cb(null, result);
            }, function(error) {
                return cb(error);
            });
        }
        function resolveIterator(iterator, effectId, name, cb) {
            resolvePromise(proc(iterator, subscribe, dispatch, getState, monitor, effectId, name).done, cb);
        }
        function runTakeEffect(pattern, cb) {
            var def = {
                match: (0, _io.matcher)(pattern),
                pattern: pattern,
                resolve: function resolve(input) {
                    return cb(null, input);
                }
            };
            deferredInputs.push(def), cb.cancel = function() {
                return (0, _utils.remove)(deferredInputs, def);
            };
        }
        function runPutEffect(action, cb) {
            (0, _utils.asap)(function() {
                return cb(null, dispatch(action));
            });
        }
        function runCallEffect(_ref2, effectId, cb) {
            var context = _ref2.context, fn = _ref2.fn, args = _ref2.args, result = undefined;
            try {
                result = fn.apply(context, args);
            } catch (error) {
                return cb(error);
            }
            return _utils.is.promise(result) ? resolvePromise(result, cb) : _utils.is.iterator(result) ? resolveIterator(result, effectId, fn.name, cb) : cb(null, result);
        }
        function runCPSEffect(_ref3, cb) {
            var context = _ref3.context, fn = _ref3.fn, args = _ref3.args;
            try {
                fn.apply(context, args.concat(cb));
            } catch (error) {
                return cb(error);
            }
        }
        function runForkEffect(_ref4, effectId, cb) {
            var context = _ref4.context, fn = _ref4.fn, args = _ref4.args, result = undefined, error = undefined, _iterator = undefined;
            try {
                result = fn.apply(context, args);
            } catch (err) {
                error = error;
            }
            if (_utils.is.iterator(result)) {
                _iterator = result;
            } else {
                _iterator = (error ? regeneratorRuntime.mark(function _callee() {
                    return regeneratorRuntime.wrap(function _callee$(_context) {
                        while (1) {
                            switch (_context.prev = _context.next) {
                              case 0:
                                throw error;

                              case 1:
                              case "end":
                                return _context.stop();
                            }
                        }
                    }, _callee, this);
                }) : regeneratorRuntime.mark(function _callee2() {
                    return regeneratorRuntime.wrap(function _callee2$(_context2) {
                        while (1) {
                            switch (_context2.prev = _context2.next) {
                              case 0:
                                _context2.next = 2;
                                return result;

                              case 2:
                                return _context2.abrupt("return", _context2.sent);

                              case 3:
                              case "end":
                                return _context2.stop();
                            }
                        }
                    }, _callee2, this);
                }))();
            }
            cb(null, proc(_iterator, subscribe, dispatch, getState, monitor, effectId, fn.name, true));
        }
        function runJoinEffect(task, cb) {
            resolvePromise(task.done, cb);
        }
        function runCancelEffect(task, cb) {
            task.done[CANCEL](new _SagaCancellationException2.default(MANUAL_CANCEL, name, name)), 
            cb();
        }
        function runParallelEffect(effects, effectId, cb) {
            if (!effects.length) {
                cb(null, []);
                return;
            }
            var completedCount = 0, completed = undefined, results = Array(effects.length);
            function checkEffectEnd() {
                if (completedCount === results.length) {
                    completed = true;
                    cb(null, results);
                }
            }
            var childCbs = effects.map(function(eff, idx) {
                var chCbAtIdx = function chCbAtIdx(err, res) {
                    if (completed) return;
                    if (err) {
                        try {
                            cb.cancel(new _SagaCancellationException2.default(PARALLEL_AUTO_CANCEL, name, name));
                        } catch (err) {
                            void 0;
                        }
                        cb(err);
                    } else {
                        results[idx] = res;
                        completedCount++;
                        checkEffectEnd();
                    }
                };
                chCbAtIdx.cancel = _utils.noop;
                return chCbAtIdx;
            });
            cb.cancel = function(cancelError) {
                if (!completed) {
                    completed = true;
                    childCbs.forEach(function(chCb) {
                        return chCb.cancel(cancelError);
                    });
                }
            }, effects.forEach(function(eff, idx) {
                return runEffect(eff, effectId, idx, childCbs[idx]);
            });
        }
        function runRaceEffect(effects, effectId, cb) {
            var completed = undefined, keys = Object.keys(effects), childCbs = {};
            keys.forEach(function(key) {
                var chCbAtKey = function chCbAtKey(err, res) {
                    if (completed) return;
                    if (err) {
                        try {
                            cb.cancel(new _SagaCancellationException2.default(RACE_AUTO_CANCEL, name, name));
                        } catch (err) {
                            void 0;
                        }
                        cb(_defineProperty({}, key, err));
                    } else {
                        try {
                            cb.cancel(new _SagaCancellationException2.default(RACE_AUTO_CANCEL, name, name));
                        } catch (err) {
                            void 0;
                        }
                        completed = true;
                        cb(null, _defineProperty({}, key, res));
                    }
                };
                chCbAtKey.cancel = _utils.noop;
                childCbs[key] = chCbAtKey;
            }), cb.cancel = function(cancelError) {
                if (!completed) {
                    completed = true;
                    keys.forEach(function(key) {
                        return childCbs[key].cancel(cancelError);
                    });
                }
            }, keys.forEach(function(key) {
                return runEffect(effects[key], effectId, key, childCbs[key]);
            });
        }
        function runSelectEffect(_ref5, cb) {
            var selector = _ref5.selector, args = _ref5.args;
            try {
                var state = selector.apply(undefined, [ getState() ].concat(_toConsumableArray(args)));
                cb(null, state);
            } catch (error) {
                cb(error);
            }
        }
        function newTask(id, name, iterator, done, forked) {
            var _ref6;
            return _defineProperty(_ref6 = {}, _utils.TASK, true), _defineProperty(_ref6, "id", id), 
            _defineProperty(_ref6, "name", name), _defineProperty(_ref6, "done", done), _defineProperty(_ref6, "forked", forked), 
            _defineProperty(_ref6, "cancel", function cancel(error) {
                if (!(error instanceof _SagaCancellationException2.default)) {
                    error = new _SagaCancellationException2.default(MANUAL_CANCEL, name, error);
                }
                done[CANCEL](error);
            }), _defineProperty(_ref6, "isRunning", function isRunning() {
                return iterator._isRunning;
            }), _defineProperty(_ref6, "result", function result() {
                return iterator._result;
            }), _defineProperty(_ref6, "error", function error() {
                return iterator._error;
            }), _ref6;
        }
    }
}, function(module, exports, __webpack_require__) {
    "use strict";
    function _defineProperty(obj, key, value) {
        return key in obj ? Object.defineProperty(obj, key, {
            value: value,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : obj[key] = value, obj;
    }
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.effectTriggered = function(effectId, parentEffectId, label, effect) {
        var _ref;
        return _defineProperty(_ref = {}, MONITOR_ACTION, !0), _defineProperty(_ref, "type", EFFECT_TRIGGERED), 
        _defineProperty(_ref, "effectId", effectId), _defineProperty(_ref, "parentEffectId", parentEffectId), 
        _defineProperty(_ref, "label", label), _defineProperty(_ref, "effect", effect), 
        _ref;
    }, exports.effectResolved = function(effectId, result) {
        var _ref2;
        return _defineProperty(_ref2 = {}, MONITOR_ACTION, !0), _defineProperty(_ref2, "type", EFFECT_RESOLVED), 
        _defineProperty(_ref2, "effectId", effectId), _defineProperty(_ref2, "result", result), 
        _ref2;
    }, exports.effectRejected = function(effectId, error) {
        var _ref3;
        return _defineProperty(_ref3 = {}, MONITOR_ACTION, !0), _defineProperty(_ref3, "type", EFFECT_REJECTED), 
        _defineProperty(_ref3, "effectId", effectId), _defineProperty(_ref3, "error", error), 
        _ref3;
    };
    var MONITOR_ACTION = exports.MONITOR_ACTION = "MONITOR_ACTION", EFFECT_TRIGGERED = exports.EFFECT_TRIGGERED = "EFFECT_TRIGGERED", EFFECT_RESOLVED = exports.EFFECT_RESOLVED = "EFFECT_RESOLVED", EFFECT_REJECTED = exports.EFFECT_REJECTED = "EFFECT_REJECTED";
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.t = {
        SETTINGS_INITIAL: "settings/SETTINGS_INITIAL",
        TOGGLE_DEFS: "settings/TOGGLE_DEFS",
        TOGGLE_SITE: "settings/TOGGLE_SITE",
        TOGGLE_FIELD: "settings/TOGGLE_FIELD",
        DISABLE_ON_TAB: "settings/DISABLE_ON_TAB",
        DISABLE_REMINDER_NOTIFICATION: "settings/DISABLE_REMINDER_NOTIFICATION",
        SHOW_DISABLE_REMINDER: "settings/SHOW_DISABLE_REMINDER",
        DISABLE_EMAIL_SUMMARIZATION: "settings/DISABLE_EMAIL_SUMMARIZATION",
        SHOW_NEWS: "settings/SHOW_NEWS",
        SEEN_NEWS: "settings/SEEN_NEWS",
        SEEN_GDOCS_OPT_IN: "settings/SEEN_GDOCS_OPT_IN",
        SEEN_GDOCS_LARGE_DOCUMENT_WARNING: "settings/SEEN_GDOCS_LARGE_DOCUMENT_WARNING",
        SET_GDOCS_INITIAL_DISABLE: "setting/SET_GDOCS_INITIAL_DISABLE",
        SHOW_ONBOARDING: "settings/SHOW_ONBOARDING",
        SEEN_ONBOARDING: "settings/SEEN_ONBOARDING",
        SHOW_LOGIN_REMINDER: "settings/SHOW_LOGIN_REMINDER",
        HIDE_LOGIN_REMINDER: "settings/HIDE_LOGIN_REMINDER",
        DISABLE_LOGIN_REMINDER: "settings/DISABLE_LOGIN_REMINDER",
        SET_DAPI_PROP: "settings/SET_DAPI_PROP",
        CHANGE_WEAK_DIALECT: "settings/CHANGE_WEAK_DIALECT",
        CHANGE_STRONG_DIALECT: "settings/CHANGE_STRONG_DIALECT",
        SAVE_ANONYMOUS_PROPERTIES: "settings/SAVE_ANONYMOUS_PROPERTIES",
        EDGE_POPUP_FROM_GBUTTON: "settings/EDGE_POPUP_FROM_GBUTTON",
        SAVE_EMAIL_CONNECTEDNESS_DATA: "settings/SAVE_EMAIL_CONNECTEDNESS_DATA"
    }, exports.DAPI_ACTIONS = [ exports.t.CHANGE_WEAK_DIALECT, exports.t.CHANGE_STRONG_DIALECT ], 
    exports.CACHED_ACTIONS = [ exports.t.TOGGLE_DEFS, exports.t.TOGGLE_SITE, exports.t.TOGGLE_FIELD, exports.t.SEEN_NEWS, exports.t.SEEN_GDOCS_OPT_IN, exports.t.SEEN_GDOCS_LARGE_DOCUMENT_WARNING, exports.t.SET_GDOCS_INITIAL_DISABLE, exports.t.SHOW_ONBOARDING, exports.t.SEEN_ONBOARDING, exports.t.SHOW_LOGIN_REMINDER, exports.t.HIDE_LOGIN_REMINDER, exports.t.DISABLE_LOGIN_REMINDER, exports.t.SHOW_DISABLE_REMINDER, exports.t.DISABLE_REMINDER_NOTIFICATION, exports.t.DISABLE_EMAIL_SUMMARIZATION, exports.t.EDGE_POPUP_FROM_GBUTTON ], 
    exports.setDapiProp = function(propKey, data) {
        return {
            type: exports.t.SET_DAPI_PROP,
            propKey: propKey,
            data: data
        };
    }, exports.changeWeakDialect = function(data) {
        return {
            type: exports.t.CHANGE_WEAK_DIALECT,
            data: data
        };
    }, exports.changeStrongDialect = function(data) {
        return {
            type: exports.t.CHANGE_STRONG_DIALECT,
            data: data
        };
    }, exports.initialSettings = function(data) {
        return {
            type: exports.t.SETTINGS_INITIAL,
            data: data
        };
    }, exports.toggleDefs = function(enabledDefs) {
        return {
            type: exports.t.TOGGLE_DEFS,
            enabledDefs: enabledDefs
        };
    }, exports.toggleSite = function(enabled, domain) {
        return {
            type: exports.t.TOGGLE_SITE,
            domain: domain,
            enabled: enabled
        };
    }, exports.toggleField = function(data, domain) {
        return {
            type: exports.t.TOGGLE_FIELD,
            domain: domain,
            data: data
        };
    }, exports.seenNews = function() {
        return {
            type: exports.t.SEEN_NEWS
        };
    }, exports.gdocsDisabledInitially = function() {
        return {
            type: exports.t.SET_GDOCS_INITIAL_DISABLE
        };
    }, exports.seenGdocsOptIn = function() {
        return {
            type: exports.t.SEEN_GDOCS_OPT_IN
        };
    }, exports.seenGdocsLargeDocumentWarning = function() {
        return {
            type: exports.t.SEEN_GDOCS_LARGE_DOCUMENT_WARNING
        };
    }, exports.showOnboarding = function() {
        return {
            type: exports.t.SHOW_ONBOARDING
        };
    }, exports.seenOnboarding = function() {
        return {
            type: exports.t.SEEN_ONBOARDING
        };
    }, exports.showNews = function(showNews) {
        return {
            type: exports.t.SHOW_NEWS,
            showNews: showNews
        };
    }, exports.saveAnonymousProps = function(props) {
        return {
            type: exports.t.SAVE_ANONYMOUS_PROPERTIES,
            props: props
        };
    }, exports.disableOnTab = function() {
        return {
            type: exports.t.DISABLE_ON_TAB
        };
    }, exports.showDisableReminder = function(domain) {
        return {
            type: exports.t.SHOW_DISABLE_REMINDER,
            domain: domain
        };
    }, exports.disableReminder = function(domain) {
        return {
            type: exports.t.DISABLE_REMINDER_NOTIFICATION,
            domain: domain
        };
    }, exports.showEdgePopupFromGButton = function() {
        return {
            type: exports.t.EDGE_POPUP_FROM_GBUTTON
        };
    }, exports.showLoginReminder = function(loginReminderType) {
        return {
            type: exports.t.SHOW_LOGIN_REMINDER,
            loginReminderType: loginReminderType
        };
    }, exports.hideLoginReminder = function() {
        return {
            type: exports.t.HIDE_LOGIN_REMINDER
        };
    }, exports.disableLoginReminder = function() {
        return {
            type: exports.t.DISABLE_LOGIN_REMINDER
        };
    }, exports.disableEmailSummarization = function() {
        return {
            type: exports.t.DISABLE_EMAIL_SUMMARIZATION
        };
    }, exports.saveEmailConnectednessData = function(emailConnectednessData) {
        return {
            type: exports.t.SAVE_EMAIL_CONNECTEDNESS_DATA,
            emailConnectednessData: emailConnectednessData
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var newConfig_1 = __webpack_require__(25), util_1 = __webpack_require__(2);
    function getUTMQueryParam(name, value) {
        return name + "=" + encodeURIComponent(value);
    }
    function getUTMQuery(type, place) {
        return getUTMQueryParam("utm_medium", "internal") + "&" + getUTMQueryParam("utm_source", type) + "&" + getUTMQueryParam("utm_campaign", place);
    }
    function getSocialUTMQuery(type) {
        return getUTMQueryParam("utm_medium", "internal") + "&" + getUTMQueryParam("utm_source", type);
    }
    exports.getSignUpURL = function(type, place) {
        return newConfig_1.URLS.signup + "?" + getUTMQuery(type, place);
    }, exports.getSignInURL = function() {
        return newConfig_1.URLS.signin + "?" + getSocialUTMQuery("signinHook");
    }, exports.getFbSigninURL = function() {
        return newConfig_1.URLS.fbSignin + "&" + getSocialUTMQuery("signinHook");
    }, exports.getGoogleSigninURL = function() {
        return newConfig_1.URLS.googleSignin + "&" + getSocialUTMQuery("signinHook");
    }, exports.getFbSignupURL = function(type) {
        return newConfig_1.URLS.fbSignup + "&" + getSocialUTMQuery(type);
    }, exports.getGoogleSignupURL = function(type) {
        return newConfig_1.URLS.googleSignup + "&" + getSocialUTMQuery(type);
    }, exports.getResetPasswordURL = function() {
        return newConfig_1.URLS.resetPassword + "?" + getUTMQueryParam("utm_medium", "internal");
    }, exports.getTermsURL = function() {
        return newConfig_1.URLS.terms + "?" + getUTMQueryParam("utm_medium", "internal");
    }, exports.getPrivatePolicyURL = function() {
        return newConfig_1.URLS.policy + "?" + getUTMQueryParam("utm_medium", "internal");
    }, exports.getUpgradeURL = function(type, place) {
        return newConfig_1.URLS.upgrade + "?" + getUTMQuery(type, place);
    }, exports.getExtensionSuccessURL = function(hasFunnelRedirectCookie) {
        var browser = util_1.getBrowser(), utmMediumVal = hasFunnelRedirectCookie ? "navigation" : "store";
        return newConfig_1.URLS.welcomeC + "?" + getUTMQueryParam("utm_medium", utmMediumVal) + "&" + getUTMQueryParam("utm_source", browser);
    }, exports.getAfterInstallURL = function(isFunnel) {
        var browser = util_1.getBrowser(), url = newConfig_1.URLS.afterInstall + "/?extension_install=true", utmMediumVal = isFunnel ? "navigation" : "store", utmSourceParam = isFunnel ? "" : "&" + getUTMQueryParam("utm_source", browser);
        return url + "&" + getUTMQueryParam("utm_medium", utmMediumVal) + utmSourceParam;
    }, exports.getUninstallURL = function(domain) {
        var queryParams = getUTMQueryParam("utm_medium", "internal") + "&" + getUTMQueryParam("utm_campaign", "extensionUninstall");
        return domain ? newConfig_1.URLS.uninstall + "?domain=" + encodeURI(domain) + "&" + queryParams : newConfig_1.URLS.uninstall + "?" + queryParams;
    }, exports.addParamsToUpgradeURL = function(url, type, place) {
        return url + "&" + getUTMQuery(type, place);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var index_1 = __webpack_require__(513);
    exports.Lens = index_1.Lens, exports.Prism = index_1.Prism, exports.Optic = index_1.Optic;
    var index_2 = __webpack_require__(754);
    exports.Atom = index_2.Atom;
    var utils_1 = __webpack_require__(205);
    exports.Option = utils_1.Option;
    var react_1 = __webpack_require__(1011);
    exports.bind = react_1.bind, exports.lift = react_1.lift, exports.reactiveList = react_1.reactiveList, 
    exports.classes = react_1.classes, exports.bindElementProps = react_1.bindElementProps, 
    exports.F = react_1.F;
}, function(module, exports) {
    module.exports = function(array, iteratee) {
        for (var index = -1, length = null == array ? 0 : array.length; ++index < length && !1 !== iteratee(array[index], index, array); ) ;
        return array;
    };
}, function(module, exports, __webpack_require__) {
    var castPath = __webpack_require__(83), toKey = __webpack_require__(42);
    module.exports = function(object, path) {
        for (var index = 0, length = (path = castPath(path, object)).length; null != object && index < length; ) object = object[toKey(path[index++])];
        return index && index == length ? object : void 0;
    };
}, function(module, exports, __webpack_require__) {
    var identity = __webpack_require__(52), overRest = __webpack_require__(190), setToString = __webpack_require__(192);
    module.exports = function(func, start) {
        return setToString(overRest(func, start, identity), func + "");
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    exports.isArray = Array.isArray || function(x) {
        return x && "number" == typeof x.length;
    };
}, function(module, exports, __webpack_require__) {
    module.exports = __webpack_require__(289);
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var performanceMetrics_1 = __webpack_require__(180);
    exports.PerformanceMetrics = performanceMetrics_1.PerformanceMetrics;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.t = {
        UPDATE_CONNECTION: "connection/UPDATE_CONNECTION",
        ONLINE_STATE: "connection/ONLINE_STATE"
    }, exports.updateConnection = function(data) {
        return {
            type: exports.t.UPDATE_CONNECTION,
            data: data
        };
    }, exports.onlineConnection = function(online) {
        return {
            type: exports.t.ONLINE_STATE,
            online: online
        };
    };
}, function(module, exports, __webpack_require__) {
    module.exports = __webpack_require__(149);
}, function(module, exports, __webpack_require__) {
    var __WEBPACK_AMD_DEFINE_RESULT__;
    !function(factory) {
        "use strict";
        var root = "undefined" == typeof window ? null : window;
        void 0 === (__WEBPACK_AMD_DEFINE_RESULT__ = function() {
            return factory(root);
        }.call(exports, __webpack_require__, exports, module)) || (module.exports = __WEBPACK_AMD_DEFINE_RESULT__);
    }(function factory(window) {
        "use strict";
        var DOMPurify = function(window) {
            return factory(window);
        };
        if (DOMPurify.version = "0.9.0", DOMPurify.removed = [], !window || !window.document || 9 !== window.document.nodeType) return DOMPurify.isSupported = !1, 
        DOMPurify;
        var document = window.document, originalDocument = document, DocumentFragment = window.DocumentFragment, HTMLTemplateElement = window.HTMLTemplateElement, Node = window.Node, NodeFilter = window.NodeFilter, NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap, Text = window.Text, Comment = window.Comment, DOMParser = window.DOMParser, XMLHttpRequest = window.XMLHttpRequest, encodeURI = window.encodeURI, useXHR = !1, useDOMParser = !1;
        if ("function" == typeof HTMLTemplateElement) {
            var template = document.createElement("template");
            template.content && template.content.ownerDocument && (document = template.content.ownerDocument);
        }
        var implementation = document.implementation, createNodeIterator = document.createNodeIterator, getElementsByTagName = document.getElementsByTagName, createDocumentFragment = document.createDocumentFragment, importNode = originalDocument.importNode, hooks = {};
        DOMPurify.isSupported = void 0 !== implementation.createHTMLDocument && 9 !== document.documentMode;
        var _addToSet = function(set, array) {
            for (var l = array.length; l--; ) "string" == typeof array[l] && (array[l] = array[l].toLowerCase()), 
            set[array[l]] = !0;
            return set;
        }, _cloneObj = function(object) {
            var property, newObject = {};
            for (property in object) object.hasOwnProperty(property) && (newObject[property] = object[property]);
            return newObject;
        }, ALLOWED_TAGS = null, DEFAULT_ALLOWED_TAGS = _addToSet({}, [ "a", "abbr", "acronym", "address", "area", "article", "aside", "audio", "b", "bdi", "bdo", "big", "blink", "blockquote", "body", "br", "button", "canvas", "caption", "center", "cite", "code", "col", "colgroup", "content", "data", "datalist", "dd", "decorator", "del", "details", "dfn", "dir", "div", "dl", "dt", "element", "em", "fieldset", "figcaption", "figure", "font", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "img", "input", "ins", "kbd", "label", "legend", "li", "main", "map", "mark", "marquee", "menu", "menuitem", "meter", "nav", "nobr", "ol", "optgroup", "option", "output", "p", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "section", "select", "shadow", "small", "source", "spacer", "span", "strike", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "tt", "u", "ul", "var", "video", "wbr", "svg", "altglyph", "altglyphdef", "altglyphitem", "animatecolor", "animatemotion", "animatetransform", "circle", "clippath", "defs", "desc", "ellipse", "filter", "font", "g", "glyph", "glyphref", "hkern", "image", "line", "lineargradient", "marker", "mask", "metadata", "mpath", "path", "pattern", "polygon", "polyline", "radialgradient", "rect", "stop", "switch", "symbol", "text", "textpath", "title", "tref", "tspan", "view", "vkern", "feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feMerge", "feMergeNode", "feMorphology", "feOffset", "feSpecularLighting", "feTile", "feTurbulence", "math", "menclose", "merror", "mfenced", "mfrac", "mglyph", "mi", "mlabeledtr", "mmuliscripts", "mn", "mo", "mover", "mpadded", "mphantom", "mroot", "mrow", "ms", "mpspace", "msqrt", "mystyle", "msub", "msup", "msubsup", "mtable", "mtd", "mtext", "mtr", "munder", "munderover", "#text" ]), ALLOWED_ATTR = null, DEFAULT_ALLOWED_ATTR = _addToSet({}, [ "accept", "action", "align", "alt", "autocomplete", "background", "bgcolor", "border", "cellpadding", "cellspacing", "checked", "cite", "class", "clear", "color", "cols", "colspan", "coords", "datetime", "default", "dir", "disabled", "download", "enctype", "face", "for", "headers", "height", "hidden", "high", "href", "hreflang", "id", "ismap", "label", "lang", "list", "loop", "low", "max", "maxlength", "media", "method", "min", "multiple", "name", "noshade", "novalidate", "nowrap", "open", "optimum", "pattern", "placeholder", "poster", "preload", "pubdate", "radiogroup", "readonly", "rel", "required", "rev", "reversed", "role", "rows", "rowspan", "spellcheck", "scope", "selected", "shape", "size", "span", "srclang", "start", "src", "step", "style", "summary", "tabindex", "title", "type", "usemap", "valign", "value", "width", "xmlns", "accent-height", "accumulate", "additivive", "alignment-baseline", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "clip", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "fill", "fill-opacity", "fill-rule", "filter", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "image-rendering", "in", "in2", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "mode", "min", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "specularconstant", "specularexponent", "spreadmethod", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "surfacescale", "targetx", "targety", "transform", "text-anchor", "text-decoration", "text-rendering", "textlength", "u1", "u2", "unicode", "values", "viewbox", "visibility", "vert-adv-y", "vert-origin-x", "vert-origin-y", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "y", "y1", "y2", "z", "zoomandpan", "accent", "accentunder", "bevelled", "close", "columnsalign", "columnlines", "columnspan", "denomalign", "depth", "display", "displaystyle", "fence", "frame", "largeop", "length", "linethickness", "lspace", "lquote", "mathbackground", "mathcolor", "mathsize", "mathvariant", "maxsize", "minsize", "movablelimits", "notation", "numalign", "open", "rowalign", "rowlines", "rowspacing", "rowspan", "rspace", "rquote", "scriptlevel", "scriptminsize", "scriptsizemultiplier", "selection", "separator", "separators", "stretchy", "subscriptshift", "supscriptshift", "symmetric", "voffset", "xlink:href", "xml:id", "xlink:title", "xml:space", "xmlns:xlink" ]), FORBID_TAGS = null, FORBID_ATTR = null, ALLOW_ARIA_ATTR = !0, ALLOW_DATA_ATTR = !0, ALLOW_UNKNOWN_PROTOCOLS = !1, SAFE_FOR_JQUERY = !1, SAFE_FOR_TEMPLATES = !1, MUSTACHE_EXPR = /\{\{[\s\S]*|[\s\S]*\}\}/gm, ERB_EXPR = /<%[\s\S]*|[\s\S]*%>/gm, WHOLE_DOCUMENT = !1, SET_CONFIG = !1, FORCE_BODY = !1, RETURN_DOM = !1, RETURN_DOM_FRAGMENT = !1, RETURN_DOM_IMPORT = !1, SANITIZE_DOM = !0, KEEP_CONTENT = !0, FORBID_CONTENTS = _addToSet({}, [ "audio", "head", "math", "script", "style", "template", "svg", "video" ]), DATA_URI_TAGS = _addToSet({}, [ "audio", "video", "img", "source", "image" ]), URI_SAFE_ATTRIBUTES = _addToSet({}, [ "alt", "class", "for", "id", "label", "name", "pattern", "placeholder", "summary", "title", "value", "style", "xmlns" ]), CONFIG = null, formElement = document.createElement("form"), _parseConfig = function(cfg) {
            "object" != typeof cfg && (cfg = {}), ALLOWED_TAGS = "ALLOWED_TAGS" in cfg ? _addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS, 
            ALLOWED_ATTR = "ALLOWED_ATTR" in cfg ? _addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR, 
            FORBID_TAGS = "FORBID_TAGS" in cfg ? _addToSet({}, cfg.FORBID_TAGS) : {}, FORBID_ATTR = "FORBID_ATTR" in cfg ? _addToSet({}, cfg.FORBID_ATTR) : {}, 
            ALLOW_ARIA_ATTR = !1 !== cfg.ALLOW_ARIA_ATTR, ALLOW_DATA_ATTR = !1 !== cfg.ALLOW_DATA_ATTR, 
            ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || !1, SAFE_FOR_JQUERY = cfg.SAFE_FOR_JQUERY || !1, 
            SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || !1, WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || !1, 
            RETURN_DOM = cfg.RETURN_DOM || !1, RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || !1, 
            RETURN_DOM_IMPORT = cfg.RETURN_DOM_IMPORT || !1, FORCE_BODY = cfg.FORCE_BODY || !1, 
            SANITIZE_DOM = !1 !== cfg.SANITIZE_DOM, KEEP_CONTENT = !1 !== cfg.KEEP_CONTENT, 
            SAFE_FOR_TEMPLATES && (ALLOW_DATA_ATTR = !1), RETURN_DOM_FRAGMENT && (RETURN_DOM = !0), 
            cfg.ADD_TAGS && (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS && (ALLOWED_TAGS = _cloneObj(ALLOWED_TAGS)), 
            _addToSet(ALLOWED_TAGS, cfg.ADD_TAGS)), cfg.ADD_ATTR && (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR && (ALLOWED_ATTR = _cloneObj(ALLOWED_ATTR)), 
            _addToSet(ALLOWED_ATTR, cfg.ADD_ATTR)), cfg.ADD_URI_SAFE_ATTR && _addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR), 
            KEEP_CONTENT && (ALLOWED_TAGS["#text"] = !0), Object && "freeze" in Object && Object.freeze(cfg), 
            CONFIG = cfg;
        }, _forceRemove = function(node) {
            DOMPurify.removed.push({
                element: node
            });
            try {
                node.parentNode.removeChild(node);
            } catch (e) {
                node.outerHTML = "";
            }
        }, _removeAttribute = function(name, node) {
            DOMPurify.removed.push({
                attribute: node.getAttributeNode(name),
                from: node
            }), node.removeAttribute(name);
        }, _initDocument = function(dirty) {
            var doc, body;
            if (FORCE_BODY && (dirty = "<remove></remove>" + dirty), useXHR) {
                try {
                    dirty = encodeURI(dirty);
                } catch (e) {}
                var xhr = new XMLHttpRequest();
                xhr.responseType = "document", xhr.open("GET", "data:text/html;charset=utf-8," + dirty, !1), 
                xhr.send(null), doc = xhr.response;
            }
            if (useDOMParser) try {
                doc = new DOMParser().parseFromString(dirty, "text/html");
            } catch (e) {}
            return doc && doc.documentElement || ((body = (doc = implementation.createHTMLDocument("")).body).parentNode.removeChild(body.parentNode.firstElementChild), 
            body.outerHTML = dirty), getElementsByTagName.call(doc, WHOLE_DOCUMENT ? "html" : "body")[0];
        };
        DOMPurify.isSupported && (_initDocument('<svg><g onload="this.parentNode.remove()"></g></svg>').querySelector("svg") || (useXHR = !0), 
        _initDocument('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">').querySelector("svg img") && (useDOMParser = !0));
        var _createIterator = function(root) {
            return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, function() {
                return NodeFilter.FILTER_ACCEPT;
            }, !1);
        }, _isNode = function(obj) {
            return "object" == typeof Node ? obj instanceof Node : obj && "object" == typeof obj && "number" == typeof obj.nodeType && "string" == typeof obj.nodeName;
        }, _sanitizeElements = function(currentNode) {
            var tagName, content, elm;
            if (_executeHook("beforeSanitizeElements", currentNode, null), !((elm = currentNode) instanceof Text || elm instanceof Comment || "string" == typeof elm.nodeName && "string" == typeof elm.textContent && "function" == typeof elm.removeChild && elm.attributes instanceof NamedNodeMap && "function" == typeof elm.removeAttribute && "function" == typeof elm.setAttribute)) return _forceRemove(currentNode), 
            !0;
            if (tagName = currentNode.nodeName.toLowerCase(), _executeHook("uponSanitizeElement", currentNode, {
                tagName: tagName,
                allowedTags: ALLOWED_TAGS
            }), !ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {
                if (KEEP_CONTENT && !FORBID_CONTENTS[tagName] && "function" == typeof currentNode.insertAdjacentHTML) try {
                    currentNode.insertAdjacentHTML("AfterEnd", currentNode.innerHTML);
                } catch (e) {}
                return _forceRemove(currentNode), !0;
            }
            return !SAFE_FOR_JQUERY || currentNode.firstElementChild || currentNode.content && currentNode.content.firstElementChild || !/</g.test(currentNode.textContent) || (DOMPurify.removed.push({
                element: currentNode.cloneNode()
            }), currentNode.innerHTML = currentNode.textContent.replace(/</g, "&lt;")), SAFE_FOR_TEMPLATES && 3 === currentNode.nodeType && (content = (content = (content = currentNode.textContent).replace(MUSTACHE_EXPR, " ")).replace(ERB_EXPR, " "), 
            currentNode.textContent !== content && (DOMPurify.removed.push({
                element: currentNode.cloneNode()
            }), currentNode.textContent = content)), _executeHook("afterSanitizeElements", currentNode, null), 
            !1;
        }, DATA_ATTR = /^data-[\-\w.\u00B7-\uFFFF]/, ARIA_ATTR = /^aria-[\-\w]+$/, IS_ALLOWED_URI = /^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i, IS_SCRIPT_OR_DATA = /^(?:\w+script|data):/i, ATTR_WHITESPACE = /[\x00-\x20\xA0\u1680\u180E\u2000-\u2029\u205f\u3000]/g, _sanitizeAttributes = function(currentNode) {
            var attr, name, value, lcName, idAttr, attributes, hookEvent, l;
            if (_executeHook("beforeSanitizeAttributes", currentNode, null), attributes = currentNode.attributes) {
                for (hookEvent = {
                    attrName: "",
                    attrValue: "",
                    keepAttr: !0,
                    allowedAttributes: ALLOWED_ATTR
                }, l = attributes.length; l--; ) {
                    if (name = (attr = attributes[l]).name, value = attr.value.trim(), lcName = name.toLowerCase(), 
                    hookEvent.attrName = lcName, hookEvent.attrValue = value, hookEvent.keepAttr = !0, 
                    _executeHook("uponSanitizeAttribute", currentNode, hookEvent), value = hookEvent.attrValue, 
                    "name" === lcName && "IMG" === currentNode.nodeName && attributes.id) idAttr = attributes.id, 
                    attributes = Array.prototype.slice.apply(attributes), _removeAttribute("id", currentNode), 
                    _removeAttribute(name, currentNode), attributes.indexOf(idAttr) > l && currentNode.setAttribute("id", idAttr.value); else {
                        if ("INPUT" === currentNode.nodeName && "type" === lcName && "file" === value && (ALLOWED_ATTR[lcName] || !FORBID_ATTR[lcName])) continue;
                        "id" === name && currentNode.setAttribute(name, ""), _removeAttribute(name, currentNode);
                    }
                    if (hookEvent.keepAttr && (!SANITIZE_DOM || "id" !== lcName && "name" !== lcName || !(value in window || value in document || value in formElement))) {
                        if (SAFE_FOR_TEMPLATES && (value = (value = value.replace(MUSTACHE_EXPR, " ")).replace(ERB_EXPR, " ")), 
                        ALLOW_DATA_ATTR && DATA_ATTR.test(lcName)) ; else if (ALLOW_ARIA_ATTR && ARIA_ATTR.test(lcName)) ; else {
                            if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) continue;
                            if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (IS_ALLOWED_URI.test(value.replace(ATTR_WHITESPACE, ""))) ; else if ("src" !== lcName && "xlink:href" !== lcName || 0 !== value.indexOf("data:") || !DATA_URI_TAGS[currentNode.nodeName.toLowerCase()]) {
                                if (ALLOW_UNKNOWN_PROTOCOLS && !IS_SCRIPT_OR_DATA.test(value.replace(ATTR_WHITESPACE, ""))) ; else if (value) continue;
                            } else ;
                        }
                        try {
                            currentNode.setAttribute(name, value), DOMPurify.removed.pop();
                        } catch (e) {}
                    }
                }
                _executeHook("afterSanitizeAttributes", currentNode, null);
            }
        }, _sanitizeShadowDOM = function(fragment) {
            var shadowNode, shadowIterator = _createIterator(fragment);
            for (_executeHook("beforeSanitizeShadowDOM", fragment, null); shadowNode = shadowIterator.nextNode(); ) _executeHook("uponSanitizeShadowNode", shadowNode, null), 
            _sanitizeElements(shadowNode) || (shadowNode.content instanceof DocumentFragment && _sanitizeShadowDOM(shadowNode.content), 
            _sanitizeAttributes(shadowNode));
            _executeHook("afterSanitizeShadowDOM", fragment, null);
        }, _executeHook = function(entryPoint, currentNode, data) {
            hooks[entryPoint] && hooks[entryPoint].forEach(function(hook) {
                hook.call(DOMPurify, currentNode, data, CONFIG);
            });
        };
        return DOMPurify.sanitize = function(dirty, cfg) {
            var body, importedNode, currentNode, oldNode, nodeIterator, returnNode;
            if (dirty || (dirty = "\x3c!--\x3e"), "string" != typeof dirty && !_isNode(dirty)) {
                if ("function" != typeof dirty.toString) throw new TypeError("toString is not a function");
                dirty = dirty.toString();
            }
            if (!DOMPurify.isSupported) {
                if ("object" == typeof window.toStaticHTML || "function" == typeof window.toStaticHTML) {
                    if ("string" == typeof dirty) return window.toStaticHTML(dirty);
                    if (_isNode(dirty)) return window.toStaticHTML(dirty.outerHTML);
                }
                return dirty;
            }
            if (SET_CONFIG || _parseConfig(cfg), DOMPurify.removed = [], dirty instanceof Node) 1 === (importedNode = (body = _initDocument("\x3c!--\x3e")).ownerDocument.importNode(dirty, !0)).nodeType && "BODY" === importedNode.nodeName ? body = importedNode : body.appendChild(importedNode); else {
                if (!RETURN_DOM && !WHOLE_DOCUMENT && -1 === dirty.indexOf("<")) return dirty;
                if (!(body = _initDocument(dirty))) return RETURN_DOM ? null : "";
            }
            for (FORCE_BODY && _forceRemove(body.firstChild), nodeIterator = _createIterator(body); currentNode = nodeIterator.nextNode(); ) 3 === currentNode.nodeType && currentNode === oldNode || _sanitizeElements(currentNode) || (currentNode.content instanceof DocumentFragment && _sanitizeShadowDOM(currentNode.content), 
            _sanitizeAttributes(currentNode), oldNode = currentNode);
            if (RETURN_DOM) {
                if (RETURN_DOM_FRAGMENT) for (returnNode = createDocumentFragment.call(body.ownerDocument); body.firstChild; ) returnNode.appendChild(body.firstChild); else returnNode = body;
                return RETURN_DOM_IMPORT && (returnNode = importNode.call(originalDocument, returnNode, !0)), 
                returnNode;
            }
            return WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;
        }, DOMPurify.setConfig = function(cfg) {
            _parseConfig(cfg), SET_CONFIG = !0;
        }, DOMPurify.clearConfig = function() {
            CONFIG = null, SET_CONFIG = !1;
        }, DOMPurify.addHook = function(entryPoint, hookFunction) {
            "function" == typeof hookFunction && (hooks[entryPoint] = hooks[entryPoint] || [], 
            hooks[entryPoint].push(hookFunction));
        }, DOMPurify.removeHook = function(entryPoint) {
            hooks[entryPoint] && hooks[entryPoint].pop();
        }, DOMPurify.removeHooks = function(entryPoint) {
            hooks[entryPoint] && (hooks[entryPoint] = []);
        }, DOMPurify.removeAllHooks = function() {
            hooks = {};
        }, DOMPurify;
    });
}, function(module, exports, __webpack_require__) {
    "use strict";
    function getAbsRect(el, outerIframeEl) {
        return getAllAbsRects(el, outerIframeEl)[0];
    }
    function getAllAbsRects(el, outerIframeEl) {
        var empty = [ {
            top: 0,
            left: 0,
            height: 0,
            width: 0
        } ];
        if (!el) return empty;
        var doc = el.ownerDocument, docEl = doc.documentElement, elRect = el.getClientRects(), scrollTop = docEl.scrollTop || doc.body.scrollTop, scrollLeft = docEl.scrollLeft || doc.body.scrollLeft, contentDoc = outerIframeEl && outerIframeEl.contentDocument;
        if (0 === elRect.length) return empty;
        var rects = Array.from(elRect).map(function(r) {
            return {
                top: r.top + scrollTop,
                left: r.left + scrollLeft,
                height: r.height,
                width: r.width
            };
        });
        if (contentDoc && contentDoc.documentElement && contentDoc.documentElement === docEl) {
            var box_1 = getAbsRect(outerIframeEl);
            rects = rects.map(function(r) {
                return Object.assign({}, r, {
                    top: r.top + box_1.top - scrollTop,
                    left: r.left + box_1.left - scrollLeft
                });
            });
        }
        return rects;
    }
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.getAbsRect = getAbsRect, exports.getAllAbsRects = getAllAbsRects, exports.posToRect = function(el, rect, forceFlip) {
        void 0 === forceFlip && (forceFlip = !1);
        var doc = el.ownerDocument, size = function(doc) {
            var clientTop = doc.documentElement.clientTop || doc.body.clientTop || 0, clientLeft = doc.documentElement.clientLeft || doc.body.clientLeft || 0, scrollLeft = doc.documentElement.scrollLeft || doc.body.scrollLeft, scrollTop = doc.documentElement.scrollTop || doc.body.scrollTop, innerHeight = doc.defaultView.innerHeight;
            return {
                width: doc.defaultView.innerWidth,
                height: innerHeight,
                scrollTop: scrollTop - clientTop,
                scrollLeft: scrollLeft - clientLeft,
                top: clientTop,
                left: clientLeft
            };
        }(doc), width = el.clientWidth, height = el.clientHeight, elRect = {
            top: 0,
            left: 0,
            flip: !1
        }, delta = {
            top: rect.top - doc.body.scrollTop - height,
            left: rect.left - width,
            bottom: doc.body.scrollTop + size.height - rect.top - rect.height - height,
            right: doc.body.scrollLeft + size.width - rect.left - width
        };
        return delta.bottom < 0 && delta.bottom < delta.top || forceFlip ? (elRect.top = rect.top - height + 3, 
        elRect.flip = !0) : (elRect.top = rect.top + rect.height - 3, elRect.flip = !1), 
        elRect.left = delta.right < 0 ? size.width - width : rect.left, {
            rect: elRect,
            delta: delta,
            sourceRect: rect
        };
    }, exports.posToEl = function(posEl, relEl, dir) {
        void 0 === dir && (dir = "top:center");
        var vpr = function() {
            var test = document.createElement("div");
            test.style.cssText = "position: fixed;top: 0;left: 0;bottom: 0;right: 0;", document.documentElement.insertBefore(test, document.documentElement.firstChild);
            var dims = test.getBoundingClientRect();
            return document.documentElement.removeChild(test), dims;
        }(), relRect = relEl.getBoundingClientRect(), posRect = posEl.getBoundingClientRect(), pos = {
            top: 0,
            left: 0,
            flipY: !1,
            flipX: !1
        }, diff_top = relRect.top - vpr.top, diff_left = relRect.left - vpr.left, diff_bottom = -relRect.bottom + vpr.bottom, diff_right = -relRect.right + vpr.right, dirParsed = dir.split(":");
        function calcCenter(lt, wh) {
            pos[lt] += relRect[wh] / 2 - posRect[wh] / 2, vpr[lt] > pos[lt] && (pos[lt] = vpr[lt]), 
            vpr[lt] + vpr[wh] < pos[lt] + posRect[wh] && (pos[lt] = vpr[lt] + vpr[wh] - posRect[wh]);
        }
        return pos.top = relRect.top, "center" === dirParsed[0] ? calcCenter("top", "height") : "top" === dirParsed[0] ? diff_top > posRect.height ? pos.top -= posRect.height : (pos.top += relRect.height, 
        pos.flipY = !0) : "bottom" === dirParsed[0] && (diff_bottom > posRect.height ? pos.top += relRect.height : (pos.top -= posRect.height, 
        pos.flipY = !0)), pos.left = relRect.left, "center" === dirParsed[1] ? calcCenter("left", "width") : "left" === dirParsed[1] ? (pos.left += relRect.width - posRect.width, 
        diff_left + relRect.width < posRect.width && (pos.left = vpr.left)) : "right" === dirParsed[1] && diff_right + relRect.width < posRect.width && (pos.left += relRect.width + diff_right - posRect.width), 
        pos;
    }, exports.getPos = function getPos(elem, parent) {
        if (!elem || elem === parent) return {
            x: 0,
            y: 0
        };
        var xy = {
            x: elem.offsetLeft,
            y: elem.offsetTop
        }, par = getPos(elem.offsetParent, parent);
        return xy.x += par.x, xy.y += par.y, xy;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var _timers = {};
    exports.timers = {
        start: function(id) {
            _timers[id] = Date.now();
        },
        stop: function(id) {
            var passed = this.passed(id);
            return delete _timers[id], passed;
        },
        passed: function(id) {
            return id && _timers[id] ? Date.now() - _timers[id] : 0;
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var helpers_1 = __webpack_require__(116), util_1 = __webpack_require__(2), Config = __webpack_require__(11), stdlib_1 = __webpack_require__(4), interface_1 = __webpack_require__(61), log = __webpack_require__(1).Logger.create("extension-api.message.bg");
    function isPopup(url) {
        if (!url) return !1;
        var browser = Config.getGlobal().bundleInfo.browser, re = "firefox" === browser ? /^moz-extension:\/\/.*\/src\/popup.html$/ : "edge" === browser ? /^ms-browser-extension:\/\/.*\/src\/popup.html$/ : "chrome" === browser ? chrome && chrome.runtime && chrome.runtime.id ? new RegExp(chrome.runtime.id + "/src/popup.html") : void 0 : stdlib_1.assertNever(browser);
        return void 0 !== re && re.test(url);
    }
    exports.SETTINGS_TAB_ID = "popup", exports.bgPreload = function() {
        var chromeCheck = (util_1.isChrome() || util_1.isFF()) && (!chrome.extension || !chrome.tabs || !chrome.runtime || !chrome.runtime.onConnect), edgeCheck = util_1.isEdge() && (!edge.extension || !edge.tabs || !edge.runtime || !edge.runtime.onConnect);
        if (chromeCheck || edgeCheck) {
            var timesFailed = window.localStorage.getItem("bgInitFail") || "0", bgInitFail = parseInt(timesFailed, 10);
            bgInitFail > 4 ? log.error("too many bgInitFail " + bgInitFail) : (window.localStorage.setItem("bgInitFail", (bgInitFail + 1).toString()), 
            document.location.reload());
        }
    };
    var GenericBackgroundMessageApiImpl = function() {
        function GenericBackgroundMessageApiImpl(onPortConnection, _getActiveTab, _getAllTabs) {
            var _this = this;
            this._getActiveTab = _getActiveTab, this._getAllTabs = _getAllTabs, this.kind = "background-message-api", 
            this._callbacks = {}, this._tabPorts = {
                popup: []
            }, this._messageHelper = new helpers_1.MessageHelperImpl(), this._sendMessageToPorts = function(id, msg) {
                var ports = _this._tabPorts[id];
                ports && ports.forEach(function(port) {
                    return port.postMessage(msg);
                });
            }, this.toFocused = function(type, content) {
                return _this._getActiveTab().then(function(_a) {
                    var id = _a.id, url = _a.url;
                    if (id) return isPopup(url) ? log.warn("toFocussed not allowed for popup when it open like regular tab " + type, content) : void _this._sendMessageToPorts(id.toString(), {
                        type: type,
                        content: content,
                        callid: util_1.guid()
                    });
                });
            }, this.broadcast = function(type, content) {
                if (content) {
                    var emitTabs = function(_a) {
                        var id = _a.id, url = _a.url;
                        id && url && -1 === url.indexOf("chrome-extension:") && _this._sendMessageToPorts(id.toString(), {
                            type: type,
                            callid: util_1.guid(),
                            content: content
                        });
                    };
                    _this._getAllTabs().then(function(tabs) {
                        return tabs.forEach(emitTabs);
                    }), _this._tabPorts.popup && _this._tabPorts.popup.length && _this._getActiveTab().then(function(_a) {
                        var url = _a.url, active = _a.active;
                        emitTabs({
                            id: exports.SETTINGS_TAB_ID,
                            url: url,
                            active: active
                        });
                    });
                }
            }, this._initPortListener = function(port) {
                if (port.name === interface_1.ports.bridge) port.onMessage(function(msg) {
                    "message.toFocussed" === msg.method && _this.toFocused(msg.params && msg.params.type, msg.params && msg.params.content);
                }); else if (port.name === interface_1.ports.broadcast) port.onMessage(function(message) {
                    return _this.broadcast(message.type, message.content);
                }); else if (port.name === interface_1.ports.background) {
                    var sender_1 = port.sender;
                    if (sender_1) {
                        if (sender_1.tab) {
                            var _a = sender_1.tab, id_1 = _a.id, url_1 = _a.url;
                            if (id_1) {
                                var ports_1 = _this._tabPorts[id_1];
                                void 0 === ports_1 && (ports_1 = _this._tabPorts[id_1] = []), ports_1.push(port);
                            }
                            url_1 && 0 === url_1.indexOf("http") && _this._messageHelper.fire("tab-connected", {
                                tab: id_1,
                                url: url_1
                            }), port.onDisconnect(function() {
                                if (id_1) {
                                    var ports = _this._tabPorts[id_1];
                                    ports && ports.splice(ports.indexOf(port), 1);
                                }
                            });
                        }
                        var url = sender_1.url ? sender_1.url : sender_1.tab ? sender_1.tab.url : "";
                        if (url && isPopup(url)) {
                            var pid_1 = exports.SETTINGS_TAB_ID;
                            _this._tabPorts[pid_1] = _this._tabPorts[pid_1] || [], _this._tabPorts[pid_1].push(port), 
                            port.onDisconnect(function() {
                                var ports = _this._tabPorts[pid_1];
                                ports.splice(ports.indexOf(port), 1);
                            });
                        }
                    }
                    port.onMessage(function(message) {
                        var processMessage = function(_a) {
                            var callid = _a.callid, content = _a.content, type = _a.type;
                            _this._callbacks[callid] && (_this._callbacks[callid](content), delete _this._callbacks[callid]);
                            _this._messageHelper.fire(type, content, function(content) {
                                return port.postMessage({
                                    content: content,
                                    callid: callid
                                });
                            }, sender_1 && sender_1.tab ? sender_1.tab.id : -1);
                        };
                        "tab-connected" === message.type ? _this._getActiveTab().then(function(_a) {
                            var url = _a.url;
                            message.content = {
                                tab: exports.SETTINGS_TAB_ID,
                                url: url
                            }, processMessage(message);
                        }) : processMessage(message);
                    });
                }
            }, onPortConnection(this._initPortListener);
        }
        return GenericBackgroundMessageApiImpl.prototype.sendTo = function(tabId, type, content, callback, error) {
            var ports = this._tabPorts[tabId];
            if (ports && ports.length) {
                var msg = {
                    type: type,
                    content: content
                };
                callback && "function" == typeof callback && (msg.callid = util_1.guid(), this._callbacks[msg.callid] = callback), 
                ports.forEach(function(port) {
                    return port.postMessage(msg);
                });
            } else error && error({
                message: "no ports on specified tabId"
            });
        }, GenericBackgroundMessageApiImpl.prototype.listen = function(type, callback) {
            this._messageHelper.listen(type, callback);
        }, GenericBackgroundMessageApiImpl;
    }();
    exports.GenericBackgroundMessageApiImpl = GenericBackgroundMessageApiImpl;
}, function(module, exports, __webpack_require__) {
    var baseFor = __webpack_require__(119), keys = __webpack_require__(31);
    module.exports = function(object, iteratee) {
        return object && baseFor(object, iteratee, keys);
    };
}, function(module, exports, __webpack_require__) {
    (function(module) {
        var freeGlobal = __webpack_require__(121), freeExports = "object" == typeof exports && exports && !exports.nodeType && exports, freeModule = freeExports && "object" == typeof module && module && !module.nodeType && module, freeProcess = freeModule && freeModule.exports === freeExports && freeGlobal.process, nodeUtil = function() {
            try {
                return freeProcess && freeProcess.binding && freeProcess.binding("util");
            } catch (e) {}
        }();
        module.exports = nodeUtil;
    }).call(exports, __webpack_require__(77)(module));
}, function(module, exports) {
    module.exports = function(array, values) {
        for (var index = -1, length = values.length, offset = array.length; ++index < length; ) array[offset + index] = values[index];
        return array;
    };
}, function(module, exports, __webpack_require__) {
    var arrayFilter = __webpack_require__(186), stubArray = __webpack_require__(167), propertyIsEnumerable = Object.prototype.propertyIsEnumerable, nativeGetSymbols = Object.getOwnPropertySymbols, getSymbols = nativeGetSymbols ? function(object) {
        return null == object ? [] : (object = Object(object), arrayFilter(nativeGetSymbols(object), function(symbol) {
            return propertyIsEnumerable.call(object, symbol);
        }));
    } : stubArray;
    module.exports = getSymbols;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function(resolve, reject) {
            function fulfilled(value) {
                try {
                    step(generator.next(value));
                } catch (e) {
                    reject(e);
                }
            }
            function rejected(value) {
                try {
                    step(generator.throw(value));
                } catch (e) {
                    reject(e);
                }
            }
            function step(result) {
                result.done ? resolve(result.value) : new P(function(resolve) {
                    resolve(result.value);
                }).then(fulfilled, rejected);
            }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }, __generator = this && this.__generator || function(thisArg, body) {
        var f, y, t, g, _ = {
            label: 0,
            sent: function() {
                if (1 & t[0]) throw t[1];
                return t[1];
            },
            trys: [],
            ops: []
        };
        return g = {
            next: verb(0),
            throw: verb(1),
            return: verb(2)
        }, "function" == typeof Symbol && (g[Symbol.iterator] = function() {
            return this;
        }), g;
        function verb(n) {
            return function(v) {
                return function(op) {
                    if (f) throw new TypeError("Generator is already executing.");
                    for (;_; ) try {
                        if (f = 1, y && (t = y[2 & op[0] ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                        switch (y = 0, t && (op = [ 0, t.value ]), op[0]) {
                          case 0:
                          case 1:
                            t = op;
                            break;

                          case 4:
                            return _.label++, {
                                value: op[1],
                                done: !1
                            };

                          case 5:
                            _.label++, y = op[1], op = [ 0 ];
                            continue;

                          case 7:
                            op = _.ops.pop(), _.trys.pop();
                            continue;

                          default:
                            if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                                _ = 0;
                                continue;
                            }
                            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                                _.label = op[1];
                                break;
                            }
                            if (6 === op[0] && _.label < t[1]) {
                                _.label = t[1], t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2], _.ops.push(op);
                                break;
                            }
                            t[2] && _.ops.pop(), _.trys.pop();
                            continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [ 6, e ], y = 0;
                    } finally {
                        f = t = 0;
                    }
                    if (5 & op[0]) throw op[1];
                    return {
                        value: op[0] ? op[1] : void 0,
                        done: !0
                    };
                }([ n, v ]);
            };
        }
    }, __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var stdlib_1 = __webpack_require__(4), storage_migration_1 = __webpack_require__(189), content_1 = __webpack_require__(131);
    exports.runCompatibilityFixes = content_1.runCompatibilityFixes;
    var bg_1 = __webpack_require__(103);
    exports.bgPreload = bg_1.bgPreload, function(preferencesApi) {
        preferencesApi.windowLocalStorage = {
            get: function(key) {
                return stdlib_1.SafePromise.sync(function() {
                    return window.localStorage.getItem(key);
                });
            },
            set: function(key, value) {
                return stdlib_1.SafePromise.sync(function() {
                    return window.localStorage.setItem(key, value);
                });
            },
            getAll: function() {
                return stdlib_1.SafePromise.sync(function() {
                    var all = {};
                    return Object.keys(window.localStorage).forEach(function(key) {
                        all[key] = window.localStorage.getItem(key);
                    }), all;
                });
            },
            remove: function(key) {
                return stdlib_1.SafePromise.sync(function() {
                    return window.localStorage.removeItem(key);
                });
            },
            removeAll: function() {
                return stdlib_1.SafePromise.sync(function() {
                    return window.localStorage.clear();
                });
            }
        }, preferencesApi.browserStorageLocal = {
            get: function(key) {
                return __awaiter(this, void 0, void 0, function() {
                    var valueObject;
                    return __generator(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return [ 4, firefox.storage.local.get(key) ];

                          case 1:
                            return [ 2, (valueObject = _a.sent()).hasOwnProperty(key) ? valueObject[key] : null ];
                        }
                    });
                });
            },
            set: function(key, value) {
                return firefox.storage.local.set(((_a = {})[key] = value, _a));
                var _a;
            },
            getAll: function() {
                return firefox.storage.local.get(null);
            },
            remove: function(key) {
                return firefox.storage.local.remove(key);
            },
            removeAll: function() {
                return __awaiter(this, void 0, void 0, function() {
                    return __generator(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return [ 4, firefox.storage.local.clear() ];

                          case 1:
                            return _a.sent(), [ 2 ];
                        }
                    });
                });
            }
        };
        var migration = new storage_migration_1.StorageMigration("firefoxLocalStorageToExtApi", preferencesApi.windowLocalStorage, preferencesApi.browserStorageLocal, [ "version" ]), migrationCompleted = Promise.resolve(!1), ensureMigrationCompletedCalled = !1;
        function getMigrationAwareMethod(apiName) {
            return function() {
                for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
                return stdlib_1.assert(!0 === ensureMigrationCompletedCalled, "supposed to run data migration before accessing prefs with web-extensions API"), 
                migrationCompleted.then(function(completed) {
                    var instance = completed ? migration.migrationAwareDestination : preferencesApi.windowLocalStorage;
                    return instance[apiName].apply(instance, __spread(args));
                });
            };
        }
        preferencesApi.ensureMigrationCompleted = function() {
            ensureMigrationCompletedCalled = !0;
            var migrationCompletedPcs = stdlib_1.SafePromise.createCompletionSource();
            return migrationCompleted = migrationCompletedPcs.promise, migration.ensureMigrationCompleted().then(function(x) {
                return migrationCompletedPcs.resolve(!0), Promise.resolve(x);
            }, function(err) {
                return migrationCompletedPcs.resolve(!1), Promise.reject(err);
            });
        }, preferencesApi.migrationAware = {
            get: getMigrationAwareMethod("get"),
            set: getMigrationAwareMethod("set"),
            getAll: getMigrationAwareMethod("getAll"),
            remove: getMigrationAwareMethod("remove"),
            removeAll: getMigrationAwareMethod("removeAll")
        };
    }(exports.preferencesApi || (exports.preferencesApi = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var merge = __webpack_require__(170), config_1 = __webpack_require__(10);
    exports.PROTOCOL_VERSION = "1.0", exports.SITES_TO_RELOAD = [ "inbox.google.com", "mail.google.com", "yahoo.com", "mail.live.com", "facebook.com", "tumblr.com", "stackoverflow.com", "wordpress.com", "wordpress.org", "blogspot.com" ], 
    exports.FACEBOOK_SITES = [ "facebook.com", "messenger.com", "work.fb.com", "business.facebook.com" ], 
    exports.HTML_GHOST_SITES = __spread([ "twitter.com" ], exports.FACEBOOK_SITES), 
    exports.CUSTOM_UNSUPPORTED_MESSAGES = {
        "drive.google.com": {
            title: "Google Drive Not Supported",
            message: 'We hope to support Google Drive apps<br/> in the future, but for now please use your</br> <a class="openGrammarly" href="' + config_1.URLS.app + '">Grammarly Editor</a>.'
        },
        "docs.google.com": {
            title: "Google Drive Not Supported",
            message: 'We hope to support Google Drive apps<br/> in the future, but for now please use your</br> <a class="openGrammarly" href="' + config_1.URLS.app + '">Grammarly Editor</a>.'
        },
        "chrome.google.com": {
            title: "Web Store Not Supported"
        }
    };
    exports.PAGE_CONFIG_DEFAULT_INTERVAL = 18e5, exports.PAGE_CONFIG_UPDATE_INTERVALS = [ 6e5, exports.PAGE_CONFIG_DEFAULT_INTERVAL, 36e5, 108e5, 432e5, 864e5, 31536e6 ], 
    exports.OVERRIDE_PAGE_CONFIG = {}, exports.PAGE_CONFIG_INTERNAL = ((_a = {
        version: {
            enabled: !1,
            servicePage: !0
        },
        extensions: {
            enabled: !1,
            servicePage: !0
        },
        settings: {
            enabled: !1,
            servicePage: !0
        },
        "com.safari.grammarlyspellcheckergrammarchecker": {
            enabled: !1,
            matchInclusions: !0,
            servicePage: !0
        }
    })["app." + config_1.GRAMMARLY_DOMAIN] = {
        enabled: !1,
        grammarlyEditor: !0
    }, _a["linkedin.com"] = {
        pages: {
            "/messaging": {
                afterReplaceEvents: [ "input" ]
            }
        }
    }, _a["plus.google.com"] = {
        afterReplaceEvents: [ "keyup" ],
        minFieldHeight: 0,
        minFieldWidth: 0
    }, _a["facebook.com"] = {
        minFieldHeight: 0,
        pages: {
            "/marketplace": {
                afterReplaceEvents: [ "input" ]
            }
        }
    }, _a["mail.google.com"] = {
        fields: [ {
            name: "to"
        }, {
            name: "cc"
        }, {
            name: "bcc"
        }, {
            className: "vO"
        } ],
        subframes: !1
    }, _a["drive.google.com"] = {
        track: !0
    }, _a["docs.google.com"] = {
        track: !0
    }, _a["app.asana.com"] = {
        fields: [ {
            className: "task-row-text-input"
        } ]
    }, _a["tumblr.com"] = {
        fields: [ {
            attr: [ "aria-label", "Post title" ]
        }, {
            attr: [ "aria-label", "Type or paste a URL" ]
        } ]
    }, _a["chrome.google.com"] = {
        dontShowDisabledBadge: !0
    }, _a);
    var _a;
    exports.PAGE_CONFIG = {
        pageConfig: merge({}, {
            "hootsuite.com": {
                enabled: !1
            },
            "chrome.google.com": {
                enabled: !1
            },
            "facebook.com": {
                enabled: !0,
                pages: {
                    ".*/notes": {
                        enabled: !1
                    }
                }
            },
            "onedrive.live.com": {
                enabled: !1
            },
            "docs.com": {
                enabled: !1
            },
            "sp.docs.com": {
                enabled: !1
            },
            "docs.google.com": {
                enabled: !1
            },
            "drive.google.com": {
                enabled: !1
            },
            "texteditor.nsspot.net": {
                enabled: !1
            },
            "jsbin.com": {
                enabled: !1
            },
            "jsfiddle.net": {
                enabled: !1
            },
            "quora.com": {
                enabled: !1
            },
            "paper.dropbox.com": {
                enabled: !1
            },
            "mail.live.com": {
                enabled: !1,
                matchInclusions: !0
            },
            "imperavi.com": {
                enabled: !1
            },
            "usecanvas.com": {
                enabled: !1
            }
        }, exports.PAGE_CONFIG_INTERNAL)
    };
}, function(module, exports, __webpack_require__) {
    var Uint8Array = __webpack_require__(127);
    module.exports = function(arrayBuffer) {
        var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
        return new Uint8Array(result).set(new Uint8Array(arrayBuffer)), result;
    };
}, function(module, exports, __webpack_require__) {
    var isArrayLike = __webpack_require__(28), isObjectLike = __webpack_require__(17);
    module.exports = function(value) {
        return isObjectLike(value) && isArrayLike(value);
    };
}, function(module, exports, __webpack_require__) {
    var baseRest = __webpack_require__(94), isIterateeCall = __webpack_require__(193);
    module.exports = function(assigner) {
        return baseRest(function(object, sources) {
            var index = -1, length = sources.length, customizer = length > 1 ? sources[length - 1] : void 0, guard = length > 2 ? sources[2] : void 0;
            for (customizer = assigner.length > 3 && "function" == typeof customizer ? (length--, 
            customizer) : void 0, guard && isIterateeCall(sources[0], sources[1], guard) && (customizer = length < 3 ? void 0 : customizer, 
            length = 1), object = Object(object); ++index < length; ) {
                var source = sources[index];
                source && assigner(object, source, index, customizer);
            }
            return object;
        });
    };
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    var __WEBPACK_IMPORTED_MODULE_0__baseGetTag_js__ = __webpack_require__(298), __WEBPACK_IMPORTED_MODULE_1__getPrototype_js__ = __webpack_require__(303), __WEBPACK_IMPORTED_MODULE_2__isObjectLike_js__ = __webpack_require__(305), objectTag = "[object Object]", funcProto = Function.prototype, objectProto = Object.prototype, funcToString = funcProto.toString, hasOwnProperty = objectProto.hasOwnProperty, objectCtorString = funcToString.call(Object);
    __webpack_exports__.a = function(value) {
        if (!Object(__WEBPACK_IMPORTED_MODULE_2__isObjectLike_js__.a)(value) || Object(__WEBPACK_IMPORTED_MODULE_0__baseGetTag_js__.a)(value) != objectTag) return !1;
        var proto = Object(__WEBPACK_IMPORTED_MODULE_1__getPrototype_js__.a)(value);
        if (null === proto) return !0;
        var Ctor = hasOwnProperty.call(proto, "constructor") && proto.constructor;
        return "function" == typeof Ctor && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.t = {
        SET_USER: "user/SET_USER",
        SET_SETTINGS: "user/SET_SETTINGS",
        SESSION_INVALIDATE: "user/SESSION_INVALIDATE",
        INC_FIXED: "user/INC_FIXED"
    }, exports.setUser = function(data) {
        return {
            type: exports.t.SET_USER,
            data: data
        };
    }, exports.setSettings = function(data) {
        return {
            type: exports.t.SET_SETTINGS,
            data: data
        };
    }, exports.sessionInvalidate = function(reason) {
        return {
            type: exports.t.SESSION_INVALIDATE,
            reason: reason
        };
    }, exports.incFixed = function() {
        return {
            type: exports.t.INC_FIXED
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    }, __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var bgPageCallImpls, message = __webpack_require__(16), util_1 = __webpack_require__(2), tracker_1 = __webpack_require__(197), felogPixel_1 = __webpack_require__(139), config = __webpack_require__(10), felogClient_1 = __webpack_require__(324), sumoLogicClient_1 = __webpack_require__(325), log = __webpack_require__(1).Logger.create("lib.tracking.call");
    !function(bgPageCallImpls) {
        var felogClient = util_1.isBg() ? new felogClient_1.DefaultFelogClient(config.URLS.newFelog, config.appName, config.getVersion(), config.ENV, window.fetch.bind(window)) : void 0, sumoLogicClient = util_1.isBg() ? new sumoLogicClient_1.SumoLogicClient(config.URLS.sumoLogic, config.appName, config.getVersion(), config.ENV, window.fetch.bind(window)) : void 0;
        !function(methods) {
            methods.sendFelog = function(logger, message, level, extra) {
                if (!felogClient) throw Error("sendFelog unavailable");
                felogClient.sendEvent({
                    logger: logger,
                    message: message,
                    level: level,
                    extra: extra
                }).catch(function(_) {
                    return felogPixel_1.sendEventPixel(logger, message, level, extra, felogClient.getContext());
                });
            }, methods.sendSumoLogic = function(logger, message, level, extra) {
                if (!sumoLogicClient) throw Error("sumoLogicClient unavailable");
                sumoLogicClient.send({
                    logger: logger,
                    message: message,
                    level: level,
                    extra: extra
                }).catch(function(_) {
                    return felogPixel_1.sendEventPixel(logger, message, level, extra, sumoLogicClient.getContext());
                });
            }, methods.sendFelogManyEvents = function(events) {
                felogClient && felogClient.sendManyEvents(events);
            }, methods.sendFelogUsageEvent = function(logger, message, level, usage) {
                if (!felogClient) throw Error("felogClient unavailable");
                felogClient.sendUsageEvent(logger, message, level, usage).catch(function(_) {
                    return felogPixel_1.sendEventPixel(logger, message, level);
                });
            }, methods.setUserId = function(id) {
                felogClient && felogClient.setUserId(id), sumoLogicClient && sumoLogicClient.setUserId(id);
            }, methods.setContainerId = function(containerId) {
                felogClient && felogClient.setContainerId(containerId), sumoLogicClient && sumoLogicClient.setContainerId(containerId);
            }, methods.sendTimes = function(name, times) {
                felogClient && times.forEach(function(t) {
                    return felogClient.sendTimer(name, t);
                });
            };
        }(bgPageCallImpls.methods || (bgPageCallImpls.methods = {})), bgPageCallImpls.CALL_HANDLER_ID = "tracking/RPC";
    }(bgPageCallImpls || (bgPageCallImpls = {})), exports.callBgPage = Object.keys(bgPageCallImpls.methods).reduce(function(o, k) {
        return o[k] = function() {
            for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
            return call.apply(void 0, __spread([ bgPageCallImpls.CALL_HANDLER_ID, k ], args));
        }, o;
    }, {});
    var trackingLog = [];
    function call(msg) {
        for (var data = [], _i = 1; _i < arguments.length; _i++) data[_i - 1] = arguments[_i];
        var fallback = function(e) {
            log.warn("tracking call " + msg + " failed, reason: ", e);
        };
        if (util_1.isBg()) util_1.asyncCall(function() {
            try {
                switch (logCall(msg, data), msg) {
                  case bgPageCallImpls.CALL_HANDLER_ID:
                    var method = data[0], args = data.slice(1);
                    (_a = bgPageCallImpls.methods)[method].apply(_a, __spread(args));
                    break;

                  default:
                    runMessage(msg, data);
                }
            } catch (e) {
                fallback(e);
            }
            var _a;
        }, 20); else {
            var timeout_1, preventTimeout_1 = function() {
                return clearInterval(timeout_1);
            };
            timeout_1 = window.setTimeout(function() {
                return e = "timeout call through bg page", preventTimeout_1(), void fallback(e);
                var e;
            }, 1e4), message.emitBackground("tracking-call", {
                msg: msg,
                data: data
            }, preventTimeout_1);
        }
    }
    function runMessage(msg, data) {
        var args = msg.split("."), method = args.pop(), ctx = args.reduce(function(closure, part) {
            return part in closure ? closure[part] : {};
        }, tracker_1.tracker());
        if (!ctx || !method || !ctx[method]) return log.error("No method " + msg + " in tracker object");
        if ("gnar.track" === msg) {
            var _a = __read(data, 2), event_1 = _a[0], props = _a[1];
            ctx[method](__assign({
                eventName: config.gnarAppName + "/" + event_1
            }, props));
        } else ctx[method].apply(ctx, __spread(data));
    }
    function logCall(msg, data) {
        log.info(msg, data);
    }
    exports.call = call, exports.runMessage = runMessage, exports.logCall = logCall, 
    exports.getLog = function() {
        var result = trackingLog.slice(0);
        return trackingLog.length = 0, result;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __values = this && this.__values || function(o) {
        var m = "function" == typeof Symbol && o[Symbol.iterator], i = 0;
        return m ? m.call(o) : {
            next: function() {
                return o && i >= o.length && (o = void 0), {
                    value: o && o[i++],
                    done: !o
                };
            }
        };
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var config_1 = __webpack_require__(10), log = __webpack_require__(1).Logger.create("extension-api.message"), _f = function() {}, MessageHelperImpl = function() {
        return function() {
            var _this = this;
            this._listeners = {}, this._queue = {}, this.fire = function(type, content, callback, sender) {
                void 0 === callback && (callback = _f);
                var listeners = _this._listeners[type] || [];
                listeners.length ? listeners.forEach(function(fn) {
                    return fn(content, callback, sender);
                }) : (_this._queue[type] = _this._queue[type] || [], _this._queue[type].push({
                    content: content,
                    callback: callback,
                    sender: sender
                }));
            }, this.unlisten = function(type, cb) {
                var listeners = _this._listeners[type] || [], index = listeners.indexOf(cb);
                -1 !== index && (1 === listeners.length ? delete _this._listeners[type] : listeners.splice(index, 1));
            }, this.listenOnce = function(type, callback) {
                var listener = function(data, reply, sender) {
                    _this.unlisten(type, listener), callback && callback(data, reply, sender);
                };
                _this.listen(type, listener);
            }, this.listen = function(type, callback) {
                _this._listeners[type] = _this._listeners[type] || [], -1 === _this._listeners[type].indexOf(callback) && _this._listeners[type].push(callback);
                var queue = _this._queue[type] || [];
                if (queue.length) {
                    try {
                        for (var queue_1 = __values(queue), queue_1_1 = queue_1.next(); !queue_1_1.done; queue_1_1 = queue_1.next()) {
                            var item = queue_1_1.value;
                            try {
                                callback(item.content, item.callback, item.sender);
                            } catch (e) {
                                log.error("exception during proccesing buffered messages", e);
                            }
                        }
                    } catch (e_1_1) {
                        e_1 = {
                            error: e_1_1
                        };
                    } finally {
                        try {
                            queue_1_1 && !queue_1_1.done && (_a = queue_1.return) && _a.call(queue_1);
                        } finally {
                            if (e_1) throw e_1.error;
                        }
                    }
                    var e_1, _a;
                    delete _this._queue[type];
                }
            };
        };
    }();
    function getSafariActiveTab() {
        return safari.application.activeBrowserWindow && safari.application.activeBrowserWindow.activeTab;
    }
    exports.MessageHelperImpl = MessageHelperImpl, exports.safariBridgeId = "forge-bridge" + config_1.getUuid(), 
    exports.getSafariActiveTab = getSafariActiveTab, exports.getSafariActiveTabUrl = function() {
        var activeTab = getSafariActiveTab();
        return activeTab && activeTab.url || "http://newtab";
    }, exports.emitter = function() {
        var callbacks = {}, messageBuffer = {};
        return {
            emit: function(type, data, callback) {
                var listeners = callbacks[type];
                listeners ? listeners.forEach(function(cb) {
                    return cb(data, callback);
                }) : (messageBuffer[type] || (messageBuffer[type] = []), messageBuffer[type].push({
                    data: data,
                    callback: callback
                }));
            },
            on: function(type, cb) {
                callbacks[type] || (callbacks[type] = []), callbacks[type].push(cb), messageBuffer[type] && messageBuffer[type].forEach(function(msg) {
                    return cb(msg.data, msg.callback);
                });
            }
        };
    };
}, function(module, exports, __webpack_require__) {
    var arrayEach = __webpack_require__(92), baseCreate = __webpack_require__(118), baseForOwn = __webpack_require__(104), baseIteratee = __webpack_require__(64), getPrototype = __webpack_require__(59), isArray = __webpack_require__(7), isBuffer = __webpack_require__(34), isFunction = __webpack_require__(41), isObject = __webpack_require__(9), isTypedArray = __webpack_require__(40);
    module.exports = function(object, iteratee, accumulator) {
        var isArr = isArray(object), isArrLike = isArr || isBuffer(object) || isTypedArray(object);
        if (iteratee = baseIteratee(iteratee, 4), null == accumulator) {
            var Ctor = object && object.constructor;
            accumulator = isArrLike ? isArr ? new Ctor() : [] : isObject(object) && isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};
        }
        return (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {
            return iteratee(accumulator, value, index, object);
        }), accumulator;
    };
}, function(module, exports, __webpack_require__) {
    var isObject = __webpack_require__(9), objectCreate = Object.create, baseCreate = function() {
        function object() {}
        return function(proto) {
            if (!isObject(proto)) return {};
            if (objectCreate) return objectCreate(proto);
            object.prototype = proto;
            var result = new object();
            return object.prototype = void 0, result;
        };
    }();
    module.exports = baseCreate;
}, function(module, exports, __webpack_require__) {
    var baseFor = __webpack_require__(211)();
    module.exports = baseFor;
}, function(module, exports, __webpack_require__) {
    var baseTimes = __webpack_require__(212), isArguments = __webpack_require__(45), isArray = __webpack_require__(7), isBuffer = __webpack_require__(34), isIndex = __webpack_require__(63), isTypedArray = __webpack_require__(40), hasOwnProperty = Object.prototype.hasOwnProperty;
    module.exports = function(value, inherited) {
        var isArr = isArray(value), isArg = !isArr && isArguments(value), isBuff = !isArr && !isArg && isBuffer(value), isType = !isArr && !isArg && !isBuff && isTypedArray(value), skipIndexes = isArr || isArg || isBuff || isType, result = skipIndexes ? baseTimes(value.length, String) : [], length = result.length;
        for (var key in value) !inherited && !hasOwnProperty.call(value, key) || skipIndexes && ("length" == key || isBuff && ("offset" == key || "parent" == key) || isType && ("buffer" == key || "byteLength" == key || "byteOffset" == key) || isIndex(key, length)) || result.push(key);
        return result;
    };
}, function(module, exports, __webpack_require__) {
    (function(global) {
        var freeGlobal = "object" == typeof global && global && global.Object === Object && global;
        module.exports = freeGlobal;
    }).call(exports, __webpack_require__(33));
}, function(module, exports) {
    module.exports = function(func, transform) {
        return function(arg) {
            return func(transform(arg));
        };
    };
}, function(module, exports) {
    var funcToString = Function.prototype.toString;
    module.exports = function(func) {
        if (null != func) {
            try {
                return funcToString.call(func);
            } catch (e) {}
            try {
                return func + "";
            } catch (e) {}
        }
        return "";
    };
}, function(module, exports, __webpack_require__) {
    var SetCache = __webpack_require__(125), arraySome = __webpack_require__(250), cacheHas = __webpack_require__(126), COMPARE_PARTIAL_FLAG = 1, COMPARE_UNORDERED_FLAG = 2;
    module.exports = function(array, other, bitmask, customizer, equalFunc, stack) {
        var isPartial = bitmask & COMPARE_PARTIAL_FLAG, arrLength = array.length, othLength = other.length;
        if (arrLength != othLength && !(isPartial && othLength > arrLength)) return !1;
        var stacked = stack.get(array);
        if (stacked && stack.get(other)) return stacked == other;
        var index = -1, result = !0, seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : void 0;
        for (stack.set(array, other), stack.set(other, array); ++index < arrLength; ) {
            var arrValue = array[index], othValue = other[index];
            if (customizer) var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);
            if (void 0 !== compared) {
                if (compared) continue;
                result = !1;
                break;
            }
            if (seen) {
                if (!arraySome(other, function(othValue, othIndex) {
                    if (!cacheHas(seen, othIndex) && (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) return seen.push(othIndex);
                })) {
                    result = !1;
                    break;
                }
            } else if (arrValue !== othValue && !equalFunc(arrValue, othValue, bitmask, customizer, stack)) {
                result = !1;
                break;
            }
        }
        return stack.delete(array), stack.delete(other), result;
    };
}, function(module, exports, __webpack_require__) {
    var MapCache = __webpack_require__(81), setCacheAdd = __webpack_require__(248), setCacheHas = __webpack_require__(249);
    function SetCache(values) {
        var index = -1, length = null == values ? 0 : values.length;
        for (this.__data__ = new MapCache(); ++index < length; ) this.add(values[index]);
    }
    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd, SetCache.prototype.has = setCacheHas, 
    module.exports = SetCache;
}, function(module, exports) {
    module.exports = function(cache, key) {
        return cache.has(key);
    };
}, function(module, exports, __webpack_require__) {
    var Uint8Array = __webpack_require__(12).Uint8Array;
    module.exports = Uint8Array;
}, function(module, exports, __webpack_require__) {
    var isObject = __webpack_require__(9);
    module.exports = function(value) {
        return value == value && !isObject(value);
    };
}, function(module, exports) {
    module.exports = function(key, srcValue) {
        return function(object) {
            return null != object && object[key] === srcValue && (void 0 !== srcValue || key in Object(object));
        };
    };
}, function(module, exports) {
    module.exports = {
        toU8IntArray: function(inputString) {
            for (var array = [], tempArrayOfChar = [], i = 0; i < inputString.length; i++) {
                var temp, charCode = inputString.charCodeAt(i);
                for (tempArrayOfChar.length = 0; (temp = 255 & charCode) || charCode; ) tempArrayOfChar.push(temp), 
                charCode >>>= 8;
                array = array.concat(tempArrayOfChar.reverse());
            }
            return array;
        },
        intToUnsignedHex: function(number) {
            for (var temp, hexArray = []; (temp = 65535 & number) || number; ) temp = temp.toString(16), 
            temp = "0000".slice(temp.length) + temp, hexArray.push(temp), number >>>= 16;
            return hexArray.reverse().join("");
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var stdlib_1 = __webpack_require__(4), helpers_1 = __webpack_require__(116), util_1 = __webpack_require__(2), interface_1 = __webpack_require__(61), log = __webpack_require__(1).Logger.create("Messaging.extension-api.content"), GenericContentScriptMessageApiImpl = function() {
        function GenericContentScriptMessageApiImpl(createPortConnection) {
            var _this = this;
            this.kind = "content-script-message-api", this._callbacks = {}, this._messageHelper = new helpers_1.MessageHelperImpl(), 
            this._proxyPortsStorage = {}, this.broadcastBackground = function() {
                for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
                return _this._emit(_this.backgroundPort, "bg").apply(null, args);
            }, this.broadcast = function() {
                for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
                return _this._emit(_this.broadcastPort, "tabs").apply(null, args);
            }, this._onPortMessage = function(msg) {
                log.trace("portMessage", msg);
            }, this._checkHealth = function() {
                var pingInterval = null, timeout = null, sendPing = function() {
                    return document.dispatchEvent(new CustomEvent("grammarly:ping"));
                }, alive = function() {
                    clearCheckers();
                }, abortByTimeout = function() {
                    [ _this.port, _this.backgroundPort, _this.broadcastPort ].forEach(function(x) {
                        x && x.removeMessageListeners && x.removeMessageListeners();
                    }), _this.port = _this.backgroundPort = _this.broadcastPort = null, clearCheckers(), 
                    document.addEventListener("grammarly:proxyports", _this._onGrammarlyResetAfterTimeout), 
                    document.dispatchEvent(new CustomEvent("grammarly:offline"));
                };
                function clearCheckers() {
                    document.removeEventListener("grammarly:pong", alive), timeout && (clearTimeout(timeout), 
                    timeout = null), pingInterval && (clearInterval(pingInterval), pingInterval = null);
                }
                return function() {
                    clearCheckers(), document.addEventListener("grammarly:pong", alive), pingInterval = window.setInterval(sendPing, 500), 
                    timeout = window.setTimeout(abortByTimeout, 5e3);
                };
            }(), this._onGrammarlyResetAfterTimeout = function() {
                document.removeEventListener("grammarly:proxyports", _this._onGrammarlyResetAfterTimeout), 
                _this.port = _this._initProxyPort(interface_1.ports.bridge, _this._onPortMessage, _this._checkHealth, !0), 
                _this.backgroundPort = _this._initProxyPort(interface_1.ports.background, _this._onBgPortMessage, _this._checkHealth), 
                _this.broadcastPort = _this._initProxyPort(interface_1.ports.broadcast, null, _this._checkHealth);
            }, this._onBgPortMessage = function(_a) {
                var callid = _a.callid, content = _a.content, type = _a.type;
                _this._callbacks[callid] ? (_this._callbacks[callid](content), delete _this._callbacks[callid]) : _this._messageHelper.fire(type, content, function(content) {
                    if (!_this.backgroundPort) throw new Error("fail reply to bg page - connection lost");
                    _this.backgroundPort.postMessage({
                        content: content,
                        callid: callid
                    });
                });
            }, this._initProxyPort = function(name, onMessage, onDisconnect, isCheckHealth) {
                void 0 === isCheckHealth && (isCheckHealth = !1);
                var port = _this._proxyPort(name);
                return isCheckHealth && _this._checkHealth(), onMessage && port.onMessage(onMessage), 
                onDisconnect && port.onDisconnect(onDisconnect), port;
            }, this._emit = function(port, name) {
                return function(type, content, callback, error) {
                    var callid = util_1.guid();
                    callback && "function" == typeof callback && (_this._callbacks[callid] = callback);
                    try {
                        if (!port) throw new Error("lost connection to " + name + " port");
                        port.postMessage({
                            type: type,
                            callid: callid,
                            content: content
                        });
                    } catch (e) {
                        if (!error) throw e;
                        error(e);
                    }
                };
            }, this._proxyPort = function(name) {
                _this._proxyPortsStorage[name] = {};
                var process = function(type, e) {
                    var data = e.detail;
                    if (data.name === name) {
                        var cb = _this._proxyPortsStorage[name][type];
                        cb && cb(data.msg);
                    }
                }, successProccess = function(e) {
                    return process("success", e);
                }, errorProccess = function(e) {
                    return process("error", e);
                };
                return document.addEventListener("grammarly:message", successProccess), document.addEventListener("grammarly:error", errorProccess), 
                {
                    postMessage: function(data) {
                        void 0 === data && (data = {});
                        var detail = {
                            data: data,
                            name: name
                        };
                        return document.dispatchEvent(new CustomEvent("grammarly:action", {
                            detail: detail
                        }));
                    },
                    onMessage: function(cb) {
                        _this._proxyPortsStorage[name].success = cb;
                    },
                    onDisconnect: function(cb) {
                        _this._proxyPortsStorage[name].error = cb;
                    },
                    removeMessageListeners: function() {
                        document.removeEventListener("grammarly:message", successProccess), document.removeEventListener("grammarly:error", errorProccess);
                    }
                };
            }, this.port = createPortConnection(interface_1.ports.bridge), this.port.onMessage(this._onPortMessage), 
            this.port.onDisconnect(function() {
                _this.port = null, _this.port = _this._initProxyPort(interface_1.ports.bridge, _this._onPortMessage, _this._checkHealth, !0);
            }), this.backgroundPort = createPortConnection(interface_1.ports.background), this.backgroundPort.onMessage(this._onBgPortMessage), 
            this.backgroundPort.onDisconnect(function() {
                _this.backgroundPort = null, _this.backgroundPort = _this._initProxyPort(interface_1.ports.background, _this._onBgPortMessage, _this._checkHealth);
            }), this.broadcastPort = createPortConnection(interface_1.ports.broadcast), this.broadcastPort.onDisconnect(function() {
                _this.broadcastPort = null, _this.broadcastPort = _this._initProxyPort(interface_1.ports.broadcast, null, _this._checkHealth);
            });
        }
        return GenericContentScriptMessageApiImpl.prototype.listen = function(type, callback) {
            this._messageHelper.listen(type, callback);
        }, GenericContentScriptMessageApiImpl.prototype.toFocused = function(type, content) {
            var _this = this;
            return stdlib_1.SafePromise.create(function(resolve) {
                if (!_this.port) throw new Error("lost connection to bg page");
                _this.port.postMessage({
                    method: "message.toFocussed",
                    params: {
                        type: type,
                        content: content
                    }
                }), resolve();
            });
        }, GenericContentScriptMessageApiImpl;
    }();
    exports.GenericContentScriptMessageApiImpl = GenericContentScriptMessageApiImpl, 
    exports.runCompatibilityFixes = function() {
        window.addEventListener("update-window-size-gr", function(e) {
            var node = document.createElement("div");
            if (node.style.height = "1px", e.detail && e.detail.force) {
                var interval_1 = setInterval(function() {
                    document.body.appendChild(node), setTimeout(function() {
                        node.parentNode && node.parentNode.removeChild(node);
                    }, 10);
                }, 100);
                setTimeout(function() {
                    return clearInterval(interval_1);
                }, 405);
            }
        }, !1), window.addEventListener("close-popup-gr", function() {
            -1 !== window.navigator.userAgent.indexOf("Firefox") && window.close();
        }, !1);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.handleChromeError = function(onOk, handleErr) {
        chrome.runtime.lastError ? handleErr(chrome.runtime.lastError) : onOk();
    };
}, function(module, exports, __webpack_require__) {
    var baseAssignValue = __webpack_require__(66), eq = __webpack_require__(35);
    module.exports = function(object, key, value) {
        (void 0 === value || eq(object[key], value)) && (void 0 !== value || key in object) || baseAssignValue(object, key, value);
    };
}, function(module, exports, __webpack_require__) {
    var getNative = __webpack_require__(26), defineProperty = function() {
        try {
            var func = getNative(Object, "defineProperty");
            return func({}, "", {}), func;
        } catch (e) {}
    }();
    module.exports = defineProperty;
}, function(module, exports) {
    module.exports = function(object, key) {
        return "__proto__" == key ? void 0 : object[key];
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Observable_1 = __webpack_require__(0), ScalarObservable_1 = __webpack_require__(376), EmptyObservable_1 = __webpack_require__(137), isScheduler_1 = __webpack_require__(86), ArrayObservable = function(_super) {
        function ArrayObservable(array, scheduler) {
            _super.call(this), this.array = array, this.scheduler = scheduler, scheduler || 1 !== array.length || (this._isScalar = !0, 
            this.value = array[0]);
        }
        return __extends(ArrayObservable, _super), ArrayObservable.create = function(array, scheduler) {
            return new ArrayObservable(array, scheduler);
        }, ArrayObservable.of = function() {
            for (var array = [], _i = 0; _i < arguments.length; _i++) array[_i - 0] = arguments[_i];
            var scheduler = array[array.length - 1];
            isScheduler_1.isScheduler(scheduler) ? array.pop() : scheduler = null;
            var len = array.length;
            return len > 1 ? new ArrayObservable(array, scheduler) : 1 === len ? new ScalarObservable_1.ScalarObservable(array[0], scheduler) : new EmptyObservable_1.EmptyObservable(scheduler);
        }, ArrayObservable.dispatch = function(state) {
            var array = state.array, index = state.index, count = state.count, subscriber = state.subscriber;
            index >= count ? subscriber.complete() : (subscriber.next(array[index]), subscriber.closed || (state.index = index + 1, 
            this.schedule(state)));
        }, ArrayObservable.prototype._subscribe = function(subscriber) {
            var array = this.array, count = array.length, scheduler = this.scheduler;
            if (scheduler) return scheduler.schedule(ArrayObservable.dispatch, 0, {
                array: array,
                index: 0,
                count: count,
                subscriber: subscriber
            });
            for (var i = 0; i < count && !subscriber.closed; i++) subscriber.next(array[i]);
            subscriber.complete();
        }, ArrayObservable;
    }(Observable_1.Observable);
    exports.ArrayObservable = ArrayObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, EmptyObservable = function(_super) {
        function EmptyObservable(scheduler) {
            _super.call(this), this.scheduler = scheduler;
        }
        return __extends(EmptyObservable, _super), EmptyObservable.create = function(scheduler) {
            return new EmptyObservable(scheduler);
        }, EmptyObservable.dispatch = function(arg) {
            arg.subscriber.complete();
        }, EmptyObservable.prototype._subscribe = function(subscriber) {
            var scheduler = this.scheduler;
            if (scheduler) return scheduler.schedule(EmptyObservable.dispatch, 0, {
                subscriber: subscriber
            });
            subscriber.complete();
        }, EmptyObservable;
    }(__webpack_require__(0).Observable);
    exports.EmptyObservable = EmptyObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var each = __webpack_require__(96), util_1 = (__webpack_require__(38), __webpack_require__(2)), lKey = util_1.guid();
    function listen(e, event, cb, unbind, bubble) {
        if (void 0 === bubble && (bubble = !1), null != e) {
            var el = e;
            if ("string" != typeof event) return each(event, function(value, key) {
                listen(el, key, value, unbind);
            });
            if (cb) {
                var listeners = el[lKey] || [];
                return el[lKey] = listeners, unbind ? (el[lKey] = listeners.filter(function(l) {
                    return !(l.event === event && l.cb === cb);
                }), el.removeEventListener(event, cb, bubble)) : (listeners.push({
                    event: event,
                    cb: cb
                }), el.addEventListener(event, cb, bubble)), {
                    el: el,
                    event: event,
                    cb: cb,
                    bubble: bubble
                };
            }
        }
    }
    exports.listen = listen, exports.unlisten = function unlisten(e, event, cb, bubble) {
        var el = e;
        event || null == el[lKey] ? listen(el, event, cb, !0, bubble) : el[lKey].forEach(function(l) {
            return unlisten(el, l.event, l.cb, l.bubble);
        });
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var config = __webpack_require__(25), log_1 = __webpack_require__(39);
    exports.sendEventPixel = function(logger, message, level, extra, context) {
        var img = document.createElement("img"), payload = log_1.createEventPayload({
            logger: logger,
            level: level,
            message: message,
            extra: extra
        }, {
            appName: config.appName,
            appVersion: config.getVersion(),
            env: config.ENV,
            context: context
        });
        return img.src = log_1.felogRequestUrl(payload, config.URLS.newFelog), Promise.resolve();
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Config = __webpack_require__(11), log_1 = __webpack_require__(39), telemetry_1 = __webpack_require__(97), stdlib_1 = __webpack_require__(4), log = __webpack_require__(1).Logger.create("lib.tracking.telemetry"), CARD_EVENTS_PROBABILITY = .1, PROXY_EVENTS_PROBABILITY = .05, usageMetricsProbability = {
        chrome: .1,
        firefox: .1,
        safari: .1,
        edge: 1
    }, getUsageMetricsProbability = function(target) {
        return usageMetricsProbability[target];
    }, Telemetry = function() {
        function Telemetry(_sendFelog, _sendFelogUsage, _setUserId, _setContainerId, _sendFelogTimings, _sendUsageMetrics, _perfMetrics, _sendPerfMetrics, _sendFelogManyEvents, _getUsageMetricsProbability) {
            void 0 === _sendFelog && (_sendFelog = stdlib_1.noOp), void 0 === _sendFelogUsage && (_sendFelogUsage = stdlib_1.noOp), 
            void 0 === _setUserId && (_setUserId = stdlib_1.noOp), void 0 === _setContainerId && (_setContainerId = stdlib_1.noOp), 
            void 0 === _sendFelogTimings && (_sendFelogTimings = stdlib_1.noOp), void 0 === _sendUsageMetrics && (_sendUsageMetrics = !1), 
            void 0 === _perfMetrics && (_perfMetrics = telemetry_1.PerformanceMetrics.dummy), 
            void 0 === _sendPerfMetrics && (_sendPerfMetrics = !1), void 0 === _sendFelogManyEvents && (_sendFelogManyEvents = stdlib_1.noOp), 
            void 0 === _getUsageMetricsProbability && (_getUsageMetricsProbability = getUsageMetricsProbability);
            var _this = this;
            this._sendFelog = _sendFelog, this._sendFelogUsage = _sendFelogUsage, this._setUserId = _setUserId, 
            this._setContainerId = _setContainerId, this._sendFelogTimings = _sendFelogTimings, 
            this._sendUsageMetrics = _sendUsageMetrics, this._perfMetrics = _perfMetrics, this._sendPerfMetrics = _sendPerfMetrics, 
            this._sendFelogManyEvents = _sendFelogManyEvents, this._getUsageMetricsProbability = _getUsageMetricsProbability, 
            this._perfMetricsThrottleTimeMs = 6e4, this._prepareDataString = function(logger, message, extra) {
                var dataString;
                try {
                    dataString = JSON.stringify(extra);
                } catch (err) {
                    dataString = "Failed to stringify event properties: '" + err + "', '" + (err && err.message) + "'", 
                    log.warn(dataString, "for " + message + "@" + logger);
                }
                return dataString;
            }, this.pageLoadTimeout = function() {
                _this._send("cs.connection.failover.pageLoad.timeout", "content script init failed", log_1.LogLevel.ERROR);
            }, this.appLoadTimeout = function() {
                _this._send("cs.connection.failover.appLoad.timeout", "extension init timed out", log_1.LogLevel.ERROR);
            }, this.differentStateDomain = function(stateDomain) {
                _this._send("cs.state.differentDomain", "received state for different domain", log_1.LogLevel.INFO, {
                    stateDomain: stateDomain
                });
            }, this.restoredBgConnection = function(timeWithoutConnection) {
                _this._send("cs.connection.bg.restored", "bg page connection restored", log_1.LogLevel.INFO, {
                    timeWithoutConnection: timeWithoutConnection
                });
            }, this.initWithoutBgConnection = function() {
                _this._send("cs.connection.bg.disconnected", "no connection to bg page", log_1.LogLevel.INFO);
            }, this.fetchDefinitionsFail = function() {
                _this._send("cs.connection.api.definition.failed", "definitions fetch failed", log_1.LogLevel.WARN);
            }, this.infinityCheckResetFail = function(delay) {
                _this._send("cs.connection.infiniteCheck.failed", "infinite check reset failed", log_1.LogLevel.ERROR, {
                    delay: delay
                });
            }, this.tooLongPageConfigInit = function(initTime) {
                _this._send("cs.pageConfig.init.exceeded", "page config init timeout", log_1.LogLevel.WARN, {
                    initTime: initTime
                });
            }, this.tooLongUserUpdateTime = function(updateTime) {
                _this._send("bg.state.user.update.exceeded", "user state update took too long", log_1.LogLevel.WARN, {
                    updateTime: updateTime
                });
            }, this.lostBgPageConnection = function() {
                _this._send("cs.gbutton.bgonnection.lost", "gbutton connection to bg page lost", log_1.LogLevel.INFO);
            }, this.restoreBgPageConnection = function(time) {
                _this._send("cs.gbutton.bgonnection.restored", "gbutton connection to bg page restored", log_1.LogLevel.INFO, {
                    time: time
                });
            }, this.badCursorPosition = function() {
                _this._send("cs.editor.badCursorPosition", "incorrect cursor position in grammarly-editor", log_1.LogLevel.INFO);
            }, this.cursorJump = function() {
                _this._send("cs.editor.cursorJump", "cursor jump detected", log_1.LogLevel.WARN);
            }, this.signinOpen = function() {
                _this._send("cs.signin.open", "sign in dialog opened", log_1.LogLevel.INFO);
            }, this.signinClose = function(openTime) {
                _this._send("cs.signin.close", "sign in dialog closed", log_1.LogLevel.INFO, {
                    openTime: openTime
                });
            }, this.tabReloadClick = function() {
                _this._send("cs.gbutton.reload.click", "gbutton reload clicked", log_1.LogLevel.WARN);
            }, this.popupLoadError = function(message, name) {
                _this._send("cs.popup.load.error", "could not open pop-up editor", log_1.LogLevel.ERROR, {
                    message: message,
                    name: name
                });
            }, this.loginNoBgPageConnection = function(message) {
                _this._send("debug.cs.connection.signin.bg.timeout", "can not connect to bg page on login", log_1.LogLevel.INFO, {
                    message: message
                });
            }, this.pageConfigCDNError = function(message) {
                _this._send("cs.pageConfig.cdn.error", "could not read page config", log_1.LogLevel.ERROR, {
                    message: message
                });
            }, this.pageConfigLocalStorageError = function(message, name) {
                _this._send("cs.pageConfig.localStorage.error", "could not read page config from localStorage", log_1.LogLevel.INFO, {
                    message: message,
                    name: name
                });
            }, this.pageConfigUpdated = function(oldVersion, newVersion) {
                _this._send("cs.pageConfig.updated", "page config updated", log_1.LogLevel.INFO, {
                    oldVersion: oldVersion,
                    newVersion: newVersion
                });
            }, this.settingsPopupTimeout = function() {
                _this._send("settings.popup.init.timeout", "settings popup open timeout", log_1.LogLevel.WARN);
            }, this.settingsUsupportedShow = function(popupType) {
                _this._send("settings.popup.state.unsupported.show", "page unsupported message shown", log_1.LogLevel.INFO, {
                    popupType: popupType
                });
            }, this.socketBgError = function() {
                _this._send("bg.socket.error", "bg page socket error", log_1.LogLevel.WARN);
            }, this.capiNotAuthorizedLoop = function(authDegradation, cookiesDisabled) {
                _this._send("debug.socket.notAuthorizedLoop", "could not authenticate on capi and auth", log_1.LogLevel.INFO, {
                    authDegradation: authDegradation,
                    cookiesDisabled: cookiesDisabled
                });
            }, this.socketDisabledCookie = function() {
                _this._send("debug.socket.disabledCookies", "disabled cookies after failed authentication", log_1.LogLevel.INFO);
            }, this.socketBgRestored = function(tryCount) {
                _this._send("debug.bg.socket.restored", "capi session restored", log_1.LogLevel.INFO, {
                    tryCount: tryCount
                });
            }, this.socketBgReconnectFail = function(token, tryCount) {
                _this._send("bg.socket.reconnect.fail", "could not restore ws connection", log_1.LogLevel.WARN, {
                    token: token,
                    tryCount: tryCount
                });
            }, this.socketCsError = function() {
                _this._send("cs.socket.error", "content script socket error", log_1.LogLevel.WARN);
            }, this.soketCsErrorMsg = function(message) {
                _this._send("cs.socket.errorMsg", "capi error", log_1.LogLevel.WARN, {
                    message: message
                });
            }, this.gnarClientInitFail = function(message) {
                _this._send("gnar.bg.tracking.gnar.init.fail", "gnar init failed", log_1.LogLevel.WARN, {
                    message: message
                });
            }, this.bgTrackingInitFail = function() {
                _this._send("debug.tracking.init.fail", "bg page tracking library init failed", log_1.LogLevel.INFO);
            }, this.gnarSpecUndefinedInit = function() {
                _this._send("debug.tracking.gnar.spec.init.fail", "gnar spec was failed to init", log_1.LogLevel.INFO);
            }, this.dailyPing = function() {
                _this._send("debug.dailyPing", "daily ping", log_1.LogLevel.INFO);
            }, this.userUpgradeClick = function(placement) {
                _this._send("cs.ui.action.upgradeClick", "upgrade hook clicked", log_1.LogLevel.INFO, {
                    placement: placement
                });
            }, this.gButtonClick = function() {
                _this._send("cs.ui.gbutton.click", "gbutton clicked", log_1.LogLevel.INFO);
            }, this.checkingToggledInField = function(enabled) {
                _this._send("cs.ui.gbutton.toggleInField", "checking toggled in field", log_1.LogLevel.INFO, {
                    enabled: enabled
                });
            }, this.sessionInvalidated = function(reason, userChanged) {
                _this._send("bg.session.invalidated", "user session invalidated", log_1.LogLevel.INFO, {
                    reason: reason,
                    userChanged: userChanged
                });
            }, this.unexpectedAnonymous = function(data) {
                _this._send("debug.bg.session.unexpectedAnonymous", "user changed to anonymous", log_1.LogLevel.INFO, data);
            }, this.dapiPropInitialized = function(name, value) {
                _this._send("bg.settings.dapi.prop.init", "save property to the DAPI", log_1.LogLevel.INFO, {
                    name: name,
                    value: value
                });
            }, this.getDapiPropError = function(property, body) {
                _this._send("bg.connection.dapi.getProp.error", "could not get dapi property", log_1.LogLevel.WARN, {
                    property: property,
                    body: body
                });
            }, this.setDapiPropError = function(property, body) {
                _this._send("bg.connection.dapi.setProp.error", "could not set dapi property", log_1.LogLevel.WARN, {
                    property: property,
                    body: body
                });
            }, this.toggleExtensionDefs = function(enabled) {
                _this._send("bg.settings.definitions.toggle", "definitions toggled for domain", log_1.LogLevel.INFO, {
                    enabled: enabled
                });
            }, this.toggleExtension = function(enabled, placement) {
                _this._send("bg.settings.extension.toggle", "extension toggled for domain", log_1.LogLevel.INFO, {
                    enabled: enabled,
                    placement: placement
                });
            }, this.disableUntilNextVisit = function() {
                _this._send("cs.gbutton.disableUntilNextVisit", "extension temporary disabled on the current tab", log_1.LogLevel.INFO);
            }, this.disableButtonClick = function() {
                _this._send("cs.gbutton.disableButtonClick", "clicked on disable button in gButton", log_1.LogLevel.INFO);
            }, this.cookieOverflow = function(size, biggestCookie) {
                _this._send("debug.bg.state.cookie.overflow", "cookie is too big", log_1.LogLevel.INFO, {
                    size: size,
                    biggestCookie: biggestCookie
                });
            }, this.externalChangePlan = function() {
                _this._send("bg.api.external.changePlan", "plan changed from editor", log_1.LogLevel.INFO);
            }, this.externalChangeDialect = function() {
                _this._send("bg.api.external.changeDialect", "dialect changed from editor", log_1.LogLevel.INFO);
            }, this.externalChangeUser = function() {
                _this._send("bg.api.external.changeUsed", "user changed from editor", log_1.LogLevel.INFO);
            }, this.externalLogout = function() {
                _this._send("bg.api.external.logout", "user logged out form editor", log_1.LogLevel.INFO);
            }, this.bgPageStartFail = function(message, stack) {
                _this._send("bg.start.fail", "bg page start failed", log_1.LogLevel.ERROR, {
                    message: message,
                    stack: stack
                });
            }, this.bgPageInitTimeout = function(initTime) {
                _this._send("bg.state.start.timeout", "bg page init timeout", log_1.LogLevel.WARN, {
                    initTime: initTime
                });
            }, this.bgPageInitFail = function(initAttempts) {
                _this._send("bg.state.init.fail", "bg page init failed", log_1.LogLevel.ERROR, {
                    initAttempts: initAttempts
                });
            }, this.extensionUpdated = function(currentVersion, previousVersion) {
                _this._send("bg.state.updated", "extension updated", log_1.LogLevel.INFO, {
                    currentVersion: currentVersion,
                    previousVersion: previousVersion
                });
            }, this.extensionUpdateFail = function(previousVersion) {
                _this._send("bg.state.update.fail", "extension update failed", log_1.LogLevel.INFO, {
                    previousVersion: previousVersion
                });
            }, this.cannotGetInstallSource = function() {
                _this._send("bg.getSource.fail", "failed to get extension install source", log_1.LogLevel.WARN);
            }, this.extensionInstall = function(source) {
                _this._send("bg.state.install", "extension installed", log_1.LogLevel.INFO, {
                    source: source
                });
            }, this.chromeForcedToUpdate = function(newVersion) {
                _this._send("bg.chrome.forcedToUpdate", "chrome forced update", log_1.LogLevel.INFO, {
                    newVersion: newVersion
                });
            }, this.chromeContentScriptLoadError = function(message, type) {
                _this._send("bg.chrome.cs.load.error", "content script execution error", log_1.LogLevel.WARN, {
                    message: message,
                    type: type
                });
            }, this.reloadNotificationShow = function() {
                _this._send("bg.ui.notification.tabsReload.show", "extension reload notification shown", log_1.LogLevel.WARN);
            }, this.reloadNotificationClick = function() {
                _this._send("bg.ui.notification.tabsReload.click", "reload notification clicked", log_1.LogLevel.INFO);
            }, this.fetchUserFail = function(reason, body, statusCode) {
                _this._send("bg.user.fetch.fail", "failed to update user", log_1.LogLevel.WARN, {
                    body: body,
                    statusCode: statusCode,
                    reason: reason
                });
            }, this.fetchMimicFail = function(body, statusCode) {
                _this._send("bg.user.mimic.fail", "mimic request failed", log_1.LogLevel.WARN, {
                    body: body,
                    statusCode: statusCode
                });
            }, this.fetchStatsFail = function(body, statusCode) {
                _this._send("bg.user.dapi.prop.stats.fail", "dapi props request failed", log_1.LogLevel.WARN, {
                    body: body,
                    statusCode: statusCode
                });
            }, this.fetchCookieFail = function() {
                _this._send("bg.cookie.fail", "could not get grauth from cookie", log_1.LogLevel.WARN);
            }, this.fetchSettingsFail = function(body, statusCode) {
                _this._send("bg.user.settings.fail", "could not get settings from auth", log_1.LogLevel.WARN, {
                    body: body,
                    statusCode: statusCode
                });
            }, this.frequentCookieChanges = function(canceled) {
                _this._send("debug.cookie.onChange.error", "cookie change too frequent", log_1.LogLevel.INFO, {
                    canceled: canceled
                });
            }, this.initializePropFromDapi = function(name) {
                _this._send("bg.state.dapi.prop.initialize", "set property from dapi", log_1.LogLevel.INFO, {
                    name: name
                });
            }, this.onboardingPopupShow = function() {
                _this._send("cs.onboarding.popup.show", "show onboarding popup to user after first time extension install", log_1.LogLevel.INFO);
            }, this.onboardingPopupCancel = function() {
                _this._send("cs.onboarding.popup.cancel", "user canceled onboarding popup", log_1.LogLevel.INFO);
            }, this.onboardingTutorialShow = function() {
                _this._send("cs.onboarding.tutorial.show", "opened onboarding dialog after popup", log_1.LogLevel.INFO);
            }, this.onboardingVideoLoaded = function() {
                _this._send("cs.onboarding.tutorial.video.loaded", "load video data for onboarding tutorial", log_1.LogLevel.INFO);
            }, this.incognitoInit = function() {
                _this._send("bg.incognito.init", "extension initialized in incognito mode", log_1.LogLevel.INFO);
            }, this.disabledCookiesInit = function() {
                _this._send("bg.cookie.disabled", "extension initialized with disabled cookies", log_1.LogLevel.INFO);
            }, this.loginReminderPopupShow = function() {
                _this._send("cs.gbutton.popup.loginReminder.show", "show login reminder popup to user", log_1.LogLevel.INFO);
            }, this.loginReminderBadgeShow = function() {
                _this._send("bg.state.user.loginReminder.enable", "enable login reminder for sign out user", log_1.LogLevel.INFO);
            }, this.proxyInit = function() {
                _this._sendWithProbability(PROXY_EVENTS_PROBABILITY, "proxy.init", "proxy script initialized", log_1.LogLevel.INFO);
            }, this.proxyPortDisconnected = function(portName, errorMessage) {
                _this._sendWithProbability(PROXY_EVENTS_PROBABILITY, "proxy.disconnect", "proxy port disconnected", log_1.LogLevel.INFO, {
                    port: portName,
                    error: errorMessage
                });
            }, this.unhandledBgPageException = function(e) {
                _this._send("bg.unhandledException", "unhandled exception on background page", log_1.LogLevel.ERROR, {
                    message: e.error ? e.error.message : e.message
                });
            }, this.unhandledBgPageRejection = function(e) {
                _this._send("bg.unhandledRejection", "unhandled promise rejection on background page", log_1.LogLevel.ERROR, {
                    message: null != e.reason ? "string" == typeof e.reason ? e.reason : e.reason.message : void 0
                });
            }, this.storageMigrationSucceeded = function() {
                _this._send("bg.storageMigration.success", "storage migration succeeded", log_1.LogLevel.INFO, {});
            }, this.storageMigrationFailed = function(e) {
                _this._send("bg.storageMigration.failure", "storage migration failed", log_1.LogLevel.ERROR, {
                    message: e && e.message
                });
            }, this.cardShowAction = function() {
                _this._sendWithProbability(CARD_EVENTS_PROBABILITY, "cs.editor.card.show", "show card action", log_1.LogLevel.INFO);
            }, this.cardHideAction = function() {
                _this._sendWithProbability(CARD_EVENTS_PROBABILITY, "cs.editor.card.hide", "hide card action", log_1.LogLevel.INFO);
            }, this.cardReplacementAction = function() {
                _this._sendWithProbability(CARD_EVENTS_PROBABILITY, "cs.editor.card.replacement", "click on the replacement in the card", log_1.LogLevel.INFO);
            }, this.cardAddToDictAction = function() {
                _this._sendWithProbability(CARD_EVENTS_PROBABILITY, "cs.editor.card.addToDict", "click add to dictionary button in the card", log_1.LogLevel.INFO);
            }, this.cardIgnoreAction = function() {
                _this._sendWithProbability(CARD_EVENTS_PROBABILITY, "cs.editor.card.ignore", "click ignore button in the card", log_1.LogLevel.INFO);
            }, this.synonymCardShowAction = function(notFoundCard) {
                _this._sendWithProbability(CARD_EVENTS_PROBABILITY, "cs.editor.synonym.show", "show synonymous card action", log_1.LogLevel.INFO, {
                    notFoundCard: notFoundCard
                });
            }, this.synonymCardHideAction = function(notFoundCard) {
                _this._sendWithProbability(CARD_EVENTS_PROBABILITY, "cs.editor.synonym.hide", "hide synonymous card action", log_1.LogLevel.INFO, {
                    notFoundCard: notFoundCard
                });
            }, this.synonymReplacementAction = function() {
                _this._sendWithProbability(CARD_EVENTS_PROBABILITY, "cs.editor.synonym.replacement", "click on the replacement in the synonym", log_1.LogLevel.INFO);
            }, this.dictCardShowAction = function() {
                _this._sendWithProbability(CARD_EVENTS_PROBABILITY, "cs.editor.dict.show", "show dictionary card action", log_1.LogLevel.INFO);
            }, this.dictCardHideAction = function() {
                _this._sendWithProbability(CARD_EVENTS_PROBABILITY, "cs.editor.dict.hide", "hide dictionary card action", log_1.LogLevel.INFO);
            }, this.errorBySendEmailData = function() {
                _this._send("cs.editor.emailData.send.error", "error by parsing email data in gmail", log_1.LogLevel.WARN);
            }, this.couldNotParseTransform = function(transformHTML, fallbackParseSuccessful) {
                _this._send("cs.cards.transforms.parse.error", "Could not parse transform in inline cards", log_1.LogLevel.WARN, {
                    transformHTML: transformHTML,
                    fallbackParseSuccessful: fallbackParseSuccessful
                });
            }, this.disabledTabLoad = function(domain, accountType) {
                _this._sendUsage("usage.loadOnDisabledTab", "tab load event with disabled extension", log_1.LogLevel.INFO, {
                    domain: domain,
                    accountType: accountType
                });
            }, this.disabledTabByUserLoad = function(domain, accountType) {
                _this._sendUsage("usage.loadOnDisabledByUserTab", "tab load event with disabled by user extension", log_1.LogLevel.INFO, {
                    domain: domain,
                    accountType: accountType
                });
            }, this.initSession = function(domain, accountType, fieldType, fieldSupported) {
                _this._sendUsage("usage.session.init", "init in the field", log_1.LogLevel.INFO, {
                    domain: domain,
                    accountType: accountType,
                    fieldType: fieldType,
                    fieldSupported: fieldSupported
                });
            }, this.cardFirstInteraction = function(domain, accountType, fieldType) {
                _this._sendUsage("usage.card.interaction", "interaction with card in the field", log_1.LogLevel.INFO, {
                    domain: domain,
                    accountType: accountType,
                    fieldType: fieldType
                });
            }, this.gdocs = {
                initialGdocsDisable: function() {
                    return _this._send("cs.gdocs.initialDisableSet", "Gdocs initially disabled for opt-in to be shown.", log_1.LogLevel.INFO);
                },
                getInitialDocumentStateFailed: function(message) {
                    return _this._send("cs.gdocs.state.getInitialFailed", "Can not get initial gdocs state", log_1.LogLevel.INFO, {
                        message: message
                    });
                },
                localStateSwappedWithRemote: function() {
                    return _this._send("cs.gdocs.state.localStateSwapped", "Local state were swapped with remote state", log_1.LogLevel.INFO);
                },
                revisionSwitched: function() {
                    return _this._send("cs.gdocs.revisionsSwitched", "User swtiched document revision", log_1.LogLevel.INFO);
                },
                noMatchForUnderline: function() {
                    return _this._send("cs.gdocs.orphantUnderline.noMatchFoundByUnderine", "No match found for underline", log_1.LogLevel.INFO);
                },
                noMatchFoundForId: function() {
                    return _this._send("cs.gdocs.orphantUnderline.noMatchFoundById", "No match found for ID", log_1.LogLevel.INFO);
                },
                replacementFailed: function() {
                    return _this._send("cs.gdocs.replacementFailed", "Empty text were put instead of replacement value", log_1.LogLevel.INFO);
                },
                editingDisabledNotification: function() {
                    return _this._send("cs.gdocs.notifications.editingDisabledBloodyBar", "GDocs saving too long editing disabled notification shown", log_1.LogLevel.INFO);
                },
                somethingWentWrongNotification: function() {
                    return _this._send("cs.gdocs.notifications.somethingWentWrongButterBar", "GDocs something went wrong notification shown", log_1.LogLevel.INFO);
                },
                injectedSciptRollback: function(reason) {
                    return _this._send("cs.gdocs.injectedScriptsRollback", "GDocs injected scripts were rolled back", log_1.LogLevel.INFO, {
                        reason: reason
                    });
                }
            }, this.performance = {
                pageFieldsWatch: this._createMetric("cs.pageFields.watch"),
                grammarlyEditorInput: this._createMetric("cs.grammarlyEditor.input")
            };
        }
        return Telemetry.prototype._send = function(logger, message, level, extra) {
            var dataString = this._prepareDataString(logger, message, extra);
            try {
                this._sendFelog(logger, message, level, null != extra ? {
                    json: dataString
                } : void 0);
            } catch (err) {
                log.warn("Failed to send felog for " + message + "@" + logger + ": '" + (err && err.message) + "'", err);
            }
        }, Telemetry.prototype._sendMany = function(logger, events) {
            try {
                this._sendFelogManyEvents(events);
            } catch (err) {
                log.warn("Failed to send performance data for " + logger + ": '" + (err && err.message) + "'", err);
            }
        }, Telemetry.prototype._sendUsage = function(logger, message, level, usage) {
            if (this._sendUsageMetrics && this._getUsageMetricsProbability(Config.getGlobal().bundleInfo.browser) > Math.random()) try {
                this._sendFelogUsage(logger, message, level, usage);
            } catch (err) {
                log.warn("Failed to send usage felog for " + message + "@" + logger + ": '" + (err && err.message) + "'", err);
            }
        }, Telemetry.prototype._sendTimings = function(logger, timings) {
            try {
                this._sendFelogTimings(logger, timings);
            } catch (err) {
                log.warn("Failed to send felog timings for " + logger + ": '" + (err && err.message) + "'", err);
            }
        }, Telemetry.prototype._sendWithProbability = function(probability, logger, message, level, extra) {
            probability > Math.random() && this._send(logger, message, level, extra);
        }, Telemetry.prototype._createMetric = function(name) {
            var _this = this;
            if (this._sendPerfMetrics) {
                var flush_1 = stdlib_1.throttle(this._perfMetricsThrottleTimeMs, function() {
                    _this._sendMany(name, _this._perfMetrics.flushMeasures(name).map(function(x) {
                        return {
                            logger: name,
                            level: log_1.LogLevel.INFO,
                            message: "",
                            extra_performance: parseFloat(x.toFixed(4))
                        };
                    }));
                });
                return {
                    startMeasure: function() {
                        log.debug("startMeasure: " + name);
                        var r = _this._perfMetrics.startMeasure(name);
                        return {
                            endMeasure: function() {
                                r.endMeasure(), flush_1();
                            }
                        };
                    },
                    measure: function(fn) {
                        log.debug("measure: " + name);
                        var r = _this._perfMetrics.measure(name, fn);
                        return flush_1(), r;
                    }
                };
            }
            return {
                startMeasure: function() {
                    return {
                        endMeasure: stdlib_1.noOp
                    };
                },
                measure: function(fn) {
                    return fn();
                }
            };
        }, Telemetry.prototype.setUserId = function(id) {
            this._setUserId(id);
        }, Telemetry.prototype.setContainerId = function(id) {
            this._setContainerId(id);
        }, Telemetry.prototype.notificationShown = function(type) {
            this._send("cs.notification.show", "show notification on the page", log_1.LogLevel.INFO, {
                type: type
            });
        }, Telemetry.prototype.notificationHide = function(type) {
            this._send("cs.notification.hide", "hide notification on the page", log_1.LogLevel.INFO, {
                type: type
            });
        }, Telemetry;
    }();
    exports.Telemetry = Telemetry;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var repeat = exports.repeat = function(str, times) {
        return new Array(times + 1).join(str);
    }, pad = exports.pad = function(num, maxLength) {
        return repeat("0", maxLength - num.toString().length) + num;
    };
    exports.formatTime = function(time) {
        return pad(time.getHours(), 2) + ":" + pad(time.getMinutes(), 2) + ":" + pad(time.getSeconds(), 2) + "." + pad(time.getMilliseconds(), 3);
    }, exports.timer = "undefined" != typeof performance && null !== performance && "function" == typeof performance.now ? performance : Date;
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    Object.defineProperty(__webpack_exports__, "__esModule", {
        value: !0
    });
    var __WEBPACK_IMPORTED_MODULE_0__createStore__ = __webpack_require__(143), __WEBPACK_IMPORTED_MODULE_1__combineReducers__ = __webpack_require__(309), __WEBPACK_IMPORTED_MODULE_2__bindActionCreators__ = __webpack_require__(310), __WEBPACK_IMPORTED_MODULE_3__applyMiddleware__ = __webpack_require__(311), __WEBPACK_IMPORTED_MODULE_4__compose__ = __webpack_require__(146);
    __webpack_require__(145);
    __webpack_require__.d(__webpack_exports__, "createStore", function() {
        return __WEBPACK_IMPORTED_MODULE_0__createStore__.b;
    }), __webpack_require__.d(__webpack_exports__, "combineReducers", function() {
        return __WEBPACK_IMPORTED_MODULE_1__combineReducers__.a;
    }), __webpack_require__.d(__webpack_exports__, "bindActionCreators", function() {
        return __WEBPACK_IMPORTED_MODULE_2__bindActionCreators__.a;
    }), __webpack_require__.d(__webpack_exports__, "applyMiddleware", function() {
        return __WEBPACK_IMPORTED_MODULE_3__applyMiddleware__.a;
    }), __webpack_require__.d(__webpack_exports__, "compose", function() {
        return __WEBPACK_IMPORTED_MODULE_4__compose__.a;
    });
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    __webpack_require__.d(__webpack_exports__, "a", function() {
        return ActionTypes;
    }), __webpack_exports__.b = function createStore(reducer, preloadedState, enhancer) {
        var _ref2;
        "function" == typeof preloadedState && void 0 === enhancer && (enhancer = preloadedState, 
        preloadedState = void 0);
        if (void 0 !== enhancer) {
            if ("function" != typeof enhancer) throw new Error("Expected the enhancer to be a function.");
            return enhancer(createStore)(reducer, preloadedState);
        }
        if ("function" != typeof reducer) throw new Error("Expected the reducer to be a function.");
        var currentReducer = reducer;
        var currentState = preloadedState;
        var currentListeners = [];
        var nextListeners = currentListeners;
        var isDispatching = !1;
        function ensureCanMutateNextListeners() {
            nextListeners === currentListeners && (nextListeners = currentListeners.slice());
        }
        function getState() {
            return currentState;
        }
        function subscribe(listener) {
            if ("function" != typeof listener) throw new Error("Expected listener to be a function.");
            var isSubscribed = !0;
            return ensureCanMutateNextListeners(), nextListeners.push(listener), function() {
                if (isSubscribed) {
                    isSubscribed = !1, ensureCanMutateNextListeners();
                    var index = nextListeners.indexOf(listener);
                    nextListeners.splice(index, 1);
                }
            };
        }
        function dispatch(action) {
            if (!Object(__WEBPACK_IMPORTED_MODULE_0_lodash_es_isPlainObject__.a)(action)) throw new Error("Actions must be plain objects. Use custom middleware for async actions.");
            if (void 0 === action.type) throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');
            if (isDispatching) throw new Error("Reducers may not dispatch actions.");
            try {
                isDispatching = !0, currentState = currentReducer(currentState, action);
            } finally {
                isDispatching = !1;
            }
            for (var listeners = currentListeners = nextListeners, i = 0; i < listeners.length; i++) {
                var listener = listeners[i];
                listener();
            }
            return action;
        }
        dispatch({
            type: ActionTypes.INIT
        });
        return _ref2 = {
            dispatch: dispatch,
            subscribe: subscribe,
            getState: getState,
            replaceReducer: function(nextReducer) {
                if ("function" != typeof nextReducer) throw new Error("Expected the nextReducer to be a function.");
                currentReducer = nextReducer, dispatch({
                    type: ActionTypes.INIT
                });
            }
        }, _ref2[__WEBPACK_IMPORTED_MODULE_1_symbol_observable__.a] = function() {
            var _ref, outerSubscribe = subscribe;
            return (_ref = {
                subscribe: function(observer) {
                    if ("object" != typeof observer) throw new TypeError("Expected the observer to be an object.");
                    function observeState() {
                        observer.next && observer.next(getState());
                    }
                    observeState();
                    var unsubscribe = outerSubscribe(observeState);
                    return {
                        unsubscribe: unsubscribe
                    };
                }
            })[__WEBPACK_IMPORTED_MODULE_1_symbol_observable__.a] = function() {
                return this;
            }, _ref;
        }, _ref2;
    };
    var __WEBPACK_IMPORTED_MODULE_0_lodash_es_isPlainObject__ = __webpack_require__(113), __WEBPACK_IMPORTED_MODULE_1_symbol_observable__ = __webpack_require__(306), ActionTypes = {
        INIT: "@@redux/INIT"
    };
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    var Symbol = __webpack_require__(299).a.Symbol;
    __webpack_exports__.a = Symbol;
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    __webpack_exports__.a = function() {
        for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) funcs[_key] = arguments[_key];
        if (0 === funcs.length) return function(arg) {
            return arg;
        };
        if (1 === funcs.length) return funcs[0];
        return funcs.reduce(function(a, b) {
            return function() {
                return a(b.apply(void 0, arguments));
            };
        });
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.utils = exports.effects = exports.takeLatest = exports.takeEvery = exports.storeIO = exports.runSaga = exports.isCancelError = exports.SagaCancellationException = void 0;
    var _runSaga = __webpack_require__(313);
    Object.defineProperty(exports, "runSaga", {
        enumerable: !0,
        get: function() {
            return _runSaga.runSaga;
        }
    }), Object.defineProperty(exports, "storeIO", {
        enumerable: !0,
        get: function() {
            return _runSaga.storeIO;
        }
    });
    var _sagaHelpers = __webpack_require__(314);
    Object.defineProperty(exports, "takeEvery", {
        enumerable: !0,
        get: function() {
            return _sagaHelpers.takeEvery;
        }
    }), Object.defineProperty(exports, "takeLatest", {
        enumerable: !0,
        get: function() {
            return _sagaHelpers.takeLatest;
        }
    });
    var _middleware2 = _interopRequireDefault(__webpack_require__(315)), _SagaCancellationException3 = _interopRequireDefault(__webpack_require__(55)), effects = _interopRequireWildcard(__webpack_require__(149)), utils = _interopRequireWildcard(__webpack_require__(316));
    function _interopRequireWildcard(obj) {
        if (obj && obj.__esModule) return obj;
        var newObj = {};
        if (null != obj) for (var key in obj) Object.prototype.hasOwnProperty.call(obj, key) && (newObj[key] = obj[key]);
        return newObj.default = obj, newObj;
    }
    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }
    exports.default = _middleware2.default;
    var SagaCancellationException = exports.SagaCancellationException = _SagaCancellationException3.default;
    exports.isCancelError = function(error) {
        return error instanceof SagaCancellationException;
    };
    exports.effects = effects, exports.utils = utils;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = function() {
        var cbs = [];
        return {
            subscribe: function(cb) {
                return cbs.push(cb), function() {
                    return (0, _utils.remove)(cbs, cb);
                };
            },
            emit: function(item) {
                cbs.slice().forEach(function(cb) {
                    return cb(item);
                });
            }
        };
    };
    var _utils = __webpack_require__(21);
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.select = exports.cancel = exports.join = exports.fork = exports.cps = exports.apply = exports.call = exports.race = exports.put = exports.take = void 0;
    var _io = __webpack_require__(54);
    exports.take = _io.take, exports.put = _io.put, exports.race = _io.race, exports.call = _io.call, 
    exports.apply = _io.apply, exports.cps = _io.cps, exports.fork = _io.fork, exports.join = _io.join, 
    exports.cancel = _io.cancel, exports.select = _io.select;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var userActions = __webpack_require__(114), settingsActions = __webpack_require__(89), user = userActions, connection = __webpack_require__(98), settings = settingsActions;
    exports.pureActions = Object.assign({}, user, connection, settings);
}, function(module, exports, __webpack_require__) {
    "use strict";
    function makeEmptyFunction(arg) {
        return function() {
            return arg;
        };
    }
    var emptyFunction = function() {};
    emptyFunction.thatReturns = makeEmptyFunction, emptyFunction.thatReturnsFalse = makeEmptyFunction(!1), 
    emptyFunction.thatReturnsTrue = makeEmptyFunction(!0), emptyFunction.thatReturnsNull = makeEmptyFunction(null), 
    emptyFunction.thatReturnsThis = function() {
        return this;
    }, emptyFunction.thatReturnsArgument = function(arg) {
        return arg;
    }, module.exports = emptyFunction;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var ErrorLike;
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), function(ErrorLike) {
        ErrorLike.isErrorLike = function(error) {
            var errorLike = error;
            return errorLike && (void 0 !== errorLike.message && void 0 !== errorLike.name || void 0 !== errorLike.stack);
        };
    }(ErrorLike = exports.ErrorLike || (exports.ErrorLike = {})), function(EventProps) {
        EventProps.fromAny = function(obj) {
            return function fromAnyInternal(obj, refs, searchNonEnumerable) {
                if (!obj) return {};
                var res = {}, getKeys = searchNonEnumerable ? Object.getOwnPropertyNames : Object.keys;
                return getKeys(obj).forEach(function(key) {
                    var v = obj[key];
                    if (null == v || "number" == typeof v || "string" == typeof v || "boolean" == typeof v) res[key] = v; else if ("object" == typeof v) if (v instanceof Boolean || v instanceof Number || v instanceof String || v instanceof Date || v instanceof RegExp) res[key] = v.toString(); else if (-1 === refs.indexOf(v)) {
                        refs.push(v);
                        var newObj = fromAnyInternal(v, refs, ErrorLike.isErrorLike(v));
                        Object.keys(newObj).length > 0 && (res[key] = newObj);
                    }
                }), res;
            }(obj, [ obj ], ErrorLike.isErrorLike(obj));
        };
    }(exports.EventProps || (exports.EventProps = {}));
    var nameRegexp = /^(?!\.[\w])[\w.]*\w$/;
    exports.validateName = function(name) {
        if ("" === name) throw new Error("Empty name");
        if (!nameRegexp.test(name)) throw new Error("Invalid name: " + name + ". Should be hierarchical dot separated string and may contain only word characters)");
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var keys = __webpack_require__(31), clone = __webpack_require__(508), util_1 = __webpack_require__(2), dom_1 = __webpack_require__(3), logger_1 = __webpack_require__(1), sites_1 = __webpack_require__(67), log = logger_1.Logger.create("lib.wrap"), fixes = sites_1.pageStyles().getFixesForCurrentDomain(), SPACES_WITHOUT_NBSP = [ 10, 8, 32, 8194, 8195, 8196, 8197, 8198, 8199, 8200, 8201, 8202, 8203, 8287, 12288 ].map(function(s) {
        return String.fromCharCode(s);
    }), leftSpaceRe = new RegExp("^[" + SPACES_WITHOUT_NBSP.join("") + "]+", "g"), rightSpaceRe = new RegExp("[" + SPACES_WITHOUT_NBSP.join("") + "]+$", "g"), spaceRe = new RegExp("[" + SPACES_WITHOUT_NBSP.join("") + "]+", "g"), tab = String.fromCharCode(9), SKIP_CLASSES = [], SKIP_TAGS = [ "pre", "code", "blockquote" ], markEntityMap = {
        "&": "",
        "<": "",
        ">": "",
        '"': "",
        "'": "",
        "/": ""
    }, escapeEntityMap = {
        "": "&amp;",
        "": "&lt;",
        "": "&gt;",
        "": "&quot;",
        "": "&#x27;",
        "": "&#x2F;"
    };
    exports._shouldCache = !1;
    var onError, isIE = !!function() {
        var ua = window.navigator.userAgent, msie = ua.indexOf("MSIE ");
        if (msie > 0) return parseInt(ua.substring(msie + 5, ua.indexOf(".", msie)), 10);
        if (ua.indexOf("Trident/") > 0) {
            var rv = ua.indexOf("rv:");
            return parseInt(ua.substring(rv + 3, ua.indexOf(".", rv)), 10);
        }
        var edge = ua.indexOf("Edge/");
        return edge > 0 && parseInt(ua.substring(edge + 5, ua.indexOf(".", edge)), 10);
    }(), entityRegexes = {
        mark: new RegExp("[" + keys(markEntityMap).join("") + "]", "g"),
        escape: new RegExp("[" + keys(escapeEntityMap).join("") + "]", "g")
    };
    function matchParent(m) {
        for (;m.parent; ) m = m.parent;
        return m;
    }
    function splitOverlaps(m) {
        for (var matches = m.concat(), i = 0; i < matches.length; i++) {
            var a = matches[i], split = [];
            void 0 === a._s && (a._s = a.s, a._e = a.e);
            for (var k = i + 1; k < matches.length; k++) {
                var b = matches[k];
                if (void 0 === b._s && (b._s = b.s, b._e = b.e), !(collision(a, b) <= 0)) {
                    if (a._s > b._s && a._e - b._e > 0) {
                        split.push({
                            _s: a._s,
                            _e: b._e,
                            parent: a
                        }), split.push({
                            _s: b._e,
                            _e: a._e,
                            parent: a
                        });
                        break;
                    }
                    if (a._e < b._e && b._s - a._s > 0) {
                        split.push({
                            _s: a._s,
                            _e: b._s,
                            parent: a
                        }), split.push({
                            _s: b._s,
                            _e: a._e,
                            parent: a
                        });
                        break;
                    }
                }
            }
            split.length && (matches.splice.apply(matches, [ i, 1 ].concat(split)), i = 0);
        }
        return matches.sort(function(a, b) {
            return a._s - b._s || b._e - a._e;
        }), matches;
    }
    function collision(a, b) {
        return Math.min(a._e, b._e) - Math.max(a._s, b._s);
    }
    function renderDom(config) {
        var node = config.node, matches = config.matches, createElement = config.createElement, isValidNode = config.isValidNode || function(_) {
            return !0;
        }, isValidMatchForNode = config.isValidMatchForNode, splittedMatches = splitOverlaps(matches).filter(function(m) {
            return !m.inDom && !matchParent(m).inDom;
        });
        0 !== splittedMatches.length && (!function wrapDom(root, node, start, matches, state, createElement, isValidNode, isValidMatchForNode) {
            var child, s = start || 0, i = 0;
            var textNode = {
                _s: void 0,
                _e: void 0
            };
            createElement = createElement || defaultCreateElement;
            state = state || {
                level: -1,
                validNodeForMatchLevel: 0
            };
            state.text = state.text || getText(root);
            var level = state.level;
            var validNodeForMatch = isValidNode(node);
            validNodeForMatch ? state.level <= state.validNodeForMatchLevel && (state.validNodeForMatch = !0, 
            state.validNodeForMatchLevel = state.level) : (state.validNodeForMatch = !1, state.validNodeForMatchLevel = state.level);
            state.level++;
            node.__s = s;
            for (i = 0; i < node.childNodes.length; i++) if ((child = node.childNodes[i]).__jump_next && (i++, 
            delete child.__jump_next, child = node.childNodes[i]), child && (1 === child.nodeType || 3 === child.nodeType) && !hasSkipNode(child)) {
                var ni = getNodeInfo(root, child);
                if (!nodeBetweenTags(ni) || 3 !== child.nodeType) {
                    3 !== child.nodeType && (s = wrapDom(root, child, s, matches, state, createElement, isValidNode, isValidMatchForNode));
                    var brAddedAtNode = state.brAddedAtNode, prevIsBr = state.prevIsBr, prevIsBrWithinNode = prevIsBr && (brAddedAtNode === child || isDescendant(brAddedAtNode, child) || isDescendant(child, brAddedAtNode));
                    ni.prevIsBrWithinNode = prevIsBrWithinNode;
                    var val = getNodeText(ni), nodeVal = val;
                    textNode._s = s, textNode._e = s + val.length, s = textNode._e, val && (state.prevIsBr = !1);
                    var br_1 = isBr(ni);
                    if (br_1 && (state.prevIsBr = !0, s++, state.brAddedAtNode = child.parentNode), 
                    ni.isPreWrap && -1 !== val.indexOf("\n") && (state.prevIsBr = !0, state.brAddedAtNode = child.parentNode), 
                    "IMG" === ni.node.tagName && (state.prevIsBr = !1), 3 === child.nodeType && textNode._s !== textNode._e) {
                        nodeVal !== child.textContent && (child.textContent = nodeVal);
                        for (var k = 0; k < matches.length; k++) {
                            var m = matches[0], parent_1 = m.parent || m;
                            if (m.__s = m.__s || m._s, m.__e = m.__e || m._e, m.__s >= textNode._e) break;
                            for (;"\n" === state.text[m.__s]; ) m.__s++;
                            if (child && m.__s < textNode._s) {
                                for (var p = child.parentNode; void 0 !== p.__s && p.__s > m.__s; ) p = p.parentNode;
                                if (m.__timesRendered = m.__timesRendered || 0, m.__timesRendered++, m.__timesRendered > 5) break;
                                wrapDom(root, p, p.__s, matches, state, createElement, isValidNode, isValidMatchForNode);
                            }
                            if (textNode._e < m._e) {
                                var oldS = m.__s;
                                m.__s = textNode._e, m = {
                                    __s: oldS,
                                    __e: textNode._e,
                                    parent: m
                                };
                            } else matches.shift(), k--;
                            if (state.validNodeForMatch || isValidMatchForNode(child, state.validNodeForMatch, parent_1)) {
                                var matchS = 0;
                                void 0 !== m.__s && textNode._s < m.__s && (matchS = m.__s - textNode._s, val = val.substr(matchS)), 
                                m.calculatedPos = !1;
                                var matchLen = m.__e - m.__s, matchE = matchS + matchLen, mParent = matchParent(m), el = createElement(mParent, val.substr(0, matchLen));
                                if (mParent.renderTs = mParent.renderTs || Date.now(), parent_1.inDom = !0, start = s + m.__s, 
                                val = val.substr(0, matchLen), replaceRange(child, matchS, matchE, el, root), el.__node_info = null, 
                                el.previousSibling && (el.previousSibling.__node_info = null), el.nextSibling && (el.nextSibling.__node_info = null), 
                                removeContentFields(child), child.parentNode === node) {
                                    i++, textNode._s = m.__s, textNode._e = m.__e, el.__s = m.__s, s = m.__e;
                                    var _br = isBr(getNodeInfo(root, el));
                                    _br && s++;
                                }
                                delete m.__s, delete m.__e, delete m.__timesRendered, child = el.firstChild, el.parentNode !== node && el.parentNode && wrapDom(root, el.parentNode, el.parentNode.__s, matches, state, createElement, isValidNode, isValidMatchForNode);
                            }
                        }
                    }
                }
            }
            if (isTableCell(node) && isTableCell(node.nextElementSibling)) {
                var m = matches[0];
                m && m.__s === s && m.__s++, s++;
            }
            state.level = level;
            return s;
        }(node, node, 0, splittedMatches, null, createElement, isValidNode, isValidMatchForNode), 
        splittedMatches = splitOverlaps(matches).filter(function(m) {
            return !m.inDom && !matchParent(m).inDom;
        }));
    }
    function defaultCreateTag(m, _) {
        var parent = m.parent || m;
        return {
            start: '<g class="gr_ gr_' + parent.id + '" id="' + parent.id + '">',
            end: "</g>"
        };
    }
    function wrapText(text, matches, _createTag, node) {
        var str, initial = text;
        text = null === (str = text) ? "" : ("" + str).replace(entityRegexes.mark, function(m) {
            return markEntityMap[m];
        });
        var parent, startTag, start, m, createTag = _createTag || defaultCreateTag, closeAts = [], tag = void 0, s = 0, j = 0, i = 0;
        for (i = 0; i < matches.length; i++) {
            for ((m = matches[i]).calculatedPos = !1, (parent = m.parent || m).inDom = !0, parent.orig && (parent.orig.inDom = !0), 
            tag = createTag(parent = parent.orig || parent, initial), parent.renderTs = parent.renderTs || Date.now(), 
            startTag = tag.start, start = s + m._s, text = text.substring(0, start) + startTag + text.substring(start), 
            s += startTag.length, j = 0; j < closeAts.length; j++) closeAts[j] > start && (closeAts[j] += startTag.length);
            closeAts.push(s + m._e);
        }
        for (closeAts.sort(function(a, b) {
            return a - b;
        }), s = 0, j = 0; j < closeAts.length; j++) start = s + closeAts[j], text = text.substring(0, start) + tag.end + text.substring(start), 
        s += tag.end.length;
        return fixes.replaceFacebookEmojis && (text = fixes.replaceFacebookEmojis(text, node)), 
        fixes.replaceMessengerEmojis && (text = fixes.replaceMessengerEmojis(text, node)), 
        function(str) {
            return null === str ? "" : ("" + str).replace(entityRegexes.escape, function(m) {
                return escapeEntityMap[m];
            });
        }(text);
    }
    function defaultCreateElement(m, val) {
        var el = document.createElement("g");
        return el.getElementsByTagName("g"), el.className = "gr_ gr_" + m.id, el.textContent = val, 
        el.id = m.id.toString(), el;
    }
    function replaceRange(node, s, e, newNode, root) {
        var sNi, eNi, ownerDocument = node.ownerDocument || node, range = ownerDocument.createRange(), cursorIsOutside = ownerDocument.activeElement !== root;
        if (cursorIsOutside) {
            var sel = dom_1.getDocSelection(ownerDocument);
            sNi = {
                node: sel.anchorNode,
                activeElement: ownerDocument.activeElement,
                offset: sel.anchorOffset,
                selectionStart: ownerDocument.activeElement.selectionStart
            }, eNi = {
                node: sel.focusNode,
                offset: sel.focusOffset,
                selectionEnd: ownerDocument.activeElement.selectionEnd
            };
        }
        try {
            range.setStart(node, s), range.setEnd(node, e), range.deleteContents(), range.insertNode(newNode);
        } catch (e) {
            throw onError && onError("replaceRange"), e;
        }
        cursorIsOutside && ("INPUT" === sNi.activeElement.tagName || "TEXTAREA" === sNi.activeElement.tagName ? (sNi.activeElement.focus(), 
        sNi.activeElement.selectionStart = sNi.selectionStart, sNi.activeElement.selectionEnd = eNi.selectionEnd) : sNi.node && setRange(sNi, eNi));
    }
    function replaceRightSpaces(str) {
        return str.replace(rightSpaceRe, "");
    }
    function trim(str) {
        return str.replace(leftSpaceRe, "").replace(rightSpaceRe, "");
    }
    function trimmedContent(node, preWrap) {
        if (node) return node.__trimmed_content ? node.__trimmed_content : preWrap ? (node.__trimmed_content = node.textContent, 
        node.__trimmed_content) : node.textContent ? (node.__trimmed_content = trim(node.textContent), 
        node.__trimmed_content) : void 0;
    }
    function removeContentFields(node) {
        node.__trimmed_content && delete node.__trimmed_content, node.__node_text && delete node.__node_text;
    }
    function invalidateNode(node) {
        if (node && (removeContentFields(node), node.parentNode && "HTML" !== node.parentNode.nodeName && node.parentNode.normalize(), 
        node.childNodes.length > 0)) for (var i = 0, len = node.childNodes.length; i < len; i++) invalidateNode(node.childNodes[i]);
    }
    function isDescendant(parent, child) {
        if (!child) return !1;
        for (var node = child.parentNode; null !== node; ) {
            if (node === parent) return !0;
            node = node.parentNode;
        }
        return !1;
    }
    function isBlock(node) {
        if (!node) return !1;
        if (node.__is_block) return node.__is_block;
        if (!node.ownerDocument || !node.tagName || hasSkipNode(node)) return node.__is_block = !1, 
        !1;
        var tagName = node.tagName.toLowerCase(), result = -1 !== [ "table", "div", "p", "blockquote", "body", "table", "tr", "th", "td", "ol", "ul", "li", "h1", "h2", "h3", "h4", "h5", "h6" ].indexOf(tagName);
        return "block" === node.style.display && (result = !0), node.__is_block = result, 
        result;
    }
    function shouldCache() {
        return exports._shouldCache || document.location.hash.indexOf("cache") > -1;
    }
    function getNodeInfo(root, node) {
        if (node.__node_info && shouldCache()) return node.__node_info.pos = node.__node_info.offset = node.__node_info.prevIsBrWithinNode = void 0, 
        node.__node_info;
        var nodeIsBlock = isBlock(node), preWrap = function(node, root) {
            if (node.__white_space) return "pre-wrap" === node.__white_space;
            for (var parent = 3 === node.nodeType ? node.parentNode : node; parent !== root || node === root || node.parentNode === root; ) {
                if (parent.__white_space || (parent.__white_space = getComputedStyle(parent).whiteSpace), 
                "pre-wrap" === parent.__white_space) return node.__white_space = parent.__white_space, 
                "pre-wrap" === node.__white_space;
                if (parent = parent.parentNode, node === root || node.parentNode === root) return !1;
            }
            return !1;
        }(node, root), next = node.nextSibling, prev = node.previousSibling, prevContent = trimmedContent(prev, preWrap), nextContent = trimmedContent(next, preWrap);
        next && 3 === next.nodeType && !nextContent && (nextContent = trimmedContent(next = next.nextSibling, preWrap)), 
        prev && 3 === prev.nodeType && !prevContent && (prevContent = trimmedContent(prev = prev.previousSibling, preWrap));
        var lastChildContent = next && next.parentNode && trimmedContent(next.parentNode.lastChild, preWrap), nextIsBlock = isBlock(next), prevIsBlock = isBlock(prev), nextInline = next && !!next.tagName && !isBlock(next), prevInline = prev && !!prev.tagName && !isBlock(prev), nodeIsBr = "BR" === node.tagName, nodeIsP = "P" === node.tagName, nextIsBr = next && "BR" === next.tagName, prevIsBr = prev && "BR" === prev.tagName, nextIsLastChild = next && next.parentNode.lastElementChild === next && !lastChildContent, nodeIsFirstChild = node.parentNode.firstChild === node || !trimmedContent(node.parentNode.firstChild, preWrap) && node.parentNode.firstElementChild === node, nodeIsLastChild = node.parentNode.lastChild === node || !lastChildContent && node.parentNode.lastElementChild === node, nodeIsRootFirstChild = nodeIsFirstChild && node.parentNode === root, nodeWithContent = !!trimmedContent(node, preWrap) || !(!nodeIsBlock || !node.querySelector("br")) || !(!node.tagName || !node.querySelector("img")), prevWithContent = prev && !!prevContent, nextWithContent = next && !!nextContent, parentWithContent = !!trimmedContent(node.parentNode, preWrap), parentIsLastChildForBr = nodeIsBr && function(brNode, root) {
            if ("SPAN" === brNode.parentNode.tagName) {
                for (var result = !0, parent_2 = brNode.parentNode.parentNode; parent_2 && parent_2 !== root; ) parent_2.parentNode && parent_2.parentNode.lastChild !== parent_2 && (result = !1), 
                parent_2 = parent_2.parentNode;
                return result;
            }
            return brNode.parentNode.parentNode.lastChild === brNode.parentNode;
        }(node, root), nextIsElement = next && (3 === next.nodeType || nextInline) && nextWithContent, prevIsElement = prev && (3 === prev.nodeType || prevInline) && prevWithContent, nextIsBlockWithContent = nextIsBlock && nextWithContent, prevIsBlockWithContent = prevIsBlock && prevWithContent, onlyOneChild = node.parentNode && node.parentNode.children && 1 === node.parentNode.children.length;
        return node.__node_info = {
            pos: void 0,
            offset: void 0,
            node: node,
            root: root,
            preWrap: preWrap,
            next: next,
            prev: prev,
            isTextNode: 3 === node.nodeType,
            nodeIsBlock: nodeIsBlock,
            nextIsBlock: nextIsBlock,
            prevIsBlock: prevIsBlock,
            nextInline: nextInline,
            prevInline: prevInline,
            nodeIsBr: nodeIsBr,
            nodeIsP: nodeIsP,
            nextIsBr: nextIsBr,
            prevIsBr: prevIsBr,
            prevIsBrWithinNode: void 0,
            nextIsLastChild: nextIsLastChild,
            nodeIsFirstChild: nodeIsFirstChild,
            nodeIsLastChild: nodeIsLastChild,
            nodeIsRootFirstChild: nodeIsRootFirstChild,
            nodeWithContent: nodeWithContent,
            prevWithContent: prevWithContent,
            nextWithContent: nextWithContent,
            parentWithContent: parentWithContent,
            parentIsLastChildForBr: parentIsLastChildForBr,
            nextIsElement: nextIsElement,
            prevIsElement: prevIsElement,
            nextIsBlockWithContent: nextIsBlockWithContent,
            prevIsBlockWithContent: prevIsBlockWithContent,
            onlyOneChild: onlyOneChild,
            isPreWrap: !1,
            isRoot: node === root
        }, node.__node_info;
    }
    function isBr(ni) {
        var result = !1;
        return ni.nodeIsBlock && ni.nodeWithContent && ni.nextIsElement && !ni.prevIsBrWithinNode && (result = !0), 
        !ni.nodeIsBlock && ni.nodeWithContent && (ni.nextIsBlock || ni.nextIsBr) && (result = !0), 
        ni.nodeIsBlock && ni.nodeWithContent && ni.nextIsBlock && !ni.prevIsBrWithinNode && (result = !0), 
        ni.nextIsBr && !ni.nextIsLastChild && ni.nodeWithContent && (result = !0), ni.nodeIsBr && !ni.parentWithContent && ni.nodeIsLastChild && (result = !0, 
        isIE && ni.parentIsLastChildForBr && (result = !1)), ni.nodeIsBr && ni.nextIsBr && (result = !0), 
        ni.nodeIsBr && ni.nodeIsFirstChild && !ni.onlyOneChild && (result = !0), ni.nodeIsBr && ni.nextIsElement && !ni.prevWithContent && !ni.prevIsBr && (result = !0), 
        ni.nodeIsBr && ni.nextIsBlockWithContent && ni.prevIsBlockWithContent && (result = !0), 
        isIE && 0 === ni.node.childNodes.length && "<br>" === ni.node.innerHTML && (result = !0), 
        ni.isRoot && (result = !1), !(ni.preWrap && ni.node && ni.node.textContent && "\n" === ni.node.textContent[ni.node.textContent.length - 1]) || ni.prev && !ni.prevIsBlock || ni.next && !ni.nextIsBlock || (result = !1), 
        ni.isTextNode && nodeBetweenTags(ni) && (result = !1), isTableCell(ni.node) && (result = !1), 
        result;
    }
    function nodeBetweenTags(ni) {
        return ni.node.parentNode && -1 !== [ "table", "tbody", "thead", "tr" ].indexOf(ni.node.parentNode.tagName.toLowerCase());
    }
    function getNodeText(ni) {
        if (!ni.node.nodeValue) return "";
        if (nodeBetweenTags(ni)) return "";
        if (ni.preWrap) return ni.node.nodeValue;
        if (ni.node.__node_text && ni.node.__raw_node_text === ni.node.nodeValue) return ni.node.__node_text;
        var val = ni.node.nodeValue.replace(/\n+/g, " ").replace(spaceRe, " ");
        return ni.next && ni.prev || isBlock(ni.node.parentNode) || ni.prevIsBr ? ((!ni.prev || ni.prevIsBlock || ni.prevIsBr) && (val = function(str) {
            return str.replace(leftSpaceRe, "");
        }(val)), ni.next && !ni.nextIsBlock || isIE || (val = replaceRightSpaces(val)), 
        ni.node.__node_text = val, ni.node.__raw_node_text = ni.node.nodeValue, val) : (ni.node.__node_text = val, 
        ni.node.__raw_node_text = ni.node.nodeValue, val);
    }
    function isTableCell(node) {
        if (node) return "TD" === node.tagName || "TH" === node.tagName;
    }
    function hasSkipNode(node) {
        return 1 === node.nodeType && (hasSkipTag(node) || hasSkipClass(node));
    }
    function hasSkipTag(node) {
        var tagName = node.tagName.toLowerCase();
        return SKIP_TAGS.indexOf(tagName) >= 0;
    }
    function hasSkipClass(node) {
        for (var i = 0; i < SKIP_CLASSES.length; i++) if (node.classList.contains(SKIP_CLASSES[i])) return !0;
        return !1;
    }
    function getText(node, cb) {
        var hasCb = !!cb;
        if (cb = cb || util_1._f, node.normalize(), !hasCb && node.__getText && node.__getText.getText && node.__getText.innerHTML === node.innerHTML) return node.__getText.getText;
        var root, brAddedAtNode, result, pos, parsedNode = (result = [], pos = 0, function getNodes(node) {
            if ((3 === node.nodeType || 1 === node.nodeType) && !hasSkipNode(node)) {
                var ni = getNodeInfo(root, node), oldPos = pos;
                if (!nodeBetweenTags(ni) || 3 !== node.nodeType) {
                    if (ni.isTextNode) {
                        var val = getNodeText(ni);
                        pos += val.length, val && result.push(val), ni.preWrap && "\n" === val[val.length - 1] && (brAddedAtNode = node.parentNode);
                    }
                    if (node.childNodes && !hasSkipNode(node)) for (var i = 0, len = node.childNodes.length; i < len; ++i) if (!1 === getNodes(node.childNodes[i])) return !1;
                    "IMG" === node.tagName && result.push(""), isTableCell(node) && isTableCell(node.nextElementSibling) && (result.push(tab), 
                    pos++);
                    var line = result[result.length - 1], prevIsBrWithinNode = !!line && "\n" === line[line.length - 1] && (brAddedAtNode === node || isDescendant(brAddedAtNode, node) || isDescendant(node, brAddedAtNode));
                    return ni.prevIsBrWithinNode = prevIsBrWithinNode, isBr(ni) && (result.push("\n"), 
                    pos++, brAddedAtNode = node.parentNode), (!cb || !1 !== cb(ni, oldPos)) && void 0;
                }
            }
        }(root = node), result.join(""));
        return hasCb && node.__getText && delete node.__getText, hasCb || (node.__getText = {
            getText: parsedNode,
            innerHTML: node.innerHTML
        }), parsedNode;
    }
    function nodeOffsetToTextOffset(nodePos, offset, ni) {
        var result = nodePos;
        if (ni.isTextNode) {
            var v1 = (ni.node.textContent || "").substr(0, offset);
            !ni.preWrap && trim(v1) && (v1 = replaceRightSpaces(v1));
            var v2 = getNodeText({
                prev: ni.prev,
                preWrap: ni.preWrap,
                prevIsBlock: ni.prevIsBlock,
                prevIsBr: ni.prevIsBr,
                node: {
                    nodeValue: v1
                }
            });
            result = offset + nodePos - (v1.length - v2.length);
        } else ni.nodeIsBr && !ni.onlyOneChild && result--;
        return result;
    }
    function getPosInText(root, node, offset) {
        var result = 0;
        return node.childNodes.length && offset > 0 && (node = node.childNodes[offset], 
        offset = 0), getText(root, function(ni, nodePos) {
            if (ni.node === node) return result = nodeOffsetToTextOffset(nodePos, offset, ni), 
            !1;
        }), result;
    }
    function getNodeByTextPos(root, pos) {
        var result = void 0;
        return root.normalize(), getText(root, function(ni, nodePos) {
            ni.pos = nodePos, ni.offset = 0;
            var nodeEnd = nodePos + getNodeText(ni).length;
            if (nodePos === nodeEnd && !isIE) return !0;
            if (pos >= nodePos && pos <= nodeEnd) {
                for (var val = ni.node.nodeValue || "", i = 0; i <= val.length; i++) pos !== nodeOffsetToTextOffset(nodePos, i, ni) || (ni.offset = i);
                return !((!ni.nodeIsBr || 0 !== ni.offset) && (!ni.isTextNode || ni.nodeWithContent || isIE && "" !== val.replace(leftSpaceRe, " ").replace(rightSpaceRe, " "))) || (result = ni, 
                !1);
            }
        }), result;
    }
    function getCursorPos(root) {
        var sel = dom_1.getDocSelection(root.ownerDocument);
        if (!sel.anchorNode) return {
            s: -1,
            e: -1
        };
        var s = getPosInText(root, sel.anchorNode, sel.anchorOffset);
        return {
            s: s,
            e: sel.isCollapsed ? s : getPosInText(root, sel.focusNode, sel.focusOffset)
        };
    }
    function setRange(sNi, eNi) {
        var doc = sNi.node.ownerDocument;
        try {
            eNi || (eNi = sNi);
            var sel = dom_1.getDocSelection(doc), range = doc.createRange();
            range.setStart(sNi.node, sNi.offset), range.setEnd(eNi.node, eNi.offset), sel.removeAllRanges(), 
            sel.addRange(range);
        } catch (e) {
            log.trace("", e);
        }
    }
    exports.skipClass = function(cls) {
        if (!cls) return SKIP_CLASSES;
        SKIP_CLASSES = cls;
    }, exports.skipTag = function(tag) {
        if (!tag) return SKIP_TAGS;
        SKIP_TAGS = tag;
    }, exports.setOnError = function(cb) {
        onError = cb;
    }, exports.collision = collision, exports.render = function(config) {
        return "dom" === config.type ? renderDom(config) : "text" === config.type ? function(config) {
            var text = config.text, node = config.node, matches = config.matches, createTag = config.createTag, updateMethod = config.updateMethod;
            updateMethod ? updateMethod(text, matches, function(text, matches) {
                return wrapText(text, splitOverlaps(matches), createTag, node);
            }) : (splitOverlaps(matches), node.innerHTML = wrapText(text, matches, createTag, node).replace(/\n/g, "<br>"));
        }(config) : void 0;
    }, exports.replaceRange = replaceRange, exports.mergeNodes = function(nodes) {
        if (!nodes || nodes && 0 === nodes.length) return !1;
        if (1 === nodes.length) return nodes[0];
        for (var mergedNode = nodes[0], len = nodes.length, i = 1; i < len; i++) mergedNode.appendChild(nodes[i]), 
        invalidateNode(nodes[i].parentNode);
        return mergedNode.innerHTML = getText(mergedNode), mergedNode.normalize(), nodes[0].parentNode.normalize(), 
        invalidateNode(mergedNode), invalidateNode(nodes[0].parentNode), mergedNode;
    }, exports.invalidateNode = invalidateNode, exports.unwrap = function(el) {
        if (el.parentNode) {
            var doc = el.ownerDocument, p = el.parentNode;
            if (el.childNodes.length > 1) {
                for (var f = doc.createDocumentFragment(); el.childNodes.length > 0; ) {
                    var node = el.childNodes[0];
                    f.appendChild(node);
                }
                p.replaceChild(f, el), invalidateNode(p);
            } else el.firstChild ? (p.replaceChild(el.firstChild, el), p.normalize(), invalidateNode(p)) : (p.removeChild(el), 
            p.normalize(), invalidateNode(p));
        }
    }, exports.getNodeText = getNodeText, exports.hasSkipNode = hasSkipNode, exports.hasSkipTag = hasSkipTag, 
    exports.hasSkipClass = hasSkipClass, exports.getText = getText, exports.getPosInText = getPosInText, 
    exports.markChildPos = function(root) {
        getText(root, function(ni, nodePos) {
            ni.isTextNode || (ni.node.__pos = nodePos);
        });
    }, exports.getNodeByTextPos = getNodeByTextPos, exports.getCursorPos = getCursorPos, 
    exports.setCursorPos = function(root, pos) {
        var sNi = getNodeByTextPos(root, pos.s);
        if (!sNi) return !1;
        shouldCache() && (sNi = clone(sNi));
        var eNi = pos.s === pos.e ? sNi : getNodeByTextPos(root, pos.e);
        !sNi || sNi < 0 || eNi < 0 || (isIE ? (setRange(sNi, eNi), getCursorPos(root).s !== pos.s && sNi.offset > 0 && (sNi.offset--, 
        eNi.offset--, setRange(sNi, eNi), sNi.offset++, eNi.offset++, setRange(sNi, eNi))) : setRange(sNi, eNi));
    }, exports.setRange = setRange;
}, , function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var AssertionError = function(_super) {
        function AssertionError(msg) {
            return _super.call(this, "Assertion failed: " + (msg ? "string" == typeof msg ? msg : msg() : "(unnamed)")) || this;
        }
        return __extends(AssertionError, _super), AssertionError;
    }(Error);
    exports.AssertionError = AssertionError, exports.assert = function(cond, msg) {
        if (!cond) throw new AssertionError(msg);
    }, exports.assertNonNull = function(value, name) {
        if (null == value) throw new AssertionError(function() {
            return name ? "Expected " + name + " to be non-null" : "Expected non-null";
        });
        return value;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var CircularBuffer = function() {
        function CircularBuffer(capacity) {
            if (this.capacity = capacity, this._start = 0, this._end = 0, this._isFull = !1, 
            capacity <= 0) throw new Error("Invalid capacity " + capacity);
            this._buffer = new Array(capacity);
        }
        return Object.defineProperty(CircularBuffer.prototype, "size", {
            get: function() {
                return this._isFull ? this._buffer.length : (this._end - this._start + this._buffer.length) % this._buffer.length;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(CircularBuffer.prototype, "isEmpty", {
            get: function() {
                return 0 === this.size;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(CircularBuffer.prototype, "isFull", {
            get: function() {
                return this._isFull;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(CircularBuffer.prototype, "head", {
            get: function() {
                return this.isEmpty ? null : this._buffer[this._start];
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(CircularBuffer.prototype, "tail", {
            get: function() {
                return this.isEmpty ? null : this._buffer[0 === this._end ? this.capacity - 1 : this._end - 1];
            },
            enumerable: !0,
            configurable: !0
        }), CircularBuffer.prototype.enqueue = function(element) {
            var pushedAway = null;
            return this.isFull && (pushedAway = this._buffer[this._start], this._startInc()), 
            this._buffer[this._end] = element, this._endInc(), this._start === this._end && (this._isFull = !0), 
            pushedAway;
        }, CircularBuffer.prototype.dequeue = function() {
            if (this.isEmpty) return null;
            var element = this._buffer[this._start];
            return this._buffer[this._start] = null, this._startInc(), this._isFull = !1, element;
        }, CircularBuffer.prototype.delete = function(element) {
            var ind = this._buffer.indexOf(element);
            if (ind >= 0) {
                if (ind < this._end) {
                    for (var i = ind; i < this._end - 1; i++) this._buffer[i] = this._buffer[i + 1];
                    this._buffer[--this._end] = null;
                } else {
                    for (i = this._start; i < ind; i++) this._buffer[i + 1] = this._buffer[i];
                    this._buffer[this._start] = null, this._startInc();
                }
                return this._isFull = !1, !0;
            }
            return !1;
        }, CircularBuffer.prototype._startInc = function() {
            this._start++, this._start === this.capacity && (this._start = 0);
        }, CircularBuffer.prototype._endInc = function() {
            this._end++, this._end === this.capacity && (this._end = 0);
        }, CircularBuffer.prototype.clear = function() {
            this._buffer = new Array(this.capacity), this._start = this._end = 0, this._isFull = !1;
        }, CircularBuffer.prototype.toArray = function() {
            var res;
            if (this.isEmpty) res = []; else if (this._start < this._end) res = this._buffer.slice(this._start, this._end); else {
                res = new Array(this.size);
                for (var j = 0, i = this._start; i < this.capacity; ++i, ++j) res[j] = this._buffer[i];
                for (i = 0; i < this._end; ++i, ++j) res[j] = this._buffer[i];
            }
            return res;
        }, CircularBuffer;
    }();
    exports.CircularBuffer = CircularBuffer;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.flatMap = function(f, xs) {
        return (_a = []).concat.apply(_a, __spread(xs.map(f)));
        var _a;
    }, exports.flatten = function(xss) {
        return (_a = []).concat.apply(_a, __spread(xss));
        var _a;
    }, exports.distinct = function(xs) {
        return __spread(new Set(xs));
    }, exports.distinctBy = function(f, xs) {
        var s = new Set();
        return xs.filter(function(x) {
            var k = f(x), r = !s.has(k);
            return s.add(k), r;
        });
    }, exports.scan = function(f, seed, xs) {
        for (var r = [ seed ], acc = seed, i = 0; i < xs.length; i++) acc = f(acc, xs[i]), 
        r.push(acc);
        return r;
    }, exports.maximum = function(xs) {
        return xs.reduce(function(max, x) {
            return x > max ? x : max;
        }, xs[0]);
    }, exports.maximumBy = function(xs, f) {
        return 0 === xs.length ? void 0 : xs.reduce(function(acc, x) {
            var y = f(x);
            return y > acc[1] ? [ x, y ] : acc;
        }, [ xs[0], f(xs[0]) ])[0];
    }, exports.reverse = function(xs) {
        return xs.slice().reverse();
    }, exports.partition = function(f, xs) {
        for (var ys = [], zs = [], j = 0, k = 0, i = 0; i < xs.length; i++) f(xs[i]) ? ys[j++] = xs[i] : zs[k++] = xs[i];
        return [ ys, zs ];
    }, exports.chunkBySize = function(size, xs) {
        if (size < 1) throw new Error("Invalid chunk size, expected > 0");
        if (0 === xs.length) return [ [] ];
        for (var result = [], x = 0; x < Math.ceil(xs.length / size); x++) result.push(xs.slice(x * size, (x + 1) * size));
        return result;
    }, exports.unfold = function(f, seed) {
        for (var r = [], res = f(seed); void 0 !== res; ) r.push(res[0]), res = f(res[1]);
        return r;
    }, exports.range = function(arg1, arg2) {
        return void 0 !== arg2 ? Array.from(Array(arg2 - arg1), function(_, i) {
            return i + arg1;
        }) : Array.from(Array(arg1), function(_, i) {
            return i;
        });
    }, exports.groupBy = function(xs, eq) {
        if (void 0 === eq && (eq = function(a, b) {
            return a === b;
        }), 0 === xs.length) return [];
        for (var acc = [ [ xs[0] ] ], i = 1; i < xs.length; i += 1) {
            var a = acc[acc.length - 1][0], b = xs[i];
            eq(a, b) ? acc[acc.length - 1].push(b) : acc.push([ b ]);
        }
        return acc;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __values = this && this.__values || function(o) {
        var m = "function" == typeof Symbol && o[Symbol.iterator], i = 0;
        return m ? m.call(o) : {
            next: function() {
                return o && i >= o.length && (o = void 0), {
                    value: o && o[i++],
                    done: !o
                };
            }
        };
    }, __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.map = function(f, o) {
        var r = {};
        return Object.keys(o).forEach(function(k) {
            return r[k] = f(k, o[k]);
        }), r;
    }, exports.filter = function(f, o) {
        var r = {};
        return Object.keys(o).forEach(function(k) {
            f(k, o[k]) && (r[k] = o[k]);
        }), r;
    }, exports.values = function(o) {
        return Object.keys(o).map(function(k) {
            return o[k];
        });
    }, exports.pairs = function(o) {
        return Object.keys(o).map(function(k) {
            return [ k, o[k] ];
        });
    }, exports.create = function(kvs) {
        var e_1, _b, r = {};
        try {
            for (var kvs_1 = __values(kvs), kvs_1_1 = kvs_1.next(); !kvs_1_1.done; kvs_1_1 = kvs_1.next()) {
                var _a = __read(kvs_1_1.value, 2), k = _a[0], v = _a[1];
                r[k] = v;
            }
        } catch (e_1_1) {
            e_1 = {
                error: e_1_1
            };
        } finally {
            try {
                kvs_1_1 && !kvs_1_1.done && (_b = kvs_1.return) && _b.call(kvs_1);
            } finally {
                if (e_1) throw e_1.error;
            }
        }
        return r;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __values = this && this.__values || function(o) {
        var m = "function" == typeof Symbol && o[Symbol.iterator], i = 0;
        return m ? m.call(o) : {
            next: function() {
                return o && i >= o.length && (o = void 0), {
                    value: o && o[i++],
                    done: !o
                };
            }
        };
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.find = function(m, p) {
        try {
            for (var _a = __values(m.values()), _b = _a.next(); !_b.done; _b = _a.next()) {
                var x = _b.value;
                if (p(x)) return x;
            }
        } catch (e_1_1) {
            e_1 = {
                error: e_1_1
            };
        } finally {
            try {
                _b && !_b.done && (_c = _a.return) && _c.call(_a);
            } finally {
                if (e_1) throw e_1.error;
            }
        }
        return null;
        var e_1, _c;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.second = 1e3, exports.minute = 60 * exports.second, exports.hour = 60 * exports.minute, 
    exports.day = 24 * exports.hour, exports.week = 7 * exports.day, exports.seconds = function(s) {
        return s * exports.second;
    }, exports.hertz = function(hz) {
        return exports.second / hz;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    }), __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var logConfig_1 = __webpack_require__(72), SimpleLogger = function(_super) {
        function SimpleLogger(name, _config) {
            var _this = _super.call(this, name) || this;
            return _this._config = _config, _this;
        }
        return __extends(SimpleLogger, _super), SimpleLogger.prototype.handleEvent = function(event) {
            this._config.filterFn(event) && this._config.writer.write(event);
        }, SimpleLogger;
    }(function() {
        function AbstractLogger(name) {
            this.name = name, this._isError = function(error) {
                var errorLike = error;
                return errorLike && (void 0 !== errorLike.message && void 0 !== errorLike.name || void 0 !== errorLike.stack);
            };
        }
        return AbstractLogger.prototype.trace = function(message, exceptionOrData, data) {
            this._logMessage("TRACE", message, exceptionOrData, data);
        }, AbstractLogger.prototype.debug = function(message, exceptionOrData, data) {
            this._logMessage("DEBUG", message, exceptionOrData, data);
        }, AbstractLogger.prototype.info = function(message, exceptionOrData, data) {
            this._logMessage("INFO", message, exceptionOrData, data);
        }, AbstractLogger.prototype.warn = function(message, exceptionOrData, data) {
            this._logMessage("WARN", message, exceptionOrData, data);
        }, AbstractLogger.prototype.error = function(message, exceptionOrData, data) {
            this._logMessage("ERROR", message, exceptionOrData, data);
        }, AbstractLogger.prototype.fatal = function(message, exceptionOrData, data) {
            this._logMessage("FATAL", message, exceptionOrData, data);
        }, AbstractLogger.prototype._logMessage = function(logLevel, message, exceptionOrData, data) {
            var event = {
                level: logLevel,
                loggerName: this.name,
                message: message,
                timestamp: new Date()
            };
            exceptionOrData && (this._isError(exceptionOrData) ? event.exception = exceptionOrData : event.data = exceptionOrData), 
            event.data = event.data || data, this.handleEvent(event);
        }, AbstractLogger;
    }());
    exports.SimpleLogger = SimpleLogger, function(Logger) {
        Logger.create = function(name, config) {
            return new SimpleLogger(name, __assign({}, logConfig_1.LogConfig.getGlobal(), config || {}));
        };
    }(exports.Logger || (exports.Logger = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var _a, logRank = ((_a = {}).TRACE = 1, _a.DEBUG = 2, _a.INFO = 3, _a.WARN = 4, 
    _a.ERROR = 5, _a.FATAL = 6, _a);
    exports.getLogRank = function(level) {
        return logRank[level] || 0;
    };
}, function(module, exports, __webpack_require__) {
    var isPrototype = __webpack_require__(56), nativeKeys = __webpack_require__(218), hasOwnProperty = Object.prototype.hasOwnProperty;
    module.exports = function(object) {
        if (!isPrototype(object)) return nativeKeys(object);
        var result = [];
        for (var key in Object(object)) hasOwnProperty.call(object, key) && "constructor" != key && result.push(key);
        return result;
    };
}, function(module, exports) {
    module.exports = function(set) {
        var index = -1, result = Array(set.size);
        return set.forEach(function(value) {
            result[++index] = value;
        }), result;
    };
}, function(module, exports, __webpack_require__) {
    var baseGetAllKeys = __webpack_require__(166), getSymbols = __webpack_require__(107), keys = __webpack_require__(31);
    module.exports = function(object) {
        return baseGetAllKeys(object, keys, getSymbols);
    };
}, function(module, exports, __webpack_require__) {
    var arrayPush = __webpack_require__(106), isArray = __webpack_require__(7);
    module.exports = function(object, keysFunc, symbolsFunc) {
        var result = keysFunc(object);
        return isArray(object) ? result : arrayPush(result, symbolsFunc(object));
    };
}, function(module, exports) {
    module.exports = function() {
        return [];
    };
}, function(module, exports, __webpack_require__) {
    var baseToString = __webpack_require__(263);
    module.exports = function(value) {
        return null == value ? "" : baseToString(value);
    };
}, function(module, exports, __webpack_require__) {
    var baseIsEqual = __webpack_require__(82);
    module.exports = function(value, other) {
        return baseIsEqual(value, other);
    };
}, function(module, exports, __webpack_require__) {
    var baseMerge = __webpack_require__(274), merge = __webpack_require__(112)(function(object, source, srcIndex) {
        baseMerge(object, source, srcIndex);
    });
    module.exports = merge;
}, function(module, exports, __webpack_require__) {
    (function(module) {
        var root = __webpack_require__(12), freeExports = "object" == typeof exports && exports && !exports.nodeType && exports, freeModule = freeExports && "object" == typeof module && module && !module.nodeType && module, Buffer = freeModule && freeModule.exports === freeExports ? root.Buffer : void 0, allocUnsafe = Buffer ? Buffer.allocUnsafe : void 0;
        module.exports = function(buffer, isDeep) {
            if (isDeep) return buffer.slice();
            var length = buffer.length, result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);
            return buffer.copy(result), result;
        };
    }).call(exports, __webpack_require__(77)(module));
}, function(module, exports, __webpack_require__) {
    var cloneArrayBuffer = __webpack_require__(110);
    module.exports = function(typedArray, isDeep) {
        var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
        return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
    };
}, function(module, exports) {
    module.exports = function(source, array) {
        var index = -1, length = source.length;
        for (array || (array = Array(length)); ++index < length; ) array[index] = source[index];
        return array;
    };
}, function(module, exports, __webpack_require__) {
    var baseCreate = __webpack_require__(118), getPrototype = __webpack_require__(59), isPrototype = __webpack_require__(56);
    module.exports = function(object) {
        return "function" != typeof object.constructor || isPrototype(object) ? {} : baseCreate(getPrototype(object));
    };
}, function(module, exports, __webpack_require__) {
    var baseGetTag = __webpack_require__(23), getPrototype = __webpack_require__(59), isObjectLike = __webpack_require__(17), objectTag = "[object Object]", funcProto = Function.prototype, objectProto = Object.prototype, funcToString = funcProto.toString, hasOwnProperty = objectProto.hasOwnProperty, objectCtorString = funcToString.call(Object);
    module.exports = function(value) {
        if (!isObjectLike(value) || baseGetTag(value) != objectTag) return !1;
        var proto = getPrototype(value);
        if (null === proto) return !0;
        var Ctor = hasOwnProperty.call(proto, "constructor") && proto.constructor;
        return "function" == typeof Ctor && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString;
    };
}, function(module, exports, __webpack_require__) {
    var baseAssignValue = __webpack_require__(66), eq = __webpack_require__(35), hasOwnProperty = Object.prototype.hasOwnProperty;
    module.exports = function(object, key, value) {
        var objValue = object[key];
        hasOwnProperty.call(object, key) && eq(objValue, value) && (void 0 !== value || key in object) || baseAssignValue(object, key, value);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var ConnectableObservable_1 = __webpack_require__(469);
    exports.multicast = function(subjectOrSubjectFactory, selector) {
        return function(source) {
            var subjectFactory;
            if (subjectFactory = "function" == typeof subjectOrSubjectFactory ? subjectOrSubjectFactory : function() {
                return subjectOrSubjectFactory;
            }, "function" == typeof selector) return source.lift(new MulticastOperator(subjectFactory, selector));
            var connectable = Object.create(source, ConnectableObservable_1.connectableObservableDescriptor);
            return connectable.source = source, connectable.subjectFactory = subjectFactory, 
            connectable;
        };
    };
    var MulticastOperator = function() {
        function MulticastOperator(subjectFactory, selector) {
            this.subjectFactory = subjectFactory, this.selector = selector;
        }
        return MulticastOperator.prototype.call = function(subscriber, source) {
            var selector = this.selector, subject = this.subjectFactory(), subscription = selector(subject).subscribe(subscriber);
            return subscription.add(source.subscribe(subject)), subscription;
        }, MulticastOperator;
    }();
    exports.MulticastOperator = MulticastOperator;
}, function(module, exports, __webpack_require__) {
    var debounce = __webpack_require__(53), isObject = __webpack_require__(9), FUNC_ERROR_TEXT = "Expected a function";
    module.exports = function(func, wait, options) {
        var leading = !0, trailing = !0;
        if ("function" != typeof func) throw new TypeError(FUNC_ERROR_TEXT);
        return isObject(options) && (leading = "leading" in options ? !!options.leading : leading, 
        trailing = "trailing" in options ? !!options.trailing : trailing), debounce(func, wait, {
            leading: leading,
            maxWait: wait,
            trailing: trailing
        });
    };
}, function(module, exports, __webpack_require__) {
    var baseForOwn = __webpack_require__(104), baseEach = __webpack_require__(290)(baseForOwn);
    module.exports = baseEach;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var logger_1 = __webpack_require__(1), stdlib_1 = __webpack_require__(4), PerformanceMetricsImpl = function() {
        function PerformanceMetricsImpl(_perf) {
            this._perf = _perf, this._log = logger_1.Logger.create("cs.telemetry.PerformanceMetricsImpl");
        }
        return PerformanceMetricsImpl.prototype.flushMeasures = function(name) {
            try {
                var measures = this._perf.getEntriesByName(name, "measure");
                return this._perf.clearMeasures(name), measures.map(function(x) {
                    return x.duration;
                });
            } catch (err) {
                return this._log.warn("failed to retrieve perf measurements", err), [];
            }
        }, PerformanceMetricsImpl.prototype.startMeasure = function(name) {
            var _this = this, salt = Math.random(), startName = "__" + name + "_" + salt + "-start", endName = "__" + name + "_" + salt + "-end";
            try {
                this._perf.mark(startName);
            } catch (err) {
                return this._log.warn("could not start measure  ignoring measurement", err), {
                    endMeasure: stdlib_1.noOp
                };
            }
            var endMeasureCalled = !1;
            return {
                endMeasure: function() {
                    if (!endMeasureCalled) {
                        endMeasureCalled = !0;
                        try {
                            _this._perf.mark(endName), _this._perf.measure(name, startName, endName);
                        } catch (err) {
                            _this._log.warn("could not complete measure", err);
                        }
                    }
                }
            };
        }, PerformanceMetricsImpl.prototype.measure = function(name, fn) {
            var startName = "__" + name + "-start", endName = "__" + name + "-end";
            try {
                this._perf.mark(startName);
            } catch (err) {
                return this._log.warn("could not start measure  ignoring measurement", err), fn();
            }
            try {
                return fn();
            } finally {
                try {
                    this._perf.mark(endName), this._perf.measure(name, startName, endName);
                } catch (err) {
                    this._log.warn("could not complete measure", err);
                }
            }
        }, PerformanceMetricsImpl;
    }();
    exports.PerformanceMetricsImpl = PerformanceMetricsImpl, function(PerformanceMetrics) {
        PerformanceMetrics.dummy = {
            flushMeasures: function(_) {
                return [];
            },
            measure: function(_, fn) {
                return fn();
            },
            startMeasure: function(_) {
                return {
                    endMeasure: function() {}
                };
            }
        }, PerformanceMetrics.create = function(p) {
            return void 0 !== p ? new PerformanceMetricsImpl(p) : PerformanceMetrics.dummy;
        };
    }(exports.PerformanceMetrics || (exports.PerformanceMetrics = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.logger = exports.defaults = void 0;
    var obj, _extends = Object.assign || function(target) {
        for (var i = 1; i < arguments.length; i++) {
            var source = arguments[i];
            for (var key in source) Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);
        }
        return target;
    }, _core = __webpack_require__(294), _helpers = __webpack_require__(141), _defaults = __webpack_require__(297), _defaults2 = (obj = _defaults) && obj.__esModule ? obj : {
        default: obj
    };
    function createLogger() {
        var options = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, loggerOptions = _extends({}, _defaults2.default, options), logger = loggerOptions.logger, transformer = loggerOptions.transformer, stateTransformer = loggerOptions.stateTransformer, errorTransformer = loggerOptions.errorTransformer, predicate = loggerOptions.predicate, logErrors = loggerOptions.logErrors, diffPredicate = loggerOptions.diffPredicate;
        if (void 0 === logger) return function() {
            return function(next) {
                return function(action) {
                    return next(action);
                };
            };
        };
        if (transformer && console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!"), 
        options.getState && options.dispatch) return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n\n\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\n\nconst logger = createLogger({\n  // ...options\n});\n\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"), 
        function() {
            return function(next) {
                return function(action) {
                    return next(action);
                };
            };
        };
        var logBuffer = [];
        return function(_ref) {
            var getState = _ref.getState;
            return function(next) {
                return function(action) {
                    if ("function" == typeof predicate && !predicate(getState, action)) return next(action);
                    var logEntry = {};
                    logBuffer.push(logEntry), logEntry.started = _helpers.timer.now(), logEntry.startedTime = new Date(), 
                    logEntry.prevState = stateTransformer(getState()), logEntry.action = action;
                    var returnedValue = void 0;
                    if (logErrors) try {
                        returnedValue = next(action);
                    } catch (e) {
                        logEntry.error = errorTransformer(e);
                    } else returnedValue = next(action);
                    logEntry.took = _helpers.timer.now() - logEntry.started, logEntry.nextState = stateTransformer(getState());
                    var diff = loggerOptions.diff && "function" == typeof diffPredicate ? diffPredicate(getState, action) : loggerOptions.diff;
                    if ((0, _core.printBuffer)(logBuffer, _extends({}, loggerOptions, {
                        diff: diff
                    })), logBuffer.length = 0, logEntry.error) throw logEntry.error;
                    return returnedValue;
                };
            };
        };
    }
    var defaultLogger = createLogger();
    exports.defaults = _defaults2.default, exports.logger = defaultLogger, exports.default = createLogger, 
    module.exports = exports.default;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var actions_1 = __webpack_require__(114);
    exports.defaultUser = {
        anonymous: !0,
        premium: !1
    }, exports.userReducer = function(state, _a) {
        void 0 === state && (state = exports.defaultUser);
        var type = _a.type, _b = _a.data, data = void 0 === _b ? {} : _b;
        switch (type) {
          case actions_1.t.SET_USER:
            return data;

          case actions_1.t.SET_SETTINGS:
            return Object.assign({}, state, {
                settings: data
            });

          case actions_1.t.INC_FIXED:
            var fixed_errors = state.fixed_errors + 1;
            return Object.assign({}, state, {
                fixed_errors: fixed_errors
            });

          default:
            return state;
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var client_script_1 = __webpack_require__(293), ot = __webpack_require__(347), document_state_1 = __webpack_require__(674), logger_1 = __webpack_require__(1), tracking_1 = __webpack_require__(8), tracking_2 = __webpack_require__(20), dom_1 = __webpack_require__(3), consistency_verifier_1 = __webpack_require__(675), nch = __webpack_require__(188), style = __webpack_require__(676), log = logger_1.Logger.create("gdocs-integration");
    exports.gDocsEditorElementClassName = "kix-appview-editor";
    var gDocsModeIconsClassNames, gDocsModeSwitcher = "#docs-toolbar-mode-switcher";
    !function(gDocsModeIconsClassNames) {
        gDocsModeIconsClassNames.view = "docs-icon-mode-view", gDocsModeIconsClassNames.edit = "docs-icon-mode-edit", 
        gDocsModeIconsClassNames.suggest = "docs-icon-mode-review-white";
    }(gDocsModeIconsClassNames || (gDocsModeIconsClassNames = {})), exports.gDocsViewModeIconSelector = gDocsModeSwitcher + " ." + gDocsModeIconsClassNames.view + ",\n#docs-access-level-indicator ." + gDocsModeIconsClassNames.view + "-white,\n#docs-access-level-indicator ." + gDocsModeIconsClassNames.view, 
    exports.gDocsEditModeIconSelector = gDocsModeSwitcher + " ." + gDocsModeIconsClassNames.edit, 
    exports.gDocsSuggestModeIconSelector = gDocsModeSwitcher + " ." + gDocsModeIconsClassNames.suggest;
    var DocumentEditingMode, idRe = /d\/(.*?)\//;
    exports.getHashedDocId = function() {
        if (idRe.test(document.location.href)) {
            var id = document.location.href.match(idRe)[1];
            return nch.createHash("superfasthash").hash(id);
        }
        return null;
    }, function(DocumentEditingMode) {
        DocumentEditingMode.edit = "edit", DocumentEditingMode.view = "view", DocumentEditingMode.suggest = "suggest", 
        DocumentEditingMode.unknown = "unknown";
    }(DocumentEditingMode || (DocumentEditingMode = {})), exports.trackGdocsLoad = function(id) {
        var track = function() {
            var mode = document.querySelector(exports.gDocsEditModeIconSelector) ? DocumentEditingMode.edit : document.querySelector(exports.gDocsViewModeIconSelector) ? DocumentEditingMode.view : document.querySelector(exports.gDocsSuggestModeIconSelector) ? DocumentEditingMode.suggest : DocumentEditingMode.unknown;
            tracking_2.gnar.gdocsEditorInit(id, mode);
        }, el = document.querySelector(gDocsModeSwitcher);
        if (el) if (el.innerText.trim()) track(); else {
            var mutationObserver_1 = new MutationObserver(function(mutations) {
                mutations.forEach(function(m) {
                    Array.from(m.addedNodes).forEach(function(node) {
                        node.querySelector("." + gDocsModeIconsClassNames.view + ", ." + gDocsModeIconsClassNames.suggest + ", ." + gDocsModeIconsClassNames.edit) && (track(), 
                        mutationObserver_1.disconnect());
                    });
                });
            });
            mutationObserver_1.observe(document.querySelector(gDocsModeSwitcher), {
                childList: !0,
                subtree: !0
            });
        }
    }, exports.gdocsCustomEvents = {
        injectFailed: "gdocsInjectFailed-gr",
        textUpdated: "gdocsText-gr",
        onSave: "gdocsSave-gr",
        onSaveReply: "gdocsSaveReply-gr",
        onGdocsXhrReply: "gdocsReply-gr",
        gdocsFailedBindRequest: "gdocsFailedBindRequest-gr",
        underlineRendered: "gdocsUnderline-gr",
        gdocsResponse: "gdocs-response",
        rollbackIntegration: "gdocs-rollbackIntegration",
        moveCursor: "gdocs-moveCursor",
        sendKey: "gdocs-sendKey",
        gdocsReady: "gdocs-ready"
    };
    var eventTargetIframeSelector = ".docs-texteventtarget-iframe", GdocsIntegrations = function() {
        function GdocsIntegrations(win, doc, listeners) {
            var _this = this;
            this.win = win, this.doc = doc, this.listeners = listeners, this.extensionDisabled = !1, 
            this.changesInOffline = !1, this.queuedActions = [], this.isExitState = !1, this._disableNativeGdocsContextMenuSuggestions(), 
            this.eventTargetIframe = doc.querySelector(eventTargetIframeSelector), this._attachListeners();
            try {
                this.document = new document_state_1.DocumentState(ot.parseText(document.body.innerHTML), ot.parseRevision(document.body.innerHTML), function() {
                    _this.listeners.onRevert();
                });
            } catch (e) {
                throw tracking_1.felog.gdocs.getInitialDocumentStateFailed(e.message), Error("Can't get initial state for google docs: " + e.message);
            }
            if (this._verifier = new consistency_verifier_1.ConsistencyVerifier(this.document, function(remoteState) {
                _this.document.resetState(remoteState), _this.listeners.onResetState(), tracking_1.felog.gdocs.localStateSwappedWithRemote();
            }), document.hidden) {
                var _visibilityEvent_1 = dom_1.visibilityEvent(document), initialCheck_1 = function() {
                    _this.listeners.onTextRevisionUpdate(_this.document.text), _this.listeners.onTextUpdate(_this.document.text), 
                    dom_1.unlisten(document, _visibilityEvent_1, initialCheck_1);
                };
                dom_1.listen(document, _visibilityEvent_1, initialCheck_1);
            } else this.listeners.onTextRevisionUpdate(this.document.text), this.listeners.onTextUpdate(this.document.text);
            log.debug("Initial text and revision", {
                text: this.document.text,
                revision: this.document.revision
            });
        }
        return GdocsIntegrations.prototype._enableNativeGdocsContextMenuSuggestions = function() {
            this.doc.body.classList.remove(style.grGdocs);
        }, GdocsIntegrations.prototype._disableNativeGdocsContextMenuSuggestions = function() {
            this.doc.body.classList.add(style.grGdocs);
        }, GdocsIntegrations.prototype._attachListeners = function() {
            var _this = this, fireOnTextRevisionUpdate = function(text) {
                _this.listeners.onTextRevisionUpdate(text), _this._verifier.checkConsistency({
                    revision: _this.document.revision,
                    text: text
                });
            }, failedBindRequestHandler = function() {
                _this.setNotReady();
            }, underlineHandler = function(_a) {
                var detail = _a.detail;
                _this.listeners.onUnderlineRendered(detail);
            }, textHandler = function(_a) {
                var detail = _a.detail, text = detail && detail.text;
                void 0 !== text && (_this._realText = text, _this.revisionWhenNotReady && !_this.isReady() && (_this.changesInOffline = !0), 
                _this.listeners.onTextUpdate(_this._realText));
            }, injectFailureHandler = function(_a) {
                var detail = _a.detail;
                console.log("Client script injection failed", detail.message), _this._disable && _this._disable("injection-failed");
            };
            dom_1.listen(this.win, exports.gdocsCustomEvents.onSave, function(_a) {
                var detail = _a.detail, params = detail && detail.params;
                if (void 0 !== params) {
                    var previousText = _this.document.text;
                    _this.document.updateFromSaveRequest(params), previousText !== _this.document.text && fireOnTextRevisionUpdate(_this.document.text);
                }
            }), dom_1.listen(this.win, exports.gdocsCustomEvents.onSaveReply, function(_a) {
                var detail = _a.detail, params = detail && detail.params, reply = detail && detail.reply;
                if (void 0 !== params && void 0 !== reply) {
                    var previousText = _this.document.text;
                    _this.document.onSaveReply(reply), previousText !== _this.document.text && fireOnTextRevisionUpdate(_this.document.text), 
                    _this._realText !== _this.document.text && _this.emitLog();
                }
            }), dom_1.listen(this.win, exports.gdocsCustomEvents.onGdocsXhrReply, function(_a) {
                var data = _a.detail, previousText = _this.document.text;
                _this.document.addResponse(data.text, !_this.extensionDisabled), previousText !== _this.document.text && fireOnTextRevisionUpdate(_this.document.text), 
                "get" !== data.method || _this.isReady() || (_this.revisionWhenNotReady && _this.changesInOffline ? (_this.isExitState || _this.listeners.onExit(), 
                _this.isExitState = !0) : _this.setReady()), _this.queuedActions.length && _this.isReady() && (_this.queuedActions.forEach(function(x) {
                    return x();
                }), _this.queuedActions = []), _this.sendResponse(), _this.isReady() && setTimeout(function() {
                    return dom_1.emitDomEvent(exports.gdocsCustomEvents.gdocsReady);
                }, 2e3);
            }), dom_1.listen(this.win, exports.gdocsCustomEvents.textUpdated, textHandler), 
            dom_1.listen(this.win, exports.gdocsCustomEvents.injectFailed, injectFailureHandler), 
            dom_1.listen(this.win, exports.gdocsCustomEvents.gdocsFailedBindRequest, failedBindRequestHandler), 
            dom_1.listen(this.win, exports.gdocsCustomEvents.underlineRendered, underlineHandler), 
            dom_1.listen(this.win, "getGdocsLog-gr", function() {
                _this.emitLog();
            }), this._disable = function(reason) {
                _this._enableNativeGdocsContextMenuSuggestions(), "user-disabled" === reason && dom_1.emitDomEvent(exports.gdocsCustomEvents.rollbackIntegration, _this.document.currentResponse), 
                dom_1.unlisten(_this.win, exports.gdocsCustomEvents.injectFailed, injectFailureHandler), 
                dom_1.unlisten(_this.win, exports.gdocsCustomEvents.textUpdated, textHandler), dom_1.unlisten(_this.win, exports.gdocsCustomEvents.gdocsFailedBindRequest, failedBindRequestHandler), 
                dom_1.unlisten(_this.win, exports.gdocsCustomEvents.underlineRendered, underlineHandler);
            };
        }, GdocsIntegrations.prototype.emitLog = function() {}, GdocsIntegrations.prototype.disable = function() {
            this._disable && this._disable("user-disabled"), this.extensionDisabled = !0;
        }, GdocsIntegrations.prototype.sendResponse = function() {
            dom_1.emitDomEvent(exports.gdocsCustomEvents.gdocsResponse, this.document.currentResponse);
        }, GdocsIntegrations.prototype.injectClientScript = function() {
            client_script_1.injectGdocsClientScript();
        }, GdocsIntegrations.prototype.forceDrawUnderlines = function() {
            gDocsPasteText(this.eventTargetIframe, " "), setTimeout(function() {
                return key = 8, void dom_1.emitDomEvent(exports.gdocsCustomEvents.sendKey, {
                    key: key
                });
                var key;
            }, 50);
        }, GdocsIntegrations.prototype.replaceTextInElement = function(leftRect, stepsLeft, selectionLength, value) {
            if (this.doc.activeElement) {
                !function(leftRect) {
                    var event = {
                        clientX: leftRect.left,
                        clientY: leftRect.top + leftRect.height / 2,
                        bubbles: !0
                    }, elTarget = document.elementFromPoint(event.clientX, event.clientY);
                    elTarget.dispatchEvent(new MouseEvent("mousedown", event)), elTarget.dispatchEvent(new MouseEvent("mouseup", event));
                }(leftRect), gDocsMoveCursor(-stepsLeft), gDocsMoveCursor(selectionLength, !0), 
                gDocsPasteText(this.eventTargetIframe, value);
                var richTextElAtPoint = this._guessRichTextElForRect(leftRect);
                if (richTextElAtPoint && ("a" === richTextElAtPoint.tagName || richTextElAtPoint.matches("a *"))) {
                    var el = function getWidestChild(el) {
                        var children = Array.from(el.children);
                        {
                            if (children.length) {
                                var widestChild = children.reduce(function(acc, el) {
                                    return el.getBoundingClientRect().width > acc.getBoundingClientRect().width ? el : acc;
                                });
                                return getWidestChild(widestChild);
                            }
                            return el;
                        }
                    }(richTextElAtPoint), result = el.cloneNode(!1);
                    for (result.innerHTML = value; el !== richTextElAtPoint && el.parentNode; ) {
                        var tmp = (el = el.parentNode).cloneNode(!1);
                        tmp.appendChild(result), result = tmp;
                    }
                    this.eventTargetIframe.contentDocument.body.innerHTML = result.outerHTML;
                }
            }
        }, GdocsIntegrations.prototype._guessRichTextElForRect = function(rect, steps) {
            var _this = this;
            void 0 === steps && (steps = 5);
            var getElsFromPoint = function(x, y) {
                return _this.doc.elementsFromPoint(x, y);
            }, xMid = rect.left + rect.width / 2, yMid = rect.top + rect.height / 2, lineEl = getElsFromPoint(xMid, yMid).find(function(x) {
                return dom_1.hasClass(x, "kix-lineview-content");
            });
            if (lineEl) {
                var overwriteEls = function(el, win) {
                    var els = el.querySelectorAll("*");
                    return Array.from(els).map(function(x) {
                        var pointerEvents = win.getComputedStyle(x).pointerEvents, pointerEventsNone = "none" === pointerEvents;
                        return pointerEventsNone && (x.style.pointerEvents = "initial"), pointerEventsNone ? x : void 0;
                    }).filter(function(x) {
                        return null != x;
                    });
                }(lineEl, this.win), elAfterOverwrite = Array(steps).fill("").map(function(_, i) {
                    return getElsFromPoint(xMid, rect.top + i / steps * rect.height).find(function(x) {
                        return dom_1.inEl(x, lineEl);
                    });
                }).filter(function(x) {
                    return void 0 !== x;
                }).reduce(function(acc, x) {
                    return Math.abs(x.getBoundingClientRect().width - rect.width) < Math.abs(acc.getBoundingClientRect().width - rect.width) ? x : acc;
                });
                return overwriteEls.forEach(function(x) {
                    return x.style.pointerEvents = "none";
                }), elAfterOverwrite;
            }
        }, GdocsIntegrations.prototype.renderUnderlines = function(ranges) {
            this.serializeAndSendUnderlines(ranges);
        }, GdocsIntegrations.prototype.serializeAndSendUnderlines = function(ranges) {
            var _this = this;
            this.isReady() ? (this.document.addRanges(ranges), this.sendResponse()) : this.queuedActions.push(function() {
                _this.document.addRanges(ranges);
            });
        }, GdocsIntegrations.prototype.removeUnderline = function(range) {
            var rangeToRemove = __assign({}, range, {
                replacements: [],
                value: ""
            });
            this.serializeAndSendUnderlines([ rangeToRemove ]);
        }, GdocsIntegrations.prototype.isReady = function() {
            return this.document.isReady;
        }, GdocsIntegrations.prototype.setNotReady = function() {
            this.revisionWhenNotReady = this.document.revision, this.document.isReady = !1;
        }, GdocsIntegrations.prototype.setReady = function() {
            this.document.isReady = !0;
        }, GdocsIntegrations;
    }();
    exports.GdocsIntegrations = GdocsIntegrations;
    var nbsp = "";
    function gDocsPasteText(targetIframe, value) {
        var dt = new DataTransfer();
        dt.setData("text/plain", value.replace(/\s/g, nbsp)), targetIframe.contentDocument.body.dispatchEvent(new ClipboardEvent("paste", {
            clipboardData: dt
        }));
    }
    function gDocsMoveCursor(steps, isSelect) {
        void 0 === isSelect && (isSelect = !1), dom_1.emitDomEvent(exports.gdocsCustomEvents.moveCursor, {
            steps: steps,
            isSelect: isSelect
        });
    }
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Config = __webpack_require__(11), call_1 = __webpack_require__(115), telemetry_1 = __webpack_require__(140), telemetry_2 = __webpack_require__(97), newConfig_1 = __webpack_require__(25), log = __webpack_require__(1).Logger.create("lib.tracking.logger");
    exports.felog = new telemetry_1.Telemetry(call_1.callBgPage.sendFelog.bind(call_1.callBgPage), call_1.callBgPage.sendFelogUsageEvent.bind(call_1.callBgPage), call_1.callBgPage.setUserId.bind(call_1.callBgPage), call_1.callBgPage.setContainerId.bind(call_1.callBgPage), call_1.callBgPage.sendTimes.bind(call_1.callBgPage), Config.getGlobal().appConfig.felog.sendUsageMetrics, telemetry_2.PerformanceMetrics.create(window.performance), Config.getGlobal().appConfig.felog.sendPerfMetrics, call_1.callBgPage.sendFelogManyEvents.bind(call_1.callBgPage)), 
    newConfig_1.isBg() && (log.info("Installing unhandled error loggers..."), window.addEventListener("error", function(e) {
        return exports.felog.unhandledBgPageException(e);
    }), window.addEventListener("unhandledrejection", function(e) {
        return exports.felog.unhandledBgPageRejection(e);
    }));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), function(SiteCategory) {
        SiteCategory.gdocs = "gdocs", SiteCategory.other = "other";
    }(exports.SiteCategory || (exports.SiteCategory = {}));
}, function(module, exports) {
    module.exports = function(array, predicate) {
        for (var index = -1, length = null == array ? 0 : array.length, resIndex = 0, result = []; ++index < length; ) {
            var value = array[index];
            predicate(value, index, array) && (result[resIndex++] = value);
        }
        return result;
    };
}, function(module, exports, __webpack_require__) {
    var Set = __webpack_require__(26)(__webpack_require__(12), "Set");
    module.exports = Set;
}, function(module, exports, __webpack_require__) {
    __webpack_require__(270);
    var algorithms = {
        superfasthash: __webpack_require__(271),
        murmurhash3: __webpack_require__(272)
    };
    module.exports = {
        createHash: function(algorithm) {
            algorithm = algorithm.replace(/![a-zA-z0-9]/g, "").toLowerCase();
            try {
                return algorithms[algorithm];
            } catch (e) {
                throw new Error(e);
            }
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function(resolve, reject) {
            function fulfilled(value) {
                try {
                    step(generator.next(value));
                } catch (e) {
                    reject(e);
                }
            }
            function rejected(value) {
                try {
                    step(generator.throw(value));
                } catch (e) {
                    reject(e);
                }
            }
            function step(result) {
                result.done ? resolve(result.value) : new P(function(resolve) {
                    resolve(result.value);
                }).then(fulfilled, rejected);
            }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }, __generator = this && this.__generator || function(thisArg, body) {
        var f, y, t, g, _ = {
            label: 0,
            sent: function() {
                if (1 & t[0]) throw t[1];
                return t[1];
            },
            trys: [],
            ops: []
        };
        return g = {
            next: verb(0),
            throw: verb(1),
            return: verb(2)
        }, "function" == typeof Symbol && (g[Symbol.iterator] = function() {
            return this;
        }), g;
        function verb(n) {
            return function(v) {
                return function(op) {
                    if (f) throw new TypeError("Generator is already executing.");
                    for (;_; ) try {
                        if (f = 1, y && (t = y[2 & op[0] ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                        switch (y = 0, t && (op = [ 0, t.value ]), op[0]) {
                          case 0:
                          case 1:
                            t = op;
                            break;

                          case 4:
                            return _.label++, {
                                value: op[1],
                                done: !1
                            };

                          case 5:
                            _.label++, y = op[1], op = [ 0 ];
                            continue;

                          case 7:
                            op = _.ops.pop(), _.trys.pop();
                            continue;

                          default:
                            if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                                _ = 0;
                                continue;
                            }
                            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                                _.label = op[1];
                                break;
                            }
                            if (6 === op[0] && _.label < t[1]) {
                                _.label = t[1], t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2], _.ops.push(op);
                                break;
                            }
                            t[2] && _.ops.pop(), _.trys.pop();
                            continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [ 6, e ], y = 0;
                    } finally {
                        f = t = 0;
                    }
                    if (5 & op[0]) throw op[1];
                    return {
                        value: op[0] ? op[1] : void 0,
                        done: !0
                    };
                }([ n, v ]);
            };
        }
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var StorageMigrationResult, InternalStorageMigrationResult, stdlib_1 = __webpack_require__(4), isEqual = __webpack_require__(169);
    function createMigrationAwareApi(api, preserveValue) {
        return {
            get: api.get.bind(api),
            set: api.set.bind(api),
            getAll: api.getAll.bind(api),
            remove: api.remove.bind(api),
            removeAll: function() {
                return __awaiter(this, void 0, void 0, function() {
                    var all;
                    return __generator(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return [ 4, api.getAll() ];

                          case 1:
                            return all = _a.sent(), [ 4, api.removeAll() ];

                          case 2:
                            return _a.sent(), [ 4, Promise.all(Object.keys(all).filter(preserveValue).map(function(k) {
                                return api.set(k, all[k]);
                            })) ];

                          case 3:
                            return _a.sent(), [ 2 ];
                        }
                    });
                });
            }
        };
    }
    !function(StorageMigrationResult) {
        StorageMigrationResult[StorageMigrationResult.success = 0] = "success", StorageMigrationResult[StorageMigrationResult.successWithEmpty = 1] = "successWithEmpty", 
        StorageMigrationResult[StorageMigrationResult.alreadyMigrated = 2] = "alreadyMigrated";
    }(StorageMigrationResult = exports.StorageMigrationResult || (exports.StorageMigrationResult = {})), 
    function(InternalStorageMigrationResult) {
        InternalStorageMigrationResult[InternalStorageMigrationResult.nonEmptyMigration = 0] = "nonEmptyMigration", 
        InternalStorageMigrationResult[InternalStorageMigrationResult.emptyMigration = 1] = "emptyMigration";
    }(InternalStorageMigrationResult || (InternalStorageMigrationResult = {})), exports.createMigrationAwareApi = createMigrationAwareApi;
    var StorageMigration = function() {
        function StorageMigration(_name, _source, _destination, _destValuesToKeep) {
            void 0 === _destValuesToKeep && (_destValuesToKeep = []);
            var _this = this;
            this._name = _name, this._source = _source, this._destination = _destination, this._destValuesToKeep = _destValuesToKeep, 
            this._migrationFlagSuccessfulValue = "ok", this._migrationFlagUniqueKey = "104ccd8c-9919-9ae4-931f-782fb197486c", 
            this._migrationFlagKey = "__migration-" + this._migrationFlagUniqueKey + ":(" + this._name + ")", 
            this._migrationInProgress = !1, this.migrationAwareDestination = createMigrationAwareApi(this._destination, function(k) {
                return k === _this._migrationFlagKey;
            });
        }
        return StorageMigration.prototype._getMigrated = function() {
            var _this = this;
            return this._destination.get(this._migrationFlagKey).then(function(x) {
                return x === _this._migrationFlagSuccessfulValue;
            });
        }, StorageMigration.prototype._setMigrated = function() {
            return __awaiter(this, void 0, void 0, function() {
                var actualStatus;
                return __generator(this, function(_a) {
                    switch (_a.label) {
                      case 0:
                        return [ 4, this._destination.set(this._migrationFlagKey, this._migrationFlagSuccessfulValue) ];

                      case 1:
                        return _a.sent(), [ 4, this._destination.get(this._migrationFlagKey) ];

                      case 2:
                        if ((actualStatus = _a.sent()) !== this._migrationFlagSuccessfulValue) throw new Error("Could not verify status write, actual value: " + actualStatus);
                        return [ 2 ];
                    }
                });
            });
        }, StorageMigration.prototype._runMigration = function() {
            return __awaiter(this, void 0, void 0, function() {
                var payload_1, sourceIsEmpty, _a, _b, err_1, _this = this;
                return __generator(this, function(_c) {
                    switch (_c.label) {
                      case 0:
                        stdlib_1.assert(!this._migrationInProgress, "migration already in progress"), this._migrationInProgress = !0, 
                        _c.label = 1;

                      case 1:
                        return _c.trys.push([ 1, 7, , 8 ]), [ 4, this._source.getAll() ];

                      case 2:
                        return payload_1 = _c.sent(), sourceIsEmpty = 0 === Object.keys(payload_1).length, 
                        [ 4, Promise.all(this._destValuesToKeep.map(function(k) {
                            return _this._destination.get(k).then(function(v) {
                                null != v && (payload_1[k] = v);
                            });
                        })) ];

                      case 3:
                        return _c.sent(), [ 4, this._destination.removeAll() ];

                      case 4:
                        return _c.sent(), [ 4, Promise.all(Object.keys(payload_1).filter(function(k) {
                            return null != payload_1[k];
                        }).map(function(k) {
                            return _this._destination.set(k, payload_1[k]);
                        })) ];

                      case 5:
                        return _c.sent(), _a = isEqual, _b = [ payload_1 ], [ 4, this._destination.getAll() ];

                      case 6:
                        if (!_a.apply(void 0, _b.concat([ _c.sent() ]))) throw new Error("Could not verify write");
                        return this._migrationInProgress = !1, [ 2, sourceIsEmpty ? InternalStorageMigrationResult.emptyMigration : InternalStorageMigrationResult.nonEmptyMigration ];

                      case 7:
                        throw err_1 = _c.sent(), this._migrationInProgress = !1, err_1;

                      case 8:
                        return [ 2 ];
                    }
                });
            });
        }, StorageMigration.prototype.ensureMigrationCompleted = function() {
            return __awaiter(this, void 0, void 0, function() {
                var internalMigrationResult;
                return __generator(this, function(_a) {
                    switch (_a.label) {
                      case 0:
                        return [ 4, this._getMigrated() ];

                      case 1:
                        return _a.sent() ? [ 2, StorageMigrationResult.alreadyMigrated ] : [ 3, 2 ];

                      case 2:
                        return [ 4, this._runMigration() ];

                      case 3:
                        return internalMigrationResult = _a.sent(), [ 4, this._setMigrated() ];

                      case 4:
                        switch (_a.sent(), internalMigrationResult) {
                          case InternalStorageMigrationResult.nonEmptyMigration:
                            return [ 2, StorageMigrationResult.success ];

                          case InternalStorageMigrationResult.emptyMigration:
                            return [ 2, StorageMigrationResult.successWithEmpty ];

                          default:
                            throw internalMigrationResult, new Error("Match not exhaustive: " + internalMigrationResult);
                        }
                        _a.label = 5;

                      case 5:
                        return [ 2 ];
                    }
                });
            });
        }, StorageMigration;
    }();
    exports.StorageMigration = StorageMigration;
}, function(module, exports, __webpack_require__) {
    var apply = __webpack_require__(191), nativeMax = Math.max;
    module.exports = function(func, start, transform) {
        return start = nativeMax(void 0 === start ? func.length - 1 : start, 0), function() {
            for (var args = arguments, index = -1, length = nativeMax(args.length - start, 0), array = Array(length); ++index < length; ) array[index] = args[start + index];
            index = -1;
            for (var otherArgs = Array(start + 1); ++index < start; ) otherArgs[index] = args[index];
            return otherArgs[start] = transform(array), apply(func, this, otherArgs);
        };
    };
}, function(module, exports) {
    module.exports = function(func, thisArg, args) {
        switch (args.length) {
          case 0:
            return func.call(thisArg);

          case 1:
            return func.call(thisArg, args[0]);

          case 2:
            return func.call(thisArg, args[0], args[1]);

          case 3:
            return func.call(thisArg, args[0], args[1], args[2]);
        }
        return func.apply(thisArg, args);
    };
}, function(module, exports, __webpack_require__) {
    var baseSetToString = __webpack_require__(279), setToString = __webpack_require__(281)(baseSetToString);
    module.exports = setToString;
}, function(module, exports, __webpack_require__) {
    var eq = __webpack_require__(35), isArrayLike = __webpack_require__(28), isIndex = __webpack_require__(63), isObject = __webpack_require__(9);
    module.exports = function(value, index, object) {
        if (!isObject(object)) return !1;
        var type = typeof index;
        return !!("number" == type ? isArrayLike(object) && isIndex(index, object.length) : "string" == type && index in object) && eq(object[index], value);
    };
}, function(module, exports, __webpack_require__) {
    var isObject = __webpack_require__(9), isSymbol = __webpack_require__(51), NAN = NaN, reTrim = /^\s+|\s+$/g, reIsBadHex = /^[-+]0x[0-9a-f]+$/i, reIsBinary = /^0b[01]+$/i, reIsOctal = /^0o[0-7]+$/i, freeParseInt = parseInt;
    module.exports = function(value) {
        if ("number" == typeof value) return value;
        if (isSymbol(value)) return NAN;
        if (isObject(value)) {
            var other = "function" == typeof value.valueOf ? value.valueOf() : value;
            value = isObject(other) ? other + "" : other;
        }
        if ("string" != typeof value) return 0 === value ? value : +value;
        value = value.replace(reTrim, "");
        var isBinary = reIsBinary.test(value);
        return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.t = {
        SET_ACTIVE_TAB: "tabs/SET_ACTIVE_TAB"
    }, exports.setActiveTab = function(data) {
        return {
            type: exports.t.SET_ACTIVE_TAB,
            data: data
        };
    };
}, function(module, exports, __webpack_require__) {
    var arrayPush = __webpack_require__(106), isFlattenable = __webpack_require__(385);
    module.exports = function baseFlatten(array, depth, predicate, isStrict, result) {
        var index = -1, length = array.length;
        for (predicate || (predicate = isFlattenable), result || (result = []); ++index < length; ) {
            var value = array[index];
            depth > 0 && predicate(value) ? depth > 1 ? baseFlatten(value, depth - 1, predicate, isStrict, result) : arrayPush(result, value) : isStrict || (result[result.length] = value);
        }
        return result;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.tracker = function() {
        return window.tracker = window.tracker || {}, window.tracker;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var tslib_1 = __webpack_require__(199), utils_1 = __webpack_require__(152), AbstractMetricsStorage = function() {
        function AbstractMetricsStorage(name, timersSink, countersSink) {
            this.name = name, this.timersSink = timersSink, this.countersSink = countersSink, 
            utils_1.validateName(name);
        }
        return AbstractMetricsStorage.prototype.getMetric = function(name) {
            return this._createChild(name);
        }, AbstractMetricsStorage.prototype.getTimer = function(name) {
            return this._createChild(name);
        }, AbstractMetricsStorage.prototype.getCounter = function(name) {
            return this._createChild(name);
        }, Object.defineProperty(AbstractMetricsStorage.prototype, "parent", {
            get: function() {
                var dot = this.name.lastIndexOf("."), name = this.name.substring(0, -1 === dot ? 0 : dot);
                return "" === name ? void 0 : new AbstractMetricsStorage(name, this.timersSink, this.countersSink);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(AbstractMetricsStorage.prototype, "root", {
            get: function() {
                var dot = this.name.indexOf("."), name = this.name.substring(0, -1 === dot ? 0 : dot);
                return "" === name ? this : new AbstractMetricsStorage(name, this.timersSink, this.countersSink);
            },
            enumerable: !0,
            configurable: !0
        }), AbstractMetricsStorage.prototype._createName = function(name) {
            return this.name + "." + name;
        }, AbstractMetricsStorage.prototype.start = function() {
            var start = Date.now(), self = this;
            return {
                stop: function() {
                    self.recordTime(Date.now() - start);
                }
            };
        }, AbstractMetricsStorage.prototype.recordTime = function(time) {
            this.timersSink(this.name, time);
        }, AbstractMetricsStorage.prototype.timing = function(fn) {
            var tn = this.start();
            try {
                return fn();
            } finally {
                try {
                    tn.stop();
                } catch (e) {}
            }
        }, AbstractMetricsStorage.prototype.increment = function(step) {
            void 0 === step && (step = 1), this.countersSink(this.name, step);
        }, AbstractMetricsStorage.prototype.decrement = function(step) {
            void 0 === step && (step = 1), this.increment(-step);
        }, AbstractMetricsStorage.prototype._createChild = function(name) {
            return new AbstractMetricsStorage(this._createName(name), this.timersSink, this.countersSink);
        }, AbstractMetricsStorage;
    }();
    exports.AbstractMetricsStorage = AbstractMetricsStorage;
    var MetricsPrinter = function(_super) {
        function MetricsPrinter(fn) {
            return _super.call(this, "MP", function(name, value) {
                return fn("TIMER: " + name + " = " + value);
            }, function(name, value) {
                return fn("COUNTER: " + name + " = " + value);
            }) || this;
        }
        return tslib_1.__extends(MetricsPrinter, _super), MetricsPrinter;
    }(AbstractMetricsStorage);
    exports.MetricsPrinter = MetricsPrinter;
    var DEFAULT_SEND_TIMEOUT_MS = 7500, MAX_SEND_ATTEMPTS = 3, MetricsStorage = function(_super) {
        function MetricsStorage(name, baseUrl, _fetch, _sendTimeout) {
            void 0 === _sendTimeout && (_sendTimeout = DEFAULT_SEND_TIMEOUT_MS);
            var _this = _super.call(this, name, function(n, v) {
                return _this._reportTimer(n, v);
            }, function(n, v) {
                return _this._reportCounter(n, v);
            }) || this;
            return _this._fetch = _fetch, _this._sendTimeout = _sendTimeout, _this._countersBuffer = {}, 
            _this._timersBuffer = new Array(), _this._sendTimer = void 0, _this._sendData = function() {
                var data = [ _this._timersBuffer.join("&"), Object.keys(_this._countersBuffer).map(function(key) {
                    return key + "=" + _this._countersBuffer[key];
                }).join("&") ].filter(function(s) {
                    return s.length;
                }).join("&"), url = _this._baseUrl + data;
                _this._timersBuffer.length = 0, _this._countersBuffer = {}, _this._sendTimer = void 0;
                var attempt = 0, send = function() {
                    _this._fetch(url, {
                        mode: "no-cors",
                        cache: "no-cache"
                    }).catch(function(error) {
                        attempt++ < MAX_SEND_ATTEMPTS ? setTimeout(send, 5e3 * attempt) : console.error("Cannot send timesereies data", error, url);
                    });
                };
                send();
            }, _this._baseUrl = baseUrl + "/ts?", _this;
        }
        return tslib_1.__extends(MetricsStorage, _super), MetricsStorage.createRoot = function(name, baseUrl, fetch) {
            return new MetricsStorage(name, baseUrl, fetch);
        }, MetricsStorage.prototype._reportTimer = function(name, value) {
            this._timersBuffer.push("t." + name + "=" + value), this._startSending();
        }, MetricsStorage.prototype._reportCounter = function(name, value) {
            var key = "c." + name;
            this._countersBuffer[key] = (this._countersBuffer[key] || 0) + value, this._startSending();
        }, MetricsStorage.prototype._startSending = function() {
            this._sendTimer || (this._sendTimer = setTimeout(this._sendData, this._sendTimeout));
        }, MetricsStorage;
    }(AbstractMetricsStorage);
    exports.MetricsStorage = MetricsStorage;
    var MetricsConfig = function() {
        function MetricsConfig() {}
        return MetricsConfig.getRootMetric = function() {
            return MetricsConfig._metricsRoot || (console.warn("[WARNING] Using default timeseries implementation."), 
            MetricsConfig._metricsRoot = new MetricsPrinter(console.log)), MetricsConfig._metricsRoot;
        }, MetricsConfig.configure = function(root) {
            MetricsConfig._metricsRoot = root;
        }, MetricsConfig;
    }();
    exports.MetricsConfig = MetricsConfig;
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    Object.defineProperty(__webpack_exports__, "__esModule", {
        value: !0
    }), __webpack_exports__.__extends = function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    }, __webpack_require__.d(__webpack_exports__, "__assign", function() {
        return __assign;
    }), __webpack_exports__.__rest = function(s, e) {
        var t = {};
        for (var p in s) Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0 && (t[p] = s[p]);
        if (null != s && "function" == typeof Object.getOwnPropertySymbols) for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) e.indexOf(p[i]) < 0 && (t[p[i]] = s[p[i]]);
        return t;
    }, __webpack_exports__.__decorate = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, __webpack_exports__.__param = function(paramIndex, decorator) {
        return function(target, key) {
            decorator(target, key, paramIndex);
        };
    }, __webpack_exports__.__metadata = function(metadataKey, metadataValue) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(metadataKey, metadataValue);
    }, __webpack_exports__.__awaiter = function(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function(resolve, reject) {
            function fulfilled(value) {
                try {
                    step(generator.next(value));
                } catch (e) {
                    reject(e);
                }
            }
            function rejected(value) {
                try {
                    step(generator.throw(value));
                } catch (e) {
                    reject(e);
                }
            }
            function step(result) {
                result.done ? resolve(result.value) : new P(function(resolve) {
                    resolve(result.value);
                }).then(fulfilled, rejected);
            }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }, __webpack_exports__.__generator = function(thisArg, body) {
        var f, y, t, g, _ = {
            label: 0,
            sent: function() {
                if (1 & t[0]) throw t[1];
                return t[1];
            },
            trys: [],
            ops: []
        };
        return g = {
            next: verb(0),
            throw: verb(1),
            return: verb(2)
        }, "function" == typeof Symbol && (g[Symbol.iterator] = function() {
            return this;
        }), g;
        function verb(n) {
            return function(v) {
                return function(op) {
                    if (f) throw new TypeError("Generator is already executing.");
                    for (;_; ) try {
                        if (f = 1, y && (t = y[2 & op[0] ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                        switch (y = 0, t && (op = [ 0, t.value ]), op[0]) {
                          case 0:
                          case 1:
                            t = op;
                            break;

                          case 4:
                            return _.label++, {
                                value: op[1],
                                done: !1
                            };

                          case 5:
                            _.label++, y = op[1], op = [ 0 ];
                            continue;

                          case 7:
                            op = _.ops.pop(), _.trys.pop();
                            continue;

                          default:
                            if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                                _ = 0;
                                continue;
                            }
                            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                                _.label = op[1];
                                break;
                            }
                            if (6 === op[0] && _.label < t[1]) {
                                _.label = t[1], t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2], _.ops.push(op);
                                break;
                            }
                            t[2] && _.ops.pop(), _.trys.pop();
                            continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [ 6, e ], y = 0;
                    } finally {
                        f = t = 0;
                    }
                    if (5 & op[0]) throw op[1];
                    return {
                        value: op[0] ? op[1] : void 0,
                        done: !0
                    };
                }([ n, v ]);
            };
        }
    }, __webpack_exports__.__exportStar = function(m, exports) {
        for (var p in m) exports.hasOwnProperty(p) || (exports[p] = m[p]);
    }, __webpack_exports__.__values = __values, __webpack_exports__.__read = __read, 
    __webpack_exports__.__spread = function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    }, __webpack_exports__.__await = __await, __webpack_exports__.__asyncGenerator = function(thisArg, _arguments, generator) {
        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
        var i, g = generator.apply(thisArg, _arguments || []), q = [];
        return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function() {
            return this;
        }, i;
        function verb(n) {
            g[n] && (i[n] = function(v) {
                return new Promise(function(a, b) {
                    q.push([ n, v, a, b ]) > 1 || resume(n, v);
                });
            });
        }
        function resume(n, v) {
            try {
                (r = g[n](v)).value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);
            } catch (e) {
                settle(q[0][3], e);
            }
            var r;
        }
        function fulfill(value) {
            resume("next", value);
        }
        function reject(value) {
            resume("throw", value);
        }
        function settle(f, v) {
            f(v), q.shift(), q.length && resume(q[0][0], q[0][1]);
        }
    }, __webpack_exports__.__asyncDelegator = function(o) {
        var i, p;
        return i = {}, verb("next"), verb("throw", function(e) {
            throw e;
        }), verb("return"), i[Symbol.iterator] = function() {
            return this;
        }, i;
        function verb(n, f) {
            o[n] && (i[n] = function(v) {
                return (p = !p) ? {
                    value: __await(o[n](v)),
                    done: "return" === n
                } : f ? f(v) : v;
            });
        }
    }, __webpack_exports__.__asyncValues = function(o) {
        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
        var m = o[Symbol.asyncIterator];
        return m ? m.call(o) : __values(o);
    }, __webpack_exports__.__makeTemplateObject = function(cooked, raw) {
        Object.defineProperty ? Object.defineProperty(cooked, "raw", {
            value: raw
        }) : cooked.raw = raw;
        return cooked;
    }, __webpack_exports__.__importStar = function(mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (null != mod) for (var k in mod) Object.hasOwnProperty.call(mod, k) && (result[k] = mod[k]);
        return result.default = mod, result;
    }, __webpack_exports__.__importDefault = function(mod) {
        return mod && mod.__esModule ? mod : {
            default: mod
        };
    };
    var extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    };
    var __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    function __values(o) {
        var m = "function" == typeof Symbol && o[Symbol.iterator], i = 0;
        return m ? m.call(o) : {
            next: function() {
                return o && i >= o.length && (o = void 0), {
                    value: o && o[i++],
                    done: !o
                };
            }
        };
    }
    function __read(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }
    function __await(v) {
        return this instanceof __await ? (this.v = v, this) : new __await(v);
    }
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function(resolve, reject) {
            function fulfilled(value) {
                try {
                    step(generator.next(value));
                } catch (e) {
                    reject(e);
                }
            }
            function rejected(value) {
                try {
                    step(generator.throw(value));
                } catch (e) {
                    reject(e);
                }
            }
            function step(result) {
                result.done ? resolve(result.value) : new P(function(resolve) {
                    resolve(result.value);
                }).then(fulfilled, rejected);
            }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }, __generator = this && this.__generator || function(thisArg, body) {
        var f, y, t, g, _ = {
            label: 0,
            sent: function() {
                if (1 & t[0]) throw t[1];
                return t[1];
            },
            trys: [],
            ops: []
        };
        return g = {
            next: verb(0),
            throw: verb(1),
            return: verb(2)
        }, "function" == typeof Symbol && (g[Symbol.iterator] = function() {
            return this;
        }), g;
        function verb(n) {
            return function(v) {
                return function(op) {
                    if (f) throw new TypeError("Generator is already executing.");
                    for (;_; ) try {
                        if (f = 1, y && (t = y[2 & op[0] ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                        switch (y = 0, t && (op = [ 0, t.value ]), op[0]) {
                          case 0:
                          case 1:
                            t = op;
                            break;

                          case 4:
                            return _.label++, {
                                value: op[1],
                                done: !1
                            };

                          case 5:
                            _.label++, y = op[1], op = [ 0 ];
                            continue;

                          case 7:
                            op = _.ops.pop(), _.trys.pop();
                            continue;

                          default:
                            if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                                _ = 0;
                                continue;
                            }
                            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                                _.label = op[1];
                                break;
                            }
                            if (6 === op[0] && _.label < t[1]) {
                                _.label = t[1], t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2], _.ops.push(op);
                                break;
                            }
                            t[2] && _.ops.pop(), _.trys.pop();
                            continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [ 6, e ], y = 0;
                    } finally {
                        f = t = 0;
                    }
                    if (5 & op[0]) throw op[1];
                    return {
                        value: op[0] ? op[1] : void 0,
                        done: !0
                    };
                }([ n, v ]);
            };
        }
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var isObject = __webpack_require__(9), util_1 = __webpack_require__(2), config_1 = __webpack_require__(10), message = __webpack_require__(16), cookie_1 = __webpack_require__(351), extension_api_1 = __webpack_require__(65), log = __webpack_require__(1).Logger.create("lib.request"), AJAX_TIMEOUT = 1e4;
    function transformOptions(opts, isBG) {
        return __awaiter(this, void 0, void 0, function() {
            return __generator(this, function(_a) {
                switch (_a.label) {
                  case 0:
                    if (opts.data && (opts.query || "post" !== opts.method) && (opts.url += "?" + paramStr(opts.data)), 
                    opts.data && "post" === opts.method && !opts.query && !opts.body) {
                        try {
                            opts.body = JSON.stringify(opts.data);
                        } catch (e) {
                            opts.body = {}, log.warn("", e);
                        }
                        opts.headers = opts.headers || {}, opts.headers["Content-Type"] = opts.headers["Content-Type"] || "application/json", 
                        delete opts.data;
                    }
                    return opts.credentials = "include", isBG ? [ 4, function(opts) {
                        return new cookie_1.CookiesHelper(extension_api_1.getGlobalExtensionApi()).getCSRFToken().then(function(v) {
                            return v && (opts.headers = opts.headers || {}, opts.headers["X-CSRF-Token"] = v), 
                            opts;
                        });
                    }(opts) ] : [ 3, 2 ];

                  case 1:
                    return [ 2, _a.sent() ];

                  case 2:
                    return [ 2, opts ];
                }
            });
        });
    }
    function bgFetch(opts) {
        var url = opts.url;
        if (delete opts.url, !url) return Promise.reject(new Error("Url is not defined in fetch request"));
        return Promise.race([ window.fetch(url, opts).then(function(resp) {
            return resp.ok ? resp[opts.isText ? "text" : "json"]() : resp.text().then(function(body) {
                throw {
                    name: "RequestError",
                    body: body,
                    statusCode: resp.status,
                    message: resp.statusText
                };
            });
        }).then(function(res) {
            if ("string" != typeof res && res && res.error) throw new Error(res.error);
            return res;
        }), util_1.delay(opts.timeout || AJAX_TIMEOUT).then(function() {
            throw new Error("Fetch request to " + url + " rejected by timeout");
        }) ]);
    }
    function paramStr(data) {
        var req = "", _loop_1 = function(item) {
            if (Array.isArray(data[item])) {
                if (data[item].length) {
                    var items = data[item].map(function(val) {
                        return item + "=" + val;
                    }).join("&");
                    req += (req.length ? "&" : "") + items;
                }
            } else req += (req.length ? "&" : "") + item + "=" + encodeURIComponent(data[item]);
        };
        for (var item in data) _loop_1(item);
        return req;
    }
    util_1.isBg() && message.on("fetch", function(data, cb) {
        return bgFetch(data).then(cb, function(error) {
            return cb({
                error: error.message
            });
        });
    }), exports.transformOptions = transformOptions, exports.fetch = function(url, opts) {
        return void 0 === opts && (opts = {}), __awaiter(this, void 0, void 0, function() {
            var data;
            return __generator(this, function(_a) {
                switch (_a.label) {
                  case 0:
                    return opts.url = url, [ 4, transformOptions(opts, util_1.isBg()) ];

                  case 1:
                    return _a.sent(), util_1.isBg() || config_1.isTestsMode() ? [ 2, bgFetch(opts) ] : [ 4, message.promiseBackground("fetch", opts) ];

                  case 2:
                    if (data = _a.sent(), isObject(data) && data.error) throw new Error(data.error);
                    return [ 2, data ];
                }
            });
        });
    }, exports.paramStr = paramStr;
}, function(module, exports, __webpack_require__) {
    try {
        module.exports = __webpack_require__(686);
    } catch (e) {}
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), dom_1 = __webpack_require__(3), react_1 = __webpack_require__(22), style = __webpack_require__(701), Spinner = (__webpack_require__(702), 
    function(_a) {
        var className = _a.className;
        return React.createElement("div", {
            className: "gr_-spinner " + className
        }, React.createElement("div", {
            className: "gr_-bounce1"
        }), React.createElement("div", {
            className: "gr_-bounce2"
        }), React.createElement("div", {
            className: "gr_-bounce3"
        }));
    }), Button = function(_super) {
        function Button() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.onClick = function(e) {
                e.preventDefault(), _this.props.loading || _this.props.onClick && _this.props.onClick(e);
            }, _this;
        }
        return __extends(Button, _super), Button.prototype.render = function() {
            var _b, _a = this.props, loading = _a.loading, cls = _a.cls, text = loading ? "" : this.props.text, styles = this.props.styles || {
                width: 290
            }, classes = dom_1.cs(((_b = {})[style.buttonContainer] = !0, _b[style[cls]] = void 0 !== cls, 
            _b[style.loading] = loading, _b[style.isFb] = this.props.isFb, _b[style.isGoogle] = this.props.isGoogle, 
            _b));
            return React.createElement("div", {
                className: classes,
                style: styles
            }, loading && React.createElement(Spinner, {
                className: style.buttonSpinner
            }), React.createElement(react_1.GenericButton, {
                clickHandler: this.onClick
            }, React.createElement("button", {
                type: "button",
                style: styles,
                className: style.button
            }, text)));
        }, Button;
    }(React.Component);
    exports.Button = Button;
}, function(module, exports) {
    module.exports = {
        start: "dpbiP",
        info: "dWD1i",
        finish: "_3G7TR",
        startVideo: "_3we9E",
        infoVideo: "_2SL94",
        finishVideo: "_1rCN5",
        step: "e2mkr",
        content: "_1FAIu",
        title: "_2LgEf",
        text: "_3axrl",
        button: "v5a6f",
        inactive: "_38WRq",
        link: "ckHK9",
        personalize: "_2P3Hr",
        registration: "_2U_wC",
        fbSignin: "_2x6T-",
        googleSignin: "_30n1N",
        progress: "_1r9eR",
        bar: "_1Cesq",
        progressValue: "GSGG4",
        barValue: "_36mFi",
        grid: "_1w708",
        item: "cTXYa",
        name: "_1LMCP",
        description: "_3Agot",
        footer: "_351zk",
        skipSettings: "_1mopk",
        slider: "_3QS-C",
        sliderItem: "_1Q9l4",
        sliderActive: "_1N666",
        placeholder: "_16_Xy"
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    function isDraftJsField(el) {
        return !(!el.hasAttribute("contenteditable") || !el.querySelector('[data-contents="true"] > [data-editor], [data-block]'));
    }
    function isQuillField(el) {
        return el.classList.contains("ql-editor") || el.classList.contains("ql-container");
    }
    function isRedactorField(el) {
        return el.className.indexOf("redactor") > -1;
    }
    function isScribeField(el) {
        return el.className.indexOf("scribe") > -1;
    }
    function isTrixField(el) {
        return el.className.indexOf("trix") > -1;
    }
    function isTinyMCEField(el) {
        if ("IFRAME" !== el.tagName) return !1;
        var iframeEl = el;
        return iframeEl.id.indexOf("mce") > -1 || iframeEl.contentDocument.querySelectorAll("#tinymce, .mce-content-body").length > 0;
    }
    function isCKEditorField(el) {
        return el.className.indexOf("cke") > -1;
    }
    function isProseMirrorField(el) {
        return el.hasAttribute("pm-container") || el.classList.contains("ProseMirror");
    }
    function isMediumEditorField(el) {
        return el.className.indexOf("medium-editor") > -1;
    }
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.isDraftJsField = isDraftJsField, exports.isQuillField = isQuillField, 
    exports.isRedactorField = isRedactorField, exports.isScribeField = isScribeField, 
    exports.isTrixField = isTrixField, exports.isTinyMCEField = isTinyMCEField, exports.isCKEditorField = isCKEditorField, 
    exports.isProseMirrorField = isProseMirrorField, exports.isMediumEditorField = isMediumEditorField, 
    exports.getFieldType = function(el) {
        try {
            return isDraftJsField(el) ? "draftJs" : isQuillField(el) ? "quill" : isRedactorField(el) ? "redactor" : isProseMirrorField(el) ? "prosemirror" : isScribeField(el) ? "scribe" : isTrixField(el) ? "trix" : isMediumEditorField(el) ? "medium-editor" : isTinyMCEField(el) ? "tinymce" : isCKEditorField(el) ? "ckeditor" : el.hasAttribute("contenteditable") ? "contenteditable" : "TEXTAREA" === el.tagName ? "textarea" : "IFRAME" === el.tagName ? "iframe" : "unknown";
        } catch (e) {
            return;
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    (function(process) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var equals_1 = __webpack_require__(426), equals_2 = __webpack_require__(426);
        exports.structEq = equals_2.equals, exports.DEV_ENV = void 0 !== process && !1, 
        exports.setKey = function(k, v, o) {
            if (k in o && equals_1.equals(v, o[k])) return o;
            var r = {};
            for (var p in o) r[p] = o[p];
            return r[k] = v, r;
        }, exports.conservatively = function(fn) {
            return function(y, c0) {
                return function(x, y) {
                    return equals_1.equals(x, y) ? y : x;
                }(fn(y, c0), c0);
            };
        }, exports.findIndex = function(xs, p) {
            for (var i = 0; i < xs.length; i++) if (p(xs[i])) return i;
            return -1;
        }, exports.warning = function(message) {
            "undefined" != typeof console && "function" == typeof console.error && console.error("[Focal]: " + message);
            try {
                throw new Error(message);
            } catch (_) {}
        }, exports.getReactComponentName = function(component) {
            return "string" == typeof component ? component : void 0 !== component.displayName ? component.displayName : void 0 !== component.name ? component.name : component.constructor && void 0 !== component.constructor.name ? component.constructor.name : void 0;
        }, function(Option) {
            Option.isNone = function(x) {
                return void 0 === x;
            }, Option.isSome = function(x) {
                return void 0 !== x;
            };
        }(exports.Option || (exports.Option = {}));
    }).call(exports, __webpack_require__(60));
}, function(module, exports) {
    module.exports = {
        gButtonPopup: "_2JPBx",
        text: "_3DC7p",
        title: "_1WpVX",
        bold: "_3H7bj",
        link: "_2GZxT",
        secondary: "_2GsyL",
        firstTime: "vRkUD",
        close: "wpaW-",
        grammarlyIcon: "_2J7PE",
        disable: "_3_QQa",
        gdocsBeta: "_15C00",
        header: "_2FoAS",
        bubbleArrow: "_1toNZ",
        feedbackPopup: "_160Oo",
        subHeader: "_691UI",
        feedbackSentViewHeader: "_3zF71",
        feedbackField: "_2D3Gw",
        scoreList: "_219dJ",
        scoreListCell: "_140Rv",
        score: "_1BgYJ",
        scoreBad: "_3SiNM",
        scoreGood: "_1Srbu",
        scoreOk: "_2T4JO",
        active: "_3A8Qf",
        button: "_1iUu_",
        disabled: "_2XM8B",
        loginReminder: "k4R8r",
        premium: "_1dUwC",
        popupFooter: "_2rEBZ",
        isFlipped: "_3ybvq",
        subtitle: "_21FRl",
        list: "_25OQD",
        listItem: "_24W9q",
        onboarding: "eRsf_",
        summarize: "_2DGgN",
        expanded: "_12FaK",
        acceptButton: "_3sYeg",
        disableButton: "_1JTfZ",
        additional: "_1p_ec",
        line: "_27q_v",
        moreButton: "_1WyRU",
        round: "_10HK_",
        collapseButton: "_2smm-",
        ignoreButton: "_2q79t",
        example: "_2wnzn",
        unclear: "_2GPyp",
        clear: "_1r4if",
        exampleText: "_1aFJD"
    };
}, , , function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    try {
        window.firefox = browser;
    } catch (e) {
        window.firefox = window.browser;
    }
    window.edge = window.browser, window.chrome = window.chrome, exports.default = void 0;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __rest = this && this.__rest || function(s, e) {
        var t = {};
        for (var p in s) Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0 && (t[p] = s[p]);
        if (null != s && "function" == typeof Object.getOwnPropertySymbols) {
            var i = 0;
            for (p = Object.getOwnPropertySymbols(s); i < p.length; i++) e.indexOf(p[i]) < 0 && (t[p[i]] = s[p[i]]);
        }
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var bg_1 = __webpack_require__(103), content_1 = __webpack_require__(131), chrome_1 = __webpack_require__(273), chrome_util_1 = __webpack_require__(132), web_extensions_1 = __webpack_require__(108), util_1 = __webpack_require__(2), Config = __webpack_require__(11), stdlib_1 = __webpack_require__(4), ChromeContentScriptPort = function() {
        function ChromeContentScriptPort(name) {
            this.port = chrome.runtime.connect({
                name: name
            });
        }
        return ChromeContentScriptPort.prototype.onMessage = function(cb) {
            this.port.onMessage.addListener(cb);
        }, ChromeContentScriptPort.prototype.onDisconnect = function(cb) {
            this.port.onDisconnect.addListener(cb);
        }, ChromeContentScriptPort.prototype.postMessage = function(data) {
            this.port.postMessage(data);
        }, ChromeContentScriptPort;
    }(), ChromeBackgroundPort = function() {
        function ChromeBackgroundPort(_port) {
            this._port = _port, this.sender = {};
            var sender = _port.sender, name = _port.name;
            this.name = name, sender && (this.sender.url = sender.url, sender.tab && sender.tab.url && sender.tab.id && (this.sender.tab = {
                url: sender.tab.url,
                id: sender.tab.id,
                active: sender.tab.active
            }));
        }
        return ChromeBackgroundPort.prototype.onMessage = function(cb) {
            this._port.onMessage.addListener(cb);
        }, ChromeBackgroundPort.prototype.onDisconnect = function(cb) {
            this._port.onDisconnect.addListener(cb);
        }, ChromeBackgroundPort.prototype.postMessage = function(data) {
            this._port.postMessage(data);
        }, ChromeBackgroundPort;
    }(), ChromeApi = function() {
        return function() {
            this.tabs = new chrome_1.ChromeTabsApiImpl(), this.notification = {
                kind: "web-extension",
                create: function(options) {
                    return stdlib_1.SafePromise.create(function(resolve, reject) {
                        var onClicked = options.onClicked, onButtonClicked = options.onButtonClicked, opts = __rest(options, [ "onClicked", "onButtonClicked" ]), cn = chrome.notifications, id = util_1.guid();
                        cn.create(id, Object.assign({
                            type: "basic"
                        }, opts), function() {
                            chrome_util_1.handleChromeError(function() {
                                void 0 !== onClicked && cn.onClicked.addListener(onClicked), void 0 !== onButtonClicked && cn.onButtonClicked.addListener(onButtonClicked), 
                                resolve(id);
                            }, reject);
                        });
                    });
                },
                clear: function(id) {
                    return stdlib_1.SafePromise.create(function(resolve, reject) {
                        chrome.notifications.clear(id, function(wasCleared) {
                            chrome_util_1.handleChromeError(function() {
                                return resolve(wasCleared);
                            }, reject);
                        });
                    });
                }
            }, this.cookies = {
                kind: "web-extension",
                get: function(details) {
                    return stdlib_1.SafePromise.create(function(resolve, reject) {
                        return chrome.cookies.get(details, function(cookie) {
                            return chrome_util_1.handleChromeError(function() {
                                return resolve(cookie);
                            }, reject);
                        });
                    });
                },
                remove: function(details) {
                    return new Promise(function(resolve, reject) {
                        return chrome.cookies.remove(details, function() {
                            return chrome_util_1.handleChromeError(function() {
                                return resolve(null);
                            }, reject);
                        });
                    });
                },
                getAll: function(details) {
                    return stdlib_1.SafePromise.create(function(resolve, reject) {
                        return chrome.cookies.getAll(details, function(cookie) {
                            return chrome_util_1.handleChromeError(function() {
                                return resolve(cookie);
                            }, reject);
                        });
                    });
                },
                set: function(details) {
                    return stdlib_1.SafePromise.create(function(resolve, reject) {
                        return chrome.cookies.set(details, function(cookie) {
                            return chrome_util_1.handleChromeError(function() {
                                return resolve(cookie);
                            }, reject);
                        });
                    });
                },
                watch: function(details, cb) {
                    chrome.cookies.onChanged.addListener(function(changeInfo) {
                        var cookie = changeInfo.cookie, cause = changeInfo.cause;
                        !cookie || !cookie.name || details.path && details.path !== cookie.path || details.name !== cookie.name || details.domain && -1 === cookie.domain.indexOf(details.domain) || ("explicit" === cause && cb(cookie), 
                        "expired_overwrite" === cause && cb());
                    });
                }
            }, this.preferences = web_extensions_1.preferencesApi.windowLocalStorage, this.button = {
                kind: "web-extension",
                setBadge: function(text) {
                    chrome.browserAction.setBadgeText({
                        text: text
                    });
                },
                setIconByName: function(name) {
                    var postfix = name ? "-" + name : "";
                    chrome.browserAction.setIcon({
                        path: {
                            16: "./src/icon/icon16" + postfix + ".png",
                            32: "./src/icon/icon32" + postfix + ".png"
                        }
                    });
                },
                setBadgeBackgroundColor: function(color) {
                    chrome.browserAction.setBadgeBackgroundColor({
                        color: color
                    });
                }
            }, this.management = {
                uninstallSelf: function() {
                    chrome.management.uninstallSelf();
                }
            }, this.message = "bg" === Config.getGlobal().bundleInfo.context ? new bg_1.GenericBackgroundMessageApiImpl(function(cb) {
                return chrome.runtime.onConnect.addListener(function(port) {
                    return cb(new ChromeBackgroundPort(port));
                });
            }, this.tabs.getActiveTab.bind(this.tabs), this.tabs.getAllTabs.bind(this.tabs)) : new content_1.GenericContentScriptMessageApiImpl(function(name) {
                return new ChromeContentScriptPort(name);
            });
        };
    }();
    exports.createApi = function() {
        return new ChromeApi();
    };
}, function(module, exports) {
    module.exports = function(fromRight) {
        return function(object, iteratee, keysFunc) {
            for (var index = -1, iterable = Object(object), props = keysFunc(object), length = props.length; length--; ) {
                var key = props[fromRight ? length : ++index];
                if (!1 === iteratee(iterable[key], key, iterable)) break;
            }
            return object;
        };
    };
}, function(module, exports) {
    module.exports = function(n, iteratee) {
        for (var index = -1, result = Array(n); ++index < n; ) result[index] = iteratee(index);
        return result;
    };
}, function(module, exports, __webpack_require__) {
    var baseGetTag = __webpack_require__(23), isObjectLike = __webpack_require__(17), argsTag = "[object Arguments]";
    module.exports = function(value) {
        return isObjectLike(value) && baseGetTag(value) == argsTag;
    };
}, function(module, exports, __webpack_require__) {
    var Symbol = __webpack_require__(32), objectProto = Object.prototype, hasOwnProperty = objectProto.hasOwnProperty, nativeObjectToString = objectProto.toString, symToStringTag = Symbol ? Symbol.toStringTag : void 0;
    module.exports = function(value) {
        var isOwn = hasOwnProperty.call(value, symToStringTag), tag = value[symToStringTag];
        try {
            value[symToStringTag] = void 0;
            var unmasked = !0;
        } catch (e) {}
        var result = nativeObjectToString.call(value);
        return unmasked && (isOwn ? value[symToStringTag] = tag : delete value[symToStringTag]), 
        result;
    };
}, function(module, exports) {
    var nativeObjectToString = Object.prototype.toString;
    module.exports = function(value) {
        return nativeObjectToString.call(value);
    };
}, function(module, exports) {
    module.exports = function() {
        return !1;
    };
}, function(module, exports, __webpack_require__) {
    var baseGetTag = __webpack_require__(23), isLength = __webpack_require__(78), isObjectLike = __webpack_require__(17), typedArrayTags = {};
    typedArrayTags["[object Float32Array]"] = typedArrayTags["[object Float64Array]"] = typedArrayTags["[object Int8Array]"] = typedArrayTags["[object Int16Array]"] = typedArrayTags["[object Int32Array]"] = typedArrayTags["[object Uint8Array]"] = typedArrayTags["[object Uint8ClampedArray]"] = typedArrayTags["[object Uint16Array]"] = typedArrayTags["[object Uint32Array]"] = !0, 
    typedArrayTags["[object Arguments]"] = typedArrayTags["[object Array]"] = typedArrayTags["[object ArrayBuffer]"] = typedArrayTags["[object Boolean]"] = typedArrayTags["[object DataView]"] = typedArrayTags["[object Date]"] = typedArrayTags["[object Error]"] = typedArrayTags["[object Function]"] = typedArrayTags["[object Map]"] = typedArrayTags["[object Number]"] = typedArrayTags["[object Object]"] = typedArrayTags["[object RegExp]"] = typedArrayTags["[object Set]"] = typedArrayTags["[object String]"] = typedArrayTags["[object WeakMap]"] = !1, 
    module.exports = function(value) {
        return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
    };
}, function(module, exports, __webpack_require__) {
    var nativeKeys = __webpack_require__(122)(Object.keys, Object);
    module.exports = nativeKeys;
}, function(module, exports, __webpack_require__) {
    var baseIsMatch = __webpack_require__(220), getMatchData = __webpack_require__(257), matchesStrictComparable = __webpack_require__(129);
    module.exports = function(source) {
        var matchData = getMatchData(source);
        return 1 == matchData.length && matchData[0][2] ? matchesStrictComparable(matchData[0][0], matchData[0][1]) : function(object) {
            return object === source || baseIsMatch(object, source, matchData);
        };
    };
}, function(module, exports, __webpack_require__) {
    var Stack = __webpack_require__(57), baseIsEqual = __webpack_require__(82), COMPARE_PARTIAL_FLAG = 1, COMPARE_UNORDERED_FLAG = 2;
    module.exports = function(object, source, matchData, customizer) {
        var index = matchData.length, length = index, noCustomizer = !customizer;
        if (null == object) return !length;
        for (object = Object(object); index--; ) {
            var data = matchData[index];
            if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) return !1;
        }
        for (;++index < length; ) {
            var key = (data = matchData[index])[0], objValue = object[key], srcValue = data[1];
            if (noCustomizer && data[2]) {
                if (void 0 === objValue && !(key in object)) return !1;
            } else {
                var stack = new Stack();
                if (customizer) var result = customizer(objValue, srcValue, key, object, source, stack);
                if (!(void 0 === result ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack) : result)) return !1;
            }
        }
        return !0;
    };
}, function(module, exports) {
    module.exports = function() {
        this.__data__ = [], this.size = 0;
    };
}, function(module, exports, __webpack_require__) {
    var assocIndexOf = __webpack_require__(48), splice = Array.prototype.splice;
    module.exports = function(key) {
        var data = this.__data__, index = assocIndexOf(data, key);
        return !(index < 0 || (index == data.length - 1 ? data.pop() : splice.call(data, index, 1), 
        --this.size, 0));
    };
}, function(module, exports, __webpack_require__) {
    var assocIndexOf = __webpack_require__(48);
    module.exports = function(key) {
        var data = this.__data__, index = assocIndexOf(data, key);
        return index < 0 ? void 0 : data[index][1];
    };
}, function(module, exports, __webpack_require__) {
    var assocIndexOf = __webpack_require__(48);
    module.exports = function(key) {
        return assocIndexOf(this.__data__, key) > -1;
    };
}, function(module, exports, __webpack_require__) {
    var assocIndexOf = __webpack_require__(48);
    module.exports = function(key, value) {
        var data = this.__data__, index = assocIndexOf(data, key);
        return index < 0 ? (++this.size, data.push([ key, value ])) : data[index][1] = value, 
        this;
    };
}, function(module, exports, __webpack_require__) {
    var ListCache = __webpack_require__(47);
    module.exports = function() {
        this.__data__ = new ListCache(), this.size = 0;
    };
}, function(module, exports) {
    module.exports = function(key) {
        var data = this.__data__, result = data.delete(key);
        return this.size = data.size, result;
    };
}, function(module, exports) {
    module.exports = function(key) {
        return this.__data__.get(key);
    };
}, function(module, exports) {
    module.exports = function(key) {
        return this.__data__.has(key);
    };
}, function(module, exports, __webpack_require__) {
    var ListCache = __webpack_require__(47), Map = __webpack_require__(80), MapCache = __webpack_require__(81), LARGE_ARRAY_SIZE = 200;
    module.exports = function(key, value) {
        var data = this.__data__;
        if (data instanceof ListCache) {
            var pairs = data.__data__;
            if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) return pairs.push([ key, value ]), 
            this.size = ++data.size, this;
            data = this.__data__ = new MapCache(pairs);
        }
        return data.set(key, value), this.size = data.size, this;
    };
}, function(module, exports, __webpack_require__) {
    var isFunction = __webpack_require__(41), isMasked = __webpack_require__(232), isObject = __webpack_require__(9), toSource = __webpack_require__(123), reIsHostCtor = /^\[object .+?Constructor\]$/, funcProto = Function.prototype, objectProto = Object.prototype, funcToString = funcProto.toString, hasOwnProperty = objectProto.hasOwnProperty, reIsNative = RegExp("^" + funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
    module.exports = function(value) {
        return !(!isObject(value) || isMasked(value)) && (isFunction(value) ? reIsNative : reIsHostCtor).test(toSource(value));
    };
}, function(module, exports, __webpack_require__) {
    var uid, coreJsData = __webpack_require__(233), maskSrcKey = (uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || "")) ? "Symbol(src)_1." + uid : "";
    module.exports = function(func) {
        return !!maskSrcKey && maskSrcKey in func;
    };
}, function(module, exports, __webpack_require__) {
    var coreJsData = __webpack_require__(12)["__core-js_shared__"];
    module.exports = coreJsData;
}, function(module, exports) {
    module.exports = function(object, key) {
        return null == object ? void 0 : object[key];
    };
}, function(module, exports, __webpack_require__) {
    var Hash = __webpack_require__(236), ListCache = __webpack_require__(47), Map = __webpack_require__(80);
    module.exports = function() {
        this.size = 0, this.__data__ = {
            hash: new Hash(),
            map: new (Map || ListCache)(),
            string: new Hash()
        };
    };
}, function(module, exports, __webpack_require__) {
    var hashClear = __webpack_require__(237), hashDelete = __webpack_require__(238), hashGet = __webpack_require__(239), hashHas = __webpack_require__(240), hashSet = __webpack_require__(241);
    function Hash(entries) {
        var index = -1, length = null == entries ? 0 : entries.length;
        for (this.clear(); ++index < length; ) {
            var entry = entries[index];
            this.set(entry[0], entry[1]);
        }
    }
    Hash.prototype.clear = hashClear, Hash.prototype.delete = hashDelete, Hash.prototype.get = hashGet, 
    Hash.prototype.has = hashHas, Hash.prototype.set = hashSet, module.exports = Hash;
}, function(module, exports, __webpack_require__) {
    var nativeCreate = __webpack_require__(49);
    module.exports = function() {
        this.__data__ = nativeCreate ? nativeCreate(null) : {}, this.size = 0;
    };
}, function(module, exports) {
    module.exports = function(key) {
        var result = this.has(key) && delete this.__data__[key];
        return this.size -= result ? 1 : 0, result;
    };
}, function(module, exports, __webpack_require__) {
    var nativeCreate = __webpack_require__(49), HASH_UNDEFINED = "__lodash_hash_undefined__", hasOwnProperty = Object.prototype.hasOwnProperty;
    module.exports = function(key) {
        var data = this.__data__;
        if (nativeCreate) {
            var result = data[key];
            return result === HASH_UNDEFINED ? void 0 : result;
        }
        return hasOwnProperty.call(data, key) ? data[key] : void 0;
    };
}, function(module, exports, __webpack_require__) {
    var nativeCreate = __webpack_require__(49), hasOwnProperty = Object.prototype.hasOwnProperty;
    module.exports = function(key) {
        var data = this.__data__;
        return nativeCreate ? void 0 !== data[key] : hasOwnProperty.call(data, key);
    };
}, function(module, exports, __webpack_require__) {
    var nativeCreate = __webpack_require__(49), HASH_UNDEFINED = "__lodash_hash_undefined__";
    module.exports = function(key, value) {
        var data = this.__data__;
        return this.size += this.has(key) ? 0 : 1, data[key] = nativeCreate && void 0 === value ? HASH_UNDEFINED : value, 
        this;
    };
}, function(module, exports, __webpack_require__) {
    var getMapData = __webpack_require__(50);
    module.exports = function(key) {
        var result = getMapData(this, key).delete(key);
        return this.size -= result ? 1 : 0, result;
    };
}, function(module, exports) {
    module.exports = function(value) {
        var type = typeof value;
        return "string" == type || "number" == type || "symbol" == type || "boolean" == type ? "__proto__" !== value : null === value;
    };
}, function(module, exports, __webpack_require__) {
    var getMapData = __webpack_require__(50);
    module.exports = function(key) {
        return getMapData(this, key).get(key);
    };
}, function(module, exports, __webpack_require__) {
    var getMapData = __webpack_require__(50);
    module.exports = function(key) {
        return getMapData(this, key).has(key);
    };
}, function(module, exports, __webpack_require__) {
    var getMapData = __webpack_require__(50);
    module.exports = function(key, value) {
        var data = getMapData(this, key), size = data.size;
        return data.set(key, value), this.size += data.size == size ? 0 : 1, this;
    };
}, function(module, exports, __webpack_require__) {
    var Stack = __webpack_require__(57), equalArrays = __webpack_require__(124), equalByTag = __webpack_require__(251), equalObjects = __webpack_require__(253), getTag = __webpack_require__(58), isArray = __webpack_require__(7), isBuffer = __webpack_require__(34), isTypedArray = __webpack_require__(40), COMPARE_PARTIAL_FLAG = 1, argsTag = "[object Arguments]", arrayTag = "[object Array]", objectTag = "[object Object]", hasOwnProperty = Object.prototype.hasOwnProperty;
    module.exports = function(object, other, bitmask, customizer, equalFunc, stack) {
        var objIsArr = isArray(object), othIsArr = isArray(other), objTag = objIsArr ? arrayTag : getTag(object), othTag = othIsArr ? arrayTag : getTag(other), objIsObj = (objTag = objTag == argsTag ? objectTag : objTag) == objectTag, othIsObj = (othTag = othTag == argsTag ? objectTag : othTag) == objectTag, isSameTag = objTag == othTag;
        if (isSameTag && isBuffer(object)) {
            if (!isBuffer(other)) return !1;
            objIsArr = !0, objIsObj = !1;
        }
        if (isSameTag && !objIsObj) return stack || (stack = new Stack()), objIsArr || isTypedArray(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);
        if (!(bitmask & COMPARE_PARTIAL_FLAG)) {
            var objIsWrapped = objIsObj && hasOwnProperty.call(object, "__wrapped__"), othIsWrapped = othIsObj && hasOwnProperty.call(other, "__wrapped__");
            if (objIsWrapped || othIsWrapped) {
                var objUnwrapped = objIsWrapped ? object.value() : object, othUnwrapped = othIsWrapped ? other.value() : other;
                return stack || (stack = new Stack()), equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);
            }
        }
        return !!isSameTag && (stack || (stack = new Stack()), equalObjects(object, other, bitmask, customizer, equalFunc, stack));
    };
}, function(module, exports) {
    var HASH_UNDEFINED = "__lodash_hash_undefined__";
    module.exports = function(value) {
        return this.__data__.set(value, HASH_UNDEFINED), this;
    };
}, function(module, exports) {
    module.exports = function(value) {
        return this.__data__.has(value);
    };
}, function(module, exports) {
    module.exports = function(array, predicate) {
        for (var index = -1, length = null == array ? 0 : array.length; ++index < length; ) if (predicate(array[index], index, array)) return !0;
        return !1;
    };
}, function(module, exports, __webpack_require__) {
    var Symbol = __webpack_require__(32), Uint8Array = __webpack_require__(127), eq = __webpack_require__(35), equalArrays = __webpack_require__(124), mapToArray = __webpack_require__(252), setToArray = __webpack_require__(164), COMPARE_PARTIAL_FLAG = 1, COMPARE_UNORDERED_FLAG = 2, boolTag = "[object Boolean]", dateTag = "[object Date]", errorTag = "[object Error]", mapTag = "[object Map]", numberTag = "[object Number]", regexpTag = "[object RegExp]", setTag = "[object Set]", stringTag = "[object String]", symbolTag = "[object Symbol]", arrayBufferTag = "[object ArrayBuffer]", dataViewTag = "[object DataView]", symbolProto = Symbol ? Symbol.prototype : void 0, symbolValueOf = symbolProto ? symbolProto.valueOf : void 0;
    module.exports = function(object, other, tag, bitmask, customizer, equalFunc, stack) {
        switch (tag) {
          case dataViewTag:
            if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) return !1;
            object = object.buffer, other = other.buffer;

          case arrayBufferTag:
            return !(object.byteLength != other.byteLength || !equalFunc(new Uint8Array(object), new Uint8Array(other)));

          case boolTag:
          case dateTag:
          case numberTag:
            return eq(+object, +other);

          case errorTag:
            return object.name == other.name && object.message == other.message;

          case regexpTag:
          case stringTag:
            return object == other + "";

          case mapTag:
            var convert = mapToArray;

          case setTag:
            var isPartial = bitmask & COMPARE_PARTIAL_FLAG;
            if (convert || (convert = setToArray), object.size != other.size && !isPartial) return !1;
            var stacked = stack.get(object);
            if (stacked) return stacked == other;
            bitmask |= COMPARE_UNORDERED_FLAG, stack.set(object, other);
            var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);
            return stack.delete(object), result;

          case symbolTag:
            if (symbolValueOf) return symbolValueOf.call(object) == symbolValueOf.call(other);
        }
        return !1;
    };
}, function(module, exports) {
    module.exports = function(map) {
        var index = -1, result = Array(map.size);
        return map.forEach(function(value, key) {
            result[++index] = [ key, value ];
        }), result;
    };
}, function(module, exports, __webpack_require__) {
    var getAllKeys = __webpack_require__(165), COMPARE_PARTIAL_FLAG = 1, hasOwnProperty = Object.prototype.hasOwnProperty;
    module.exports = function(object, other, bitmask, customizer, equalFunc, stack) {
        var isPartial = bitmask & COMPARE_PARTIAL_FLAG, objProps = getAllKeys(object), objLength = objProps.length;
        if (objLength != getAllKeys(other).length && !isPartial) return !1;
        for (var index = objLength; index--; ) {
            var key = objProps[index];
            if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) return !1;
        }
        var stacked = stack.get(object);
        if (stacked && stack.get(other)) return stacked == other;
        var result = !0;
        stack.set(object, other), stack.set(other, object);
        for (var skipCtor = isPartial; ++index < objLength; ) {
            var objValue = object[key = objProps[index]], othValue = other[key];
            if (customizer) var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);
            if (!(void 0 === compared ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {
                result = !1;
                break;
            }
            skipCtor || (skipCtor = "constructor" == key);
        }
        if (result && !skipCtor) {
            var objCtor = object.constructor, othCtor = other.constructor;
            objCtor != othCtor && "constructor" in object && "constructor" in other && !("function" == typeof objCtor && objCtor instanceof objCtor && "function" == typeof othCtor && othCtor instanceof othCtor) && (result = !1);
        }
        return stack.delete(object), stack.delete(other), result;
    };
}, function(module, exports, __webpack_require__) {
    var DataView = __webpack_require__(26)(__webpack_require__(12), "DataView");
    module.exports = DataView;
}, function(module, exports, __webpack_require__) {
    var Promise = __webpack_require__(26)(__webpack_require__(12), "Promise");
    module.exports = Promise;
}, function(module, exports, __webpack_require__) {
    var WeakMap = __webpack_require__(26)(__webpack_require__(12), "WeakMap");
    module.exports = WeakMap;
}, function(module, exports, __webpack_require__) {
    var isStrictComparable = __webpack_require__(128), keys = __webpack_require__(31);
    module.exports = function(object) {
        for (var result = keys(object), length = result.length; length--; ) {
            var key = result[length], value = object[key];
            result[length] = [ key, value, isStrictComparable(value) ];
        }
        return result;
    };
}, function(module, exports, __webpack_require__) {
    var baseIsEqual = __webpack_require__(82), get = __webpack_require__(259), hasIn = __webpack_require__(264), isKey = __webpack_require__(84), isStrictComparable = __webpack_require__(128), matchesStrictComparable = __webpack_require__(129), toKey = __webpack_require__(42), COMPARE_PARTIAL_FLAG = 1, COMPARE_UNORDERED_FLAG = 2;
    module.exports = function(path, srcValue) {
        return isKey(path) && isStrictComparable(srcValue) ? matchesStrictComparable(toKey(path), srcValue) : function(object) {
            var objValue = get(object, path);
            return void 0 === objValue && objValue === srcValue ? hasIn(object, path) : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);
        };
    };
}, function(module, exports, __webpack_require__) {
    var baseGet = __webpack_require__(93);
    module.exports = function(object, path, defaultValue) {
        var result = null == object ? void 0 : baseGet(object, path);
        return void 0 === result ? defaultValue : result;
    };
}, function(module, exports, __webpack_require__) {
    var memoizeCapped = __webpack_require__(261), rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, reEscapeChar = /\\(\\)?/g, stringToPath = memoizeCapped(function(string) {
        var result = [];
        return 46 === string.charCodeAt(0) && result.push(""), string.replace(rePropName, function(match, number, quote, subString) {
            result.push(quote ? subString.replace(reEscapeChar, "$1") : number || match);
        }), result;
    });
    module.exports = stringToPath;
}, function(module, exports, __webpack_require__) {
    var memoize = __webpack_require__(262), MAX_MEMOIZE_SIZE = 500;
    module.exports = function(func) {
        var result = memoize(func, function(key) {
            return cache.size === MAX_MEMOIZE_SIZE && cache.clear(), key;
        }), cache = result.cache;
        return result;
    };
}, function(module, exports, __webpack_require__) {
    var MapCache = __webpack_require__(81), FUNC_ERROR_TEXT = "Expected a function";
    function memoize(func, resolver) {
        if ("function" != typeof func || null != resolver && "function" != typeof resolver) throw new TypeError(FUNC_ERROR_TEXT);
        var memoized = function() {
            var args = arguments, key = resolver ? resolver.apply(this, args) : args[0], cache = memoized.cache;
            if (cache.has(key)) return cache.get(key);
            var result = func.apply(this, args);
            return memoized.cache = cache.set(key, result) || cache, result;
        };
        return memoized.cache = new (memoize.Cache || MapCache)(), memoized;
    }
    memoize.Cache = MapCache, module.exports = memoize;
}, function(module, exports, __webpack_require__) {
    var Symbol = __webpack_require__(32), arrayMap = __webpack_require__(85), isArray = __webpack_require__(7), isSymbol = __webpack_require__(51), INFINITY = 1 / 0, symbolProto = Symbol ? Symbol.prototype : void 0, symbolToString = symbolProto ? symbolProto.toString : void 0;
    module.exports = function baseToString(value) {
        if ("string" == typeof value) return value;
        if (isArray(value)) return arrayMap(value, baseToString) + "";
        if (isSymbol(value)) return symbolToString ? symbolToString.call(value) : "";
        var result = value + "";
        return "0" == result && 1 / value == -INFINITY ? "-0" : result;
    };
}, function(module, exports, __webpack_require__) {
    var baseHasIn = __webpack_require__(265), hasPath = __webpack_require__(266);
    module.exports = function(object, path) {
        return null != object && hasPath(object, path, baseHasIn);
    };
}, function(module, exports) {
    module.exports = function(object, key) {
        return null != object && key in Object(object);
    };
}, function(module, exports, __webpack_require__) {
    var castPath = __webpack_require__(83), isArguments = __webpack_require__(45), isArray = __webpack_require__(7), isIndex = __webpack_require__(63), isLength = __webpack_require__(78), toKey = __webpack_require__(42);
    module.exports = function(object, path, hasFunc) {
        for (var index = -1, length = (path = castPath(path, object)).length, result = !1; ++index < length; ) {
            var key = toKey(path[index]);
            if (!(result = null != object && hasFunc(object, key))) break;
            object = object[key];
        }
        return result || ++index != length ? result : !!(length = null == object ? 0 : object.length) && isLength(length) && isIndex(key, length) && (isArray(object) || isArguments(object));
    };
}, function(module, exports, __webpack_require__) {
    var baseProperty = __webpack_require__(268), basePropertyDeep = __webpack_require__(269), isKey = __webpack_require__(84), toKey = __webpack_require__(42);
    module.exports = function(path) {
        return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);
    };
}, function(module, exports) {
    module.exports = function(key) {
        return function(object) {
            return null == object ? void 0 : object[key];
        };
    };
}, function(module, exports, __webpack_require__) {
    var baseGet = __webpack_require__(93);
    module.exports = function(path) {
        return function(object) {
            return baseGet(object, path);
        };
    };
}, function(module, exports, __webpack_require__) {
    (function(process) {
        function normalizeArray(parts, allowAboveRoot) {
            for (var up = 0, i = parts.length - 1; i >= 0; i--) {
                var last = parts[i];
                "." === last ? parts.splice(i, 1) : ".." === last ? (parts.splice(i, 1), up++) : up && (parts.splice(i, 1), 
                up--);
            }
            if (allowAboveRoot) for (;up--; up) parts.unshift("..");
            return parts;
        }
        var splitPathRe = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/, splitPath = function(filename) {
            return splitPathRe.exec(filename).slice(1);
        };
        function filter(xs, f) {
            if (xs.filter) return xs.filter(f);
            for (var res = [], i = 0; i < xs.length; i++) f(xs[i], i, xs) && res.push(xs[i]);
            return res;
        }
        exports.resolve = function() {
            for (var resolvedPath = "", resolvedAbsolute = !1, i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
                var path = i >= 0 ? arguments[i] : process.cwd();
                if ("string" != typeof path) throw new TypeError("Arguments to path.resolve must be strings");
                path && (resolvedPath = path + "/" + resolvedPath, resolvedAbsolute = "/" === path.charAt(0));
            }
            return (resolvedAbsolute ? "/" : "") + (resolvedPath = normalizeArray(filter(resolvedPath.split("/"), function(p) {
                return !!p;
            }), !resolvedAbsolute).join("/")) || ".";
        }, exports.normalize = function(path) {
            var isAbsolute = exports.isAbsolute(path), trailingSlash = "/" === substr(path, -1);
            return (path = normalizeArray(filter(path.split("/"), function(p) {
                return !!p;
            }), !isAbsolute).join("/")) || isAbsolute || (path = "."), path && trailingSlash && (path += "/"), 
            (isAbsolute ? "/" : "") + path;
        }, exports.isAbsolute = function(path) {
            return "/" === path.charAt(0);
        }, exports.join = function() {
            var paths = Array.prototype.slice.call(arguments, 0);
            return exports.normalize(filter(paths, function(p, index) {
                if ("string" != typeof p) throw new TypeError("Arguments to path.join must be strings");
                return p;
            }).join("/"));
        }, exports.relative = function(from, to) {
            function trim(arr) {
                for (var start = 0; start < arr.length && "" === arr[start]; start++) ;
                for (var end = arr.length - 1; end >= 0 && "" === arr[end]; end--) ;
                return start > end ? [] : arr.slice(start, end - start + 1);
            }
            from = exports.resolve(from).substr(1), to = exports.resolve(to).substr(1);
            for (var fromParts = trim(from.split("/")), toParts = trim(to.split("/")), length = Math.min(fromParts.length, toParts.length), samePartsLength = length, i = 0; i < length; i++) if (fromParts[i] !== toParts[i]) {
                samePartsLength = i;
                break;
            }
            var outputParts = [];
            for (i = samePartsLength; i < fromParts.length; i++) outputParts.push("..");
            return (outputParts = outputParts.concat(toParts.slice(samePartsLength))).join("/");
        }, exports.sep = "/", exports.delimiter = ":", exports.dirname = function(path) {
            var result = splitPath(path), root = result[0], dir = result[1];
            return root || dir ? (dir && (dir = dir.substr(0, dir.length - 1)), root + dir) : ".";
        }, exports.basename = function(path, ext) {
            var f = splitPath(path)[2];
            return ext && f.substr(-1 * ext.length) === ext && (f = f.substr(0, f.length - ext.length)), 
            f;
        }, exports.extname = function(path) {
            return splitPath(path)[3];
        };
        var substr = "b" === "ab".substr(-1) ? function(str, start, len) {
            return str.substr(start, len);
        } : function(str, start, len) {
            return start < 0 && (start = str.length + start), str.substr(start, len);
        };
    }).call(exports, __webpack_require__(60));
}, function(module, exports, __webpack_require__) {
    "use strict";
    var util = __webpack_require__(130);
    function getU16Int(u8IntArray, index) {
        return u8IntArray[index] << 8 | u8IntArray[index + 1];
    }
    module.exports = {
        hash: function(inputString) {
            var rem, u8IntArray = util.toU8IntArray(inputString + ""), hash = 0;
            if (!inputString) return hash.toString(16);
            var len = u8IntArray.length, pointer = 0;
            rem = 3 & len, len >>>= 2;
            for (var i = 0; i < len; i++) hash = (hash += getU16Int(u8IntArray, pointer)) << 16 ^ getU16Int(u8IntArray, pointer + 2) << 11 ^ hash, 
            pointer += 4, hash += hash >> 11;
            switch (rem) {
              case 3:
                hash += getU16Int(u8IntArray, pointer), hash ^= hash << 16, hash ^= u8IntArray[pointer + 2] << 18, 
                hash += hash >> 11;
                break;

              case 2:
                hash += getU16Int(u8IntArray, pointer), hash ^= hash << 11, hash += hash >> 17;
                break;

              case 1:
                hash += u8IntArray[pointer], hash ^= hash << 10, hash += hash >> 1;
            }
            return hash ^= hash << 3, hash += hash >> 5, hash ^= hash << 4, hash += hash >> 17, 
            hash ^= hash << 25, hash += hash >> 6, util.intToUnsignedHex(hash);
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var util = __webpack_require__(130);
    function _x86Multiply(m, n) {
        return (65535 & m) * n + (((m >>> 16) * n & 65535) << 16);
    }
    function _x86Rotl(m, n) {
        return m << n | m >>> 32 - n;
    }
    function _x86Fmix(h) {
        return h = _x86Multiply(h ^= h >>> 16, 2246822507), h = _x86Multiply(h ^= h >>> 13, 3266489909), 
        h ^= h >>> 16;
    }
    function _x64Add(m, n) {
        m = [ m[0] >>> 16, 65535 & m[0], m[1] >>> 16, 65535 & m[1] ], n = [ n[0] >>> 16, 65535 & n[0], n[1] >>> 16, 65535 & n[1] ];
        var o = [ 0, 0, 0, 0 ];
        return o[3] += m[3] + n[3], o[2] += o[3] >>> 16, o[3] &= 65535, o[2] += m[2] + n[2], 
        o[1] += o[2] >>> 16, o[2] &= 65535, o[1] += m[1] + n[1], o[0] += o[1] >>> 16, o[1] &= 65535, 
        o[0] += m[0] + n[0], o[0] &= 65535, [ o[0] << 16 | o[1], o[2] << 16 | o[3] ];
    }
    function _x64Multiply(m, n) {
        m = [ m[0] >>> 16, 65535 & m[0], m[1] >>> 16, 65535 & m[1] ], n = [ n[0] >>> 16, 65535 & n[0], n[1] >>> 16, 65535 & n[1] ];
        var o = [ 0, 0, 0, 0 ];
        return o[3] += m[3] * n[3], o[2] += o[3] >>> 16, o[3] &= 65535, o[2] += m[2] * n[3], 
        o[1] += o[2] >>> 16, o[2] &= 65535, o[2] += m[3] * n[2], o[1] += o[2] >>> 16, o[2] &= 65535, 
        o[1] += m[1] * n[3], o[0] += o[1] >>> 16, o[1] &= 65535, o[1] += m[2] * n[2], o[0] += o[1] >>> 16, 
        o[1] &= 65535, o[1] += m[3] * n[1], o[0] += o[1] >>> 16, o[1] &= 65535, o[0] += m[0] * n[3] + m[1] * n[2] + m[2] * n[1] + m[3] * n[0], 
        o[0] &= 65535, [ o[0] << 16 | o[1], o[2] << 16 | o[3] ];
    }
    function _x64Rotl(m, n) {
        return 32 === (n %= 64) ? [ m[1], m[0] ] : n < 32 ? [ m[0] << n | m[1] >>> 32 - n, m[1] << n | m[0] >>> 32 - n ] : (n -= 32, 
        [ m[1] << n | m[0] >>> 32 - n, m[0] << n | m[1] >>> 32 - n ]);
    }
    function _x64LeftShift(m, n) {
        return 0 === (n %= 64) ? m : n < 32 ? [ m[0] << n | m[1] >>> 32 - n, m[1] << n ] : [ m[1] << n - 32, 0 ];
    }
    function _x64Xor(m, n) {
        return [ m[0] ^ n[0], m[1] ^ n[1] ];
    }
    function _x64Fmix(h) {
        return h = _x64Xor(h = _x64Multiply(h = _x64Xor(h = _x64Multiply(h = _x64Xor(h, [ 0, h[0] >>> 1 ]), [ 4283543511, 3981806797 ]), [ 0, h[0] >>> 1 ]), [ 3301882366, 444984403 ]), [ 0, h[0] >>> 1 ]);
    }
    var x64Hash128 = function(key, seed) {
        key = "" + key || "";
        var u8IntArray = util.toU8IntArray(key);
        seed = seed || 0;
        for (var remainder = (key = {
            charCodeAt: function(index) {
                return u8IntArray[index];
            },
            length: u8IntArray.length
        }).length % 16, bytes = key.length - remainder, h1 = [ 0, seed ], h2 = [ 0, seed ], k1 = [ 0, 0 ], k2 = [ 0, 0 ], c1 = [ 2277735313, 289559509 ], c2 = [ 1291169091, 658871167 ], i = 0; i < bytes; i += 16) k1 = [ 255 & key.charCodeAt(i + 4) | (255 & key.charCodeAt(i + 5)) << 8 | (255 & key.charCodeAt(i + 6)) << 16 | (255 & key.charCodeAt(i + 7)) << 24, 255 & key.charCodeAt(i) | (255 & key.charCodeAt(i + 1)) << 8 | (255 & key.charCodeAt(i + 2)) << 16 | (255 & key.charCodeAt(i + 3)) << 24 ], 
        k2 = [ 255 & key.charCodeAt(i + 12) | (255 & key.charCodeAt(i + 13)) << 8 | (255 & key.charCodeAt(i + 14)) << 16 | (255 & key.charCodeAt(i + 15)) << 24, 255 & key.charCodeAt(i + 8) | (255 & key.charCodeAt(i + 9)) << 8 | (255 & key.charCodeAt(i + 10)) << 16 | (255 & key.charCodeAt(i + 11)) << 24 ], 
        h1 = _x64Add(_x64Multiply(h1 = _x64Add(h1 = _x64Rotl(h1 = _x64Xor(h1, k1 = _x64Multiply(k1 = _x64Rotl(k1 = _x64Multiply(k1, c1), 31), c2)), 27), h2), [ 0, 5 ]), [ 0, 1390208809 ]), 
        h2 = _x64Add(_x64Multiply(h2 = _x64Add(h2 = _x64Rotl(h2 = _x64Xor(h2, k2 = _x64Multiply(k2 = _x64Rotl(k2 = _x64Multiply(k2, c2), 33), c1)), 31), h1), [ 0, 5 ]), [ 0, 944331445 ]);
        switch (k1 = [ 0, 0 ], k2 = [ 0, 0 ], remainder) {
          case 15:
            k2 = _x64Xor(k2, _x64LeftShift([ 0, key.charCodeAt(i + 14) ], 48));

          case 14:
            k2 = _x64Xor(k2, _x64LeftShift([ 0, key.charCodeAt(i + 13) ], 40));

          case 13:
            k2 = _x64Xor(k2, _x64LeftShift([ 0, key.charCodeAt(i + 12) ], 32));

          case 12:
            k2 = _x64Xor(k2, _x64LeftShift([ 0, key.charCodeAt(i + 11) ], 24));

          case 11:
            k2 = _x64Xor(k2, _x64LeftShift([ 0, key.charCodeAt(i + 10) ], 16));

          case 10:
            k2 = _x64Xor(k2, _x64LeftShift([ 0, key.charCodeAt(i + 9) ], 8));

          case 9:
            h2 = _x64Xor(h2, k2 = _x64Multiply(k2 = _x64Rotl(k2 = _x64Multiply(k2 = _x64Xor(k2, [ 0, key.charCodeAt(i + 8) ]), c2), 33), c1));

          case 8:
            k1 = _x64Xor(k1, _x64LeftShift([ 0, key.charCodeAt(i + 7) ], 56));

          case 7:
            k1 = _x64Xor(k1, _x64LeftShift([ 0, key.charCodeAt(i + 6) ], 48));

          case 6:
            k1 = _x64Xor(k1, _x64LeftShift([ 0, key.charCodeAt(i + 5) ], 40));

          case 5:
            k1 = _x64Xor(k1, _x64LeftShift([ 0, key.charCodeAt(i + 4) ], 32));

          case 4:
            k1 = _x64Xor(k1, _x64LeftShift([ 0, key.charCodeAt(i + 3) ], 24));

          case 3:
            k1 = _x64Xor(k1, _x64LeftShift([ 0, key.charCodeAt(i + 2) ], 16));

          case 2:
            k1 = _x64Xor(k1, _x64LeftShift([ 0, key.charCodeAt(i + 1) ], 8));

          case 1:
            h1 = _x64Xor(h1, k1 = _x64Multiply(k1 = _x64Rotl(k1 = _x64Multiply(k1 = _x64Xor(k1, [ 0, key.charCodeAt(i) ]), c1), 31), c2));
        }
        return h1 = _x64Xor(h1, [ 0, key.length ]), h2 = _x64Add(h2 = _x64Xor(h2, [ 0, key.length ]), h1 = _x64Add(h1, h2)), 
        h1 = _x64Fmix(h1), h2 = _x64Add(h2 = _x64Fmix(h2), h1 = _x64Add(h1, h2)), ("00000000" + (h1[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (h1[1] >>> 0).toString(16)).slice(-8) + ("00000000" + (h2[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (h2[1] >>> 0).toString(16)).slice(-8);
    };
    module.exports = {
        x86Hash32: function(key, seed) {
            key = "" + key || "";
            var u8IntArray = util.toU8IntArray(key);
            seed = seed || 0;
            for (var remainder = (key = {
                charCodeAt: function(index) {
                    return u8IntArray[index];
                },
                length: u8IntArray.length
            }).length % 4, bytes = key.length - remainder, h1 = seed, k1 = 0, c1 = 3432918353, c2 = 461845907, i = 0; i < bytes; i += 4) h1 = _x86Multiply(h1 = _x86Rotl(h1 ^= k1 = _x86Multiply(k1 = _x86Rotl(k1 = _x86Multiply(k1 = 255 & key.charCodeAt(i) | (255 & key.charCodeAt(i + 1)) << 8 | (255 & key.charCodeAt(i + 2)) << 16 | (255 & key.charCodeAt(i + 3)) << 24, c1), 15), c2), 13), 5) + 3864292196;
            switch (k1 = 0, remainder) {
              case 3:
                k1 ^= (255 & key.charCodeAt(i + 2)) << 16;

              case 2:
                k1 ^= (255 & key.charCodeAt(i + 1)) << 8;

              case 1:
                h1 ^= k1 = _x86Multiply(k1 = _x86Rotl(k1 = _x86Multiply(k1 ^= 255 & key.charCodeAt(i), c1), 15), c2);
            }
            return ((h1 = _x86Fmix(h1 ^= key.length)) >>> 0).toString(16);
        },
        x86Hash128: function(key, seed) {
            key = "" + key || "";
            var u8IntArray = util.toU8IntArray(key);
            seed = seed || 0;
            for (var remainder = (key = {
                charCodeAt: function(index) {
                    return u8IntArray[index];
                },
                length: u8IntArray.length
            }).length % 16, bytes = key.length - remainder, h1 = seed, h2 = seed, h3 = seed, h4 = seed, k1 = 0, k2 = 0, k3 = 0, k4 = 0, c1 = 597399067, c2 = 2869860233, c3 = 951274213, c4 = 2716044179, i = 0; i < bytes; i += 16) k1 = 255 & key.charCodeAt(i) | (255 & key.charCodeAt(i + 1)) << 8 | (255 & key.charCodeAt(i + 2)) << 16 | (255 & key.charCodeAt(i + 3)) << 24, 
            k2 = 255 & key.charCodeAt(i + 4) | (255 & key.charCodeAt(i + 5)) << 8 | (255 & key.charCodeAt(i + 6)) << 16 | (255 & key.charCodeAt(i + 7)) << 24, 
            k3 = 255 & key.charCodeAt(i + 8) | (255 & key.charCodeAt(i + 9)) << 8 | (255 & key.charCodeAt(i + 10)) << 16 | (255 & key.charCodeAt(i + 11)) << 24, 
            k4 = 255 & key.charCodeAt(i + 12) | (255 & key.charCodeAt(i + 13)) << 8 | (255 & key.charCodeAt(i + 14)) << 16 | (255 & key.charCodeAt(i + 15)) << 24, 
            h1 = _x86Rotl(h1 ^= k1 = _x86Multiply(k1 = _x86Rotl(k1 = _x86Multiply(k1, c1), 15), c2), 19), 
            h1 = _x86Multiply(h1 += h2, 5) + 1444728091, h2 = _x86Rotl(h2 ^= k2 = _x86Multiply(k2 = _x86Rotl(k2 = _x86Multiply(k2, c2), 16), c3), 17), 
            h2 = _x86Multiply(h2 += h3, 5) + 197830471, h3 = _x86Rotl(h3 ^= k3 = _x86Multiply(k3 = _x86Rotl(k3 = _x86Multiply(k3, c3), 17), c4), 15), 
            h3 = _x86Multiply(h3 += h4, 5) + 2530024501, h4 = _x86Rotl(h4 ^= k4 = _x86Multiply(k4 = _x86Rotl(k4 = _x86Multiply(k4, c4), 18), c1), 13), 
            h4 = _x86Multiply(h4 += h1, 5) + 850148119;
            switch (k1 = 0, k2 = 0, k3 = 0, k4 = 0, remainder) {
              case 15:
                k4 ^= key.charCodeAt(i + 14) << 16;

              case 14:
                k4 ^= key.charCodeAt(i + 13) << 8;

              case 13:
                h4 ^= k4 = _x86Multiply(k4 = _x86Rotl(k4 = _x86Multiply(k4 ^= key.charCodeAt(i + 12), c4), 18), c1);

              case 12:
                k3 ^= key.charCodeAt(i + 11) << 24;

              case 11:
                k3 ^= key.charCodeAt(i + 10) << 16;

              case 10:
                k3 ^= key.charCodeAt(i + 9) << 8;

              case 9:
                h3 ^= k3 = _x86Multiply(k3 = _x86Rotl(k3 = _x86Multiply(k3 ^= key.charCodeAt(i + 8), c3), 17), c4);

              case 8:
                k2 ^= key.charCodeAt(i + 7) << 24;

              case 7:
                k2 ^= key.charCodeAt(i + 6) << 16;

              case 6:
                k2 ^= key.charCodeAt(i + 5) << 8;

              case 5:
                h2 ^= k2 = _x86Multiply(k2 = _x86Rotl(k2 = _x86Multiply(k2 ^= key.charCodeAt(i + 4), c2), 16), c3);

              case 4:
                k1 ^= key.charCodeAt(i + 3) << 24;

              case 3:
                k1 ^= key.charCodeAt(i + 2) << 16;

              case 2:
                k1 ^= key.charCodeAt(i + 1) << 8;

              case 1:
                h1 ^= k1 = _x86Multiply(k1 = _x86Rotl(k1 = _x86Multiply(k1 ^= key.charCodeAt(i), c1), 15), c2);
            }
            return h1 ^= key.length, h1 += h2 ^= key.length, h1 += h3 ^= key.length, h2 += h1 += h4 ^= key.length, 
            h3 += h1, h4 += h1, h1 = _x86Fmix(h1), h1 += h2 = _x86Fmix(h2), h1 += h3 = _x86Fmix(h3), 
            h2 += h1 += h4 = _x86Fmix(h4), h3 += h1, h4 += h1, ("00000000" + (h1 >>> 0).toString(16)).slice(-8) + ("00000000" + (h2 >>> 0).toString(16)).slice(-8) + ("00000000" + (h3 >>> 0).toString(16)).slice(-8) + ("00000000" + (h4 >>> 0).toString(16)).slice(-8);
        },
        x64Hash64: function(key, seed) {
            return x64Hash128(key, seed).slice(8);
        },
        x64Hash128: x64Hash128,
        hash: function(key, seed) {
            return x64Hash128(key, seed);
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var chrome_util_1 = __webpack_require__(132), stdlib_1 = __webpack_require__(4), ChromeTabsApiImpl = function() {
        function ChromeTabsApiImpl() {
            this.kind = "web-extension";
        }
        return ChromeTabsApiImpl.prototype.open = function(url, activateOnOpen) {
            return stdlib_1.SafePromise.create(function(resolve, reject) {
                chrome.tabs.create({
                    url: url,
                    active: activateOnOpen
                }, function(tab) {
                    chrome_util_1.handleChromeError(function() {
                        return resolve(tab);
                    }, reject);
                });
            });
        }, ChromeTabsApiImpl.prototype.updateCurrent = function(url) {
            return stdlib_1.SafePromise.create(function(resolve, reject) {
                chrome.tabs.update({
                    url: url
                }, function(tab) {
                    chrome_util_1.handleChromeError(function() {
                        return resolve(tab);
                    }, reject);
                });
            });
        }, ChromeTabsApiImpl.prototype.getActiveTab = function() {
            return stdlib_1.SafePromise.create(function(resolve, reject) {
                var ct = chrome.tabs;
                ct.query({
                    active: !0,
                    lastFocusedWindow: !0
                }, function(tabs) {
                    chrome_util_1.handleChromeError(function() {
                        tabs && tabs.length ? resolve(tabs[0]) : ct.query({
                            active: !0
                        }, function(tabs) {
                            chrome_util_1.handleChromeError(function() {
                                resolve(tabs[0]);
                            }, reject);
                        });
                    }, reject);
                });
            });
        }, ChromeTabsApiImpl.prototype.getAllTabs = function() {
            return stdlib_1.SafePromise.create(function(resolve, reject) {
                return chrome.tabs.query({}, function(tabs) {
                    return chrome_util_1.handleChromeError(function() {
                        return resolve(tabs);
                    }, reject);
                });
            });
        }, ChromeTabsApiImpl.prototype.getActiveTabUrl = function() {
            var _this = this;
            return stdlib_1.SafePromise.create(function(resolve, reject) {
                return _this.getActiveTab().then(function(tab) {
                    return chrome_util_1.handleChromeError(function() {
                        return resolve(tab && tab.url);
                    }, reject);
                });
            });
        }, ChromeTabsApiImpl.prototype.onActiveTabChange = function(listener, error) {
            var _this = this, resolveWithCheck = function(tab) {
                chrome_util_1.handleChromeError(function() {
                    tab && listener(tab);
                }, error);
            };
            chrome.tabs.onActivated.addListener(function(activeTab) {
                return chrome.tabs.get(activeTab.tabId, function(tab) {
                    return resolveWithCheck(tab);
                });
            }), chrome.tabs.onUpdated.addListener(function(tabId, reason) {
                _this.getActiveTab().then(function(tab) {
                    tab && tab.id === tabId && (reason.url || reason.favIconUrl || "complete" === reason.status) && chrome.tabs.get(tabId, function(active) {
                        return resolveWithCheck(active);
                    });
                });
            }), chrome.windows.onFocusChanged.addListener(function(windowId) {
                return chrome.tabs.query({
                    active: !0,
                    windowId: windowId,
                    lastFocusedWindow: !0
                }, function(tabs) {
                    return resolveWithCheck(tabs[0]);
                });
            }), this.getActiveTab().then(function(tab) {
                return resolveWithCheck(tab);
            });
        }, ChromeTabsApiImpl.prototype.reload = function(tabId) {
            return stdlib_1.SafePromise.create(function(resolve, reject) {
                var cb = function() {
                    return chrome_util_1.handleChromeError(function() {
                        return resolve();
                    }, reject);
                };
                tabId ? chrome.tabs.reload(tabId, {}, cb) : chrome.tabs.reload(cb);
            });
        }, ChromeTabsApiImpl;
    }();
    exports.ChromeTabsApiImpl = ChromeTabsApiImpl;
}, function(module, exports, __webpack_require__) {
    var Stack = __webpack_require__(57), assignMergeValue = __webpack_require__(133), baseFor = __webpack_require__(119), baseMergeDeep = __webpack_require__(275), isObject = __webpack_require__(9), keysIn = __webpack_require__(43), safeGet = __webpack_require__(135);
    module.exports = function baseMerge(object, source, srcIndex, customizer, stack) {
        object !== source && baseFor(source, function(srcValue, key) {
            if (isObject(srcValue)) stack || (stack = new Stack()), baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack); else {
                var newValue = customizer ? customizer(safeGet(object, key), srcValue, key + "", object, source, stack) : void 0;
                void 0 === newValue && (newValue = srcValue), assignMergeValue(object, key, newValue);
            }
        }, keysIn);
    };
}, function(module, exports, __webpack_require__) {
    var assignMergeValue = __webpack_require__(133), cloneBuffer = __webpack_require__(171), cloneTypedArray = __webpack_require__(172), copyArray = __webpack_require__(173), initCloneObject = __webpack_require__(174), isArguments = __webpack_require__(45), isArray = __webpack_require__(7), isArrayLikeObject = __webpack_require__(111), isBuffer = __webpack_require__(34), isFunction = __webpack_require__(41), isObject = __webpack_require__(9), isPlainObject = __webpack_require__(175), isTypedArray = __webpack_require__(40), safeGet = __webpack_require__(135), toPlainObject = __webpack_require__(276);
    module.exports = function(object, source, key, srcIndex, mergeFunc, customizer, stack) {
        var objValue = safeGet(object, key), srcValue = safeGet(source, key), stacked = stack.get(srcValue);
        if (stacked) assignMergeValue(object, key, stacked); else {
            var newValue = customizer ? customizer(objValue, srcValue, key + "", object, source, stack) : void 0, isCommon = void 0 === newValue;
            if (isCommon) {
                var isArr = isArray(srcValue), isBuff = !isArr && isBuffer(srcValue), isTyped = !isArr && !isBuff && isTypedArray(srcValue);
                newValue = srcValue, isArr || isBuff || isTyped ? isArray(objValue) ? newValue = objValue : isArrayLikeObject(objValue) ? newValue = copyArray(objValue) : isBuff ? (isCommon = !1, 
                newValue = cloneBuffer(srcValue, !0)) : isTyped ? (isCommon = !1, newValue = cloneTypedArray(srcValue, !0)) : newValue = [] : isPlainObject(srcValue) || isArguments(srcValue) ? (newValue = objValue, 
                isArguments(objValue) ? newValue = toPlainObject(objValue) : (!isObject(objValue) || srcIndex && isFunction(objValue)) && (newValue = initCloneObject(srcValue))) : isCommon = !1;
            }
            isCommon && (stack.set(srcValue, newValue), mergeFunc(newValue, srcValue, srcIndex, customizer, stack), 
            stack.delete(srcValue)), assignMergeValue(object, key, newValue);
        }
    };
}, function(module, exports, __webpack_require__) {
    var copyObject = __webpack_require__(36), keysIn = __webpack_require__(43);
    module.exports = function(value) {
        return copyObject(value, keysIn(value));
    };
}, function(module, exports, __webpack_require__) {
    var isObject = __webpack_require__(9), isPrototype = __webpack_require__(56), nativeKeysIn = __webpack_require__(278), hasOwnProperty = Object.prototype.hasOwnProperty;
    module.exports = function(object) {
        if (!isObject(object)) return nativeKeysIn(object);
        var isProto = isPrototype(object), result = [];
        for (var key in object) ("constructor" != key || !isProto && hasOwnProperty.call(object, key)) && result.push(key);
        return result;
    };
}, function(module, exports) {
    module.exports = function(object) {
        var result = [];
        if (null != object) for (var key in Object(object)) result.push(key);
        return result;
    };
}, function(module, exports, __webpack_require__) {
    var constant = __webpack_require__(280), defineProperty = __webpack_require__(134), identity = __webpack_require__(52), baseSetToString = defineProperty ? function(func, string) {
        return defineProperty(func, "toString", {
            configurable: !0,
            enumerable: !1,
            value: constant(string),
            writable: !0
        });
    } : identity;
    module.exports = baseSetToString;
}, function(module, exports) {
    module.exports = function(value) {
        return function() {
            return value;
        };
    };
}, function(module, exports) {
    var HOT_COUNT = 800, HOT_SPAN = 16, nativeNow = Date.now;
    module.exports = function(func) {
        var count = 0, lastCalled = 0;
        return function() {
            var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);
            if (lastCalled = stamp, remaining > 0) {
                if (++count >= HOT_COUNT) return arguments[0];
            } else count = 0;
            return func.apply(void 0, arguments);
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var root_1 = __webpack_require__(46);
    function symbolIteratorPonyfill(root) {
        var Symbol = root.Symbol;
        if ("function" == typeof Symbol) return Symbol.iterator || (Symbol.iterator = Symbol("iterator polyfill")), 
        Symbol.iterator;
        var Set_1 = root.Set;
        if (Set_1 && "function" == typeof new Set_1()["@@iterator"]) return "@@iterator";
        var Map_1 = root.Map;
        if (Map_1) for (var keys = Object.getOwnPropertyNames(Map_1.prototype), i = 0; i < keys.length; ++i) {
            var key = keys[i];
            if ("entries" !== key && "size" !== key && Map_1.prototype[key] === Map_1.prototype.entries) return key;
        }
        return "@@iterator";
    }
    exports.symbolIteratorPonyfill = symbolIteratorPonyfill, exports.iterator = symbolIteratorPonyfill(root_1.root), 
    exports.$$iterator = exports.iterator;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), Notification = function() {
        function Notification(kind, value, error) {
            this.kind = kind, this.value = value, this.error = error, this.hasValue = "N" === kind;
        }
        return Notification.prototype.observe = function(observer) {
            switch (this.kind) {
              case "N":
                return observer.next && observer.next(this.value);

              case "E":
                return observer.error && observer.error(this.error);

              case "C":
                return observer.complete && observer.complete();
            }
        }, Notification.prototype.do = function(next, error, complete) {
            switch (this.kind) {
              case "N":
                return next && next(this.value);

              case "E":
                return error && error(this.error);

              case "C":
                return complete && complete();
            }
        }, Notification.prototype.accept = function(nextOrObserver, error, complete) {
            return nextOrObserver && "function" == typeof nextOrObserver.next ? this.observe(nextOrObserver) : this.do(nextOrObserver, error, complete);
        }, Notification.prototype.toObservable = function() {
            switch (this.kind) {
              case "N":
                return Observable_1.Observable.of(this.value);

              case "E":
                return Observable_1.Observable.throw(this.error);

              case "C":
                return Observable_1.Observable.empty();
            }
            throw new Error("unexpected notification kind value");
        }, Notification.createNext = function(value) {
            return void 0 !== value ? new Notification("N", value) : Notification.undefinedValueNotification;
        }, Notification.createError = function(err) {
            return new Notification("E", void 0, err);
        }, Notification.createComplete = function() {
            return Notification.completeNotification;
        }, Notification.completeNotification = new Notification("C"), Notification.undefinedValueNotification = new Notification("N", void 0), 
        Notification;
    }();
    exports.Notification = Notification;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.map = function(project, thisArg) {
        return function(source) {
            if ("function" != typeof project) throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");
            return source.lift(new MapOperator(project, thisArg));
        };
    };
    var MapOperator = function() {
        function MapOperator(project, thisArg) {
            this.project = project, this.thisArg = thisArg;
        }
        return MapOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));
        }, MapOperator;
    }();
    exports.MapOperator = MapOperator;
    var MapSubscriber = function(_super) {
        function MapSubscriber(destination, project, thisArg) {
            _super.call(this, destination), this.project = project, this.count = 0, this.thisArg = thisArg || this;
        }
        return __extends(MapSubscriber, _super), MapSubscriber.prototype._next = function(value) {
            var result;
            try {
                result = this.project.call(this.thisArg, value, this.count++);
            } catch (err) {
                return void this.destination.error(err);
            }
            this.destination.next(result);
        }, MapSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var isScheduler_1 = __webpack_require__(86), of_1 = __webpack_require__(464), from_1 = __webpack_require__(458), concatAll_1 = __webpack_require__(380);
    exports.concat = function() {
        for (var observables = [], _i = 0; _i < arguments.length; _i++) observables[_i - 0] = arguments[_i];
        return 1 === observables.length || 2 === observables.length && isScheduler_1.isScheduler(observables[1]) ? from_1.from(observables[0]) : concatAll_1.concatAll()(of_1.of.apply(void 0, observables));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, subscribeToResult_1 = __webpack_require__(13), OuterSubscriber_1 = __webpack_require__(14);
    exports.mergeMap = function(project, resultSelector, concurrent) {
        return void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY), function(source) {
            return "number" == typeof resultSelector && (concurrent = resultSelector, resultSelector = null), 
            source.lift(new MergeMapOperator(project, resultSelector, concurrent));
        };
    };
    var MergeMapOperator = function() {
        function MergeMapOperator(project, resultSelector, concurrent) {
            void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY), this.project = project, 
            this.resultSelector = resultSelector, this.concurrent = concurrent;
        }
        return MergeMapOperator.prototype.call = function(observer, source) {
            return source.subscribe(new MergeMapSubscriber(observer, this.project, this.resultSelector, this.concurrent));
        }, MergeMapOperator;
    }();
    exports.MergeMapOperator = MergeMapOperator;
    var MergeMapSubscriber = function(_super) {
        function MergeMapSubscriber(destination, project, resultSelector, concurrent) {
            void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY), _super.call(this, destination), 
            this.project = project, this.resultSelector = resultSelector, this.concurrent = concurrent, 
            this.hasCompleted = !1, this.buffer = [], this.active = 0, this.index = 0;
        }
        return __extends(MergeMapSubscriber, _super), MergeMapSubscriber.prototype._next = function(value) {
            this.active < this.concurrent ? this._tryNext(value) : this.buffer.push(value);
        }, MergeMapSubscriber.prototype._tryNext = function(value) {
            var result, index = this.index++;
            try {
                result = this.project(value, index);
            } catch (err) {
                return void this.destination.error(err);
            }
            this.active++, this._innerSub(result, value, index);
        }, MergeMapSubscriber.prototype._innerSub = function(ish, value, index) {
            this.add(subscribeToResult_1.subscribeToResult(this, ish, value, index));
        }, MergeMapSubscriber.prototype._complete = function() {
            this.hasCompleted = !0, 0 === this.active && 0 === this.buffer.length && this.destination.complete();
        }, MergeMapSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.resultSelector ? this._notifyResultSelector(outerValue, innerValue, outerIndex, innerIndex) : this.destination.next(innerValue);
        }, MergeMapSubscriber.prototype._notifyResultSelector = function(outerValue, innerValue, outerIndex, innerIndex) {
            var result;
            try {
                result = this.resultSelector(outerValue, innerValue, outerIndex, innerIndex);
            } catch (err) {
                return void this.destination.error(err);
            }
            this.destination.next(result);
        }, MergeMapSubscriber.prototype.notifyComplete = function(innerSub) {
            var buffer = this.buffer;
            this.remove(innerSub), this.active--, buffer.length > 0 ? this._next(buffer.shift()) : 0 === this.active && this.hasCompleted && this.destination.complete();
        }, MergeMapSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.MergeMapSubscriber = MergeMapSubscriber;
}, function(module, exports, __webpack_require__) {
    var root = __webpack_require__(12);
    module.exports = function() {
        return root.Date.now();
    };
}, function(module, exports) {
    try {
        module.exports = function(obj) {
            var topics = {};
            return (obj = obj || {}).emit = function(topic, data) {
                topic = processTopic(topic);
                var listeners = topics[topic];
                if (listeners) for (var _listeners = listeners.concat(), i = 0; i < _listeners.length; i++) _listeners[i](data);
            }, obj.emitArgs = function(topic) {
                topic = processTopic(topic);
                var listeners = topics[topic], args = [].slice.call(arguments, 1);
                if (listeners) for (var _listeners = listeners.concat(), i = 0; i < _listeners.length; i++) _listeners[i].apply(null, args);
            }, obj.on = function(topic, cb) {
                return topic = processTopic(topic), topics[topic] = topics[topic] || [], topics[topic].push(cb), 
                {
                    un: function() {
                        obj.un(topic, cb);
                    }
                };
            }, obj.off = obj.un = function(topic, cb) {
                topic = processTopic(topic);
                var listeners = topics[topic];
                if (listeners) {
                    var index = listeners.indexOf(cb);
                    index > -1 && (listeners.splice(index, 1), listeners.length > 0 || delete topics[topic]);
                }
            }, obj.one = function(topic, cb) {
                var listener = obj.on(topic, function() {
                    listener.un(), cb.apply(null, arguments);
                });
            }, obj.delegate = function(delegateTo, topic, delegateTopic) {
                topic = processTopic(topic), obj.on(topic, function(data) {
                    delegateTo.emit(delegateTopic || topic, data);
                });
            }, obj;
            function processTopic(topic) {
                return topic.join ? topic.join(" ") : topic;
            }
        };
    } catch (e) {}
}, function(module, exports, __webpack_require__) {
    var arrayEach = __webpack_require__(92), baseEach = __webpack_require__(179), castFunction = __webpack_require__(291), isArray = __webpack_require__(7);
    module.exports = function(collection, iteratee) {
        return (isArray(collection) ? arrayEach : baseEach)(collection, castFunction(iteratee));
    };
}, function(module, exports, __webpack_require__) {
    var isArrayLike = __webpack_require__(28);
    module.exports = function(eachFunc, fromRight) {
        return function(collection, iteratee) {
            if (null == collection) return collection;
            if (!isArrayLike(collection)) return eachFunc(collection, iteratee);
            for (var length = collection.length, index = fromRight ? length : -1, iterable = Object(collection); (fromRight ? index-- : ++index < length) && !1 !== iteratee(iterable[index], index, iterable); ) ;
            return collection;
        };
    };
}, function(module, exports, __webpack_require__) {
    var identity = __webpack_require__(52);
    module.exports = function(value) {
        return "function" == typeof value ? value : identity;
    };
}, function(module, exports, __webpack_require__) {
    var copyObject = __webpack_require__(36), createAssigner = __webpack_require__(112), keysIn = __webpack_require__(43), assignIn = createAssigner(function(object, source) {
        copyObject(source, keysIn(source), object);
    });
    module.exports = assignIn;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var location_1 = __webpack_require__(15), facebook_1 = __webpack_require__(666), jira_1 = __webpack_require__(667), blackboard_1 = __webpack_require__(668), gdocs_1 = __webpack_require__(669);
    function getClientScriptFunction() {
        return location_1.isFacebookSite() ? facebook_1.facebookRewriteFunction : location_1.isJiraSite() ? jira_1.jiraRewriteFunction : location_1.isBlackboardSite() ? blackboard_1.blackboardRewriteFunction : null;
    }
    function addScript(doc, func, params, editorType) {
        var script = doc.createElement("script");
        params = params || [], "ckeditor" === editorType && (script.dataset.ckeTemp = "1");
        var strFunc = func.toString(), strParams = params.join(",");
        return script.innerHTML = "(function(){(" + strFunc + ")(" + strParams + ") })()", 
        doc.documentElement.appendChild(script), script;
    }
    exports.getClientScriptFunction = getClientScriptFunction, exports.injectGdocsClientScript = function() {
        addScript(document, gdocs_1.gdocsAdapterFunction, []);
    }, exports.injectClientScriptIfNeeded = function() {
        var clientScriptFunction = getClientScriptFunction();
        clientScriptFunction && addScript(document, clientScriptFunction, []);
    }, exports.addScript = addScript;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
        return typeof obj;
    } : function(obj) {
        return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
    exports.printBuffer = function(buffer, options) {
        var logger = options.logger, actionTransformer = options.actionTransformer, _options$titleFormatt = options.titleFormatter, titleFormatter = void 0 === _options$titleFormatt ? function(options) {
            var timestamp = options.timestamp, duration = options.duration;
            return function(action, time, took) {
                var parts = [ "action" ];
                return parts.push("%c" + String(action.type)), timestamp && parts.push("%c@ " + time), 
                duration && parts.push("%c(in " + took.toFixed(2) + " ms)"), parts.join(" ");
            };
        }(options) : _options$titleFormatt, collapsed = options.collapsed, colors = options.colors, level = options.level, diff = options.diff;
        buffer.forEach(function(logEntry, key) {
            var started = logEntry.started, startedTime = logEntry.startedTime, action = logEntry.action, prevState = logEntry.prevState, error = logEntry.error, took = logEntry.took, nextState = logEntry.nextState, nextEntry = buffer[key + 1];
            nextEntry && (nextState = nextEntry.prevState, took = nextEntry.started - started);
            var formattedAction = actionTransformer(action), isCollapsed = "function" == typeof collapsed ? collapsed(function() {
                return nextState;
            }, action, logEntry) : collapsed, formattedTime = (0, _helpers.formatTime)(startedTime), titleCSS = colors.title ? "color: " + colors.title(formattedAction) + ";" : "", headerCSS = [ "color: gray; font-weight: lighter;" ];
            headerCSS.push(titleCSS), options.timestamp && headerCSS.push("color: gray; font-weight: lighter;"), 
            options.duration && headerCSS.push("color: gray; font-weight: lighter;");
            var title = titleFormatter(formattedAction, formattedTime, took);
            try {
                isCollapsed ? colors.title ? logger.groupCollapsed.apply(logger, [ "%c " + title ].concat(headerCSS)) : logger.groupCollapsed(title) : colors.title ? logger.group.apply(logger, [ "%c " + title ].concat(headerCSS)) : logger.group(title);
            } catch (e) {
                logger.log(title);
            }
            var prevStateLevel = getLogLevel(level, formattedAction, [ prevState ], "prevState"), actionLevel = getLogLevel(level, formattedAction, [ formattedAction ], "action"), errorLevel = getLogLevel(level, formattedAction, [ error, prevState ], "error"), nextStateLevel = getLogLevel(level, formattedAction, [ nextState ], "nextState");
            prevStateLevel && (colors.prevState ? logger[prevStateLevel]("%c prev state", "color: " + colors.prevState(prevState) + "; font-weight: bold", prevState) : logger[prevStateLevel]("prev state", prevState)), 
            actionLevel && (colors.action ? logger[actionLevel]("%c action    ", "color: " + colors.action(formattedAction) + "; font-weight: bold", formattedAction) : logger[actionLevel]("action    ", formattedAction)), 
            error && errorLevel && (colors.error ? logger[errorLevel]("%c error     ", "color: " + colors.error(error, prevState) + "; font-weight: bold;", error) : logger[errorLevel]("error     ", error)), 
            nextStateLevel && (colors.nextState ? logger[nextStateLevel]("%c next state", "color: " + colors.nextState(nextState) + "; font-weight: bold", nextState) : logger[nextStateLevel]("next state", nextState)), 
            diff && (0, _diff2.default)(prevState, nextState, logger, isCollapsed);
            try {
                logger.groupEnd();
            } catch (e) {
                logger.log(" log end ");
            }
        });
    };
    var obj, _helpers = __webpack_require__(141), _diff = __webpack_require__(295), _diff2 = (obj = _diff) && obj.__esModule ? obj : {
        default: obj
    };
    function getLogLevel(level, action, payload, type) {
        switch (void 0 === level ? "undefined" : _typeof(level)) {
          case "object":
            return "function" == typeof level[type] ? level[type].apply(level, function(arr) {
                if (Array.isArray(arr)) {
                    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];
                    return arr2;
                }
                return Array.from(arr);
            }(payload)) : level[type];

          case "function":
            return level(action);

          default:
            return level;
        }
    }
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = function(prevState, newState, logger, isCollapsed) {
        var diff = (0, _deepDiff2.default)(prevState, newState);
        try {
            isCollapsed ? logger.groupCollapsed("diff") : logger.group("diff");
        } catch (e) {
            logger.log("diff");
        }
        diff ? diff.forEach(function(elem) {
            var kind = elem.kind, output = function(diff) {
                var kind = diff.kind, path = diff.path, lhs = diff.lhs, rhs = diff.rhs, index = diff.index, item = diff.item;
                switch (kind) {
                  case "E":
                    return [ path.join("."), lhs, "", rhs ];

                  case "N":
                    return [ path.join("."), rhs ];

                  case "D":
                    return [ path.join(".") ];

                  case "A":
                    return [ path.join(".") + "[" + index + "]", item ];

                  default:
                    return [];
                }
            }(elem);
            logger.log.apply(logger, [ "%c " + dictionary[kind].text, function(kind) {
                return "color: " + dictionary[kind].color + "; font-weight: bold";
            }(kind) ].concat(function(arr) {
                {
                    if (Array.isArray(arr)) {
                        for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];
                        return arr2;
                    }
                    return Array.from(arr);
                }
            }(output)));
        }) : logger.log(" no diff ");
        try {
            logger.groupEnd();
        } catch (e) {
            logger.log(" diff end  ");
        }
    };
    var obj, _deepDiff = __webpack_require__(296), _deepDiff2 = (obj = _deepDiff) && obj.__esModule ? obj : {
        default: obj
    };
    var dictionary = {
        E: {
            color: "#2196F3",
            text: "CHANGED:"
        },
        N: {
            color: "#4CAF50",
            text: "ADDED:"
        },
        D: {
            color: "#F44336",
            text: "DELETED:"
        },
        A: {
            color: "#2196F3",
            text: "ARRAY:"
        }
    };
    module.exports = exports.default;
}, function(module, exports, __webpack_require__) {
    (function(global) {
        var __WEBPACK_AMD_DEFINE_RESULT__;
        !function(root, factory) {
            "use strict";
            void 0 === (__WEBPACK_AMD_DEFINE_RESULT__ = function() {
                return factory();
            }.apply(exports, [])) || (module.exports = __WEBPACK_AMD_DEFINE_RESULT__);
        }(0, function(undefined) {
            "use strict";
            var $scope, conflict, conflictResolution = [];
            function inherits(ctor, superCtor) {
                ctor.super_ = superCtor, ctor.prototype = Object.create(superCtor.prototype, {
                    constructor: {
                        value: ctor,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
            }
            function Diff(kind, path) {
                Object.defineProperty(this, "kind", {
                    value: kind,
                    enumerable: !0
                }), path && path.length && Object.defineProperty(this, "path", {
                    value: path,
                    enumerable: !0
                });
            }
            function DiffEdit(path, origin, value) {
                DiffEdit.super_.call(this, "E", path), Object.defineProperty(this, "lhs", {
                    value: origin,
                    enumerable: !0
                }), Object.defineProperty(this, "rhs", {
                    value: value,
                    enumerable: !0
                });
            }
            function DiffNew(path, value) {
                DiffNew.super_.call(this, "N", path), Object.defineProperty(this, "rhs", {
                    value: value,
                    enumerable: !0
                });
            }
            function DiffDeleted(path, value) {
                DiffDeleted.super_.call(this, "D", path), Object.defineProperty(this, "lhs", {
                    value: value,
                    enumerable: !0
                });
            }
            function DiffArray(path, index, item) {
                DiffArray.super_.call(this, "A", path), Object.defineProperty(this, "index", {
                    value: index,
                    enumerable: !0
                }), Object.defineProperty(this, "item", {
                    value: item,
                    enumerable: !0
                });
            }
            function arrayRemove(arr, from, to) {
                var rest = arr.slice((to || from) + 1 || arr.length);
                return arr.length = from < 0 ? arr.length + from : from, arr.push.apply(arr, rest), 
                arr;
            }
            function realTypeOf(subject) {
                var type = typeof subject;
                return "object" !== type ? type : subject === Math ? "math" : null === subject ? "null" : Array.isArray(subject) ? "array" : "[object Date]" === Object.prototype.toString.call(subject) ? "date" : void 0 !== subject.toString && /^\/.*\//.test(subject.toString()) ? "regexp" : "object";
            }
            function deepDiff(lhs, rhs, changes, prefilter, path, key, stack) {
                var currentPath = (path = path || []).slice(0);
                if (void 0 !== key) {
                    if (prefilter) {
                        if ("function" == typeof prefilter && prefilter(currentPath, key)) return;
                        if ("object" == typeof prefilter) {
                            if (prefilter.prefilter && prefilter.prefilter(currentPath, key)) return;
                            if (prefilter.normalize) {
                                var alt = prefilter.normalize(currentPath, key, lhs, rhs);
                                alt && (lhs = alt[0], rhs = alt[1]);
                            }
                        }
                    }
                    currentPath.push(key);
                }
                "regexp" === realTypeOf(lhs) && "regexp" === realTypeOf(rhs) && (lhs = lhs.toString(), 
                rhs = rhs.toString());
                var ltype = typeof lhs, rtype = typeof rhs;
                if ("undefined" === ltype) "undefined" !== rtype && changes(new DiffNew(currentPath, rhs)); else if ("undefined" === rtype) changes(new DiffDeleted(currentPath, lhs)); else if (realTypeOf(lhs) !== realTypeOf(rhs)) changes(new DiffEdit(currentPath, lhs, rhs)); else if ("[object Date]" === Object.prototype.toString.call(lhs) && "[object Date]" === Object.prototype.toString.call(rhs) && lhs - rhs != 0) changes(new DiffEdit(currentPath, lhs, rhs)); else if ("object" === ltype && null !== lhs && null !== rhs) {
                    if ((stack = stack || []).indexOf(lhs) < 0) {
                        if (stack.push(lhs), Array.isArray(lhs)) {
                            var i;
                            lhs.length;
                            for (i = 0; i < lhs.length; i++) i >= rhs.length ? changes(new DiffArray(currentPath, i, new DiffDeleted(undefined, lhs[i]))) : deepDiff(lhs[i], rhs[i], changes, prefilter, currentPath, i, stack);
                            for (;i < rhs.length; ) changes(new DiffArray(currentPath, i, new DiffNew(undefined, rhs[i++])));
                        } else {
                            var akeys = Object.keys(lhs), pkeys = Object.keys(rhs);
                            akeys.forEach(function(k, i) {
                                var other = pkeys.indexOf(k);
                                other >= 0 ? (deepDiff(lhs[k], rhs[k], changes, prefilter, currentPath, k, stack), 
                                pkeys = arrayRemove(pkeys, other)) : deepDiff(lhs[k], undefined, changes, prefilter, currentPath, k, stack);
                            }), pkeys.forEach(function(k) {
                                deepDiff(undefined, rhs[k], changes, prefilter, currentPath, k, stack);
                            });
                        }
                        stack.length = stack.length - 1;
                    }
                } else lhs !== rhs && ("number" === ltype && isNaN(lhs) && isNaN(rhs) || changes(new DiffEdit(currentPath, lhs, rhs)));
            }
            function accumulateDiff(lhs, rhs, prefilter, accum) {
                return accum = accum || [], deepDiff(lhs, rhs, function(diff) {
                    diff && accum.push(diff);
                }, prefilter), accum.length ? accum : undefined;
            }
            function applyChange(target, source, change) {
                if (target && source && change && change.kind) {
                    for (var it = target, i = -1, last = change.path ? change.path.length - 1 : 0; ++i < last; ) void 0 === it[change.path[i]] && (it[change.path[i]] = "number" == typeof change.path[i] ? [] : {}), 
                    it = it[change.path[i]];
                    switch (change.kind) {
                      case "A":
                        !function applyArrayChange(arr, index, change) {
                            if (change.path && change.path.length) {
                                var i, it = arr[index], u = change.path.length - 1;
                                for (i = 0; i < u; i++) it = it[change.path[i]];
                                switch (change.kind) {
                                  case "A":
                                    applyArrayChange(it[change.path[i]], change.index, change.item);
                                    break;

                                  case "D":
                                    delete it[change.path[i]];
                                    break;

                                  case "E":
                                  case "N":
                                    it[change.path[i]] = change.rhs;
                                }
                            } else switch (change.kind) {
                              case "A":
                                applyArrayChange(arr[index], change.index, change.item);
                                break;

                              case "D":
                                arr = arrayRemove(arr, index);
                                break;

                              case "E":
                              case "N":
                                arr[index] = change.rhs;
                            }
                            return arr;
                        }(change.path ? it[change.path[i]] : it, change.index, change.item);
                        break;

                      case "D":
                        delete it[change.path[i]];
                        break;

                      case "E":
                      case "N":
                        it[change.path[i]] = change.rhs;
                    }
                }
            }
            return $scope = "object" == typeof global && global ? global : "undefined" != typeof window ? window : {}, 
            (conflict = $scope.DeepDiff) && conflictResolution.push(function() {
                void 0 !== conflict && $scope.DeepDiff === accumulateDiff && ($scope.DeepDiff = conflict, 
                conflict = undefined);
            }), inherits(DiffEdit, Diff), inherits(DiffNew, Diff), inherits(DiffDeleted, Diff), 
            inherits(DiffArray, Diff), Object.defineProperties(accumulateDiff, {
                diff: {
                    value: accumulateDiff,
                    enumerable: !0
                },
                observableDiff: {
                    value: deepDiff,
                    enumerable: !0
                },
                applyDiff: {
                    value: function(target, source, filter) {
                        target && source && deepDiff(target, source, function(change) {
                            filter && !filter(target, source, change) || applyChange(target, source, change);
                        });
                    },
                    enumerable: !0
                },
                applyChange: {
                    value: applyChange,
                    enumerable: !0
                },
                revertChange: {
                    value: function(target, source, change) {
                        if (target && source && change && change.kind) {
                            var i, u, it = target;
                            for (u = change.path.length - 1, i = 0; i < u; i++) void 0 === it[change.path[i]] && (it[change.path[i]] = {}), 
                            it = it[change.path[i]];
                            switch (change.kind) {
                              case "A":
                                !function revertArrayChange(arr, index, change) {
                                    if (change.path && change.path.length) {
                                        var i, it = arr[index], u = change.path.length - 1;
                                        for (i = 0; i < u; i++) it = it[change.path[i]];
                                        switch (change.kind) {
                                          case "A":
                                            revertArrayChange(it[change.path[i]], change.index, change.item);
                                            break;

                                          case "D":
                                          case "E":
                                            it[change.path[i]] = change.lhs;
                                            break;

                                          case "N":
                                            delete it[change.path[i]];
                                        }
                                    } else switch (change.kind) {
                                      case "A":
                                        revertArrayChange(arr[index], change.index, change.item);
                                        break;

                                      case "D":
                                      case "E":
                                        arr[index] = change.lhs;
                                        break;

                                      case "N":
                                        arr = arrayRemove(arr, index);
                                    }
                                    return arr;
                                }(it[change.path[i]], change.index, change.item);
                                break;

                              case "D":
                              case "E":
                                it[change.path[i]] = change.lhs;
                                break;

                              case "N":
                                delete it[change.path[i]];
                            }
                        }
                    },
                    enumerable: !0
                },
                isConflict: {
                    value: function() {
                        return void 0 !== conflict;
                    },
                    enumerable: !0
                },
                noConflict: {
                    value: function() {
                        return conflictResolution && (conflictResolution.forEach(function(it) {
                            it();
                        }), conflictResolution = null), accumulateDiff;
                    },
                    enumerable: !0
                }
            }), accumulateDiff;
        });
    }).call(exports, __webpack_require__(33));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.default = {
        level: "log",
        logger: console,
        logErrors: !0,
        collapsed: void 0,
        predicate: void 0,
        duration: !1,
        timestamp: !0,
        stateTransformer: function(state) {
            return state;
        },
        actionTransformer: function(action) {
            return action;
        },
        errorTransformer: function(error) {
            return error;
        },
        colors: {
            title: function() {
                return "inherit";
            },
            prevState: function() {
                return "#9E9E9E";
            },
            action: function() {
                return "#03A9F4";
            },
            nextState: function() {
                return "#4CAF50";
            },
            error: function() {
                return "#F20404";
            }
        },
        diff: !1,
        diffPredicate: void 0,
        transformer: void 0
    }, module.exports = exports.default;
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    var __WEBPACK_IMPORTED_MODULE_0__Symbol_js__ = __webpack_require__(144), __WEBPACK_IMPORTED_MODULE_1__getRawTag_js__ = __webpack_require__(301), __WEBPACK_IMPORTED_MODULE_2__objectToString_js__ = __webpack_require__(302), nullTag = "[object Null]", undefinedTag = "[object Undefined]", symToStringTag = __WEBPACK_IMPORTED_MODULE_0__Symbol_js__.a ? __WEBPACK_IMPORTED_MODULE_0__Symbol_js__.a.toStringTag : void 0;
    __webpack_exports__.a = function(value) {
        return null == value ? void 0 === value ? undefinedTag : nullTag : symToStringTag && symToStringTag in Object(value) ? Object(__WEBPACK_IMPORTED_MODULE_1__getRawTag_js__.a)(value) : Object(__WEBPACK_IMPORTED_MODULE_2__objectToString_js__.a)(value);
    };
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    var __WEBPACK_IMPORTED_MODULE_0__freeGlobal_js__ = __webpack_require__(300), freeSelf = "object" == typeof self && self && self.Object === Object && self, root = __WEBPACK_IMPORTED_MODULE_0__freeGlobal_js__.a || freeSelf || Function("return this")();
    __webpack_exports__.a = root;
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    (function(global) {
        var freeGlobal = "object" == typeof global && global && global.Object === Object && global;
        __webpack_exports__.a = freeGlobal;
    }).call(__webpack_exports__, __webpack_require__(33));
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    var __WEBPACK_IMPORTED_MODULE_0__Symbol_js__ = __webpack_require__(144), objectProto = Object.prototype, hasOwnProperty = objectProto.hasOwnProperty, nativeObjectToString = objectProto.toString, symToStringTag = __WEBPACK_IMPORTED_MODULE_0__Symbol_js__.a ? __WEBPACK_IMPORTED_MODULE_0__Symbol_js__.a.toStringTag : void 0;
    __webpack_exports__.a = function(value) {
        var isOwn = hasOwnProperty.call(value, symToStringTag), tag = value[symToStringTag];
        try {
            value[symToStringTag] = void 0;
            var unmasked = !0;
        } catch (e) {}
        var result = nativeObjectToString.call(value);
        return unmasked && (isOwn ? value[symToStringTag] = tag : delete value[symToStringTag]), 
        result;
    };
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    var nativeObjectToString = Object.prototype.toString;
    __webpack_exports__.a = function(value) {
        return nativeObjectToString.call(value);
    };
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    var __WEBPACK_IMPORTED_MODULE_0__overArg_js__ = __webpack_require__(304), getPrototype = Object(__WEBPACK_IMPORTED_MODULE_0__overArg_js__.a)(Object.getPrototypeOf, Object);
    __webpack_exports__.a = getPrototype;
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    __webpack_exports__.a = function(func, transform) {
        return function(arg) {
            return func(transform(arg));
        };
    };
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    __webpack_exports__.a = function(value) {
        return null != value && "object" == typeof value;
    };
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    (function(global, module) {
        var root, __WEBPACK_IMPORTED_MODULE_0__ponyfill_js__ = __webpack_require__(308);
        root = "undefined" != typeof self ? self : "undefined" != typeof window ? window : void 0 !== global ? global : module;
        var result = Object(__WEBPACK_IMPORTED_MODULE_0__ponyfill_js__.a)(root);
        __webpack_exports__.a = result;
    }).call(__webpack_exports__, __webpack_require__(33), __webpack_require__(307)(module));
}, function(module, exports) {
    module.exports = function(originalModule) {
        if (!originalModule.webpackPolyfill) {
            var module = Object.create(originalModule);
            module.children || (module.children = []), Object.defineProperty(module, "loaded", {
                enumerable: !0,
                get: function() {
                    return module.l;
                }
            }), Object.defineProperty(module, "id", {
                enumerable: !0,
                get: function() {
                    return module.i;
                }
            }), Object.defineProperty(module, "exports", {
                enumerable: !0
            }), module.webpackPolyfill = 1;
        }
        return module;
    };
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    __webpack_exports__.a = function(root) {
        var result, Symbol = root.Symbol;
        "function" == typeof Symbol ? Symbol.observable ? result = Symbol.observable : (result = Symbol("observable"), 
        Symbol.observable = result) : result = "@@observable";
        return result;
    };
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    __webpack_exports__.a = function(reducers) {
        for (var reducerKeys = Object.keys(reducers), finalReducers = {}, i = 0; i < reducerKeys.length; i++) {
            var key = reducerKeys[i];
            0, "function" == typeof reducers[key] && (finalReducers[key] = reducers[key]);
        }
        var finalReducerKeys = Object.keys(finalReducers);
        0;
        var shapeAssertionError = void 0;
        try {
            !function(reducers) {
                Object.keys(reducers).forEach(function(key) {
                    var reducer = reducers[key], initialState = reducer(void 0, {
                        type: __WEBPACK_IMPORTED_MODULE_0__createStore__.a.INIT
                    });
                    if (void 0 === initialState) throw new Error('Reducer "' + key + "\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");
                    var type = "@@redux/PROBE_UNKNOWN_ACTION_" + Math.random().toString(36).substring(7).split("").join(".");
                    if (void 0 === reducer(void 0, {
                        type: type
                    })) throw new Error('Reducer "' + key + "\" returned undefined when probed with a random type. Don't try to handle " + __WEBPACK_IMPORTED_MODULE_0__createStore__.a.INIT + ' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.');
                });
            }(finalReducers);
        } catch (e) {
            shapeAssertionError = e;
        }
        return function() {
            var state = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, action = arguments[1];
            if (shapeAssertionError) throw shapeAssertionError;
            for (var hasChanged = !1, nextState = {}, _i = 0; _i < finalReducerKeys.length; _i++) {
                var _key = finalReducerKeys[_i], reducer = finalReducers[_key], previousStateForKey = state[_key], nextStateForKey = reducer(previousStateForKey, action);
                if (void 0 === nextStateForKey) {
                    var errorMessage = getUndefinedStateErrorMessage(_key, action);
                    throw new Error(errorMessage);
                }
                nextState[_key] = nextStateForKey, hasChanged = hasChanged || nextStateForKey !== previousStateForKey;
            }
            return hasChanged ? nextState : state;
        };
    };
    var __WEBPACK_IMPORTED_MODULE_0__createStore__ = __webpack_require__(143);
    __webpack_require__(113), __webpack_require__(145);
    function getUndefinedStateErrorMessage(key, action) {
        var actionType = action && action.type;
        return "Given action " + (actionType && '"' + actionType.toString() + '"' || "an action") + ', reducer "' + key + '" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.';
    }
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    function bindActionCreator(actionCreator, dispatch) {
        return function() {
            return dispatch(actionCreator.apply(void 0, arguments));
        };
    }
    __webpack_exports__.a = function(actionCreators, dispatch) {
        if ("function" == typeof actionCreators) return bindActionCreator(actionCreators, dispatch);
        if ("object" != typeof actionCreators || null === actionCreators) throw new Error("bindActionCreators expected an object or a function, instead received " + (null === actionCreators ? "null" : typeof actionCreators) + '. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');
        for (var keys = Object.keys(actionCreators), boundActionCreators = {}, i = 0; i < keys.length; i++) {
            var key = keys[i], actionCreator = actionCreators[key];
            "function" == typeof actionCreator && (boundActionCreators[key] = bindActionCreator(actionCreator, dispatch));
        }
        return boundActionCreators;
    };
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    __webpack_exports__.a = function() {
        for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) middlewares[_key] = arguments[_key];
        return function(createStore) {
            return function(reducer, preloadedState, enhancer) {
                var store = createStore(reducer, preloadedState, enhancer), _dispatch = store.dispatch, chain = [], middlewareAPI = {
                    getState: store.getState,
                    dispatch: function(action) {
                        return _dispatch(action);
                    }
                };
                return chain = middlewares.map(function(middleware) {
                    return middleware(middlewareAPI);
                }), _dispatch = __WEBPACK_IMPORTED_MODULE_0__compose__.a.apply(void 0, chain)(store.dispatch), 
                _extends({}, store, {
                    dispatch: _dispatch
                });
            };
        };
    };
    var __WEBPACK_IMPORTED_MODULE_0__compose__ = __webpack_require__(146), _extends = Object.assign || function(target) {
        for (var i = 1; i < arguments.length; i++) {
            var source = arguments[i];
            for (var key in source) Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);
        }
        return target;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __generator = this && this.__generator || function(thisArg, body) {
        var f, y, t, g, _ = {
            label: 0,
            sent: function() {
                if (1 & t[0]) throw t[1];
                return t[1];
            },
            trys: [],
            ops: []
        };
        return g = {
            next: verb(0),
            throw: verb(1),
            return: verb(2)
        }, "function" == typeof Symbol && (g[Symbol.iterator] = function() {
            return this;
        }), g;
        function verb(n) {
            return function(v) {
                return function(op) {
                    if (f) throw new TypeError("Generator is already executing.");
                    for (;_; ) try {
                        if (f = 1, y && (t = y[2 & op[0] ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                        switch (y = 0, t && (op = [ 0, t.value ]), op[0]) {
                          case 0:
                          case 1:
                            t = op;
                            break;

                          case 4:
                            return _.label++, {
                                value: op[1],
                                done: !1
                            };

                          case 5:
                            _.label++, y = op[1], op = [ 0 ];
                            continue;

                          case 7:
                            op = _.ops.pop(), _.trys.pop();
                            continue;

                          default:
                            if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                                _ = 0;
                                continue;
                            }
                            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                                _.label = op[1];
                                break;
                            }
                            if (6 === op[0] && _.label < t[1]) {
                                _.label = t[1], t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2], _.ops.push(op);
                                break;
                            }
                            t[2] && _.ops.pop(), _.trys.pop();
                            continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [ 6, e ], y = 0;
                    } finally {
                        f = t = 0;
                    }
                    if (5 & op[0]) throw op[1];
                    return {
                        value: op[0] ? op[1] : void 0,
                        done: !0
                    };
                }([ n, v ]);
            };
        }
    }, __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var createLogger = __webpack_require__(181), redux_1 = __webpack_require__(142), redux_saga_1 = __webpack_require__(147), reducer_1 = __webpack_require__(318), reducer_2 = __webpack_require__(319), reducer_3 = __webpack_require__(182), reducer_4 = __webpack_require__(320), config_1 = __webpack_require__(10), actions_1 = __webpack_require__(150), actions_2 = __webpack_require__(150);
    exports.pureActions = actions_2.pureActions;
    var effects_1 = __webpack_require__(99), AuthSagaRunners = function() {
        return function(_store, _userSagas) {
            var _this = this;
            this._store = _store, this._userSagas = _userSagas, this.refreshUser = function() {
                for (var _a, args = [], _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
                return (_a = _this._store).runSaga.apply(_a, __spread([ _this._userSagas.externalUpdateUser.bind(_this._userSagas) ], args)).done;
            }, this.signin = function(data) {
                var _a = data.form, reqData = {
                    email_login: {
                        email: _a.email,
                        password: _a.password
                    }
                };
                return _this._store.runSaga(_this._userSagas.authRequest.bind(_this._userSagas), config_1.URLS.authSignin, reqData, data.placement, "signin").done;
            }, this.signup = function(data) {
                var _a = data.form, reqData = {
                    email_signup: {
                        name: _a.name,
                        email: _a.email,
                        password: _a.password
                    }
                };
                return _this._store.runSaga(_this._userSagas.authRequest.bind(_this._userSagas), config_1.URLS.authSignup, reqData, data.placement, "signup").done;
            };
        };
    }();
    exports.AuthSagaRunners = AuthSagaRunners;
    var TabsSagaRunner = function() {
        return function(_store, _tabsSagas) {
            var _this = this;
            this._store = _store, this._tabsSagas = _tabsSagas, this.sendStateToTabs = function() {
                return _this._store.runSaga(_this._tabsSagas.sendStateToTabs.bind(_this._tabsSagas));
            };
        };
    }();
    exports.TabsSagaRunner = TabsSagaRunner;
    var StoreControllerImpl = function() {
        function StoreControllerImpl(_userSagas, _settingsSagas, _tabsSagas, _connectionSagas, _pageConfig) {
            var _this = this;
            this._userSagas = _userSagas, this._settingsSagas = _settingsSagas, this._tabsSagas = _tabsSagas, 
            this._connectionSagas = _connectionSagas, this._pageConfig = _pageConfig;
            var sagaMiddleware = redux_saga_1.default(_userSagas.start.bind(_userSagas), _settingsSagas.start.bind(_settingsSagas), _connectionSagas.start.bind(_connectionSagas));
            this.store = function(sagaMiddleware) {
                var reducer = redux_1.combineReducers({
                    user: reducer_3.userReducer,
                    tabs: reducer_4.tabsReducer,
                    settings: reducer_2.settingsReducer,
                    connection: reducer_1.connectionReducer
                }), logger = createLogger({
                    level: "debug",
                    colors: {
                        title: function() {
                            return "green";
                        }
                    }
                });
                return redux_1.createStore(reducer, {}, redux_1.applyMiddleware(sagaMiddleware, logger));
            }(sagaMiddleware), this.runSaga = sagaMiddleware.run, this.initStore = function() {
                return sagaMiddleware.run(_this._startupFlow.bind(_this)).done.then(function() {
                    _this.store.subscribe(function() {
                        sagaMiddleware.run(_tabsSagas.sendStateToTabs.bind(_tabsSagas)), sagaMiddleware.run(_settingsSagas.processEmailConnectednessData.bind(_settingsSagas));
                    });
                });
            }, this.actions = redux_1.bindActionCreators(actions_1.pureActions, this.store.dispatch);
        }
        return StoreControllerImpl.prototype._startupFlow = function() {
            return __generator(this, function(_a) {
                switch (_a.label) {
                  case 0:
                    return [ 4, [ effects_1.call([ this._settingsSagas, this._settingsSagas.setInitialSettings ]), effects_1.call([ this._pageConfig, this._pageConfig.init ]), effects_1.call([ this._userSagas, this._userSagas.updateUser ], {
                        failoverFromCache: !0
                    }) ] ];

                  case 1:
                    return _a.sent(), [ 4, effects_1.fork([ this._connectionSagas, this._connectionSagas.monitorIsIncognito ]) ];

                  case 2:
                    return _a.sent(), [ 4, effects_1.call([ this._tabsSagas, this._tabsSagas.start ]) ];

                  case 3:
                    return _a.sent(), [ 2 ];
                }
            });
        }, StoreControllerImpl;
    }();
    exports.StoreControllerImpl = StoreControllerImpl;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.NOT_ITERATOR_ERROR = void 0, exports.storeIO = function(store) {
        if ((0, _utils.warnDeprecated)("storeIO is deprecated, to run Saga dynamically, use 'run' method of the middleware"), 
        store[IO]) return store[IO];
        var storeEmitter = (0, _emitter2.default)(), _dispatch = store.dispatch;
        return store.dispatch = function(action) {
            var result = _dispatch(action);
            return storeEmitter.emit(action), result;
        }, store[IO] = {
            subscribe: storeEmitter.subscribe,
            dispatch: store.dispatch,
            getState: store.getState
        }, store[IO];
    }, exports.runSaga = function(iterator, _ref) {
        var subscribe = _ref.subscribe, dispatch = _ref.dispatch, getState = _ref.getState, monitor = arguments.length <= 2 || void 0 === arguments[2] ? _utils.noop : arguments[2];
        return (0, _utils.check)(iterator, _utils.is.iterator, NOT_ITERATOR_ERROR), (0, 
        _proc2.default)(iterator, subscribe, dispatch, getState, monitor);
    };
    var _utils = __webpack_require__(21), _proc2 = _interopRequireDefault(__webpack_require__(87)), _emitter2 = _interopRequireDefault(__webpack_require__(148));
    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }
    var NOT_ITERATOR_ERROR = exports.NOT_ITERATOR_ERROR = "runSaga must be called on an iterator", IO = (0, 
    _utils.sym)("IO");
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var _slicedToArray = function() {
        return function(arr, i) {
            if (Array.isArray(arr)) return arr;
            if (Symbol.iterator in Object(arr)) return function(arr, i) {
                var _arr = [], _n = !0, _d = !1, _e = void 0;
                try {
                    for (var _s, _i = arr[Symbol.iterator](); !(_n = (_s = _i.next()).done) && (_arr.push(_s.value), 
                    !i || _arr.length !== i); _n = !0) ;
                } catch (err) {
                    _d = !0, _e = err;
                } finally {
                    try {
                        !_n && _i.return && _i.return();
                    } finally {
                        if (_d) throw _e;
                    }
                }
                return _arr;
            }(arr, i);
            throw new TypeError("Invalid attempt to destructure non-iterable instance");
        };
    }();
    exports.takeEvery = function(pattern, worker) {
        for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) args[_key - 2] = arguments[_key];
        return fsmIterator({
            take: [ {
                done: !1,
                value: (0, _io.take)(pattern)
            }, "fork" ],
            fork: [ function(action) {
                return {
                    done: !1,
                    value: _io.fork.apply(void 0, [ worker ].concat(args, [ action ]))
                };
            }, "take" ]
        }, "take", "takeEvery(" + pattern + ", " + worker.name + ")");
    }, exports.takeLatest = function(pattern, worker) {
        for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) args[_key2 - 2] = arguments[_key2];
        var yieldTake = {
            done: !1,
            value: (0, _io.take)(pattern)
        }, currentTask = void 0, currentAction = void 0;
        return fsmIterator({
            take: [ yieldTake, function() {
                return currentTask ? "cancel" : "fork";
            }, function(action) {
                return currentAction = action;
            } ],
            cancel: [ function() {
                return {
                    done: !1,
                    value: (0, _io.cancel)(currentTask)
                };
            }, "fork" ],
            fork: [ function() {
                return {
                    done: !1,
                    value: _io.fork.apply(void 0, [ worker ].concat(args, [ currentAction ]))
                };
            }, "take", function(task) {
                return currentTask = task;
            } ]
        }, "take", "takeLatest(" + pattern + ", " + worker.name + ")");
    };
    var obj, _utils = __webpack_require__(21), _io = __webpack_require__(54), _SagaCancellationException = __webpack_require__(55), _SagaCancellationException2 = (obj = _SagaCancellationException) && obj.__esModule ? obj : {
        default: obj
    };
    var resume = function(fnOrValue, arg) {
        return _utils.is.func(fnOrValue) ? fnOrValue(arg) : fnOrValue;
    }, done = {
        done: !0
    };
    function fsmIterator(fsm, nextState) {
        var name = arguments.length <= 2 || void 0 === arguments[2] ? "iterator" : arguments[2], aborted = void 0, updateState = void 0;
        function next(arg, error) {
            if (aborted) return done;
            if (error) {
                if (aborted = !0, !(error instanceof _SagaCancellationException2.default)) throw error;
                return done;
            }
            updateState && updateState(arg);
            var _fsm$nextState = _slicedToArray(fsm[nextState], 3), output = _fsm$nextState[0], transition = _fsm$nextState[1], _updateState = _fsm$nextState[2];
            return updateState = _updateState, nextState = resume(transition, arg), resume(output, arg);
        }
        var iterator = {
            name: name,
            next: next,
            throw: function(error) {
                return next(null, error);
            }
        };
        return "undefined" != typeof Symbol && (iterator[Symbol.iterator] = function() {
            return iterator;
        }), iterator;
    }
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.GET_STATE_DEPRECATED_WARNING = exports.RUN_SAGA_DYNAMIC_ERROR = exports.sagaArgError = void 0, 
    exports.default = function() {
        for (var _len = arguments.length, sagas = Array(_len), _key = 0; _key < _len; _key++) sagas[_key] = arguments[_key];
        var runSagaDynamically = void 0;
        function sagaMiddleware(_ref) {
            var getState = _ref.getState, dispatch = _ref.dispatch, sagaEmitter = (0, _emitter2.default)(), monitor = _utils.isDev ? function(action) {
                return (0, _utils.asap)(function() {
                    return dispatch(action);
                });
            } : void 0, getStateDeprecated = function() {
                return (0, _utils.warnDeprecated)(GET_STATE_DEPRECATED_WARNING), getState();
            };
            function runSaga(saga) {
                for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) args[_key2 - 1] = arguments[_key2];
                return (0, _proc2.default)(saga.apply(void 0, [ getStateDeprecated ].concat(args)), sagaEmitter.subscribe, dispatch, getState, monitor, 0, saga.name);
            }
            return runSagaDynamically = runSaga, sagas.forEach(runSaga), function(next) {
                return function(action) {
                    var result = next(action);
                    return action[_monitorActions.MONITOR_ACTION] || sagaEmitter.emit(action), result;
                };
            };
        }
        return sagas.forEach(function(saga, idx) {
            return (0, _utils.check)(saga, _utils.is.func, sagaArgError("createSagaMiddleware", idx, saga));
        }), sagaMiddleware.run = function(saga) {
            for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) args[_key3 - 1] = arguments[_key3];
            if (!runSagaDynamically) throw new Error(RUN_SAGA_DYNAMIC_ERROR);
            (0, _utils.check)(saga, _utils.is.func, sagaArgError("sagaMiddleware.run", 0, saga));
            var task = runSagaDynamically.apply(void 0, [ saga ].concat(args));
            return task.done.catch(function(err) {
                if (!(err instanceof _SagaCancellationException2.default)) throw err;
            }), task;
        }, sagaMiddleware;
    };
    var _utils = __webpack_require__(21), _proc2 = _interopRequireDefault(__webpack_require__(87)), _emitter2 = _interopRequireDefault(__webpack_require__(148)), _monitorActions = __webpack_require__(88), _SagaCancellationException2 = _interopRequireDefault(__webpack_require__(55));
    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }
    var sagaArgError = exports.sagaArgError = function(fn, pos, saga) {
        return "\n  " + fn + " can only be called on Generator functions\n  Argument " + saga + " at position " + pos + " is not function!\n";
    }, RUN_SAGA_DYNAMIC_ERROR = exports.RUN_SAGA_DYNAMIC_ERROR = "Before running a Saga dynamically using middleware.run, you must mount the Saga middleware on the Store using applyMiddleware", GET_STATE_DEPRECATED_WARNING = exports.GET_STATE_DEPRECATED_WARNING = "\n  Using the 'getState' param of Sagas to access the state is deprecated since 0.9.1\n  To access the Store's state use 'yield select()' instead\n  For more infos see http://yelouafi.github.io/redux-saga/docs/api/index.html#selectselector-args\n";
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.monitorActions = exports.createMockTask = exports.MANUAL_CANCEL = exports.PARALLEL_AUTO_CANCEL = exports.RACE_AUTO_CANCEL = exports.CANCEL = exports.asap = exports.arrayOfDeffered = exports.deferred = exports.asEffect = exports.is = exports.noop = exports.TASK = void 0;
    var _utils = __webpack_require__(21), _io = __webpack_require__(54), _proc = __webpack_require__(87), _testUtils = __webpack_require__(317), monitorActions = function(obj) {
        {
            if (obj && obj.__esModule) return obj;
            var newObj = {};
            if (null != obj) for (var key in obj) Object.prototype.hasOwnProperty.call(obj, key) && (newObj[key] = obj[key]);
            return newObj.default = obj, newObj;
        }
    }(__webpack_require__(88));
    exports.TASK = _utils.TASK, exports.noop = _utils.noop, exports.is = _utils.is, 
    exports.asEffect = _io.asEffect, exports.deferred = _utils.deferred, exports.arrayOfDeffered = _utils.arrayOfDeffered, 
    exports.asap = _utils.asap, exports.CANCEL = _proc.CANCEL, exports.RACE_AUTO_CANCEL = _proc.RACE_AUTO_CANCEL, 
    exports.PARALLEL_AUTO_CANCEL = _proc.PARALLEL_AUTO_CANCEL, exports.MANUAL_CANCEL = _proc.MANUAL_CANCEL, 
    exports.createMockTask = _testUtils.createMockTask, exports.monitorActions = monitorActions;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.createMockTask = function() {
        var _ref, running = !0, _result = void 0, _error = void 0;
        return _defineProperty(_ref = {}, _utils.TASK, !0), _defineProperty(_ref, "isRunning", function() {
            return running;
        }), _defineProperty(_ref, "result", function() {
            return _result;
        }), _defineProperty(_ref, "error", function() {
            return _error;
        }), _defineProperty(_ref, "setRunning", function(b) {
            return running = b;
        }), _defineProperty(_ref, "setResult", function(r) {
            return _result = r;
        }), _defineProperty(_ref, "setError", function(e) {
            return _error = e;
        }), _ref;
    };
    var _utils = __webpack_require__(21);
    function _defineProperty(obj, key, value) {
        return key in obj ? Object.defineProperty(obj, key, {
            value: value,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : obj[key] = value, obj;
    }
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var actions_1 = __webpack_require__(98);
    exports.defaultConnection = {
        networkOffline: !window.navigator.onLine,
        cookiesDisabled: !1 === navigator.cookieEnabled,
        online: !0
    }, exports.connectionReducer = function(state, _a) {
        void 0 === state && (state = exports.defaultConnection);
        var type = _a.type, data = _a.data, online = _a.online;
        switch (type) {
          case actions_1.t.ONLINE_STATE:
            return Object.assign({}, state, {
                online: online
            });

          case actions_1.t.UPDATE_CONNECTION:
            return Object.assign({}, state, data);

          default:
            return state;
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Config = __webpack_require__(11), actions_1 = __webpack_require__(89), newsVersion = Config.getGlobal().appConfig.newsVersion;
    exports.settingsReducer = function(settings, _a) {
        void 0 === settings && (settings = {});
        var _c, _d, _e, _f, _g, type = _a.type, _b = _a.data, data = void 0 === _b ? {} : _b, domain = _a.domain, enabledDefs = _a.enabledDefs, enabled = _a.enabled, showNews = _a.showNews, propKey = _a.propKey, loginReminderType = _a.loginReminderType, domainSetting = settings[domain] || {};
        switch (type) {
          case actions_1.t.SETTINGS_INITIAL:
            return Object.assign({}, settings, data);

          case actions_1.t.TOGGLE_DEFS:
            return Object.assign({}, settings, {
                common: Object.assign({}, settings.common, {
                    enabledDefs: enabledDefs
                })
            });

          case actions_1.t.TOGGLE_SITE:
            return Object.assign({}, settings, ((_c = {})[domain] = Object.assign({}, domainSetting, {
                enabled: enabled,
                disabledDate: !0 === enabled ? null : Date.now()
            }), _c));

          case actions_1.t.TOGGLE_FIELD:
            return Object.assign({}, settings, ((_d = {})[domain] = Object.assign({}, settings[domain], {
                disabledFields: Object.assign({}, domainSetting.disabledFields, data)
            }), _d));

          case actions_1.t.SHOW_NEWS:
            return Object.assign({}, settings, {
                common: Object.assign({}, settings.common, {
                    showNews: showNews
                })
            });

          case actions_1.t.SHOW_ONBOARDING:
            return Object.assign({}, settings, {
                common: Object.assign({}, settings.common, {
                    showOnboarding: !0
                })
            });

          case actions_1.t.SEEN_ONBOARDING:
            return Object.assign({}, settings, {
                common: Object.assign({}, settings.common, {
                    showOnboarding: !1
                })
            });

          case actions_1.t.SEEN_GDOCS_OPT_IN:
            return Object.assign({}, settings, {
                common: Object.assign({}, settings.common, {
                    seenGdocsOptIn: !0
                })
            });

          case actions_1.t.SEEN_GDOCS_LARGE_DOCUMENT_WARNING:
            return Object.assign({}, settings, {
                common: Object.assign({}, settings.common, {
                    seenGdocsLargeDocumentWarning: !0
                })
            });

          case actions_1.t.SET_GDOCS_INITIAL_DISABLE:
            return Object.assign({}, settings, {
                common: Object.assign({}, settings.common, {
                    gdocsWasInitiallyDisabled: !0
                })
            });

          case actions_1.t.SEEN_NEWS:
            return Object.assign({}, settings, {
                common: Object.assign({}, settings.common, {
                    seenNewsVersion: newsVersion
                })
            });

          case actions_1.t.SET_DAPI_PROP:
            return Object.assign({}, settings, {
                common: Object.assign({}, settings.common, (_e = {}, _e[propKey] = data, _e))
            });

          case actions_1.t.DISABLE_REMINDER_NOTIFICATION:
            return Object.assign({}, settings, ((_f = {})[domain] = Object.assign({}, domainSetting, {
                disableReminderNotification: !0
            }), _f));

          case actions_1.t.SHOW_DISABLE_REMINDER:
            return Object.assign({}, settings, ((_g = {})[domain] = Object.assign({}, domainSetting, {
                disabledDate: Date.now()
            }), _g));

          case actions_1.t.EDGE_POPUP_FROM_GBUTTON:
            return Object.assign({}, settings, {
                common: Object.assign({}, settings.common, {
                    showEdgePopupFromGButton: !0
                })
            });

          case actions_1.t.SHOW_LOGIN_REMINDER:
            return Object.assign({}, settings, {
                common: Object.assign({}, settings.common, {
                    loginReminderType: loginReminderType,
                    showLoginReminder: !0
                })
            });

          case actions_1.t.HIDE_LOGIN_REMINDER:
            return Object.assign({}, settings, {
                common: Object.assign({}, settings.common, {
                    showLoginReminder: !1
                })
            });

          case actions_1.t.DISABLE_LOGIN_REMINDER:
            return Object.assign({}, settings, {
                common: Object.assign({}, settings.common, {
                    loginReminderDisabled: !0,
                    showLoginReminder: !1
                })
            });

          case actions_1.t.DISABLE_EMAIL_SUMMARIZATION:
            return Object.assign({}, settings, {
                common: Object.assign({}, settings.common, {
                    emailSummarizationDisabled: !0
                })
            });

          default:
            return settings;
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var actions_1 = __webpack_require__(195);
    exports.tabsReducer = function(state, _a) {
        void 0 === state && (state = {});
        var type = _a.type, data = _a.data;
        switch (type) {
          case actions_1.t.SET_ACTIVE_TAB:
            return Object.assign({}, state, {
                active: data
            });

          default:
            return state;
        }
    };
}, function(module, exports, __webpack_require__) {
    var arrayPush = __webpack_require__(106), getPrototype = __webpack_require__(59), getSymbols = __webpack_require__(107), stubArray = __webpack_require__(167), getSymbolsIn = Object.getOwnPropertySymbols ? function(object) {
        for (var result = []; object; ) arrayPush(result, getSymbols(object)), object = getPrototype(object);
        return result;
    } : stubArray;
    module.exports = getSymbolsIn;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var getOwnPropertySymbols = Object.getOwnPropertySymbols, hasOwnProperty = Object.prototype.hasOwnProperty, propIsEnumerable = Object.prototype.propertyIsEnumerable;
    module.exports = function() {
        try {
            if (!Object.assign) return !1;
            var test1 = new String("abc");
            if (test1[5] = "de", "5" === Object.getOwnPropertyNames(test1)[0]) return !1;
            for (var test2 = {}, i = 0; i < 10; i++) test2["_" + String.fromCharCode(i)] = i;
            if ("0123456789" !== Object.getOwnPropertyNames(test2).map(function(n) {
                return test2[n];
            }).join("")) return !1;
            var test3 = {};
            return "abcdefghijklmnopqrst".split("").forEach(function(letter) {
                test3[letter] = letter;
            }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, test3)).join("");
        } catch (err) {
            return !1;
        }
    }() ? Object.assign : function(target, source) {
        for (var from, symbols, to = function(val) {
            if (null == val) throw new TypeError("Object.assign cannot be called with null or undefined");
            return Object(val);
        }(target), s = 1; s < arguments.length; s++) {
            for (var key in from = Object(arguments[s])) hasOwnProperty.call(from, key) && (to[key] = from[key]);
            if (getOwnPropertySymbols) {
                symbols = getOwnPropertySymbols(from);
                for (var i = 0; i < symbols.length; i++) propIsEnumerable.call(from, symbols[i]) && (to[symbols[i]] = from[symbols[i]]);
            }
        }
        return to;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var emptyObject = {};
    module.exports = emptyObject;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var timeseries_impl_1 = __webpack_require__(198), log_1 = __webpack_require__(39), util_1 = __webpack_require__(2), DefaultFelogClient = function() {
        function DefaultFelogClient(_baseUrl, _appName, _appVersion, _env, _fetch) {
            this._baseUrl = _baseUrl, this._appName = _appName, this._appVersion = _appVersion, 
            this._env = _env, this._fetch = _fetch, this._context = {
                userId: void 0,
                containerId: void 0
            }, this._metrics = timeseries_impl_1.MetricsStorage.createRoot(this._env + "." + this._appName, this._baseUrl, this._fetch);
        }
        return DefaultFelogClient.prototype.setUserId = function(userId) {
            this._context = Object.assign({}, this._context, {
                userId: userId
            });
        }, DefaultFelogClient.prototype.setContainerId = function(containerId) {
            this._context = Object.assign({}, this._context, {
                containerId: containerId
            });
        }, DefaultFelogClient.prototype.getContext = function() {
            return this._context;
        }, DefaultFelogClient.prototype.sendEvent = function(e) {
            var payload = log_1.createEventPayload(e, {
                appName: this._appName,
                appVersion: this._appVersion,
                env: this._env,
                context: this.getContext()
            });
            return this._fetch(log_1.felogRequestUrl(payload, this._baseUrl), {
                mode: "no-cors",
                method: "get",
                cache: "no-cache"
            }).then(function(_) {}).catch(function(_) {});
        }, DefaultFelogClient.prototype.sendManyEvents = function(events) {
            var _this = this, payloadEvents = events.map(function(event) {
                return log_1.createEventPayload({
                    logger: event.logger,
                    message: event.message,
                    level: event.level,
                    extra: event.extra,
                    extra_performance: event.extra_performance
                }, {
                    appName: _this._appName,
                    appVersion: _this._appVersion,
                    env: _this._env,
                    context: _this.getContext()
                });
            });
            return this._fetch(this._baseUrl + "/log", {
                mode: "cors",
                headers: {
                    "Content-Type": "application/json"
                },
                method: "post",
                cache: "no-cache",
                body: JSON.stringify(payloadEvents)
            }).then(function(_) {}).catch(function(_) {});
        }, DefaultFelogClient.prototype.sendUsageEvent = function(logger, message, level, usageData) {
            var usage = {
                domain: usageData.domain,
                accountType: usageData.accountType,
                fieldType: usageData.fieldType,
                fieldSupported: usageData.fieldSupported
            };
            if (this._context.containerId || this._context.userId) {
                var str = (this._context.containerId || this._context.userId) + usageData.domain;
                usage.groupInfo = util_1.normalizedHashCode(str, 1e9);
            }
            var payload = log_1.createEventPayload({
                logger: logger,
                message: message,
                level: level,
                extra_usage: usageData
            }, {
                appName: this._appName,
                appVersion: this._appVersion,
                env: this._env
            });
            return this._fetch(log_1.felogUsageRequestUrl(payload, this._baseUrl), {
                mode: "no-cors",
                method: "get",
                cache: "no-cache"
            }).then(function(_) {}).catch(function(_) {});
        }, DefaultFelogClient.prototype.sendCounter = function(name, delta) {
            this._metrics.getCounter(name).increment(delta);
        }, DefaultFelogClient.prototype.sendTimer = function(name, time) {
            this._metrics.getTimer(name).recordTime(time);
        }, DefaultFelogClient;
    }();
    exports.DefaultFelogClient = DefaultFelogClient;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var log_1 = __webpack_require__(39), SumoLogicClient = function() {
        function SumoLogicClient(_baseUrl, _appName, _appVersion, _env, _fetch) {
            this._baseUrl = _baseUrl, this._appName = _appName, this._appVersion = _appVersion, 
            this._env = _env, this._fetch = _fetch, this._context = {
                userId: void 0,
                containerId: void 0
            };
        }
        return SumoLogicClient.prototype.setUserId = function(userId) {
            this._context = Object.assign({}, this._context, {
                userId: userId
            });
        }, SumoLogicClient.prototype.setContainerId = function(containerId) {
            this._context = Object.assign({}, this._context, {
                containerId: containerId
            });
        }, SumoLogicClient.prototype.getContext = function() {
            return this._context;
        }, SumoLogicClient.prototype.send = function(e) {
            var payload = log_1.createEventPayload(e, {
                appName: this._appName,
                appVersion: this._appVersion,
                env: this._env,
                context: this.getContext()
            });
            return this._fetch(this._baseUrl, {
                mode: "no-cors",
                method: "post",
                headers: {
                    "Content-Type": "application/json"
                },
                cache: "no-cache",
                body: JSON.stringify(payload)
            });
        }, SumoLogicClient;
    }();
    exports.SumoLogicClient = SumoLogicClient;
}, function(module, exports) {
    module.exports = function(array, predicate, fromIndex, fromRight) {
        for (var length = array.length, index = fromIndex + (fromRight ? 1 : -1); fromRight ? index-- : ++index < length; ) if (predicate(array[index], index, array)) return index;
        return -1;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var location_1 = __webpack_require__(15), defaults_1 = __webpack_require__(109), domain = location_1.getDomain();
    exports.isHtmlGhostSite = function() {
        return !(!domain || !defaults_1.HTML_GHOST_SITES.includes(domain));
    }, exports.getHtmlGhostSelector = function() {
        return "[contenteditable]";
    };
}, function(module, exports) {
    module.exports = function(value) {
        return void 0 === value;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var isArray_1 = __webpack_require__(95);
    exports.isNumeric = function(val) {
        return !isArray_1.isArray(val) && val - parseFloat(val) + 1 >= 0;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, root_1 = __webpack_require__(46), AsyncAction = function(_super) {
        function AsyncAction(scheduler, work) {
            _super.call(this, scheduler, work), this.scheduler = scheduler, this.work = work, 
            this.pending = !1;
        }
        return __extends(AsyncAction, _super), AsyncAction.prototype.schedule = function(state, delay) {
            if (void 0 === delay && (delay = 0), this.closed) return this;
            this.state = state, this.pending = !0;
            var id = this.id, scheduler = this.scheduler;
            return null != id && (this.id = this.recycleAsyncId(scheduler, id, delay)), this.delay = delay, 
            this.id = this.id || this.requestAsyncId(scheduler, this.id, delay), this;
        }, AsyncAction.prototype.requestAsyncId = function(scheduler, id, delay) {
            return void 0 === delay && (delay = 0), root_1.root.setInterval(scheduler.flush.bind(scheduler, this), delay);
        }, AsyncAction.prototype.recycleAsyncId = function(scheduler, id, delay) {
            if (void 0 === delay && (delay = 0), null !== delay && this.delay === delay && !1 === this.pending) return id;
            root_1.root.clearInterval(id);
        }, AsyncAction.prototype.execute = function(state, delay) {
            if (this.closed) return new Error("executing a cancelled action");
            this.pending = !1;
            var error = this._execute(state, delay);
            if (error) return error;
            !1 === this.pending && null != this.id && (this.id = this.recycleAsyncId(this.scheduler, this.id, null));
        }, AsyncAction.prototype._execute = function(state, delay) {
            var errored = !1, errorValue = void 0;
            try {
                this.work(state);
            } catch (e) {
                errored = !0, errorValue = !!e && e || new Error(e);
            }
            if (errored) return this.unsubscribe(), errorValue;
        }, AsyncAction.prototype._unsubscribe = function() {
            var id = this.id, scheduler = this.scheduler, actions = scheduler.actions, index = actions.indexOf(this);
            this.work = null, this.state = null, this.pending = !1, this.scheduler = null, -1 !== index && actions.splice(index, 1), 
            null != id && (this.id = this.recycleAsyncId(scheduler, id, null)), this.delay = null;
        }, AsyncAction;
    }(__webpack_require__(781).Action);
    exports.AsyncAction = AsyncAction;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, AsyncScheduler = function(_super) {
        function AsyncScheduler() {
            _super.apply(this, arguments), this.actions = [], this.active = !1, this.scheduled = void 0;
        }
        return __extends(AsyncScheduler, _super), AsyncScheduler.prototype.flush = function(action) {
            var actions = this.actions;
            if (this.active) actions.push(action); else {
                var error;
                this.active = !0;
                do {
                    if (error = action.execute(action.state, action.delay)) break;
                } while (action = actions.shift());
                if (this.active = !1, error) {
                    for (;action = actions.shift(); ) action.unsubscribe();
                    throw error;
                }
            }
        }, AsyncScheduler;
    }(__webpack_require__(782).Scheduler);
    exports.AsyncScheduler = AsyncScheduler;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, ArgumentOutOfRangeError = function(_super) {
        function ArgumentOutOfRangeError() {
            var err = _super.call(this, "argument out of range");
            this.name = err.name = "ArgumentOutOfRangeError", this.stack = err.stack, this.message = err.message;
        }
        return __extends(ArgumentOutOfRangeError, _super), ArgumentOutOfRangeError;
    }(Error);
    exports.ArgumentOutOfRangeError = ArgumentOutOfRangeError;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var scan_1 = __webpack_require__(433), takeLast_1 = __webpack_require__(434), defaultIfEmpty_1 = __webpack_require__(429), pipe_1 = __webpack_require__(374);
    exports.reduce = function(accumulator, seed) {
        return arguments.length >= 2 ? function(source) {
            return pipe_1.pipe(scan_1.scan(accumulator, seed), takeLast_1.takeLast(1), defaultIfEmpty_1.defaultIfEmpty(seed))(source);
        } : function(source) {
            return pipe_1.pipe(scan_1.scan(function(acc, value, index) {
                return accumulator(acc, value, index + 1);
            }), takeLast_1.takeLast(1))(source);
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subject_1 = __webpack_require__(27), ObjectUnsubscribedError_1 = __webpack_require__(345), BehaviorSubject = function(_super) {
        function BehaviorSubject(_value) {
            _super.call(this), this._value = _value;
        }
        return __extends(BehaviorSubject, _super), Object.defineProperty(BehaviorSubject.prototype, "value", {
            get: function() {
                return this.getValue();
            },
            enumerable: !0,
            configurable: !0
        }), BehaviorSubject.prototype._subscribe = function(subscriber) {
            var subscription = _super.prototype._subscribe.call(this, subscriber);
            return subscription && !subscription.closed && subscriber.next(this._value), subscription;
        }, BehaviorSubject.prototype.getValue = function() {
            if (this.hasError) throw this.thrownError;
            if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
            return this._value;
        }, BehaviorSubject.prototype.next = function(value) {
            _super.prototype.next.call(this, this._value = value);
        }, BehaviorSubject;
    }(Subject_1.Subject);
    exports.BehaviorSubject = BehaviorSubject;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var AsapAction_1 = __webpack_require__(955), AsapScheduler_1 = __webpack_require__(958);
    exports.asap = new AsapScheduler_1.AsapScheduler(AsapAction_1.AsapAction);
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Observable_1 = __webpack_require__(0), asap_1 = __webpack_require__(335);
    !function(MutationObservable) {
        function createRaw(target, options) {
            return new Observable_1.Observable(function(o) {
                var mo = new MutationObserver(function(rs) {
                    return o.next(rs);
                });
                return mo.observe(target, options), function() {
                    return mo.disconnect();
                };
            });
        }
        MutationObservable.create = function(target, options) {
            return createRaw(target, options).share().observeOn(asap_1.asap);
        }, MutationObservable.createRaw = createRaw, MutationObservable.createFlattenHot = function(target, options) {
            return createRaw(target, options).concatMap(function(mutations) {
                return mutations;
            }).share();
        };
    }(exports.MutationObservable || (exports.MutationObservable = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var legacyIntegration_1 = __webpack_require__(1068), field_1 = __webpack_require__(445);
    exports.contentEditableIntegration = function(context) {
        return field_1.LoggingDecorator.decorate(function() {
            return new legacyIntegration_1.LegacyIntegration(context, "contenteditable");
        }, "contenteditable");
    }, exports.gDocsIntegration = function(context) {
        return field_1.LoggingDecorator.decorate(function() {
            return new legacyIntegration_1.LegacyIntegration(context, "gdocs");
        }, "gdocs");
    }, exports.htmlGhostIntegration = function(context) {
        return field_1.LoggingDecorator.decorate(function() {
            return new legacyIntegration_1.LegacyIntegration(context, "htmlghost");
        }, "htmlghost");
    }, exports.iframeIntegration = function(context) {
        return field_1.LoggingDecorator.decorate(function() {
            return new legacyIntegration_1.LegacyIntegration(context, "iframe");
        }, "iframe");
    }, exports.textAreaIntegration = function(context) {
        return field_1.LoggingDecorator.decorate(function() {
            return new legacyIntegration_1.LegacyIntegration(context, "textarea");
        }, "textarea");
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var validationDecarator_1 = __webpack_require__(1069);
    exports.SimpleFieldValidationDecorator = validationDecarator_1.SimpleFieldValidationDecorator;
    var util_1 = __webpack_require__(613);
    exports.ValidatorUtil = util_1.ValidatorUtil;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var base_1 = __webpack_require__(616);
    exports.TextChange = base_1.TextChange;
    var legacy_1 = __webpack_require__(1077);
    exports.LegacyTextChangeImpl = legacy_1.LegacyTextChangeImpl;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var base_1 = __webpack_require__(446);
    exports.Rect = base_1.Rect, exports.ViewportRect = base_1.ViewportRect, exports.Point = base_1.Point, 
    exports.equals = base_1.equals;
    var GenericLayout = __webpack_require__(617);
    exports.GenericLayout = GenericLayout;
    var TinyMceLayout = __webpack_require__(1080);
    exports.TinyMceLayout = TinyMceLayout;
    var MediumLayout = __webpack_require__(1081);
    exports.MediumLayout = MediumLayout;
}, function(module, exports, __webpack_require__) {
    "use strict";
    exports.isFunction = function(x) {
        return "function" == typeof x;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Symbol = __webpack_require__(46).root.Symbol;
    exports.rxSubscriber = "function" == typeof Symbol && "function" == typeof Symbol.for ? Symbol.for("rxSubscriber") : "@@rxSubscriber", 
    exports.$$rxSubscriber = exports.rxSubscriber;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var root_1 = __webpack_require__(46);
    function getSymbolObservable(context) {
        var $$observable, Symbol = context.Symbol;
        return "function" == typeof Symbol ? Symbol.observable ? $$observable = Symbol.observable : ($$observable = Symbol("observable"), 
        Symbol.observable = $$observable) : $$observable = "@@observable", $$observable;
    }
    exports.getSymbolObservable = getSymbolObservable, exports.observable = getSymbolObservable(root_1.root), 
    exports.$$observable = exports.observable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), Notification_1 = __webpack_require__(283);
    exports.observeOn = function(scheduler, delay) {
        return void 0 === delay && (delay = 0), function(source) {
            return source.lift(new ObserveOnOperator(scheduler, delay));
        };
    };
    var ObserveOnOperator = function() {
        function ObserveOnOperator(scheduler, delay) {
            void 0 === delay && (delay = 0), this.scheduler = scheduler, this.delay = delay;
        }
        return ObserveOnOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));
        }, ObserveOnOperator;
    }();
    exports.ObserveOnOperator = ObserveOnOperator;
    var ObserveOnSubscriber = function(_super) {
        function ObserveOnSubscriber(destination, scheduler, delay) {
            void 0 === delay && (delay = 0), _super.call(this, destination), this.scheduler = scheduler, 
            this.delay = delay;
        }
        return __extends(ObserveOnSubscriber, _super), ObserveOnSubscriber.dispatch = function(arg) {
            var notification = arg.notification, destination = arg.destination;
            notification.observe(destination), this.unsubscribe();
        }, ObserveOnSubscriber.prototype.scheduleMessage = function(notification) {
            this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));
        }, ObserveOnSubscriber.prototype._next = function(value) {
            this.scheduleMessage(Notification_1.Notification.createNext(value));
        }, ObserveOnSubscriber.prototype._error = function(err) {
            this.scheduleMessage(Notification_1.Notification.createError(err));
        }, ObserveOnSubscriber.prototype._complete = function() {
            this.scheduleMessage(Notification_1.Notification.createComplete());
        }, ObserveOnSubscriber;
    }(Subscriber_1.Subscriber);
    exports.ObserveOnSubscriber = ObserveOnSubscriber;
    var ObserveOnMessage = function() {
        return function(notification, destination) {
            this.notification = notification, this.destination = destination;
        };
    }();
    exports.ObserveOnMessage = ObserveOnMessage;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, ObjectUnsubscribedError = function(_super) {
        function ObjectUnsubscribedError() {
            var err = _super.call(this, "object unsubscribed");
            this.name = err.name = "ObjectUnsubscribedError", this.stack = err.stack, this.message = err.message;
        }
        return __extends(ObjectUnsubscribedError, _super), ObjectUnsubscribedError;
    }(Error);
    exports.ObjectUnsubscribedError = ObjectUnsubscribedError;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var mergeMap_1 = __webpack_require__(286), identity_1 = __webpack_require__(473);
    exports.mergeAll = function(concurrent) {
        return void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY), mergeMap_1.mergeMap(identity_1.identity, null, concurrent);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function(resolve, reject) {
            function fulfilled(value) {
                try {
                    step(generator.next(value));
                } catch (e) {
                    reject(e);
                }
            }
            function rejected(value) {
                try {
                    step(generator.throw(value));
                } catch (e) {
                    reject(e);
                }
            }
            function step(result) {
                result.done ? resolve(result.value) : new P(function(resolve) {
                    resolve(result.value);
                }).then(fulfilled, rejected);
            }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }, __generator = this && this.__generator || function(thisArg, body) {
        var f, y, t, g, _ = {
            label: 0,
            sent: function() {
                if (1 & t[0]) throw t[1];
                return t[1];
            },
            trys: [],
            ops: []
        };
        return g = {
            next: verb(0),
            throw: verb(1),
            return: verb(2)
        }, "function" == typeof Symbol && (g[Symbol.iterator] = function() {
            return this;
        }), g;
        function verb(n) {
            return function(v) {
                return function(op) {
                    if (f) throw new TypeError("Generator is already executing.");
                    for (;_; ) try {
                        if (f = 1, y && (t = y[2 & op[0] ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                        switch (y = 0, t && (op = [ 0, t.value ]), op[0]) {
                          case 0:
                          case 1:
                            t = op;
                            break;

                          case 4:
                            return _.label++, {
                                value: op[1],
                                done: !1
                            };

                          case 5:
                            _.label++, y = op[1], op = [ 0 ];
                            continue;

                          case 7:
                            op = _.ops.pop(), _.trys.pop();
                            continue;

                          default:
                            if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                                _ = 0;
                                continue;
                            }
                            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                                _.label = op[1];
                                break;
                            }
                            if (6 === op[0] && _.label < t[1]) {
                                _.label = t[1], t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2], _.ops.push(op);
                                break;
                            }
                            t[2] && _.ops.pop(), _.trys.pop();
                            continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [ 6, e ], y = 0;
                    } finally {
                        f = t = 0;
                    }
                    if (5 & op[0]) throw op[1];
                    return {
                        value: op[0] ? op[1] : void 0,
                        done: !0
                    };
                }([ n, v ]);
            };
        }
    }, __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var flatten = __webpack_require__(348), cloneDeep = __webpack_require__(386), GrammarlyChangesets = __webpack_require__(673), log = __webpack_require__(1).Logger.create("document-state");
    exports.textStartMarker = "";
    var OperationType, RangeType, gdocsSeparator = "";
    !function(OperationType) {
        OperationType.Insert = "is", OperationType.Delete = "ds", OperationType.DeleteInsertSuggestion = "dss", 
        OperationType.SuggestionInsert = "iss", OperationType.SuggestionDelete = "msfd", 
        OperationType.Range = "as", OperationType.Multi = "mlti", OperationType.Revert = "rvrt", 
        OperationType.Null = "null";
    }(OperationType = exports.OperationType || (exports.OperationType = {})), function(RangeType) {
        RangeType.Spellcheck = "spellcheck", RangeType.Document = "document", RangeType.Headings = "headings", 
        RangeType.Text = "text";
    }(RangeType = exports.RangeType || (exports.RangeType = {})), exports.getRevisionFromSaveReply = function(s) {
        var replyObject = JSON.parse(s);
        if (function(s) {
            return s && s.revisionRanges && Array.isArray(s.revisionRanges) && (!s.revisionRanges.length || Array.isArray(s.revisionRanges[0]));
        }(replyObject)) {
            var lastRange = replyObject.revisionRanges.pop();
            if (lastRange) return lastRange.pop();
        }
    };
    var splitRegExp = /\d+\n/g;
    function toGrammarlyChangeset(x) {
        var type, grammarlyOperationType = (type = x.ty) === OperationType.Insert || type === OperationType.SuggestionInsert ? "+" : type === OperationType.Delete || type === OperationType.DeleteInsertSuggestion ? "-" : void 0;
        if (!grammarlyOperationType) throw Error("Not valid operatio type, should be either insert or delete: " + JSON.stringify(x));
        if ("+" === grammarlyOperationType) {
            var insertOperation = x;
            return new GrammarlyChangesets.Operation("+", insertOperation.ibi, insertOperation.s);
        }
        var deleteOperation = x, length_1 = deleteOperation.ei - deleteOperation.si, pseudoTextToDelete = Array(length_1 + 1).fill("*").join("");
        return new GrammarlyChangesets.Operation("-", deleteOperation.si, pseudoTextToDelete);
    }
    function fromGrammarlyChangeset(x) {
        return "+" === x.type ? {
            ty: OperationType.Insert,
            ibi: x.begin,
            s: x.text
        } : {
            ty: OperationType.Delete,
            si: x.begin,
            ei: x.end - 1
        };
    }
    function parseChangeset(s) {
        var cs;
        try {
            cs = JSON.parse(s);
        } catch (e) {
            return void log.warn([ "Error parsing changeset: " + e.message, "---", s, "---" ].join("\n"));
        }
        if (!function(cs) {
            return cs.every(function(x) {
                return !!x.length && x.length > 1 && "number" == typeof x[0] && Array.isArray(x[1]);
            });
        }(cs)) throw Error("Invalid changeset message structure");
        return cs;
    }
    function stringifyMessage(x) {
        var msgStr = JSON.stringify(x) + "\n";
        return msgStr.length + "\n" + msgStr;
    }
    function removeSpellcheck(changeset) {
        getOperationsFromChangeset(changeset).forEach(function(x) {
            x && x.operations.filter(function(x) {
                return x.ty === OperationType.Range && x.st === RangeType.Spellcheck;
            }).forEach(function(x) {
                Object.keys(x).forEach(function(key) {
                    return delete x[key];
                }), x.ty = OperationType.Null;
            });
        });
    }
    function setTimestampId(item, value) {
        item[1][1] = value;
    }
    function getTimestampId(item) {
        if ("noop" !== item[1][0]) {
            var id = item[1][1];
            if (!isNaN(id)) return id;
        }
    }
    function isNoop(msg) {
        return "noop" === msg[0][1][0];
    }
    function getChanges(msg, fromId) {
        return void 0 === fromId && (fromId = Number.MIN_VALUE), flatten(msg.filter(function(x) {
            return function(x, fromId) {
                return void 0 === fromId && (fromId = Number.MIN_VALUE), x[0] && x[0] > fromId && x[1] && void 0 !== x[1][0] && x[1][2] && !isNoop([ x ]) && x[1][2].c;
            }(x, fromId);
        }).map(function(x) {
            return x[1][2].c;
        }));
    }
    function getOperationsFromChangeset(msg, fromId) {
        void 0 === fromId && (fromId = Number.MIN_VALUE);
        var changes = getChanges(msg, fromId);
        return changes.length ? flatten(changes.map(function(change) {
            if (change) {
                var operation = change[0];
                if (operation && operation.ty !== OperationType.Null) return {
                    rev: change[3],
                    operations: getFlatOperations(operation)
                };
            }
        })) : [];
    }
    function getFlatOperations(operation) {
        return operation.ty === OperationType.Multi ? flatten(operation.mts.map(getFlatOperations)) : [ operation ];
    }
    function applyInsert(s, operation) {
        return s.substring(0, operation.ibi) + operation.s + s.substr(operation.ibi);
    }
    function applyDelete(s, operation) {
        return s.substring(0, operation.si) + s.substr(operation.ei + 1);
    }
    function apply(s, operations) {
        var result = s;
        return operations.filter(function(x) {
            return [ OperationType.Revert, OperationType.Insert, OperationType.SuggestionInsert, OperationType.Delete, OperationType.DeleteInsertSuggestion ].includes(x.ty);
        }).forEach(function(o, i, arr) {
            if (o.ty === OperationType.Revert && (result = apply(exports.textStartMarker, o.snapshot) + "\n"), 
            o.ty === OperationType.Insert || o.ty === OperationType.SuggestionInsert) {
                var insertOperation = o, nextOperation = arr[i + 1];
                insertOperation.s === gdocsSeparator && nextOperation && nextOperation.ty === OperationType.Insert ? nextOperation.s += insertOperation.s : result = applyInsert(result, insertOperation);
            }
            o.ty !== OperationType.Delete && o.ty !== OperationType.DeleteInsertSuggestion || (result = applyDelete(result, o));
        }), result;
    }
    function getModifyOperations(operations) {
        return operations.filter(function(x) {
            return x.ty === OperationType.Insert || x.ty === OperationType.SuggestionInsert || x.ty === OperationType.DeleteInsertSuggestion || x.ty === OperationType.Delete || x.ty === OperationType.Revert;
        });
    }
    function getModifyOperationsFromMessage(msg, fromId) {
        var revOperations = getOperationsFromChangeset(msg, fromId).filter(function(x) {
            return void 0 !== x;
        }), result = [];
        return revOperations.forEach(function(x) {
            var _a, item = result.find(function(item) {
                return item.rev === x.rev;
            }), operations = getModifyOperations(x.operations);
            item ? (_a = item.operations).push.apply(_a, __spread(operations)) : ((item = x).operations = operations, 
            result.push(item));
        }), result.filter(function(x) {
            return x && x.rev && x.operations.length;
        });
    }
    function isValidOperations(operations) {
        if (!operations || !Array.isArray(operations)) return !1;
        var validRange = function(x) {
            return x.st && (x.st !== RangeType.Spellcheck || x.st === RangeType.Spellcheck && function(x) {
                return void 0 !== typeof x.ei && void 0 !== typeof x.si && x.sm && (null === x.sm.sc_ow || "string" == typeof x.sm.sc_ow) && (null === x.sm.sc_sl || "string" == typeof x.sm.sc_sl) && x.sm.sc_sugg && x.sm.sc_sugg.cv && "string" == typeof x.sm.sc_sugg.cv.op && Array.isArray(x.sm.sc_sugg.cv.opValue);
            }(x));
        };
        return operations.every(function(x) {
            if (!x.ty) return !1;
            switch (x.ty) {
              case OperationType.Insert:
                return function(x) {
                    return !(void 0 === x.ibi || void 0 === x.s);
                }(x);

              case OperationType.Delete:
                return function(x) {
                    return !(void 0 === x.si || void 0 === x.ei);
                }(x);

              case OperationType.Multi:
                return function(x) {
                    return !!(x.mts && Array.isArray(x.mts) && isValidOperations(x.mts));
                }(x);

              case OperationType.Range:
                return validRange(x);

              case OperationType.Revert:
                return function(x) {
                    return !(!x.snapshot || !isValidOperations(x.snapshot));
                }(x);

              default:
                return !0;
            }
        });
    }
    function parseText(html) {
        var matches, re = /DOCS_modelChunk\s=\s(\[\{.*?\}])\;/g, text = "";
        try {
            for (var operations = []; null !== (matches = re.exec(html)); ) {
                var parsedOperations = JSON.parse(matches[1]);
                if (!isValidOperations(parsedOperations)) throw Error("Invalid operations");
                operations.push.apply(operations, __spread(parsedOperations));
            }
            return text = apply(text, operations), exports.textStartMarker + text + "\n";
        } catch (e) {
            throw Error("Can't parse initial text: " + e.message);
        }
    }
    function parseRevision(html) {
        try {
            var matches = /DOCS_warmStartDocumentLoader\.startLoad\(\s(\d*)/.exec(html);
            if (!matches || !matches[1]) throw Error("Did not find revision");
            return parseInt(matches[1], 10);
        } catch (e) {
            throw Error("Can't parse initial revision: " + e.message);
        }
    }
    exports.transformAgainst = function(operationsToTransformAgainst, operations) {
        var changesetsToTransformAgainst = new GrammarlyChangesets.OperationsSet(flatten(operationsToTransformAgainst.map(function(x) {
            return x.operations.map(toGrammarlyChangeset);
        }))), targetChangeset = new GrammarlyChangesets.OperationsSet(operations.map(toGrammarlyChangeset), Number.MAX_VALUE);
        return (targetChangeset = targetChangeset.transformAgainst(changesetsToTransformAgainst)).operations.map(fromGrammarlyChangeset);
    }, exports.parseChangesets = function(s) {
        return s.split(splitRegExp).filter(function(x) {
            return "" !== x;
        }).map(parseChangeset).filter(function(x) {
            return void 0 !== x;
        });
    }, exports.parseChangeset = parseChangeset, exports.getId = function(item) {
        return item[item.length - 1][0];
    }, exports.noopMessage = function(id) {
        return stringifyMessage([ [ id, [ "noop" ] ] ]);
    }, exports.transformResponse = function(_messages, injection, startId, startTimestampId, removeGdocsSuggestions) {
        void 0 === removeGdocsSuggestions && (removeGdocsSuggestions = !0);
        var injectionShift = 0, shiftedId = 0, shiftedTimestampId = startTimestampId;
        return {
            response: cloneDeep(_messages).map(function(x, i) {
                shiftedId = startId + i + injectionShift;
                var injectionStr = "";
                function inject() {
                    injection[shiftedId] && (injectionStr += injection[shiftedId], injectionShift++, 
                    shiftedTimestampId++, shiftedId++, inject());
                }
                return inject(), x[0][0] = shiftedId, isNoop(x) || (x.forEach(function(item, i) {
                    var tsId = getTimestampId(item);
                    tsId && (tsId > shiftedTimestampId && (shiftedTimestampId = tsId), setTimestampId(item, shiftedTimestampId), 
                    shiftedTimestampId++, inject()), i > 0 && shiftedId++, item[0] = shiftedId;
                }), removeGdocsSuggestions && removeSpellcheck(x)), injectionStr + stringifyMessage(x);
            }).join(""),
            newLastId: shiftedId,
            newLastTimestampId: shiftedTimestampId
        };
    }, exports.removeSpellcheck = removeSpellcheck, exports.setTimestampId = setTimestampId, 
    exports.getTimestampId = getTimestampId, exports.parseSid = function(s) {
        var match = s.match(/\"sid\":\"(.*?)\"/);
        return match ? match[1] : void 0;
    }, exports.parseGdocsT = function(s) {
        var match = s.match(/\"t\":\"(.*?)\"/);
        return match ? match[1] : void 0;
    }, exports.isNoop = isNoop, exports.serialize = function(changes) {
        var msg = JSON.stringify(changes);
        return msg.length + "\n" + msg + "\n";
    }, exports.getOperations = function(s) {
        var changeset = parseChangeset(s);
        return changeset ? getOperationsFromChangeset(changeset) : [];
    }, exports.getOperationsFromChangeset = getOperationsFromChangeset, exports.applyInsert = applyInsert, 
    exports.applyDelete = applyDelete, exports.apply = apply, exports.getModifyOperationsFromSaveRequest = function(s) {
        var x, params = new URLSearchParams(s), rev = params.get("rev"), bundles = params.get("bundles");
        if (rev && bundles) try {
            var command = __read(JSON.parse(bundles), 1)[0];
            if (!(x = command) || !isValidOperations(x.commands) || "string" != typeof x.sid || "number" != typeof x.reqId) throw Error("Invalid Save command type");
            var operations = flatten(command.commands.map(function(x) {
                return getFlatOperations(x);
            }));
            return {
                rev: parseInt(rev, 10),
                operations: getModifyOperations(operations)
            };
        } catch (e) {
            throw Error("Invalid JSON in save request: " + e.message);
        }
    }, exports.getModifyOperationsFromMessage = getModifyOperationsFromMessage, exports.getModifyOperationsFromMessages = function(msgs, fromId) {
        return flatten(msgs.map(function(x) {
            return getModifyOperationsFromMessage(x, fromId);
        }));
    }, exports.createChangesetMessage = function(ranges, revision, gdocsT, msgId, timestampId) {
        var gdocsAlerts = ranges.map(function(x) {
            return {
                ty: OperationType.Range,
                st: RangeType.Spellcheck,
                si: x.start,
                ei: x.end - 1,
                sm: {
                    sc_ow: x.value || "",
                    sc_sl: "en",
                    sc_sugg: {
                        cv: {
                            op: "set",
                            opValue: x.replacements || []
                        }
                    }
                }
            };
        });
        return [ [ msgId, [ 0, timestampId, {
            c: [ [ {
                ty: OperationType.Multi,
                mts: gdocsAlerts
            }, Date.now(), "", revision, null, null, null ] ],
            mv: 0,
            fv: 0,
            t: gdocsT
        } ] ] ];
    }, exports.parseText = parseText, exports.parseRevision = parseRevision, exports.getRemoteTextAndRevision = function() {
        return __awaiter(this, void 0, void 0, function() {
            var html;
            return __generator(this, function(_a) {
                switch (_a.label) {
                  case 0:
                    return [ 4, fetch(document.location.href, {
                        credentials: "include"
                    }) ];

                  case 1:
                    return [ 4, _a.sent().text() ];

                  case 2:
                    return [ 2, {
                        text: parseText(html = _a.sent()),
                        revision: parseRevision(html)
                    } ];
                }
            });
        });
    };
}, function(module, exports, __webpack_require__) {
    var baseFlatten = __webpack_require__(196);
    module.exports = function(array) {
        return null != array && array.length ? baseFlatten(array, 1) : [];
    };
}, function(module, exports, __webpack_require__) {
    var Stack = __webpack_require__(57), arrayEach = __webpack_require__(92), assignValue = __webpack_require__(176), baseAssign = __webpack_require__(387), baseAssignIn = __webpack_require__(388), cloneBuffer = __webpack_require__(171), copyArray = __webpack_require__(173), copySymbols = __webpack_require__(389), copySymbolsIn = __webpack_require__(390), getAllKeys = __webpack_require__(165), getAllKeysIn = __webpack_require__(350), getTag = __webpack_require__(58), initCloneArray = __webpack_require__(391), initCloneByTag = __webpack_require__(392), initCloneObject = __webpack_require__(174), isArray = __webpack_require__(7), isBuffer = __webpack_require__(34), isMap = __webpack_require__(396), isObject = __webpack_require__(9), isSet = __webpack_require__(398), keys = __webpack_require__(31), CLONE_DEEP_FLAG = 1, CLONE_FLAT_FLAG = 2, CLONE_SYMBOLS_FLAG = 4, argsTag = "[object Arguments]", funcTag = "[object Function]", genTag = "[object GeneratorFunction]", objectTag = "[object Object]", cloneableTags = {};
    cloneableTags[argsTag] = cloneableTags["[object Array]"] = cloneableTags["[object ArrayBuffer]"] = cloneableTags["[object DataView]"] = cloneableTags["[object Boolean]"] = cloneableTags["[object Date]"] = cloneableTags["[object Float32Array]"] = cloneableTags["[object Float64Array]"] = cloneableTags["[object Int8Array]"] = cloneableTags["[object Int16Array]"] = cloneableTags["[object Int32Array]"] = cloneableTags["[object Map]"] = cloneableTags["[object Number]"] = cloneableTags[objectTag] = cloneableTags["[object RegExp]"] = cloneableTags["[object Set]"] = cloneableTags["[object String]"] = cloneableTags["[object Symbol]"] = cloneableTags["[object Uint8Array]"] = cloneableTags["[object Uint8ClampedArray]"] = cloneableTags["[object Uint16Array]"] = cloneableTags["[object Uint32Array]"] = !0, 
    cloneableTags["[object Error]"] = cloneableTags[funcTag] = cloneableTags["[object WeakMap]"] = !1, 
    module.exports = function baseClone(value, bitmask, customizer, key, object, stack) {
        var result, isDeep = bitmask & CLONE_DEEP_FLAG, isFlat = bitmask & CLONE_FLAT_FLAG, isFull = bitmask & CLONE_SYMBOLS_FLAG;
        if (customizer && (result = object ? customizer(value, key, object, stack) : customizer(value)), 
        void 0 !== result) return result;
        if (!isObject(value)) return value;
        var isArr = isArray(value);
        if (isArr) {
            if (result = initCloneArray(value), !isDeep) return copyArray(value, result);
        } else {
            var tag = getTag(value), isFunc = tag == funcTag || tag == genTag;
            if (isBuffer(value)) return cloneBuffer(value, isDeep);
            if (tag == objectTag || tag == argsTag || isFunc && !object) {
                if (result = isFlat || isFunc ? {} : initCloneObject(value), !isDeep) return isFlat ? copySymbolsIn(value, baseAssignIn(result, value)) : copySymbols(value, baseAssign(result, value));
            } else {
                if (!cloneableTags[tag]) return object ? value : {};
                result = initCloneByTag(value, tag, isDeep);
            }
        }
        stack || (stack = new Stack());
        var stacked = stack.get(value);
        if (stacked) return stacked;
        if (stack.set(value, result), isSet(value)) return value.forEach(function(subValue) {
            result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));
        }), result;
        if (isMap(value)) return value.forEach(function(subValue, key) {
            result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));
        }), result;
        var keysFunc = isFull ? isFlat ? getAllKeysIn : getAllKeys : isFlat ? keysIn : keys, props = isArr ? void 0 : keysFunc(value);
        return arrayEach(props || value, function(subValue, key) {
            props && (subValue = value[key = subValue]), assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));
        }), result;
    };
}, function(module, exports, __webpack_require__) {
    var baseGetAllKeys = __webpack_require__(166), getSymbolsIn = __webpack_require__(321), keysIn = __webpack_require__(43);
    module.exports = function(object) {
        return baseGetAllKeys(object, keysIn, getSymbolsIn);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function(resolve, reject) {
            function fulfilled(value) {
                try {
                    step(generator.next(value));
                } catch (e) {
                    reject(e);
                }
            }
            function rejected(value) {
                try {
                    step(generator.throw(value));
                } catch (e) {
                    reject(e);
                }
            }
            function step(result) {
                result.done ? resolve(result.value) : new P(function(resolve) {
                    resolve(result.value);
                }).then(fulfilled, rejected);
            }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }, __generator = this && this.__generator || function(thisArg, body) {
        var f, y, t, g, _ = {
            label: 0,
            sent: function() {
                if (1 & t[0]) throw t[1];
                return t[1];
            },
            trys: [],
            ops: []
        };
        return g = {
            next: verb(0),
            throw: verb(1),
            return: verb(2)
        }, "function" == typeof Symbol && (g[Symbol.iterator] = function() {
            return this;
        }), g;
        function verb(n) {
            return function(v) {
                return function(op) {
                    if (f) throw new TypeError("Generator is already executing.");
                    for (;_; ) try {
                        if (f = 1, y && (t = y[2 & op[0] ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                        switch (y = 0, t && (op = [ 0, t.value ]), op[0]) {
                          case 0:
                          case 1:
                            t = op;
                            break;

                          case 4:
                            return _.label++, {
                                value: op[1],
                                done: !1
                            };

                          case 5:
                            _.label++, y = op[1], op = [ 0 ];
                            continue;

                          case 7:
                            op = _.ops.pop(), _.trys.pop();
                            continue;

                          default:
                            if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                                _ = 0;
                                continue;
                            }
                            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                                _.label = op[1];
                                break;
                            }
                            if (6 === op[0] && _.label < t[1]) {
                                _.label = t[1], t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2], _.ops.push(op);
                                break;
                            }
                            t[2] && _.ops.pop(), _.trys.pop();
                            continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [ 6, e ], y = 0;
                    } finally {
                        f = t = 0;
                    }
                    if (5 & op[0]) throw op[1];
                    return {
                        value: op[0] ? op[1] : void 0,
                        done: !0
                    };
                }([ n, v ]);
            };
        }
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var config_1 = __webpack_require__(10), log = __webpack_require__(1).Logger.create("Cookies"), CookiesHelper = function() {
        return function(_api) {
            var _this = this;
            this._api = _api, this._rootPath = "/", this._grammarlyUrl = "https://" + config_1.GRAMMARLY_DOMAIN + this._rootPath, 
            this._grauthCookieName = "grauth", this._csrfTokenCookieName = "csrf-token", this._grInstallSourceCookieName = "grInstallSource", 
            this._grChromeStoreInstallUtmName = "grChromeStoreInstallUTM", this.getToken = function() {
                return _this._api.cookies.get({
                    name: _this._grauthCookieName,
                    url: _this._grammarlyUrl
                }).then(function(x) {
                    return x ? x.value : null;
                });
            }, this.getCSRFToken = function() {
                return __awaiter(_this, void 0, void 0, function() {
                    var cookie, error_1;
                    return __generator(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return _a.trys.push([ 0, 2, , 3 ]), [ 4, this._api.cookies.get({
                                name: this._csrfTokenCookieName,
                                url: this._grammarlyUrl
                            }) ];

                          case 1:
                            return [ 2, (cookie = _a.sent()) ? cookie.value : null ];

                          case 2:
                            return error_1 = _a.sent(), log.warn("failed to get a CSRFToken cookie", error_1), 
                            [ 2, null ];

                          case 3:
                            return [ 2 ];
                        }
                    });
                });
            }, this.watchToken = function(cb) {
                return _this._api.cookies.watch({
                    domain: config_1.GRAMMARLY_DOMAIN,
                    name: _this._grauthCookieName,
                    url: _this._grammarlyUrl,
                    path: _this._rootPath
                }, cb);
            }, this.getInstallSource = function() {
                return _this._api.cookies.get({
                    name: _this._grInstallSourceCookieName,
                    url: _this._grammarlyUrl
                });
            }, this.getChromeStoreInstallUTM = function() {
                return _this._api.cookies.get({
                    name: _this._grChromeStoreInstallUtmName,
                    url: _this._grammarlyUrl
                });
            }, this.getAllGrammarlyCookies = function() {
                return _this._api.cookies.getAll({
                    domain: config_1.GRAMMARLY_DOMAIN,
                    path: _this._rootPath
                });
            };
        };
    }();
    exports.CookiesHelper = CookiesHelper;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var emitter = __webpack_require__(18), util_1 = __webpack_require__(2), me = emitter({}), bindings = {};
    function create(func, event, listener, force) {
        var _event = force ? event + "_forced" : event, binding = {
            listeners: []
        }, removeListener = function() {
            var index = binding.listeners.indexOf(listener);
            index > -1 && binding.listeners.splice(index, 1);
        };
        if ("on" === func || "once" === func) {
            if (bindings[_event] = bindings[_event] || {
                domEventListener: function(e) {
                    me.emit(_event, e), "once" === func && removeListener();
                },
                listeners: []
            }, (binding = bindings[_event]).domEventListener) {
                binding.listenerWrapper = binding.listenerWrapper || function(e) {
                    binding.domEventListener && binding.domEventListener(Object.assign({
                        originalEvent: e,
                        preventDefault: util_1._f,
                        stopPropagation: util_1._f
                    }, e.detail));
                };
            }
            0 === binding.listeners.length && (binding.domEventListener && window.addEventListener(event, binding.domEventListener, force), 
            binding.listenerWrapper && window.addEventListener(event + "-gr", binding.listenerWrapper, force)), 
            binding.listeners.push(listener);
        }
        if ("un" === func) {
            var b = bindings[_event];
            if (!b) return;
            removeListener(), 0 === b.listeners.length && (b.domEventListener && window.addEventListener(event, b.domEventListener, force), 
            b.listenerWrapper && window.addEventListener(event + "-gr", b.listenerWrapper, force));
        }
        me[func](_event, listener);
    }
    var extendEvent = function(func) {
        return function(event, listener, force) {
            void 0 === force && (force = !1), "object" == typeof event ? Object.keys(event).map(function(key) {
                return create(func, key, event[key], force);
            }) : listener && create(func, event, listener, force);
        };
    };
    exports.on = extendEvent("on"), exports.off = extendEvent("un"), exports.once = extendEvent("one");
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), emitter = __webpack_require__(18), DOMPurify = __webpack_require__(100), util_1 = __webpack_require__(2), timers_1 = __webpack_require__(102), tracking_1 = __webpack_require__(8), dom_1 = __webpack_require__(3), config_1 = __webpack_require__(10), logger_1 = __webpack_require__(1), log = (__webpack_require__(692), 
    logger_1.Logger.create("lib.elements.iframe"));
    exports.baseCls = "gr_-ifr", exports.selector = "." + exports.baseCls, exports.IframeComponent = function() {
        return React.createElement("iframe", {
            className: exports.baseCls + " gr-_dialog-content"
        });
    }, exports.iFrame = function(_a) {
        var iframe, activated, doc = _a.doc, user = _a.user, iframeData = [], initialized = !1, me = emitter({
            activate: activate,
            refresh: function(cb) {
                void 0 === cb && (cb = util_1._f), iframe ? sendUser() : activate(cb);
            },
            send: function(data, force) {
                if (!initialized && !force) return iframeData.push(data);
                _send(data);
            },
            selector: exports.selector,
            baseCls: exports.baseCls,
            updateState: function(newUser) {
                user = newUser;
            },
            deactivate: function() {
                dom_1.unlisten(window.top, "message", onMessage, !1);
            }
        });
        return me;
        function activate(cb) {
            void 0 === cb && (cb = util_1._f), activated || (iframe || (iframe = doc.querySelector(exports.selector), 
            me.el = iframe, iframe)) && (dom_1.listen(window.top, "message", onMessage, !1), 
            util_1.isEdge() ? iframe.src || function(cb) {
                void 0 === cb && (cb = util_1._f), iframe.setAttribute("src", config_1.URLS.edgePopupUrl), 
                dom_1.once.call(iframe, "load", cb);
            }(cb) : iframe.srcdoc || function(cb) {
                void 0 === cb && (cb = util_1._f);
                var inlinePopup = window.GR_INLINE_POPUP || "";
                iframe.setAttribute("srcdoc", inlinePopup), dom_1.once.call(iframe, "load", function() {
                    try {
                        window.ACTIVATE_GR_POPUP && window.ACTIVATE_GR_POPUP(iframe.contentWindow, iframe.contentDocument, DOMPurify), 
                        cb();
                    } catch (error) {
                        log.error("Cannot activate popup", error), tracking_1.felog.popupLoadError(error && error.message, error && error.name);
                    }
                });
            }(cb), dom_1.addClass(iframe, "gr-freemium-ifr"), activated = !0, me.activated = activated);
        }
        function _send(data) {
            data.grammarly = !0;
            try {
                iframe.contentWindow.postMessage(data, "*");
            } catch (e) {
                log.error("iframe send error", e);
            }
        }
        function onMessage(e) {
            var data = e.data;
            if (data && data.grammarly) {
                var action = data.action;
                if ("user" === action) return sendUser();
                initialized = !0, "initialized" === action && iframeData && (timers_1.timers.stop("open_editor"), 
                iframeData.forEach(function(data) {
                    return me.send(data);
                })), timers_1.timers.stop("open_editor"), "accepted" === action && (iframeData = []), 
                me.emit("message", data);
            }
        }
        function sendUser() {
            var safeUser = __assign({}, user);
            delete safeUser.token, delete safeUser.grauth, delete safeUser.email, delete safeUser.registrationDate, 
            _send({
                action: "user",
                user: safeUser
            });
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.MessageTypes = {
        server: "socket-server",
        client: "socket-client",
        serverIframe: "socket-server-iframe",
        iframeMode: "iframe-mode"
    };
}, function(module, exports, __webpack_require__) {
    var baseIndexOf = __webpack_require__(417);
    module.exports = function(array, value) {
        return !(null == array || !array.length) && baseIndexOf(array, value, 0) > -1;
    };
}, function(module, exports) {
    module.exports = function(array, value, comparator) {
        for (var index = -1, length = null == array ? 0 : array.length; ++index < length; ) if (comparator(value, array[index])) return !0;
        return !1;
    };
}, function(module, exports) {
    module.exports = {
        textarea_btn: "_1BN1N",
        field_hovered: "_2DJZN",
        status: "_3qe6h",
        btn_text: "_2FmR8",
        not_focused: "_3lZFX",
        errors_100: "_3_mtL",
        anonymous: "MoE_1",
        show: "Kzi1t",
        errors: "_1v-Lt",
        checking: "_2SRUV",
        gr__spin: "_36WSx",
        has_errors: "_3MyEI",
        disabled: "_2PADr",
        transform_wrap: "_1HjH7",
        offline: "_3OU5v",
        plus_only: "_8-Hqa",
        minimized: "BD-0J",
        hovered: "_3VlMM",
        minimize_transition: "_7_mnr",
        login_reminder: "Ho4t0"
    };
}, function(module, exports) {
    module.exports = {
        btnContainer: "_3OtCp",
        container: "_3fy5R",
        header: "Pm-Zw",
        bold: "E4GF8",
        button: "_2Fer5",
        large: "E0JDH",
        optIn: "_2wWfa",
        note: "_3ZIq2",
        offlineDialogHeader: "_1Puzh",
        largeDocumentDialogHeader: "_3PyQM",
        offlineDialogMessage: "_17UwQ",
        offlineDialogButton: "_45mYO"
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subject_1 = __webpack_require__(27), Subscription_1 = __webpack_require__(30), AsyncSubject = function(_super) {
        function AsyncSubject() {
            _super.apply(this, arguments), this.value = null, this.hasNext = !1, this.hasCompleted = !1;
        }
        return __extends(AsyncSubject, _super), AsyncSubject.prototype._subscribe = function(subscriber) {
            return this.hasError ? (subscriber.error(this.thrownError), Subscription_1.Subscription.EMPTY) : this.hasCompleted && this.hasNext ? (subscriber.next(this.value), 
            subscriber.complete(), Subscription_1.Subscription.EMPTY) : _super.prototype._subscribe.call(this, subscriber);
        }, AsyncSubject.prototype.next = function(value) {
            this.hasCompleted || (this.value = value, this.hasNext = !0);
        }, AsyncSubject.prototype.error = function(error) {
            this.hasCompleted || _super.prototype.error.call(this, error);
        }, AsyncSubject.prototype.complete = function() {
            this.hasCompleted = !0, this.hasNext && _super.prototype.next.call(this, this.value), 
            _super.prototype.complete.call(this);
        }, AsyncSubject;
    }(Subject_1.Subject);
    exports.AsyncSubject = AsyncSubject;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, ArrayObservable_1 = __webpack_require__(136), isArray_1 = __webpack_require__(95), OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13), none = {};
    exports.combineLatest = function() {
        for (var observables = [], _i = 0; _i < arguments.length; _i++) observables[_i - 0] = arguments[_i];
        var project = null;
        return "function" == typeof observables[observables.length - 1] && (project = observables.pop()), 
        1 === observables.length && isArray_1.isArray(observables[0]) && (observables = observables[0].slice()), 
        function(source) {
            return source.lift.call(new ArrayObservable_1.ArrayObservable([ source ].concat(observables)), new CombineLatestOperator(project));
        };
    };
    var CombineLatestOperator = function() {
        function CombineLatestOperator(project) {
            this.project = project;
        }
        return CombineLatestOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new CombineLatestSubscriber(subscriber, this.project));
        }, CombineLatestOperator;
    }();
    exports.CombineLatestOperator = CombineLatestOperator;
    var CombineLatestSubscriber = function(_super) {
        function CombineLatestSubscriber(destination, project) {
            _super.call(this, destination), this.project = project, this.active = 0, this.values = [], 
            this.observables = [];
        }
        return __extends(CombineLatestSubscriber, _super), CombineLatestSubscriber.prototype._next = function(observable) {
            this.values.push(none), this.observables.push(observable);
        }, CombineLatestSubscriber.prototype._complete = function() {
            var observables = this.observables, len = observables.length;
            if (0 === len) this.destination.complete(); else {
                this.active = len, this.toRespond = len;
                for (var i = 0; i < len; i++) {
                    var observable = observables[i];
                    this.add(subscribeToResult_1.subscribeToResult(this, observable, observable, i));
                }
            }
        }, CombineLatestSubscriber.prototype.notifyComplete = function(unused) {
            0 == (this.active -= 1) && this.destination.complete();
        }, CombineLatestSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            var values = this.values, oldVal = values[outerIndex], toRespond = this.toRespond ? oldVal === none ? --this.toRespond : this.toRespond : 0;
            values[outerIndex] = innerValue, 0 === toRespond && (this.project ? this._tryProject(values) : this.destination.next(values.slice()));
        }, CombineLatestSubscriber.prototype._tryProject = function(values) {
            var result;
            try {
                result = this.project.apply(this, values);
            } catch (err) {
                return void this.destination.error(err);
            }
            this.destination.next(result);
        }, CombineLatestSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.CombineLatestSubscriber = CombineLatestSubscriber;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), ArrayObservable_1 = __webpack_require__(136), isScheduler_1 = __webpack_require__(86), mergeAll_1 = __webpack_require__(346);
    exports.merge = function() {
        for (var observables = [], _i = 0; _i < arguments.length; _i++) observables[_i - 0] = arguments[_i];
        var concurrent = Number.POSITIVE_INFINITY, scheduler = null, last = observables[observables.length - 1];
        return isScheduler_1.isScheduler(last) ? (scheduler = observables.pop(), observables.length > 1 && "number" == typeof observables[observables.length - 1] && (concurrent = observables.pop())) : "number" == typeof last && (concurrent = observables.pop()), 
        null === scheduler && 1 === observables.length && observables[0] instanceof Observable_1.Observable ? observables[0] : mergeAll_1.mergeAll(concurrent)(new ArrayObservable_1.ArrayObservable(observables, scheduler));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    exports.isDate = function(value) {
        return value instanceof Date && !isNaN(+value);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, ArrayObservable_1 = __webpack_require__(136), isArray_1 = __webpack_require__(95), Subscriber_1 = __webpack_require__(6), OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13), iterator_1 = __webpack_require__(282);
    function zipStatic() {
        for (var observables = [], _i = 0; _i < arguments.length; _i++) observables[_i - 0] = arguments[_i];
        var project = observables[observables.length - 1];
        return "function" == typeof project && observables.pop(), new ArrayObservable_1.ArrayObservable(observables).lift(new ZipOperator(project));
    }
    exports.zip = function() {
        for (var observables = [], _i = 0; _i < arguments.length; _i++) observables[_i - 0] = arguments[_i];
        return function(source) {
            return source.lift.call(zipStatic.apply(void 0, [ source ].concat(observables)));
        };
    }, exports.zipStatic = zipStatic;
    var ZipOperator = function() {
        function ZipOperator(project) {
            this.project = project;
        }
        return ZipOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new ZipSubscriber(subscriber, this.project));
        }, ZipOperator;
    }();
    exports.ZipOperator = ZipOperator;
    var ZipSubscriber = function(_super) {
        function ZipSubscriber(destination, project, values) {
            void 0 === values && (values = Object.create(null)), _super.call(this, destination), 
            this.iterators = [], this.active = 0, this.project = "function" == typeof project ? project : null, 
            this.values = values;
        }
        return __extends(ZipSubscriber, _super), ZipSubscriber.prototype._next = function(value) {
            var iterators = this.iterators;
            isArray_1.isArray(value) ? iterators.push(new StaticArrayIterator(value)) : "function" == typeof value[iterator_1.iterator] ? iterators.push(new StaticIterator(value[iterator_1.iterator]())) : iterators.push(new ZipBufferIterator(this.destination, this, value));
        }, ZipSubscriber.prototype._complete = function() {
            var iterators = this.iterators, len = iterators.length;
            if (0 !== len) {
                this.active = len;
                for (var i = 0; i < len; i++) {
                    var iterator = iterators[i];
                    iterator.stillUnsubscribed ? this.add(iterator.subscribe(iterator, i)) : this.active--;
                }
            } else this.destination.complete();
        }, ZipSubscriber.prototype.notifyInactive = function() {
            this.active--, 0 === this.active && this.destination.complete();
        }, ZipSubscriber.prototype.checkIterators = function() {
            for (var iterators = this.iterators, len = iterators.length, destination = this.destination, i = 0; i < len; i++) {
                if ("function" == typeof (iterator = iterators[i]).hasValue && !iterator.hasValue()) return;
            }
            var shouldComplete = !1, args = [];
            for (i = 0; i < len; i++) {
                var iterator, result = (iterator = iterators[i]).next();
                if (iterator.hasCompleted() && (shouldComplete = !0), result.done) return void destination.complete();
                args.push(result.value);
            }
            this.project ? this._tryProject(args) : destination.next(args), shouldComplete && destination.complete();
        }, ZipSubscriber.prototype._tryProject = function(args) {
            var result;
            try {
                result = this.project.apply(this, args);
            } catch (err) {
                return void this.destination.error(err);
            }
            this.destination.next(result);
        }, ZipSubscriber;
    }(Subscriber_1.Subscriber);
    exports.ZipSubscriber = ZipSubscriber;
    var StaticIterator = function() {
        function StaticIterator(iterator) {
            this.iterator = iterator, this.nextResult = iterator.next();
        }
        return StaticIterator.prototype.hasValue = function() {
            return !0;
        }, StaticIterator.prototype.next = function() {
            var result = this.nextResult;
            return this.nextResult = this.iterator.next(), result;
        }, StaticIterator.prototype.hasCompleted = function() {
            var nextResult = this.nextResult;
            return nextResult && nextResult.done;
        }, StaticIterator;
    }(), StaticArrayIterator = function() {
        function StaticArrayIterator(array) {
            this.array = array, this.index = 0, this.length = 0, this.length = array.length;
        }
        return StaticArrayIterator.prototype[iterator_1.iterator] = function() {
            return this;
        }, StaticArrayIterator.prototype.next = function(value) {
            var i = this.index++, array = this.array;
            return i < this.length ? {
                value: array[i],
                done: !1
            } : {
                value: null,
                done: !0
            };
        }, StaticArrayIterator.prototype.hasValue = function() {
            return this.array.length > this.index;
        }, StaticArrayIterator.prototype.hasCompleted = function() {
            return this.array.length === this.index;
        }, StaticArrayIterator;
    }(), ZipBufferIterator = function(_super) {
        function ZipBufferIterator(destination, parent, observable) {
            _super.call(this, destination), this.parent = parent, this.observable = observable, 
            this.stillUnsubscribed = !0, this.buffer = [], this.isComplete = !1;
        }
        return __extends(ZipBufferIterator, _super), ZipBufferIterator.prototype[iterator_1.iterator] = function() {
            return this;
        }, ZipBufferIterator.prototype.next = function() {
            var buffer = this.buffer;
            return 0 === buffer.length && this.isComplete ? {
                value: null,
                done: !0
            } : {
                value: buffer.shift(),
                done: !1
            };
        }, ZipBufferIterator.prototype.hasValue = function() {
            return this.buffer.length > 0;
        }, ZipBufferIterator.prototype.hasCompleted = function() {
            return 0 === this.buffer.length && this.isComplete;
        }, ZipBufferIterator.prototype.notifyComplete = function() {
            this.buffer.length > 0 ? (this.isComplete = !0, this.parent.notifyInactive()) : this.destination.complete();
        }, ZipBufferIterator.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.buffer.push(innerValue), this.parent.checkIterators();
        }, ZipBufferIterator.prototype.subscribe = function(value, index) {
            return subscribeToResult_1.subscribeToResult(this, this.observable, this, index);
        }, ZipBufferIterator;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subject_1 = __webpack_require__(27), queue_1 = __webpack_require__(518), Subscription_1 = __webpack_require__(30), observeOn_1 = __webpack_require__(344), ObjectUnsubscribedError_1 = __webpack_require__(345), SubjectSubscription_1 = __webpack_require__(468), ReplaySubject = function(_super) {
        function ReplaySubject(bufferSize, windowTime, scheduler) {
            void 0 === bufferSize && (bufferSize = Number.POSITIVE_INFINITY), void 0 === windowTime && (windowTime = Number.POSITIVE_INFINITY), 
            _super.call(this), this.scheduler = scheduler, this._events = [], this._bufferSize = bufferSize < 1 ? 1 : bufferSize, 
            this._windowTime = windowTime < 1 ? 1 : windowTime;
        }
        return __extends(ReplaySubject, _super), ReplaySubject.prototype.next = function(value) {
            var now = this._getNow();
            this._events.push(new ReplayEvent(now, value)), this._trimBufferThenGetEvents(), 
            _super.prototype.next.call(this, value);
        }, ReplaySubject.prototype._subscribe = function(subscriber) {
            var subscription, _events = this._trimBufferThenGetEvents(), scheduler = this.scheduler;
            if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
            this.hasError ? subscription = Subscription_1.Subscription.EMPTY : this.isStopped ? subscription = Subscription_1.Subscription.EMPTY : (this.observers.push(subscriber), 
            subscription = new SubjectSubscription_1.SubjectSubscription(this, subscriber)), 
            scheduler && subscriber.add(subscriber = new observeOn_1.ObserveOnSubscriber(subscriber, scheduler));
            for (var len = _events.length, i = 0; i < len && !subscriber.closed; i++) subscriber.next(_events[i].value);
            return this.hasError ? subscriber.error(this.thrownError) : this.isStopped && subscriber.complete(), 
            subscription;
        }, ReplaySubject.prototype._getNow = function() {
            return (this.scheduler || queue_1.queue).now();
        }, ReplaySubject.prototype._trimBufferThenGetEvents = function() {
            for (var now = this._getNow(), _bufferSize = this._bufferSize, _windowTime = this._windowTime, _events = this._events, eventsCount = _events.length, spliceCount = 0; spliceCount < eventsCount && !(now - _events[spliceCount].time < _windowTime); ) spliceCount++;
            return eventsCount > _bufferSize && (spliceCount = Math.max(spliceCount, eventsCount - _bufferSize)), 
            spliceCount > 0 && _events.splice(0, spliceCount), _events;
        }, ReplaySubject;
    }(Subject_1.Subject);
    exports.ReplaySubject = ReplaySubject;
    var ReplayEvent = function() {
        return function(time, value) {
            this.time = time, this.value = value;
        };
    }();
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, EmptyError = function(_super) {
        function EmptyError() {
            var err = _super.call(this, "no elements in sequence");
            this.name = err.name = "EmptyError", this.stack = err.stack, this.message = err.message;
        }
        return __extends(EmptyError, _super), EmptyError;
    }(Error);
    exports.EmptyError = EmptyError;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.defaultThrottleConfig = {
        leading: !0,
        trailing: !1
    }, exports.throttle = function(durationSelector, config) {
        return void 0 === config && (config = exports.defaultThrottleConfig), function(source) {
            return source.lift(new ThrottleOperator(durationSelector, config.leading, config.trailing));
        };
    };
    var ThrottleOperator = function() {
        function ThrottleOperator(durationSelector, leading, trailing) {
            this.durationSelector = durationSelector, this.leading = leading, this.trailing = trailing;
        }
        return ThrottleOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new ThrottleSubscriber(subscriber, this.durationSelector, this.leading, this.trailing));
        }, ThrottleOperator;
    }(), ThrottleSubscriber = function(_super) {
        function ThrottleSubscriber(destination, durationSelector, _leading, _trailing) {
            _super.call(this, destination), this.destination = destination, this.durationSelector = durationSelector, 
            this._leading = _leading, this._trailing = _trailing, this._hasTrailingValue = !1;
        }
        return __extends(ThrottleSubscriber, _super), ThrottleSubscriber.prototype._next = function(value) {
            if (this.throttled) this._trailing && (this._hasTrailingValue = !0, this._trailingValue = value); else {
                var duration = this.tryDurationSelector(value);
                duration && this.add(this.throttled = subscribeToResult_1.subscribeToResult(this, duration)), 
                this._leading && (this.destination.next(value), this._trailing && (this._hasTrailingValue = !0, 
                this._trailingValue = value));
            }
        }, ThrottleSubscriber.prototype.tryDurationSelector = function(value) {
            try {
                return this.durationSelector(value);
            } catch (err) {
                return this.destination.error(err), null;
            }
        }, ThrottleSubscriber.prototype._unsubscribe = function() {
            var throttled = this.throttled;
            this._trailingValue, this._hasTrailingValue, this._trailing;
            this._trailingValue = null, this._hasTrailingValue = !1, throttled && (this.remove(throttled), 
            this.throttled = null, throttled.unsubscribe());
        }, ThrottleSubscriber.prototype._sendTrailing = function() {
            var _a = this, destination = _a.destination, throttled = _a.throttled, _trailing = _a._trailing, _trailingValue = _a._trailingValue, _hasTrailingValue = _a._hasTrailingValue;
            throttled && _trailing && _hasTrailingValue && (destination.next(_trailingValue), 
            this._trailingValue = null, this._hasTrailingValue = !1);
        }, ThrottleSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this._sendTrailing(), this._unsubscribe();
        }, ThrottleSubscriber.prototype.notifyComplete = function() {
            this._sendTrailing(), this._unsubscribe();
        }, ThrottleSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    var arrayMap = __webpack_require__(85), baseIteratee = __webpack_require__(64), baseMap = __webpack_require__(1014), isArray = __webpack_require__(7);
    module.exports = function(collection, iteratee) {
        return (isArray(collection) ? arrayMap : baseMap)(collection, baseIteratee(iteratee, 3));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    function getSpaceConstant(exclude, charsQuantity) {
        charsQuantity = charsQuantity || "all";
        var spaceCharsCodes = [ 160, 10, 8, 32, 8194, 8195, 8196, 8197, 8198, 8199, 8200, 8201, 8202, 8203, 8287, 12288, 3 ];
        exclude && (spaceCharsCodes = spaceCharsCodes.filter(function(el) {
            return -1 === exclude.indexOf(el);
        }));
        for (var spaceChars = [], i = 0; i < spaceCharsCodes.length; i++) spaceChars[i] = String.fromCharCode(spaceCharsCodes[i]);
        var regexpQuantity = "";
        switch (charsQuantity) {
          case "single":
            break;

          case "all":
          default:
            regexpQuantity = "+";
        }
        return new RegExp("[" + spaceChars.join("") + "]" + regexpQuantity, "g");
    }
    function isSep(str) {
        return !str || (str = str.replace(exports.QUOTE_RE, ""), -1 !== exports.SEPARATORS.indexOf(str) || str.match(exports.ALL_SPACE_RE) || str.match(exports.GDOCS_SEP));
    }
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports._f = function() {}, exports.supportsPlaintextEditables = function() {
        var div = document.createElement("div");
        return div.setAttribute("contenteditable", "PLAINTEXT-ONLY"), "plaintext-only" === div.contentEditable;
    }, exports.getSpaceConstant = getSpaceConstant, exports.ALL_SPACE_RE = getSpaceConstant(), 
    exports.SEPARATORS = ',.;:()&$%!@#?*~+}{[]|/"`-<>\n\t', exports.QUOTE_RE = /["']/g, 
    exports.GDOCS_SEP = new RegExp("[\\u001c\\u0011]", "g"), exports.isSep = isSep, 
    exports.wordSeparated = function(text, s, e) {
        var leftChar = text.substring(s - 1, s), leftChar2 = text.substring(s, s + 1), rightChar = text.substring(e, e + 1), rightChar2 = text.substring(e - 1, e);
        return (isSep(leftChar) || isSep(leftChar2)) && (isSep(rightChar) || isSep(rightChar2)) || s === e;
    }, exports.getNextWord = function(text, pos, withInc) {
        var part = text.substring(pos, text.length), inc = 0, word = "";
        if (0 === part.length) return withInc ? {
            inc: inc,
            word: ""
        } : "";
        for (var sep = ""; part.length > 0 && isSep(part[0]); ) sep += part.substring(0, 1), 
        part = part.substring(1, part.length), inc++;
        for (var i = 0; i < part.length; i++) {
            var letter = part[i];
            if (isSep(letter)) return withInc ? {
                inc: inc,
                word: word,
                sep: sep
            } : word;
            word += letter;
        }
        return withInc ? {
            inc: inc,
            word: word,
            sep: sep
        } : word;
    }, exports.getPrevWord = function(text, pos) {
        for (var part = text.substring(0, pos), word = ""; isSep(part[part.length - 1]) && part.length > 0; ) part = part.substring(0, part.length - 1);
        for (pos = part.length - 1; pos >= 0; ) {
            var letter = part[pos];
            if (isSep(letter)) return word;
            word = letter + word, pos--;
        }
        return word;
    };
    var SENTENCE_SEP = /[!?.]\s|\n/g;
    exports.getSentenceByPos = function(text, pos) {
        var currentPos = pos, part = text.substr(currentPos, 2), shiftedPart = text.substr(currentPos - 1, 2);
        for (shiftedPart && shiftedPart.match(SENTENCE_SEP) && (currentPos = --pos, part = text.substr(currentPos, 2)); part && !part.match(SENTENCE_SEP); ) currentPos++, 
        part = text.substr(currentPos, 2);
        var endPos = currentPos + 2;
        for (currentPos = pos, part = text.substring(currentPos - 2, currentPos); part && currentPos - 2 > 0 && !part.match(SENTENCE_SEP); ) currentPos--, 
        part = text.substring(currentPos - 2, currentPos);
        var startPos = currentPos;
        return startPos - 2 <= 0 && (startPos = 0), {
            s: startPos,
            e: endPos
        };
    }, exports.getNextSepOffset = function(text, pos) {
        for (var result = 0, i = pos; void 0 !== text[i] && !isSep(text[i]); ) i++, result++;
        return result;
    }, exports.getPrevSepOffset = function(text, pos) {
        for (var result = 0, i = pos; void 0 !== text[i] && !isSep(text[i]); ) i--, result++;
        return result;
    }, exports.getPos = function getPos(elem, parent) {
        if (!elem || elem === parent) return {
            x: 0,
            y: 0
        };
        var xy = {
            x: elem.offsetLeft,
            y: elem.offsetTop
        }, par = getPos(elem.offsetParent, parent);
        return xy.x += par.x, xy.y += par.y, xy;
    }, exports.wordCount = function(text) {
        if (!text) return 0;
        var words = text.replace(/[\W\d]/gi, " ").trim().replace(/\s+/gi, " ").split(" ");
        return 1 === words.length && "" === words[0] ? 0 : words.length;
    }, exports.declension = function(value, arr) {
        2 === arr.length && arr.push(arr[1]);
        var index = 2;
        return value % 10 == 1 && value % 100 != 11 && (index = 0), value % 10 >= 2 && value % 10 <= 4 && (value % 100 < 10 || value % 100 >= 20) && (index = 1), 
        arr[index];
    };
}, function(module, exports, __webpack_require__) {
    try {
        module.exports = __webpack_require__(439);
    } catch (e) {}
}, function(module, exports) {
    module.exports = {
        hoverMenu: "_30JeG",
        opened: "_1lbTi",
        btn: "_21QaI",
        line: "_2-7o4",
        panel: "_2A3ER",
        premium: "Tl7FF",
        btn_premium: "_3iNVi",
        anonymous: "_2_2SE",
        btn_grammarly: "_1pbTT",
        panelText: "_3wCw9",
        critical: "OkCGU",
        btn_nopopup: "_16qN2",
        disabled: "_3feZS",
        btn_disable: "_1L80j",
        initial: "_2YES8",
        checking: "_5OBwS",
        gr__spin: "_1xRBR",
        counter: "_12R0B",
        counter100: "_16xfl",
        btn_feedback: "Sg_25",
        buttonArea: "_24Em3",
        feedback: "_2osHx",
        tooltip: "_1y1wn",
        tooltip_grammarly: "_3JR7V",
        tooltip_premium: "_12HlG",
        tooltip_disable: "_1VWYx",
        plus: "_2jxvx",
        tooltip_visible: "_210kO",
        gr__fade_in: "_2M-6u",
        tooltip_hidden: "_2R8DE"
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var focal_1 = __webpack_require__(91), stdlib_1 = __webpack_require__(4), field_1 = __webpack_require__(445), checkingService_1 = __webpack_require__(614), Layout = __webpack_require__(340), genericAquaIntegration_1 = __webpack_require__(1082), inlineCards_1 = __webpack_require__(624);
    exports.createDefaultCheckingService = function(ctx, capiUrl) {
        return new checkingService_1.LegacyCheckingService(stdlib_1.Guid.create(), ctx.state.page.dialectStrong || ctx.state.page.dialectWeak, ctx.state.page.domain, ctx.createSocket, capiUrl);
    }, exports.isContentEditable = function(e) {
        return e.attributes.getNamedItem("contenteditable") && "true" === e.attributes.getNamedItem("contenteditable").value;
    }, exports.parent = function(e, f) {
        return void 0 === f && (f = function(x) {
            return x;
        }), e.parentNode && e.parentNode.nodeType === Node.ELEMENT_NODE ? f(e.parentNode) : null;
    }, function(IntegrationFactory) {
        IntegrationFactory.createContentEditable = function(ctx, createCheckingService, createLayout, target) {
            void 0 === createCheckingService && (createCheckingService = exports.createDefaultCheckingService), 
            void 0 === createLayout && (createLayout = Layout.GenericLayout.create);
            var checkingService = createCheckingService(ctx);
            return field_1.LoggingDecorator.decorate(function() {
                var inlineCards = new inlineCards_1.LegacyInlineCardView(stdlib_1.assertNonNull(ctx.app.card, "ctx.app.card"), ctx.field.ownerDocument, Math.random().toString());
                return new genericAquaIntegration_1.AquaFieldIntegration(target || ctx.field, ctx.pageContext.domain, (target || ctx.field).ownerDocument.body, createLayout(ctx.field), checkingService, inlineCards, focal_1.Atom.create(ctx.state), ctx.actions, stdlib_1.assertNonNull(ctx.app.notifications, "ctx.app.notifications"), ctx.gnar, ctx.felog);
            }, "contenteditable");
        }, IntegrationFactory.createIframe = function(ctx, createCheckingService, contentNode) {
            if (void 0 === createCheckingService && (createCheckingService = exports.createDefaultCheckingService), 
            ctx.field instanceof HTMLIFrameElement) {
                var iframe_1 = ctx.field, checkingService_2 = createCheckingService(ctx);
                return field_1.LoggingDecorator.decorate(function() {
                    var inlineCards = new inlineCards_1.LegacyInlineCardView(stdlib_1.assertNonNull(ctx.app.card, "ctx.app.card"), iframe_1.ownerDocument, Math.random().toString());
                    return new genericAquaIntegration_1.AquaFieldIntegration(contentNode || iframe_1.contentDocument.body, ctx.pageContext.domain, iframe_1.ownerDocument.body, Layout.TinyMceLayout.createIframe(contentNode || iframe_1.contentDocument.body, iframe_1, iframe_1.ownerDocument), checkingService_2, inlineCards, focal_1.Atom.create(ctx.state), ctx.actions, stdlib_1.assertNonNull(ctx.app.notifications, "ctx.app.notifications"), ctx.gnar, ctx.felog);
                }, "iframe");
            }
            throw new Error(ctx.field + " is not an iframe");
        };
    }(exports.IntegrationFactory || (exports.IntegrationFactory = {}));
}, function(module, exports, __webpack_require__) {
    __webpack_require__(373);
}, function(module, exports) {}, function(module, exports, __webpack_require__) {
    "use strict";
    var noop_1 = __webpack_require__(375);
    function pipeFromArray(fns) {
        return fns ? 1 === fns.length ? fns[0] : function(input) {
            return fns.reduce(function(prev, fn) {
                return fn(prev);
            }, input);
        } : noop_1.noop;
    }
    exports.pipe = function() {
        for (var fns = [], _i = 0; _i < arguments.length; _i++) fns[_i - 0] = arguments[_i];
        return pipeFromArray(fns);
    }, exports.pipeFromArray = pipeFromArray;
}, function(module, exports, __webpack_require__) {
    "use strict";
    exports.noop = function() {};
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, ScalarObservable = function(_super) {
        function ScalarObservable(value, scheduler) {
            _super.call(this), this.value = value, this.scheduler = scheduler, this._isScalar = !0, 
            scheduler && (this._isScalar = !1);
        }
        return __extends(ScalarObservable, _super), ScalarObservable.create = function(value, scheduler) {
            return new ScalarObservable(value, scheduler);
        }, ScalarObservable.dispatch = function(state) {
            var done = state.done, value = state.value, subscriber = state.subscriber;
            done ? subscriber.complete() : (subscriber.next(value), subscriber.closed || (state.done = !0, 
            this.schedule(state)));
        }, ScalarObservable.prototype._subscribe = function(subscriber) {
            var value = this.value, scheduler = this.scheduler;
            if (scheduler) return scheduler.schedule(ScalarObservable.dispatch, 0, {
                done: !1,
                value: value,
                subscriber: subscriber
            });
            subscriber.next(value), subscriber.closed || subscriber.complete();
        }, ScalarObservable;
    }(__webpack_require__(0).Observable);
    exports.ScalarObservable = ScalarObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.refCount = function() {
        return function(source) {
            return source.lift(new RefCountOperator(source));
        };
    };
    var RefCountOperator = function() {
        function RefCountOperator(connectable) {
            this.connectable = connectable;
        }
        return RefCountOperator.prototype.call = function(subscriber, source) {
            var connectable = this.connectable;
            connectable._refCount++;
            var refCounter = new RefCountSubscriber(subscriber, connectable), subscription = source.subscribe(refCounter);
            return refCounter.closed || (refCounter.connection = connectable.connect()), subscription;
        }, RefCountOperator;
    }(), RefCountSubscriber = function(_super) {
        function RefCountSubscriber(destination, connectable) {
            _super.call(this, destination), this.connectable = connectable;
        }
        return __extends(RefCountSubscriber, _super), RefCountSubscriber.prototype._unsubscribe = function() {
            var connectable = this.connectable;
            if (connectable) {
                this.connectable = null;
                var refCount = connectable._refCount;
                if (refCount <= 0) this.connection = null; else if (connectable._refCount = refCount - 1, 
                refCount > 1) this.connection = null; else {
                    var connection = this.connection, sharedConnection = connectable._connection;
                    this.connection = null, !sharedConnection || connection && sharedConnection !== connection || sharedConnection.unsubscribe();
                }
            } else this.connection = null;
        }, RefCountSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), map_1 = __webpack_require__(655);
    Observable_1.Observable.prototype.map = map_1.map;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.filter = function(predicate, thisArg) {
        return function(source) {
            return source.lift(new FilterOperator(predicate, thisArg));
        };
    };
    var FilterOperator = function() {
        function FilterOperator(predicate, thisArg) {
            this.predicate = predicate, this.thisArg = thisArg;
        }
        return FilterOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));
        }, FilterOperator;
    }(), FilterSubscriber = function(_super) {
        function FilterSubscriber(destination, predicate, thisArg) {
            _super.call(this, destination), this.predicate = predicate, this.thisArg = thisArg, 
            this.count = 0;
        }
        return __extends(FilterSubscriber, _super), FilterSubscriber.prototype._next = function(value) {
            var result;
            try {
                result = this.predicate.call(this.thisArg, value, this.count++);
            } catch (err) {
                return void this.destination.error(err);
            }
            result && this.destination.next(value);
        }, FilterSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var mergeAll_1 = __webpack_require__(346);
    exports.concatAll = function() {
        return mergeAll_1.mergeAll(1);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var mergeMap_1 = __webpack_require__(286);
    exports.concatMap = function(project, resultSelector) {
        return mergeMap_1.mergeMap(project, resultSelector, 1);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var createLogger = __webpack_require__(181), redux_1 = __webpack_require__(142), message = __webpack_require__(16), store_1 = __webpack_require__(312), helpers_1 = __webpack_require__(383), util_1 = __webpack_require__(2), logger = createLogger({
        level: "debug",
        collapsed: function() {
            return !0;
        },
        predicate: function() {
            return !1;
        }
    }), SYNC = "store/SYNC", initialState = {
        page: {},
        connection: {}
    };
    exports.createMirrorStore = function(onUpdate, extraActions, reducer) {
        var store = redux_1.createStore(function(state, action) {
            void 0 === state && (state = initialState);
            var domain = (state.page || state.config || {}).domain;
            return action.sync && message.emitBackground("dispatch", Object.assign({}, action, {
                domain: domain
            })), action.type === SYNC ? Object.assign({}, state, action.data) : reducer ? reducer(state, action) : state;
        }, {}, redux_1.applyMiddleware(logger)), actions = helpers_1.bindActions(Object.assign({}, store_1.pureActions, extraActions), store.dispatch);
        return message.on("state", function(data) {
            util_1.asyncCall(function() {
                return store.dispatch({
                    type: SYNC,
                    data: data
                });
            }, 0);
        }), helpers_1.observeStore(store, onUpdate), {
            store: store,
            actions: actions
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var isEqual = __webpack_require__(169), isEmpty = __webpack_require__(384), util_1 = __webpack_require__(2);
    exports.observeStore = function(store, onChange) {
        var currentState;
        function handleChange() {
            var nextState = store.getState();
            isEmpty(nextState) || isEqual(currentState, nextState) || (currentState = nextState, 
            onChange(nextState));
        }
        return util_1.asyncCall(handleChange), store.subscribe(handleChange);
    }, exports.bindActions = function(pureActions, dispatch) {
        return Object.keys(pureActions).filter(function(action) {
            return pureActions[action];
        }).reduce(function(obj, action) {
            return Object.assign(obj, ((_a = {})[action] = function() {
                for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
                var _a, res = (_a = pureActions)[action].apply(_a, __spread(args)), sync = void 0 === res.sync || res.sync;
                return dispatch(Object.assign({}, res, {
                    sync: sync
                }));
            }, _a));
            var _a;
        }, {});
    };
}, function(module, exports, __webpack_require__) {
    var baseKeys = __webpack_require__(163), getTag = __webpack_require__(58), isArguments = __webpack_require__(45), isArray = __webpack_require__(7), isArrayLike = __webpack_require__(28), isBuffer = __webpack_require__(34), isPrototype = __webpack_require__(56), isTypedArray = __webpack_require__(40), mapTag = "[object Map]", setTag = "[object Set]", hasOwnProperty = Object.prototype.hasOwnProperty;
    module.exports = function(value) {
        if (null == value) return !0;
        if (isArrayLike(value) && (isArray(value) || "string" == typeof value || "function" == typeof value.splice || isBuffer(value) || isTypedArray(value) || isArguments(value))) return !value.length;
        var tag = getTag(value);
        if (tag == mapTag || tag == setTag) return !value.size;
        if (isPrototype(value)) return !baseKeys(value).length;
        for (var key in value) if (hasOwnProperty.call(value, key)) return !1;
        return !0;
    };
}, function(module, exports, __webpack_require__) {
    var Symbol = __webpack_require__(32), isArguments = __webpack_require__(45), isArray = __webpack_require__(7), spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : void 0;
    module.exports = function(value) {
        return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);
    };
}, function(module, exports, __webpack_require__) {
    var baseClone = __webpack_require__(349), CLONE_DEEP_FLAG = 1, CLONE_SYMBOLS_FLAG = 4;
    module.exports = function(value) {
        return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);
    };
}, function(module, exports, __webpack_require__) {
    var copyObject = __webpack_require__(36), keys = __webpack_require__(31);
    module.exports = function(object, source) {
        return object && copyObject(source, keys(source), object);
    };
}, function(module, exports, __webpack_require__) {
    var copyObject = __webpack_require__(36), keysIn = __webpack_require__(43);
    module.exports = function(object, source) {
        return object && copyObject(source, keysIn(source), object);
    };
}, function(module, exports, __webpack_require__) {
    var copyObject = __webpack_require__(36), getSymbols = __webpack_require__(107);
    module.exports = function(source, object) {
        return copyObject(source, getSymbols(source), object);
    };
}, function(module, exports, __webpack_require__) {
    var copyObject = __webpack_require__(36), getSymbolsIn = __webpack_require__(321);
    module.exports = function(source, object) {
        return copyObject(source, getSymbolsIn(source), object);
    };
}, function(module, exports) {
    var hasOwnProperty = Object.prototype.hasOwnProperty;
    module.exports = function(array) {
        var length = array.length, result = new array.constructor(length);
        return length && "string" == typeof array[0] && hasOwnProperty.call(array, "index") && (result.index = array.index, 
        result.input = array.input), result;
    };
}, function(module, exports, __webpack_require__) {
    var cloneArrayBuffer = __webpack_require__(110), cloneDataView = __webpack_require__(393), cloneRegExp = __webpack_require__(394), cloneSymbol = __webpack_require__(395), cloneTypedArray = __webpack_require__(172), boolTag = "[object Boolean]", dateTag = "[object Date]", mapTag = "[object Map]", numberTag = "[object Number]", regexpTag = "[object RegExp]", setTag = "[object Set]", stringTag = "[object String]", symbolTag = "[object Symbol]", arrayBufferTag = "[object ArrayBuffer]", dataViewTag = "[object DataView]", float32Tag = "[object Float32Array]", float64Tag = "[object Float64Array]", int8Tag = "[object Int8Array]", int16Tag = "[object Int16Array]", int32Tag = "[object Int32Array]", uint8Tag = "[object Uint8Array]", uint8ClampedTag = "[object Uint8ClampedArray]", uint16Tag = "[object Uint16Array]", uint32Tag = "[object Uint32Array]";
    module.exports = function(object, tag, isDeep) {
        var Ctor = object.constructor;
        switch (tag) {
          case arrayBufferTag:
            return cloneArrayBuffer(object);

          case boolTag:
          case dateTag:
            return new Ctor(+object);

          case dataViewTag:
            return cloneDataView(object, isDeep);

          case float32Tag:
          case float64Tag:
          case int8Tag:
          case int16Tag:
          case int32Tag:
          case uint8Tag:
          case uint8ClampedTag:
          case uint16Tag:
          case uint32Tag:
            return cloneTypedArray(object, isDeep);

          case mapTag:
            return new Ctor();

          case numberTag:
          case stringTag:
            return new Ctor(object);

          case regexpTag:
            return cloneRegExp(object);

          case setTag:
            return new Ctor();

          case symbolTag:
            return cloneSymbol(object);
        }
    };
}, function(module, exports, __webpack_require__) {
    var cloneArrayBuffer = __webpack_require__(110);
    module.exports = function(dataView, isDeep) {
        var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;
        return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);
    };
}, function(module, exports) {
    var reFlags = /\w*$/;
    module.exports = function(regexp) {
        var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));
        return result.lastIndex = regexp.lastIndex, result;
    };
}, function(module, exports, __webpack_require__) {
    var Symbol = __webpack_require__(32), symbolProto = Symbol ? Symbol.prototype : void 0, symbolValueOf = symbolProto ? symbolProto.valueOf : void 0;
    module.exports = function(symbol) {
        return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};
    };
}, function(module, exports, __webpack_require__) {
    var baseIsMap = __webpack_require__(397), baseUnary = __webpack_require__(79), nodeUtil = __webpack_require__(105), nodeIsMap = nodeUtil && nodeUtil.isMap, isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;
    module.exports = isMap;
}, function(module, exports, __webpack_require__) {
    var getTag = __webpack_require__(58), isObjectLike = __webpack_require__(17), mapTag = "[object Map]";
    module.exports = function(value) {
        return isObjectLike(value) && getTag(value) == mapTag;
    };
}, function(module, exports, __webpack_require__) {
    var baseIsSet = __webpack_require__(399), baseUnary = __webpack_require__(79), nodeUtil = __webpack_require__(105), nodeIsSet = nodeUtil && nodeUtil.isSet, isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;
    module.exports = isSet;
}, function(module, exports, __webpack_require__) {
    var getTag = __webpack_require__(58), isObjectLike = __webpack_require__(17), setTag = "[object Set]";
    module.exports = function(value) {
        return isObjectLike(value) && getTag(value) == setTag;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var aa = __webpack_require__(5), l = __webpack_require__(402), B = __webpack_require__(322), C = __webpack_require__(151), ba = __webpack_require__(403), da = __webpack_require__(404), ea = __webpack_require__(405), fa = __webpack_require__(406), ia = __webpack_require__(409), D = __webpack_require__(323);
    function E(a) {
        for (var b = arguments.length - 1, c = "Minified React error #" + a + "; visit http://facebook.github.io/react/docs/error-decoder.html?invariant=" + a, d = 0; d < b; d++) c += "&args[]=" + encodeURIComponent(arguments[d + 1]);
        throw (b = Error(c + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name = "Invariant Violation", 
        b.framesToPop = 1, b;
    }
    aa || E("227");
    var oa = {
        children: !0,
        dangerouslySetInnerHTML: !0,
        defaultValue: !0,
        defaultChecked: !0,
        innerHTML: !0,
        suppressContentEditableWarning: !0,
        suppressHydrationWarning: !0,
        style: !0
    };
    function pa(a, b) {
        return (a & b) === b;
    }
    var ta = {
        MUST_USE_PROPERTY: 1,
        HAS_BOOLEAN_VALUE: 4,
        HAS_NUMERIC_VALUE: 8,
        HAS_POSITIVE_NUMERIC_VALUE: 24,
        HAS_OVERLOADED_BOOLEAN_VALUE: 32,
        HAS_STRING_BOOLEAN_VALUE: 64,
        injectDOMPropertyConfig: function(a) {
            var b = ta, c = a.Properties || {}, d = a.DOMAttributeNamespaces || {}, e = a.DOMAttributeNames || {};
            for (var f in a = a.DOMMutationMethods || {}, c) {
                ua.hasOwnProperty(f) && E("48", f);
                var g = f.toLowerCase(), h = c[f];
                1 >= (g = {
                    attributeName: g,
                    attributeNamespace: null,
                    propertyName: f,
                    mutationMethod: null,
                    mustUseProperty: pa(h, b.MUST_USE_PROPERTY),
                    hasBooleanValue: pa(h, b.HAS_BOOLEAN_VALUE),
                    hasNumericValue: pa(h, b.HAS_NUMERIC_VALUE),
                    hasPositiveNumericValue: pa(h, b.HAS_POSITIVE_NUMERIC_VALUE),
                    hasOverloadedBooleanValue: pa(h, b.HAS_OVERLOADED_BOOLEAN_VALUE),
                    hasStringBooleanValue: pa(h, b.HAS_STRING_BOOLEAN_VALUE)
                }).hasBooleanValue + g.hasNumericValue + g.hasOverloadedBooleanValue || E("50", f), 
                e.hasOwnProperty(f) && (g.attributeName = e[f]), d.hasOwnProperty(f) && (g.attributeNamespace = d[f]), 
                a.hasOwnProperty(f) && (g.mutationMethod = a[f]), ua[f] = g;
            }
        }
    }, ua = {};
    function va(a, b) {
        if (oa.hasOwnProperty(a) || 2 < a.length && ("o" === a[0] || "O" === a[0]) && ("n" === a[1] || "N" === a[1])) return !1;
        if (null === b) return !0;
        switch (typeof b) {
          case "boolean":
            return oa.hasOwnProperty(a) ? a = !0 : (b = wa(a)) ? a = b.hasBooleanValue || b.hasStringBooleanValue || b.hasOverloadedBooleanValue : a = "data-" === (a = a.toLowerCase().slice(0, 5)) || "aria-" === a, 
            a;

          case "undefined":
          case "number":
          case "string":
          case "object":
            return !0;

          default:
            return !1;
        }
    }
    function wa(a) {
        return ua.hasOwnProperty(a) ? ua[a] : null;
    }
    var xa = ta, ya = xa.MUST_USE_PROPERTY, K = xa.HAS_BOOLEAN_VALUE, za = xa.HAS_NUMERIC_VALUE, Aa = xa.HAS_POSITIVE_NUMERIC_VALUE, Ba = xa.HAS_OVERLOADED_BOOLEAN_VALUE, Ca = xa.HAS_STRING_BOOLEAN_VALUE, Da = {
        Properties: {
            allowFullScreen: K,
            async: K,
            autoFocus: K,
            autoPlay: K,
            capture: Ba,
            checked: ya | K,
            cols: Aa,
            contentEditable: Ca,
            controls: K,
            default: K,
            defer: K,
            disabled: K,
            download: Ba,
            draggable: Ca,
            formNoValidate: K,
            hidden: K,
            loop: K,
            multiple: ya | K,
            muted: ya | K,
            noValidate: K,
            open: K,
            playsInline: K,
            readOnly: K,
            required: K,
            reversed: K,
            rows: Aa,
            rowSpan: za,
            scoped: K,
            seamless: K,
            selected: ya | K,
            size: Aa,
            start: za,
            span: Aa,
            spellCheck: Ca,
            style: 0,
            tabIndex: 0,
            itemScope: K,
            acceptCharset: 0,
            className: 0,
            htmlFor: 0,
            httpEquiv: 0,
            value: Ca
        },
        DOMAttributeNames: {
            acceptCharset: "accept-charset",
            className: "class",
            htmlFor: "for",
            httpEquiv: "http-equiv"
        },
        DOMMutationMethods: {
            value: function(a, b) {
                if (null == b) return a.removeAttribute("value");
                "number" !== a.type || !1 === a.hasAttribute("value") ? a.setAttribute("value", "" + b) : a.validity && !a.validity.badInput && a.ownerDocument.activeElement !== a && a.setAttribute("value", "" + b);
            }
        }
    }, Ea = xa.HAS_STRING_BOOLEAN_VALUE, M_xlink = "http://www.w3.org/1999/xlink", M_xml = "http://www.w3.org/XML/1998/namespace", Ga = {
        Properties: {
            autoReverse: Ea,
            externalResourcesRequired: Ea,
            preserveAlpha: Ea
        },
        DOMAttributeNames: {
            autoReverse: "autoReverse",
            externalResourcesRequired: "externalResourcesRequired",
            preserveAlpha: "preserveAlpha"
        },
        DOMAttributeNamespaces: {
            xlinkActuate: M_xlink,
            xlinkArcrole: M_xlink,
            xlinkHref: M_xlink,
            xlinkRole: M_xlink,
            xlinkShow: M_xlink,
            xlinkTitle: M_xlink,
            xlinkType: M_xlink,
            xmlBase: M_xml,
            xmlLang: M_xml,
            xmlSpace: M_xml
        }
    }, Ha = /[\-\:]([a-z])/g;
    function Ia(a) {
        return a[1].toUpperCase();
    }
    "accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(a) {
        var b = a.replace(Ha, Ia);
        Ga.Properties[b] = 0, Ga.DOMAttributeNames[b] = a;
    }), xa.injectDOMPropertyConfig(Da), xa.injectDOMPropertyConfig(Ga);
    var P = {
        _caughtError: null,
        _hasCaughtError: !1,
        _rethrowError: null,
        _hasRethrowError: !1,
        injection: {
            injectErrorUtils: function(a) {
                "function" != typeof a.invokeGuardedCallback && E("197"), Ja = a.invokeGuardedCallback;
            }
        },
        invokeGuardedCallback: function(a, b, c, d, e, f, g, h, k) {
            Ja.apply(P, arguments);
        },
        invokeGuardedCallbackAndCatchFirstError: function(a, b, c, d, e, f, g, h, k) {
            if (P.invokeGuardedCallback.apply(this, arguments), P.hasCaughtError()) {
                var q = P.clearCaughtError();
                P._hasRethrowError || (P._hasRethrowError = !0, P._rethrowError = q);
            }
        },
        rethrowCaughtError: function() {
            return function() {
                if (P._hasRethrowError) {
                    var a = P._rethrowError;
                    throw P._rethrowError = null, P._hasRethrowError = !1, a;
                }
            }.apply(P, arguments);
        },
        hasCaughtError: function() {
            return P._hasCaughtError;
        },
        clearCaughtError: function() {
            if (P._hasCaughtError) {
                var a = P._caughtError;
                return P._caughtError = null, P._hasCaughtError = !1, a;
            }
            E("198");
        }
    };
    function Ja(a, b, c, d, e, f, g, h, k) {
        P._hasCaughtError = !1, P._caughtError = null;
        var q = Array.prototype.slice.call(arguments, 3);
        try {
            b.apply(c, q);
        } catch (v) {
            P._caughtError = v, P._hasCaughtError = !0;
        }
    }
    var La = null, Ma = {};
    function Na() {
        if (La) for (var a in Ma) {
            var b = Ma[a], c = La.indexOf(a);
            if (-1 < c || E("96", a), !Oa[c]) for (var d in b.extractEvents || E("97", a), Oa[c] = b, 
            c = b.eventTypes) {
                var e = void 0, f = c[d], g = b, h = d;
                Pa.hasOwnProperty(h) && E("99", h), Pa[h] = f;
                var k = f.phasedRegistrationNames;
                if (k) {
                    for (e in k) k.hasOwnProperty(e) && Qa(k[e], g, h);
                    e = !0;
                } else f.registrationName ? (Qa(f.registrationName, g, h), e = !0) : e = !1;
                e || E("98", d, a);
            }
        }
    }
    function Qa(a, b, c) {
        Ra[a] && E("100", a), Ra[a] = b, Sa[a] = b.eventTypes[c].dependencies;
    }
    var Oa = [], Pa = {}, Ra = {}, Sa = {};
    function Ta(a) {
        La && E("101"), La = Array.prototype.slice.call(a), Na();
    }
    function Ua(a) {
        var c, b = !1;
        for (c in a) if (a.hasOwnProperty(c)) {
            var d = a[c];
            Ma.hasOwnProperty(c) && Ma[c] === d || (Ma[c] && E("102", c), Ma[c] = d, b = !0);
        }
        b && Na();
    }
    var Va = Object.freeze({
        plugins: Oa,
        eventNameDispatchConfigs: Pa,
        registrationNameModules: Ra,
        registrationNameDependencies: Sa,
        possibleRegistrationNames: null,
        injectEventPluginOrder: Ta,
        injectEventPluginsByName: Ua
    }), Wa = null, Xa = null, Ya = null;
    function Za(a, b, c, d) {
        b = a.type || "unknown-event", a.currentTarget = Ya(d), P.invokeGuardedCallbackAndCatchFirstError(b, c, void 0, a), 
        a.currentTarget = null;
    }
    function $a(a, b) {
        return null == b && E("30"), null == a ? b : Array.isArray(a) ? Array.isArray(b) ? (a.push.apply(a, b), 
        a) : (a.push(b), a) : Array.isArray(b) ? [ a ].concat(b) : [ a, b ];
    }
    function ab(a, b, c) {
        Array.isArray(a) ? a.forEach(b, c) : a && b.call(c, a);
    }
    var bb = null;
    function cb(a, b) {
        if (a) {
            var c = a._dispatchListeners, d = a._dispatchInstances;
            if (Array.isArray(c)) for (var e = 0; e < c.length && !a.isPropagationStopped(); e++) Za(a, b, c[e], d[e]); else c && Za(a, b, c, d);
            a._dispatchListeners = null, a._dispatchInstances = null, a.isPersistent() || a.constructor.release(a);
        }
    }
    function db(a) {
        return cb(a, !0);
    }
    function gb(a) {
        return cb(a, !1);
    }
    var hb = {
        injectEventPluginOrder: Ta,
        injectEventPluginsByName: Ua
    };
    function ib(a, b) {
        var c = a.stateNode;
        if (!c) return null;
        var d = Wa(c);
        if (!d) return null;
        c = d[b];
        a: switch (b) {
          case "onClick":
          case "onClickCapture":
          case "onDoubleClick":
          case "onDoubleClickCapture":
          case "onMouseDown":
          case "onMouseDownCapture":
          case "onMouseMove":
          case "onMouseMoveCapture":
          case "onMouseUp":
          case "onMouseUpCapture":
            (d = !d.disabled) || (d = !("button" === (a = a.type) || "input" === a || "select" === a || "textarea" === a)), 
            a = !d;
            break a;

          default:
            a = !1;
        }
        return a ? null : (c && "function" != typeof c && E("231", b, typeof c), c);
    }
    function jb(a, b, c, d) {
        for (var e, f = 0; f < Oa.length; f++) {
            var g = Oa[f];
            g && (g = g.extractEvents(a, b, c, d)) && (e = $a(e, g));
        }
        return e;
    }
    function kb(a) {
        a && (bb = $a(bb, a));
    }
    function lb(a) {
        var b = bb;
        bb = null, b && (ab(b, a ? db : gb), bb && E("95"), P.rethrowCaughtError());
    }
    var mb = Object.freeze({
        injection: hb,
        getListener: ib,
        extractEvents: jb,
        enqueueEvents: kb,
        processEventQueue: lb
    }), nb = Math.random().toString(36).slice(2), Q = "__reactInternalInstance$" + nb, ob = "__reactEventHandlers$" + nb;
    function pb(a) {
        if (a[Q]) return a[Q];
        for (var b = []; !a[Q]; ) {
            if (b.push(a), !a.parentNode) return null;
            a = a.parentNode;
        }
        var c = void 0, d = a[Q];
        if (5 === d.tag || 6 === d.tag) return d;
        for (;a && (d = a[Q]); a = b.pop()) c = d;
        return c;
    }
    function qb(a) {
        if (5 === a.tag || 6 === a.tag) return a.stateNode;
        E("33");
    }
    function rb(a) {
        return a[ob] || null;
    }
    var sb = Object.freeze({
        precacheFiberNode: function(a, b) {
            b[Q] = a;
        },
        getClosestInstanceFromNode: pb,
        getInstanceFromNode: function(a) {
            return !(a = a[Q]) || 5 !== a.tag && 6 !== a.tag ? null : a;
        },
        getNodeFromInstance: qb,
        getFiberCurrentPropsFromNode: rb,
        updateFiberProps: function(a, b) {
            a[ob] = b;
        }
    });
    function tb(a) {
        do {
            a = a.return;
        } while (a && 5 !== a.tag);
        return a || null;
    }
    function ub(a, b, c) {
        for (var d = []; a; ) d.push(a), a = tb(a);
        for (a = d.length; 0 < a--; ) b(d[a], "captured", c);
        for (a = 0; a < d.length; a++) b(d[a], "bubbled", c);
    }
    function vb(a, b, c) {
        (b = ib(a, c.dispatchConfig.phasedRegistrationNames[b])) && (c._dispatchListeners = $a(c._dispatchListeners, b), 
        c._dispatchInstances = $a(c._dispatchInstances, a));
    }
    function wb(a) {
        a && a.dispatchConfig.phasedRegistrationNames && ub(a._targetInst, vb, a);
    }
    function xb(a) {
        if (a && a.dispatchConfig.phasedRegistrationNames) {
            var b = a._targetInst;
            ub(b = b ? tb(b) : null, vb, a);
        }
    }
    function yb(a, b, c) {
        a && c && c.dispatchConfig.registrationName && (b = ib(a, c.dispatchConfig.registrationName)) && (c._dispatchListeners = $a(c._dispatchListeners, b), 
        c._dispatchInstances = $a(c._dispatchInstances, a));
    }
    function zb(a) {
        a && a.dispatchConfig.registrationName && yb(a._targetInst, null, a);
    }
    function Ab(a) {
        ab(a, wb);
    }
    function Bb(a, b, c, d) {
        if (c && d) a: {
            for (var e = c, f = d, g = 0, h = e; h; h = tb(h)) g++;
            h = 0;
            for (var k = f; k; k = tb(k)) h++;
            for (;0 < g - h; ) e = tb(e), g--;
            for (;0 < h - g; ) f = tb(f), h--;
            for (;g--; ) {
                if (e === f || e === f.alternate) break a;
                e = tb(e), f = tb(f);
            }
            e = null;
        } else e = null;
        for (f = e, e = []; c && c !== f && (null === (g = c.alternate) || g !== f); ) e.push(c), 
        c = tb(c);
        for (c = []; d && d !== f && (null === (g = d.alternate) || g !== f); ) c.push(d), 
        d = tb(d);
        for (d = 0; d < e.length; d++) yb(e[d], "bubbled", a);
        for (a = c.length; 0 < a--; ) yb(c[a], "captured", b);
    }
    var Cb = Object.freeze({
        accumulateTwoPhaseDispatches: Ab,
        accumulateTwoPhaseDispatchesSkipTarget: function(a) {
            ab(a, xb);
        },
        accumulateEnterLeaveDispatches: Bb,
        accumulateDirectDispatches: function(a) {
            ab(a, zb);
        }
    }), Db = null;
    function Eb() {
        return !Db && l.canUseDOM && (Db = "textContent" in document.documentElement ? "textContent" : "innerText"), 
        Db;
    }
    var S = {
        _root: null,
        _startText: null,
        _fallbackText: null
    };
    function Fb() {
        if (S._fallbackText) return S._fallbackText;
        var a, d, b = S._startText, c = b.length, e = Gb(), f = e.length;
        for (a = 0; a < c && b[a] === e[a]; a++) ;
        var g = c - a;
        for (d = 1; d <= g && b[c - d] === e[f - d]; d++) ;
        return S._fallbackText = e.slice(a, 1 < d ? 1 - d : void 0), S._fallbackText;
    }
    function Gb() {
        return "value" in S._root ? S._root.value : S._root[Eb()];
    }
    var Hb = "dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "), Ib = {
        type: null,
        target: null,
        currentTarget: C.thatReturnsNull,
        eventPhase: null,
        bubbles: null,
        cancelable: null,
        timeStamp: function(a) {
            return a.timeStamp || Date.now();
        },
        defaultPrevented: null,
        isTrusted: null
    };
    function T(a, b, c, d) {
        for (var e in this.dispatchConfig = a, this._targetInst = b, this.nativeEvent = c, 
        a = this.constructor.Interface) a.hasOwnProperty(e) && ((b = a[e]) ? this[e] = b(c) : "target" === e ? this.target = d : this[e] = c[e]);
        return this.isDefaultPrevented = (null != c.defaultPrevented ? c.defaultPrevented : !1 === c.returnValue) ? C.thatReturnsTrue : C.thatReturnsFalse, 
        this.isPropagationStopped = C.thatReturnsFalse, this;
    }
    function Kb(a, b, c, d) {
        if (this.eventPool.length) {
            var e = this.eventPool.pop();
            return this.call(e, a, b, c, d), e;
        }
        return new this(a, b, c, d);
    }
    function Lb(a) {
        a instanceof this || E("223"), a.destructor(), 10 > this.eventPool.length && this.eventPool.push(a);
    }
    function Jb(a) {
        a.eventPool = [], a.getPooled = Kb, a.release = Lb;
    }
    function Mb(a, b, c, d) {
        return T.call(this, a, b, c, d);
    }
    function Nb(a, b, c, d) {
        return T.call(this, a, b, c, d);
    }
    B(T.prototype, {
        preventDefault: function() {
            this.defaultPrevented = !0;
            var a = this.nativeEvent;
            a && (a.preventDefault ? a.preventDefault() : "unknown" != typeof a.returnValue && (a.returnValue = !1), 
            this.isDefaultPrevented = C.thatReturnsTrue);
        },
        stopPropagation: function() {
            var a = this.nativeEvent;
            a && (a.stopPropagation ? a.stopPropagation() : "unknown" != typeof a.cancelBubble && (a.cancelBubble = !0), 
            this.isPropagationStopped = C.thatReturnsTrue);
        },
        persist: function() {
            this.isPersistent = C.thatReturnsTrue;
        },
        isPersistent: C.thatReturnsFalse,
        destructor: function() {
            var b, a = this.constructor.Interface;
            for (b in a) this[b] = null;
            for (a = 0; a < Hb.length; a++) this[Hb[a]] = null;
        }
    }), T.Interface = Ib, T.augmentClass = function(a, b) {
        function c() {}
        c.prototype = this.prototype;
        var d = new c();
        B(d, a.prototype), a.prototype = d, a.prototype.constructor = a, a.Interface = B({}, this.Interface, b), 
        a.augmentClass = this.augmentClass, Jb(a);
    }, Jb(T), T.augmentClass(Mb, {
        data: null
    }), T.augmentClass(Nb, {
        data: null
    });
    var Xb, Pb = [ 9, 13, 27, 32 ], Vb = l.canUseDOM && "CompositionEvent" in window, Wb = null;
    if (l.canUseDOM && "documentMode" in document && (Wb = document.documentMode), Xb = l.canUseDOM && "TextEvent" in window && !Wb) {
        var Yb = window.opera;
        Xb = !("object" == typeof Yb && "function" == typeof Yb.version && 12 >= parseInt(Yb.version(), 10));
    }
    var Zb = Xb, $b = l.canUseDOM && (!Vb || Wb && 8 < Wb && 11 >= Wb), ac = String.fromCharCode(32), bc = {
        beforeInput: {
            phasedRegistrationNames: {
                bubbled: "onBeforeInput",
                captured: "onBeforeInputCapture"
            },
            dependencies: [ "topCompositionEnd", "topKeyPress", "topTextInput", "topPaste" ]
        },
        compositionEnd: {
            phasedRegistrationNames: {
                bubbled: "onCompositionEnd",
                captured: "onCompositionEndCapture"
            },
            dependencies: "topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")
        },
        compositionStart: {
            phasedRegistrationNames: {
                bubbled: "onCompositionStart",
                captured: "onCompositionStartCapture"
            },
            dependencies: "topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")
        },
        compositionUpdate: {
            phasedRegistrationNames: {
                bubbled: "onCompositionUpdate",
                captured: "onCompositionUpdateCapture"
            },
            dependencies: "topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")
        }
    }, cc = !1;
    function dc(a, b) {
        switch (a) {
          case "topKeyUp":
            return -1 !== Pb.indexOf(b.keyCode);

          case "topKeyDown":
            return 229 !== b.keyCode;

          case "topKeyPress":
          case "topMouseDown":
          case "topBlur":
            return !0;

          default:
            return !1;
        }
    }
    function ec(a) {
        return "object" == typeof (a = a.detail) && "data" in a ? a.data : null;
    }
    var fc = !1;
    var ic = {
        eventTypes: bc,
        extractEvents: function(a, b, c, d) {
            var e;
            if (Vb) b: {
                switch (a) {
                  case "topCompositionStart":
                    var f = bc.compositionStart;
                    break b;

                  case "topCompositionEnd":
                    f = bc.compositionEnd;
                    break b;

                  case "topCompositionUpdate":
                    f = bc.compositionUpdate;
                    break b;
                }
                f = void 0;
            } else fc ? dc(a, c) && (f = bc.compositionEnd) : "topKeyDown" === a && 229 === c.keyCode && (f = bc.compositionStart);
            return f ? ($b && (fc || f !== bc.compositionStart ? f === bc.compositionEnd && fc && (e = Fb()) : (S._root = d, 
            S._startText = Gb(), fc = !0)), f = Mb.getPooled(f, b, c, d), e ? f.data = e : null !== (e = ec(c)) && (f.data = e), 
            Ab(f), e = f) : e = null, (a = Zb ? function(a, b) {
                switch (a) {
                  case "topCompositionEnd":
                    return ec(b);

                  case "topKeyPress":
                    return 32 !== b.which ? null : (cc = !0, ac);

                  case "topTextInput":
                    return (a = b.data) === ac && cc ? null : a;

                  default:
                    return null;
                }
            }(a, c) : function(a, b) {
                if (fc) return "topCompositionEnd" === a || !Vb && dc(a, b) ? (a = Fb(), S._root = null, 
                S._startText = null, S._fallbackText = null, fc = !1, a) : null;
                switch (a) {
                  case "topPaste":
                    return null;

                  case "topKeyPress":
                    if (!(b.ctrlKey || b.altKey || b.metaKey) || b.ctrlKey && b.altKey) {
                        if (b.char && 1 < b.char.length) return b.char;
                        if (b.which) return String.fromCharCode(b.which);
                    }
                    return null;

                  case "topCompositionEnd":
                    return $b ? null : b.data;

                  default:
                    return null;
                }
            }(a, c)) ? ((b = Nb.getPooled(bc.beforeInput, b, c, d)).data = a, Ab(b)) : b = null, 
            [ e, b ];
        }
    }, jc = null, kc = null, lc = null;
    function mc(a) {
        if (a = Xa(a)) {
            jc && "function" == typeof jc.restoreControlledState || E("194");
            var b = Wa(a.stateNode);
            jc.restoreControlledState(a.stateNode, a.type, b);
        }
    }
    var nc = {
        injectFiberControlledHostComponent: function(a) {
            jc = a;
        }
    };
    function oc(a) {
        kc ? lc ? lc.push(a) : lc = [ a ] : kc = a;
    }
    function pc() {
        if (kc) {
            var a = kc, b = lc;
            if (lc = kc = null, mc(a), b) for (a = 0; a < b.length; a++) mc(b[a]);
        }
    }
    var qc = Object.freeze({
        injection: nc,
        enqueueStateRestore: oc,
        restoreStateIfNeeded: pc
    });
    function rc(a, b) {
        return a(b);
    }
    var sc = !1;
    function tc(a, b) {
        if (sc) return rc(a, b);
        sc = !0;
        try {
            return rc(a, b);
        } finally {
            sc = !1, pc();
        }
    }
    var xc, uc = {
        color: !0,
        date: !0,
        datetime: !0,
        "datetime-local": !0,
        email: !0,
        month: !0,
        number: !0,
        password: !0,
        range: !0,
        search: !0,
        tel: !0,
        text: !0,
        time: !0,
        url: !0,
        week: !0
    };
    function vc(a) {
        var b = a && a.nodeName && a.nodeName.toLowerCase();
        return "input" === b ? !!uc[a.type] : "textarea" === b;
    }
    function wc(a) {
        return (a = a.target || a.srcElement || window).correspondingUseElement && (a = a.correspondingUseElement), 
        3 === a.nodeType ? a.parentNode : a;
    }
    function yc(a, b) {
        if (!l.canUseDOM || b && !("addEventListener" in document)) return !1;
        var c = (b = "on" + a) in document;
        return c || ((c = document.createElement("div")).setAttribute(b, "return;"), c = "function" == typeof c[b]), 
        !c && xc && "wheel" === a && (c = document.implementation.hasFeature("Events.wheel", "3.0")), 
        c;
    }
    function zc(a) {
        var b = a.type;
        return (a = a.nodeName) && "input" === a.toLowerCase() && ("checkbox" === b || "radio" === b);
    }
    function Bc(a) {
        a._valueTracker || (a._valueTracker = function(a) {
            var b = zc(a) ? "checked" : "value", c = Object.getOwnPropertyDescriptor(a.constructor.prototype, b), d = "" + a[b];
            if (!a.hasOwnProperty(b) && "function" == typeof c.get && "function" == typeof c.set) return Object.defineProperty(a, b, {
                enumerable: c.enumerable,
                configurable: !0,
                get: function() {
                    return c.get.call(this);
                },
                set: function(a) {
                    d = "" + a, c.set.call(this, a);
                }
            }), {
                getValue: function() {
                    return d;
                },
                setValue: function(a) {
                    d = "" + a;
                },
                stopTracking: function() {
                    a._valueTracker = null, delete a[b];
                }
            };
        }(a));
    }
    function Cc(a) {
        if (!a) return !1;
        var b = a._valueTracker;
        if (!b) return !0;
        var c = b.getValue(), d = "";
        return a && (d = zc(a) ? a.checked ? "true" : "false" : a.value), (a = d) !== c && (b.setValue(a), 
        !0);
    }
    l.canUseDOM && (xc = document.implementation && document.implementation.hasFeature && !0 !== document.implementation.hasFeature("", ""));
    var Dc = {
        change: {
            phasedRegistrationNames: {
                bubbled: "onChange",
                captured: "onChangeCapture"
            },
            dependencies: "topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")
        }
    };
    function Ec(a, b, c) {
        return (a = T.getPooled(Dc.change, a, b, c)).type = "change", oc(c), Ab(a), a;
    }
    var Fc = null, Gc = null;
    function Hc(a) {
        kb(a), lb(!1);
    }
    function Ic(a) {
        if (Cc(qb(a))) return a;
    }
    function Jc(a, b) {
        if ("topChange" === a) return b;
    }
    var Kc = !1;
    function Lc() {
        Fc && (Fc.detachEvent("onpropertychange", Mc), Gc = Fc = null);
    }
    function Mc(a) {
        "value" === a.propertyName && Ic(Gc) && tc(Hc, a = Ec(Gc, a, wc(a)));
    }
    function Nc(a, b, c) {
        "topFocus" === a ? (Lc(), Gc = c, (Fc = b).attachEvent("onpropertychange", Mc)) : "topBlur" === a && Lc();
    }
    function Oc(a) {
        if ("topSelectionChange" === a || "topKeyUp" === a || "topKeyDown" === a) return Ic(Gc);
    }
    function Pc(a, b) {
        if ("topClick" === a) return Ic(b);
    }
    function $c(a, b) {
        if ("topInput" === a || "topChange" === a) return Ic(b);
    }
    l.canUseDOM && (Kc = yc("input") && (!document.documentMode || 9 < document.documentMode));
    var ad = {
        eventTypes: Dc,
        _isInputEventSupported: Kc,
        extractEvents: function(a, b, c, d) {
            var e = b ? qb(b) : window, f = e.nodeName && e.nodeName.toLowerCase();
            if ("select" === f || "input" === f && "file" === e.type) var g = Jc; else if (vc(e)) if (Kc) g = $c; else {
                g = Oc;
                var h = Nc;
            } else !(f = e.nodeName) || "input" !== f.toLowerCase() || "checkbox" !== e.type && "radio" !== e.type || (g = Pc);
            if (g && (g = g(a, b))) return Ec(g, c, d);
            h && h(a, e, b), "topBlur" === a && null != b && (a = b._wrapperState || e._wrapperState) && a.controlled && "number" === e.type && (a = "" + e.value, 
            e.getAttribute("value") !== a && e.setAttribute("value", a));
        }
    };
    function bd(a, b, c, d) {
        return T.call(this, a, b, c, d);
    }
    T.augmentClass(bd, {
        view: null,
        detail: null
    });
    var cd = {
        Alt: "altKey",
        Control: "ctrlKey",
        Meta: "metaKey",
        Shift: "shiftKey"
    };
    function dd(a) {
        var b = this.nativeEvent;
        return b.getModifierState ? b.getModifierState(a) : !!(a = cd[a]) && !!b[a];
    }
    function ed() {
        return dd;
    }
    function fd(a, b, c, d) {
        return T.call(this, a, b, c, d);
    }
    bd.augmentClass(fd, {
        screenX: null,
        screenY: null,
        clientX: null,
        clientY: null,
        pageX: null,
        pageY: null,
        ctrlKey: null,
        shiftKey: null,
        altKey: null,
        metaKey: null,
        getModifierState: ed,
        button: null,
        buttons: null,
        relatedTarget: function(a) {
            return a.relatedTarget || (a.fromElement === a.srcElement ? a.toElement : a.fromElement);
        }
    });
    var gd = {
        mouseEnter: {
            registrationName: "onMouseEnter",
            dependencies: [ "topMouseOut", "topMouseOver" ]
        },
        mouseLeave: {
            registrationName: "onMouseLeave",
            dependencies: [ "topMouseOut", "topMouseOver" ]
        }
    }, hd = {
        eventTypes: gd,
        extractEvents: function(a, b, c, d) {
            if ("topMouseOver" === a && (c.relatedTarget || c.fromElement) || "topMouseOut" !== a && "topMouseOver" !== a) return null;
            var e = d.window === d ? d : (e = d.ownerDocument) ? e.defaultView || e.parentWindow : window;
            if ("topMouseOut" === a ? (a = b, b = (b = c.relatedTarget || c.toElement) ? pb(b) : null) : a = null, 
            a === b) return null;
            var f = null == a ? e : qb(a);
            e = null == b ? e : qb(b);
            var g = fd.getPooled(gd.mouseLeave, a, c, d);
            return g.type = "mouseleave", g.target = f, g.relatedTarget = e, (c = fd.getPooled(gd.mouseEnter, b, c, d)).type = "mouseenter", 
            c.target = e, c.relatedTarget = f, Bb(g, c, a, b), [ g, c ];
        }
    }, id = aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner;
    function jd(a) {
        return "string" == typeof (a = a.type) ? a : "function" == typeof a ? a.displayName || a.name : null;
    }
    function kd(a) {
        var b = a;
        if (a.alternate) for (;b.return; ) b = b.return; else {
            if (0 != (2 & b.effectTag)) return 1;
            for (;b.return; ) if (0 != (2 & (b = b.return).effectTag)) return 1;
        }
        return 3 === b.tag ? 2 : 3;
    }
    function ld(a) {
        return !!(a = a._reactInternalFiber) && 2 === kd(a);
    }
    function md(a) {
        2 !== kd(a) && E("188");
    }
    function nd(a) {
        var b = a.alternate;
        if (!b) return 3 === (b = kd(a)) && E("188"), 1 === b ? null : a;
        for (var c = a, d = b; ;) {
            var e = c.return, f = e ? e.alternate : null;
            if (!e || !f) break;
            if (e.child === f.child) {
                for (var g = e.child; g; ) {
                    if (g === c) return md(e), a;
                    if (g === d) return md(e), b;
                    g = g.sibling;
                }
                E("188");
            }
            if (c.return !== d.return) c = e, d = f; else {
                g = !1;
                for (var h = e.child; h; ) {
                    if (h === c) {
                        g = !0, c = e, d = f;
                        break;
                    }
                    if (h === d) {
                        g = !0, d = e, c = f;
                        break;
                    }
                    h = h.sibling;
                }
                if (!g) {
                    for (h = f.child; h; ) {
                        if (h === c) {
                            g = !0, c = f, d = e;
                            break;
                        }
                        if (h === d) {
                            g = !0, d = f, c = e;
                            break;
                        }
                        h = h.sibling;
                    }
                    g || E("189");
                }
            }
            c.alternate !== d && E("190");
        }
        return 3 !== c.tag && E("188"), c.stateNode.current === c ? a : b;
    }
    var qd = [];
    function rd(a) {
        var b = a.targetInst;
        do {
            if (!b) {
                a.ancestors.push(b);
                break;
            }
            var c;
            for (c = b; c.return; ) c = c.return;
            if (!(c = 3 !== c.tag ? null : c.stateNode.containerInfo)) break;
            a.ancestors.push(b), b = pb(c);
        } while (b);
        for (c = 0; c < a.ancestors.length; c++) b = a.ancestors[c], sd(a.topLevelType, b, a.nativeEvent, wc(a.nativeEvent));
    }
    var td = !0, sd = void 0;
    function ud(a) {
        td = !!a;
    }
    function U(a, b, c) {
        return c ? ba.listen(c, b, vd.bind(null, a)) : null;
    }
    function wd(a, b, c) {
        return c ? ba.capture(c, b, vd.bind(null, a)) : null;
    }
    function vd(a, b) {
        if (td) {
            var c = wc(b);
            if (null === (c = pb(c)) || "number" != typeof c.tag || 2 === kd(c) || (c = null), 
            qd.length) {
                var d = qd.pop();
                d.topLevelType = a, d.nativeEvent = b, d.targetInst = c, a = d;
            } else a = {
                topLevelType: a,
                nativeEvent: b,
                targetInst: c,
                ancestors: []
            };
            try {
                tc(rd, a);
            } finally {
                a.topLevelType = null, a.nativeEvent = null, a.targetInst = null, a.ancestors.length = 0, 
                10 > qd.length && qd.push(a);
            }
        }
    }
    var xd = Object.freeze({
        get _enabled() {
            return td;
        },
        get _handleTopLevel() {
            return sd;
        },
        setHandleTopLevel: function(a) {
            sd = a;
        },
        setEnabled: ud,
        isEnabled: function() {
            return td;
        },
        trapBubbledEvent: U,
        trapCapturedEvent: wd,
        dispatchEvent: vd
    });
    function yd(a, b) {
        var c = {};
        return c[a.toLowerCase()] = b.toLowerCase(), c["Webkit" + a] = "webkit" + b, c["Moz" + a] = "moz" + b, 
        c["ms" + a] = "MS" + b, c["O" + a] = "o" + b.toLowerCase(), c;
    }
    var zd = {
        animationend: yd("Animation", "AnimationEnd"),
        animationiteration: yd("Animation", "AnimationIteration"),
        animationstart: yd("Animation", "AnimationStart"),
        transitionend: yd("Transition", "TransitionEnd")
    }, Ad = {}, Bd = {};
    function Cd(a) {
        if (Ad[a]) return Ad[a];
        if (!zd[a]) return a;
        var c, b = zd[a];
        for (c in b) if (b.hasOwnProperty(c) && c in Bd) return Ad[a] = b[c];
        return "";
    }
    l.canUseDOM && (Bd = document.createElement("div").style, "AnimationEvent" in window || (delete zd.animationend.animation, 
    delete zd.animationiteration.animation, delete zd.animationstart.animation), "TransitionEvent" in window || delete zd.transitionend.transition);
    var Dd = {
        topAbort: "abort",
        topAnimationEnd: Cd("animationend") || "animationend",
        topAnimationIteration: Cd("animationiteration") || "animationiteration",
        topAnimationStart: Cd("animationstart") || "animationstart",
        topBlur: "blur",
        topCancel: "cancel",
        topCanPlay: "canplay",
        topCanPlayThrough: "canplaythrough",
        topChange: "change",
        topClick: "click",
        topClose: "close",
        topCompositionEnd: "compositionend",
        topCompositionStart: "compositionstart",
        topCompositionUpdate: "compositionupdate",
        topContextMenu: "contextmenu",
        topCopy: "copy",
        topCut: "cut",
        topDoubleClick: "dblclick",
        topDrag: "drag",
        topDragEnd: "dragend",
        topDragEnter: "dragenter",
        topDragExit: "dragexit",
        topDragLeave: "dragleave",
        topDragOver: "dragover",
        topDragStart: "dragstart",
        topDrop: "drop",
        topDurationChange: "durationchange",
        topEmptied: "emptied",
        topEncrypted: "encrypted",
        topEnded: "ended",
        topError: "error",
        topFocus: "focus",
        topInput: "input",
        topKeyDown: "keydown",
        topKeyPress: "keypress",
        topKeyUp: "keyup",
        topLoadedData: "loadeddata",
        topLoad: "load",
        topLoadedMetadata: "loadedmetadata",
        topLoadStart: "loadstart",
        topMouseDown: "mousedown",
        topMouseMove: "mousemove",
        topMouseOut: "mouseout",
        topMouseOver: "mouseover",
        topMouseUp: "mouseup",
        topPaste: "paste",
        topPause: "pause",
        topPlay: "play",
        topPlaying: "playing",
        topProgress: "progress",
        topRateChange: "ratechange",
        topScroll: "scroll",
        topSeeked: "seeked",
        topSeeking: "seeking",
        topSelectionChange: "selectionchange",
        topStalled: "stalled",
        topSuspend: "suspend",
        topTextInput: "textInput",
        topTimeUpdate: "timeupdate",
        topToggle: "toggle",
        topTouchCancel: "touchcancel",
        topTouchEnd: "touchend",
        topTouchMove: "touchmove",
        topTouchStart: "touchstart",
        topTransitionEnd: Cd("transitionend") || "transitionend",
        topVolumeChange: "volumechange",
        topWaiting: "waiting",
        topWheel: "wheel"
    }, Ed = {}, Fd = 0, Gd = "_reactListenersID" + ("" + Math.random()).slice(2);
    function Hd(a) {
        return Object.prototype.hasOwnProperty.call(a, Gd) || (a[Gd] = Fd++, Ed[a[Gd]] = {}), 
        Ed[a[Gd]];
    }
    function Id(a) {
        for (;a && a.firstChild; ) a = a.firstChild;
        return a;
    }
    function Jd(a, b) {
        var d, c = Id(a);
        for (a = 0; c; ) {
            if (3 === c.nodeType) {
                if (d = a + c.textContent.length, a <= b && d >= b) return {
                    node: c,
                    offset: b - a
                };
                a = d;
            }
            a: {
                for (;c; ) {
                    if (c.nextSibling) {
                        c = c.nextSibling;
                        break a;
                    }
                    c = c.parentNode;
                }
                c = void 0;
            }
            c = Id(c);
        }
    }
    function Kd(a) {
        var b = a && a.nodeName && a.nodeName.toLowerCase();
        return b && ("input" === b && "text" === a.type || "textarea" === b || "true" === a.contentEditable);
    }
    var Ld = l.canUseDOM && "documentMode" in document && 11 >= document.documentMode, Md = {
        select: {
            phasedRegistrationNames: {
                bubbled: "onSelect",
                captured: "onSelectCapture"
            },
            dependencies: "topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")
        }
    }, Nd = null, Od = null, Pd = null, Qd = !1;
    function Rd(a, b) {
        if (Qd || null == Nd || Nd !== da()) return null;
        var c = Nd;
        return "selectionStart" in c && Kd(c) ? c = {
            start: c.selectionStart,
            end: c.selectionEnd
        } : window.getSelection ? c = {
            anchorNode: (c = window.getSelection()).anchorNode,
            anchorOffset: c.anchorOffset,
            focusNode: c.focusNode,
            focusOffset: c.focusOffset
        } : c = void 0, Pd && ea(Pd, c) ? null : (Pd = c, (a = T.getPooled(Md.select, Od, a, b)).type = "select", 
        a.target = Nd, Ab(a), a);
    }
    var Sd = {
        eventTypes: Md,
        extractEvents: function(a, b, c, d) {
            var f, e = d.window === d ? d.document : 9 === d.nodeType ? d : d.ownerDocument;
            if (!(f = !e)) {
                a: {
                    e = Hd(e), f = Sa.onSelect;
                    for (var g = 0; g < f.length; g++) {
                        var h = f[g];
                        if (!e.hasOwnProperty(h) || !e[h]) {
                            e = !1;
                            break a;
                        }
                    }
                    e = !0;
                }
                f = !e;
            }
            if (f) return null;
            switch (e = b ? qb(b) : window, a) {
              case "topFocus":
                (vc(e) || "true" === e.contentEditable) && (Nd = e, Od = b, Pd = null);
                break;

              case "topBlur":
                Pd = Od = Nd = null;
                break;

              case "topMouseDown":
                Qd = !0;
                break;

              case "topContextMenu":
              case "topMouseUp":
                return Qd = !1, Rd(c, d);

              case "topSelectionChange":
                if (Ld) break;

              case "topKeyDown":
              case "topKeyUp":
                return Rd(c, d);
            }
            return null;
        }
    };
    function Td(a, b, c, d) {
        return T.call(this, a, b, c, d);
    }
    function Ud(a, b, c, d) {
        return T.call(this, a, b, c, d);
    }
    function Vd(a, b, c, d) {
        return T.call(this, a, b, c, d);
    }
    function Wd(a) {
        var b = a.keyCode;
        return "charCode" in a ? 0 === (a = a.charCode) && 13 === b && (a = 13) : a = b, 
        32 <= a || 13 === a ? a : 0;
    }
    T.augmentClass(Td, {
        animationName: null,
        elapsedTime: null,
        pseudoElement: null
    }), T.augmentClass(Ud, {
        clipboardData: function(a) {
            return "clipboardData" in a ? a.clipboardData : window.clipboardData;
        }
    }), bd.augmentClass(Vd, {
        relatedTarget: null
    });
    var Xd = {
        Esc: "Escape",
        Spacebar: " ",
        Left: "ArrowLeft",
        Up: "ArrowUp",
        Right: "ArrowRight",
        Down: "ArrowDown",
        Del: "Delete",
        Win: "OS",
        Menu: "ContextMenu",
        Apps: "ContextMenu",
        Scroll: "ScrollLock",
        MozPrintableKey: "Unidentified"
    }, Yd = {
        8: "Backspace",
        9: "Tab",
        12: "Clear",
        13: "Enter",
        16: "Shift",
        17: "Control",
        18: "Alt",
        19: "Pause",
        20: "CapsLock",
        27: "Escape",
        32: " ",
        33: "PageUp",
        34: "PageDown",
        35: "End",
        36: "Home",
        37: "ArrowLeft",
        38: "ArrowUp",
        39: "ArrowRight",
        40: "ArrowDown",
        45: "Insert",
        46: "Delete",
        112: "F1",
        113: "F2",
        114: "F3",
        115: "F4",
        116: "F5",
        117: "F6",
        118: "F7",
        119: "F8",
        120: "F9",
        121: "F10",
        122: "F11",
        123: "F12",
        144: "NumLock",
        145: "ScrollLock",
        224: "Meta"
    };
    function Zd(a, b, c, d) {
        return T.call(this, a, b, c, d);
    }
    function $d(a, b, c, d) {
        return T.call(this, a, b, c, d);
    }
    function ae(a, b, c, d) {
        return T.call(this, a, b, c, d);
    }
    function be(a, b, c, d) {
        return T.call(this, a, b, c, d);
    }
    function ce(a, b, c, d) {
        return T.call(this, a, b, c, d);
    }
    bd.augmentClass(Zd, {
        key: function(a) {
            if (a.key) {
                var b = Xd[a.key] || a.key;
                if ("Unidentified" !== b) return b;
            }
            return "keypress" === a.type ? 13 === (a = Wd(a)) ? "Enter" : String.fromCharCode(a) : "keydown" === a.type || "keyup" === a.type ? Yd[a.keyCode] || "Unidentified" : "";
        },
        location: null,
        ctrlKey: null,
        shiftKey: null,
        altKey: null,
        metaKey: null,
        repeat: null,
        locale: null,
        getModifierState: ed,
        charCode: function(a) {
            return "keypress" === a.type ? Wd(a) : 0;
        },
        keyCode: function(a) {
            return "keydown" === a.type || "keyup" === a.type ? a.keyCode : 0;
        },
        which: function(a) {
            return "keypress" === a.type ? Wd(a) : "keydown" === a.type || "keyup" === a.type ? a.keyCode : 0;
        }
    }), fd.augmentClass($d, {
        dataTransfer: null
    }), bd.augmentClass(ae, {
        touches: null,
        targetTouches: null,
        changedTouches: null,
        altKey: null,
        metaKey: null,
        ctrlKey: null,
        shiftKey: null,
        getModifierState: ed
    }), T.augmentClass(be, {
        propertyName: null,
        elapsedTime: null,
        pseudoElement: null
    }), fd.augmentClass(ce, {
        deltaX: function(a) {
            return "deltaX" in a ? a.deltaX : "wheelDeltaX" in a ? -a.wheelDeltaX : 0;
        },
        deltaY: function(a) {
            return "deltaY" in a ? a.deltaY : "wheelDeltaY" in a ? -a.wheelDeltaY : "wheelDelta" in a ? -a.wheelDelta : 0;
        },
        deltaZ: null,
        deltaMode: null
    });
    var de = {}, ee = {};
    "abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(a) {
        var b = a[0].toUpperCase() + a.slice(1), c = "on" + b;
        c = {
            phasedRegistrationNames: {
                bubbled: c,
                captured: c + "Capture"
            },
            dependencies: [ b = "top" + b ]
        }, de[a] = c, ee[b] = c;
    });
    var fe = {
        eventTypes: de,
        extractEvents: function(a, b, c, d) {
            var e = ee[a];
            if (!e) return null;
            switch (a) {
              case "topKeyPress":
                if (0 === Wd(c)) return null;

              case "topKeyDown":
              case "topKeyUp":
                a = Zd;
                break;

              case "topBlur":
              case "topFocus":
                a = Vd;
                break;

              case "topClick":
                if (2 === c.button) return null;

              case "topDoubleClick":
              case "topMouseDown":
              case "topMouseMove":
              case "topMouseUp":
              case "topMouseOut":
              case "topMouseOver":
              case "topContextMenu":
                a = fd;
                break;

              case "topDrag":
              case "topDragEnd":
              case "topDragEnter":
              case "topDragExit":
              case "topDragLeave":
              case "topDragOver":
              case "topDragStart":
              case "topDrop":
                a = $d;
                break;

              case "topTouchCancel":
              case "topTouchEnd":
              case "topTouchMove":
              case "topTouchStart":
                a = ae;
                break;

              case "topAnimationEnd":
              case "topAnimationIteration":
              case "topAnimationStart":
                a = Td;
                break;

              case "topTransitionEnd":
                a = be;
                break;

              case "topScroll":
                a = bd;
                break;

              case "topWheel":
                a = ce;
                break;

              case "topCopy":
              case "topCut":
              case "topPaste":
                a = Ud;
                break;

              default:
                a = T;
            }
            return Ab(b = a.getPooled(e, b, c, d)), b;
        }
    };
    sd = function(a, b, c, d) {
        kb(a = jb(a, b, c, d)), lb(!1);
    }, hb.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")), 
    Wa = sb.getFiberCurrentPropsFromNode, Xa = sb.getInstanceFromNode, Ya = sb.getNodeFromInstance, 
    hb.injectEventPluginsByName({
        SimpleEventPlugin: fe,
        EnterLeaveEventPlugin: hd,
        ChangeEventPlugin: ad,
        SelectEventPlugin: Sd,
        BeforeInputEventPlugin: ic
    });
    var ge = [], he = -1;
    function V(a) {
        0 > he || (a.current = ge[he], ge[he] = null, he--);
    }
    function W(a, b) {
        ge[++he] = a.current, a.current = b;
    }
    new Set();
    var ie = {
        current: D
    }, X = {
        current: !1
    }, je = D;
    function ke(a) {
        return le(a) ? je : ie.current;
    }
    function me(a, b) {
        var c = a.type.contextTypes;
        if (!c) return D;
        var d = a.stateNode;
        if (d && d.__reactInternalMemoizedUnmaskedChildContext === b) return d.__reactInternalMemoizedMaskedChildContext;
        var f, e = {};
        for (f in c) e[f] = b[f];
        return d && ((a = a.stateNode).__reactInternalMemoizedUnmaskedChildContext = b, 
        a.__reactInternalMemoizedMaskedChildContext = e), e;
    }
    function le(a) {
        return 2 === a.tag && null != a.type.childContextTypes;
    }
    function ne(a) {
        le(a) && (V(X), V(ie));
    }
    function oe(a, b, c) {
        null != ie.cursor && E("168"), W(ie, b), W(X, c);
    }
    function pe(a, b) {
        var c = a.stateNode, d = a.type.childContextTypes;
        if ("function" != typeof c.getChildContext) return b;
        for (var e in c = c.getChildContext()) e in d || E("108", jd(a) || "Unknown", e);
        return B({}, b, c);
    }
    function qe(a) {
        if (!le(a)) return !1;
        var b = a.stateNode;
        return b = b && b.__reactInternalMemoizedMergedChildContext || D, je = ie.current, 
        W(ie, b), W(X, X.current), !0;
    }
    function re(a, b) {
        var c = a.stateNode;
        if (c || E("169"), b) {
            var d = pe(a, je);
            c.__reactInternalMemoizedMergedChildContext = d, V(X), V(ie), W(ie, d);
        } else V(X);
        W(X, b);
    }
    function Y(a, b, c) {
        this.tag = a, this.key = b, this.stateNode = this.type = null, this.sibling = this.child = this.return = null, 
        this.index = 0, this.memoizedState = this.updateQueue = this.memoizedProps = this.pendingProps = this.ref = null, 
        this.internalContextTag = c, this.effectTag = 0, this.lastEffect = this.firstEffect = this.nextEffect = null, 
        this.expirationTime = 0, this.alternate = null;
    }
    function se(a, b, c) {
        var d = a.alternate;
        return null === d ? ((d = new Y(a.tag, a.key, a.internalContextTag)).type = a.type, 
        d.stateNode = a.stateNode, d.alternate = a, a.alternate = d) : (d.effectTag = 0, 
        d.nextEffect = null, d.firstEffect = null, d.lastEffect = null), d.expirationTime = c, 
        d.pendingProps = b, d.child = a.child, d.memoizedProps = a.memoizedProps, d.memoizedState = a.memoizedState, 
        d.updateQueue = a.updateQueue, d.sibling = a.sibling, d.index = a.index, d.ref = a.ref, 
        d;
    }
    function te(a, b, c) {
        var d = void 0, e = a.type, f = a.key;
        return "function" == typeof e ? ((d = e.prototype && e.prototype.isReactComponent ? new Y(2, f, b) : new Y(0, f, b)).type = e, 
        d.pendingProps = a.props) : "string" == typeof e ? ((d = new Y(5, f, b)).type = e, 
        d.pendingProps = a.props) : "object" == typeof e && null !== e && "number" == typeof e.tag ? (d = e).pendingProps = a.props : E("130", null == e ? e : typeof e, ""), 
        d.expirationTime = c, d;
    }
    function ue(a, b, c, d) {
        return (b = new Y(10, d, b)).pendingProps = a, b.expirationTime = c, b;
    }
    function ve(a, b, c) {
        return (b = new Y(6, null, b)).pendingProps = a, b.expirationTime = c, b;
    }
    function we(a, b, c) {
        return (b = new Y(7, a.key, b)).type = a.handler, b.pendingProps = a, b.expirationTime = c, 
        b;
    }
    function xe(a, b, c) {
        return (a = new Y(9, null, b)).expirationTime = c, a;
    }
    function ye(a, b, c) {
        return (b = new Y(4, a.key, b)).pendingProps = a.children || [], b.expirationTime = c, 
        b.stateNode = {
            containerInfo: a.containerInfo,
            pendingChildren: null,
            implementation: a.implementation
        }, b;
    }
    var ze = null, Ae = null;
    function Be(a) {
        return function(b) {
            try {
                return a(b);
            } catch (c) {}
        };
    }
    function De(a) {
        "function" == typeof ze && ze(a);
    }
    function Ee(a) {
        "function" == typeof Ae && Ae(a);
    }
    function Fe(a) {
        return {
            baseState: a,
            expirationTime: 0,
            first: null,
            last: null,
            callbackList: null,
            hasForceUpdate: !1,
            isInitialized: !1
        };
    }
    function Ge(a, b) {
        null === a.last ? a.first = a.last = b : (a.last.next = b, a.last = b), (0 === a.expirationTime || a.expirationTime > b.expirationTime) && (a.expirationTime = b.expirationTime);
    }
    function He(a, b) {
        var c = a.alternate, d = a.updateQueue;
        null === d && (d = a.updateQueue = Fe(null)), null !== c ? null === (a = c.updateQueue) && (a = c.updateQueue = Fe(null)) : a = null, 
        null === (a = a !== d ? a : null) ? Ge(d, b) : null === d.last || null === a.last ? (Ge(d, b), 
        Ge(a, b)) : (Ge(d, b), a.last = b);
    }
    function Ie(a, b, c, d) {
        return "function" == typeof (a = a.partialState) ? a.call(b, c, d) : a;
    }
    function Je(a, b, c, d, e, f) {
        null !== a && a.updateQueue === c && (c = b.updateQueue = {
            baseState: c.baseState,
            expirationTime: c.expirationTime,
            first: c.first,
            last: c.last,
            isInitialized: c.isInitialized,
            callbackList: null,
            hasForceUpdate: !1
        }), c.expirationTime = 0, c.isInitialized ? a = c.baseState : (a = c.baseState = b.memoizedState, 
        c.isInitialized = !0);
        for (var g = !0, h = c.first, k = !1; null !== h; ) {
            var q = h.expirationTime;
            if (q > f) {
                var v = c.expirationTime;
                (0 === v || v > q) && (c.expirationTime = q), k || (k = !0, c.baseState = a);
            } else k || (c.first = h.next, null === c.first && (c.last = null)), h.isReplace ? (a = Ie(h, d, a, e), 
            g = !0) : (q = Ie(h, d, a, e)) && (a = g ? B({}, a, q) : B(a, q), g = !1), h.isForced && (c.hasForceUpdate = !0), 
            null !== h.callback && (null === (q = c.callbackList) && (q = c.callbackList = []), 
            q.push(h));
            h = h.next;
        }
        return null !== c.callbackList ? b.effectTag |= 32 : null !== c.first || c.hasForceUpdate || (b.updateQueue = null), 
        k || (c.baseState = a), a;
    }
    function Ke(a, b) {
        var c = a.callbackList;
        if (null !== c) for (a.callbackList = null, a = 0; a < c.length; a++) {
            var d = c[a], e = d.callback;
            d.callback = null, "function" != typeof e && E("191", e), e.call(b);
        }
    }
    var Qe = "function" == typeof Symbol && Symbol.for, Re = Qe ? Symbol.for("react.element") : 60103, Se = Qe ? Symbol.for("react.call") : 60104, Te = Qe ? Symbol.for("react.return") : 60105, Ue = Qe ? Symbol.for("react.portal") : 60106, Ve = Qe ? Symbol.for("react.fragment") : 60107, We = "function" == typeof Symbol && Symbol.iterator;
    function Xe(a) {
        return null == a ? null : "function" == typeof (a = We && a[We] || a["@@iterator"]) ? a : null;
    }
    var Ye = Array.isArray;
    function Ze(a, b) {
        var c = b.ref;
        if (null !== c && "function" != typeof c) {
            if (b._owner) {
                b = b._owner;
                var d = void 0;
                b && (2 !== b.tag && E("110"), d = b.stateNode), d || E("147", c);
                var e = "" + c;
                return null !== a && null !== a.ref && a.ref._stringRef === e ? a.ref : ((a = function(a) {
                    var b = d.refs === D ? d.refs = {} : d.refs;
                    null === a ? delete b[e] : b[e] = a;
                })._stringRef = e, a);
            }
            "string" != typeof c && E("148"), b._owner || E("149", c);
        }
        return c;
    }
    function $e(a, b) {
        "textarea" !== a.type && E("31", "[object Object]" === Object.prototype.toString.call(b) ? "object with keys {" + Object.keys(b).join(", ") + "}" : b, "");
    }
    function af(a) {
        function b(b, c) {
            if (a) {
                var d = b.lastEffect;
                null !== d ? (d.nextEffect = c, b.lastEffect = c) : b.firstEffect = b.lastEffect = c, 
                c.nextEffect = null, c.effectTag = 8;
            }
        }
        function c(c, d) {
            if (!a) return null;
            for (;null !== d; ) b(c, d), d = d.sibling;
            return null;
        }
        function d(a, b) {
            for (a = new Map(); null !== b; ) null !== b.key ? a.set(b.key, b) : a.set(b.index, b), 
            b = b.sibling;
            return a;
        }
        function e(a, b, c) {
            return (a = se(a, b, c)).index = 0, a.sibling = null, a;
        }
        function f(b, c, d) {
            return b.index = d, a ? null !== (d = b.alternate) ? (d = d.index) < c ? (b.effectTag = 2, 
            c) : d : (b.effectTag = 2, c) : c;
        }
        function g(b) {
            return a && null === b.alternate && (b.effectTag = 2), b;
        }
        function h(a, b, c, d) {
            return null === b || 6 !== b.tag ? ((b = ve(c, a.internalContextTag, d)).return = a, 
            b) : ((b = e(b, c, d)).return = a, b);
        }
        function k(a, b, c, d) {
            return null !== b && b.type === c.type ? ((d = e(b, c.props, d)).ref = Ze(b, c), 
            d.return = a, d) : ((d = te(c, a.internalContextTag, d)).ref = Ze(b, c), d.return = a, 
            d);
        }
        function q(a, b, c, d) {
            return null === b || 7 !== b.tag ? ((b = we(c, a.internalContextTag, d)).return = a, 
            b) : ((b = e(b, c, d)).return = a, b);
        }
        function v(a, b, c, d) {
            return null === b || 9 !== b.tag ? ((b = xe(c, a.internalContextTag, d)).type = c.value, 
            b.return = a, b) : ((b = e(b, null, d)).type = c.value, b.return = a, b);
        }
        function y(a, b, c, d) {
            return null === b || 4 !== b.tag || b.stateNode.containerInfo !== c.containerInfo || b.stateNode.implementation !== c.implementation ? ((b = ye(c, a.internalContextTag, d)).return = a, 
            b) : ((b = e(b, c.children || [], d)).return = a, b);
        }
        function u(a, b, c, d, f) {
            return null === b || 10 !== b.tag ? ((b = ue(c, a.internalContextTag, d, f)).return = a, 
            b) : ((b = e(b, c, d)).return = a, b);
        }
        function z(a, b, c) {
            if ("string" == typeof b || "number" == typeof b) return (b = ve("" + b, a.internalContextTag, c)).return = a, 
            b;
            if ("object" == typeof b && null !== b) {
                switch (b.$$typeof) {
                  case Re:
                    return b.type === Ve ? ((b = ue(b.props.children, a.internalContextTag, c, b.key)).return = a, 
                    b) : ((c = te(b, a.internalContextTag, c)).ref = Ze(null, b), c.return = a, c);

                  case Se:
                    return (b = we(b, a.internalContextTag, c)).return = a, b;

                  case Te:
                    return (c = xe(b, a.internalContextTag, c)).type = b.value, c.return = a, c;

                  case Ue:
                    return (b = ye(b, a.internalContextTag, c)).return = a, b;
                }
                if (Ye(b) || Xe(b)) return (b = ue(b, a.internalContextTag, c, null)).return = a, 
                b;
                $e(a, b);
            }
            return null;
        }
        function G(a, b, c, d) {
            var e = null !== b ? b.key : null;
            if ("string" == typeof c || "number" == typeof c) return null !== e ? null : h(a, b, "" + c, d);
            if ("object" == typeof c && null !== c) {
                switch (c.$$typeof) {
                  case Re:
                    return c.key === e ? c.type === Ve ? u(a, b, c.props.children, d, e) : k(a, b, c, d) : null;

                  case Se:
                    return c.key === e ? q(a, b, c, d) : null;

                  case Te:
                    return null === e ? v(a, b, c, d) : null;

                  case Ue:
                    return c.key === e ? y(a, b, c, d) : null;
                }
                if (Ye(c) || Xe(c)) return null !== e ? null : u(a, b, c, d, null);
                $e(a, c);
            }
            return null;
        }
        function I(a, b, c, d, e) {
            if ("string" == typeof d || "number" == typeof d) return h(b, a = a.get(c) || null, "" + d, e);
            if ("object" == typeof d && null !== d) {
                switch (d.$$typeof) {
                  case Re:
                    return a = a.get(null === d.key ? c : d.key) || null, d.type === Ve ? u(b, a, d.props.children, e, d.key) : k(b, a, d, e);

                  case Se:
                    return q(b, a = a.get(null === d.key ? c : d.key) || null, d, e);

                  case Te:
                    return v(b, a = a.get(c) || null, d, e);

                  case Ue:
                    return y(b, a = a.get(null === d.key ? c : d.key) || null, d, e);
                }
                if (Ye(d) || Xe(d)) return u(b, a = a.get(c) || null, d, e, null);
                $e(b, d);
            }
            return null;
        }
        function L(e, g, m, A) {
            for (var h = null, r = null, n = g, w = g = 0, k = null; null !== n && w < m.length; w++) {
                n.index > w ? (k = n, n = null) : k = n.sibling;
                var x = G(e, n, m[w], A);
                if (null === x) {
                    null === n && (n = k);
                    break;
                }
                a && n && null === x.alternate && b(e, n), g = f(x, g, w), null === r ? h = x : r.sibling = x, 
                r = x, n = k;
            }
            if (w === m.length) return c(e, n), h;
            if (null === n) {
                for (;w < m.length; w++) (n = z(e, m[w], A)) && (g = f(n, g, w), null === r ? h = n : r.sibling = n, 
                r = n);
                return h;
            }
            for (n = d(e, n); w < m.length; w++) (k = I(n, e, w, m[w], A)) && (a && null !== k.alternate && n.delete(null === k.key ? w : k.key), 
            g = f(k, g, w), null === r ? h = k : r.sibling = k, r = k);
            return a && n.forEach(function(a) {
                return b(e, a);
            }), h;
        }
        function N(e, g, m, A) {
            var h = Xe(m);
            "function" != typeof h && E("150"), null == (m = h.call(m)) && E("151");
            for (var r = h = null, n = g, w = g = 0, k = null, x = m.next(); null !== n && !x.done; w++, 
            x = m.next()) {
                n.index > w ? (k = n, n = null) : k = n.sibling;
                var J = G(e, n, x.value, A);
                if (null === J) {
                    n || (n = k);
                    break;
                }
                a && n && null === J.alternate && b(e, n), g = f(J, g, w), null === r ? h = J : r.sibling = J, 
                r = J, n = k;
            }
            if (x.done) return c(e, n), h;
            if (null === n) {
                for (;!x.done; w++, x = m.next()) null !== (x = z(e, x.value, A)) && (g = f(x, g, w), 
                null === r ? h = x : r.sibling = x, r = x);
                return h;
            }
            for (n = d(e, n); !x.done; w++, x = m.next()) null !== (x = I(n, e, w, x.value, A)) && (a && null !== x.alternate && n.delete(null === x.key ? w : x.key), 
            g = f(x, g, w), null === r ? h = x : r.sibling = x, r = x);
            return a && n.forEach(function(a) {
                return b(e, a);
            }), h;
        }
        return function(a, d, f, h) {
            "object" == typeof f && null !== f && f.type === Ve && null === f.key && (f = f.props.children);
            var m = "object" == typeof f && null !== f;
            if (m) switch (f.$$typeof) {
              case Re:
                a: {
                    var r = f.key;
                    for (m = d; null !== m; ) {
                        if (m.key === r) {
                            if (10 === m.tag ? f.type === Ve : m.type === f.type) {
                                c(a, m.sibling), (d = e(m, f.type === Ve ? f.props.children : f.props, h)).ref = Ze(m, f), 
                                d.return = a, a = d;
                                break a;
                            }
                            c(a, m);
                            break;
                        }
                        b(a, m), m = m.sibling;
                    }
                    f.type === Ve ? ((d = ue(f.props.children, a.internalContextTag, h, f.key)).return = a, 
                    a = d) : ((h = te(f, a.internalContextTag, h)).ref = Ze(d, f), h.return = a, a = h);
                }
                return g(a);

              case Se:
                a: {
                    for (m = f.key; null !== d; ) {
                        if (d.key === m) {
                            if (7 === d.tag) {
                                c(a, d.sibling), (d = e(d, f, h)).return = a, a = d;
                                break a;
                            }
                            c(a, d);
                            break;
                        }
                        b(a, d), d = d.sibling;
                    }
                    (d = we(f, a.internalContextTag, h)).return = a, a = d;
                }
                return g(a);

              case Te:
                a: {
                    if (null !== d) {
                        if (9 === d.tag) {
                            c(a, d.sibling), (d = e(d, null, h)).type = f.value, d.return = a, a = d;
                            break a;
                        }
                        c(a, d);
                    }
                    (d = xe(f, a.internalContextTag, h)).type = f.value, d.return = a, a = d;
                }
                return g(a);

              case Ue:
                a: {
                    for (m = f.key; null !== d; ) {
                        if (d.key === m) {
                            if (4 === d.tag && d.stateNode.containerInfo === f.containerInfo && d.stateNode.implementation === f.implementation) {
                                c(a, d.sibling), (d = e(d, f.children || [], h)).return = a, a = d;
                                break a;
                            }
                            c(a, d);
                            break;
                        }
                        b(a, d), d = d.sibling;
                    }
                    (d = ye(f, a.internalContextTag, h)).return = a, a = d;
                }
                return g(a);
            }
            if ("string" == typeof f || "number" == typeof f) return f = "" + f, null !== d && 6 === d.tag ? (c(a, d.sibling), 
            d = e(d, f, h)) : (c(a, d), d = ve(f, a.internalContextTag, h)), d.return = a, g(a = d);
            if (Ye(f)) return L(a, d, f, h);
            if (Xe(f)) return N(a, d, f, h);
            if (m && $e(a, f), void 0 === f) switch (a.tag) {
              case 2:
              case 1:
                E("152", (h = a.type).displayName || h.name || "Component");
            }
            return c(a, d);
        };
    }
    var bf = af(!0), cf = af(!1);
    function df(a, b, c, d, e) {
        function f(a, b, c) {
            var d = b.expirationTime;
            b.child = null === a ? cf(b, null, c, d) : bf(b, a.child, c, d);
        }
        function g(a, b) {
            var c = b.ref;
            null === c || a && a.ref === c || (b.effectTag |= 128);
        }
        function h(a, b, c, d) {
            if (g(a, b), !c) return d && re(b, !1), q(a, b);
            c = b.stateNode, id.current = b;
            var e = c.render();
            return b.effectTag |= 1, f(a, b, e), b.memoizedState = c.state, b.memoizedProps = c.props, 
            d && re(b, !0), b.child;
        }
        function k(a) {
            var b = a.stateNode;
            b.pendingContext ? oe(0, b.pendingContext, b.pendingContext !== b.context) : b.context && oe(0, b.context, !1), 
            I(a, b.containerInfo);
        }
        function q(a, b) {
            if (null !== a && b.child !== a.child && E("153"), null !== b.child) {
                var c = se(a = b.child, a.pendingProps, a.expirationTime);
                for (b.child = c, c.return = b; null !== a.sibling; ) a = a.sibling, (c = c.sibling = se(a, a.pendingProps, a.expirationTime)).return = b;
                c.sibling = null;
            }
            return b.child;
        }
        function v(a, b) {
            switch (b.tag) {
              case 3:
                k(b);
                break;

              case 2:
                qe(b);
                break;

              case 4:
                I(b, b.stateNode.containerInfo);
            }
            return null;
        }
        var y = a.shouldSetTextContent, u = a.useSyncScheduling, z = a.shouldDeprioritizeSubtree, G = b.pushHostContext, I = b.pushHostContainer, L = c.enterHydrationState, N = c.resetHydrationState, J = c.tryToClaimNextHydratableInstance, w = (a = function(a, b, c, d) {
            function e(a, b) {
                b.updater = f, a.stateNode = b, b._reactInternalFiber = a;
            }
            var f = {
                isMounted: ld,
                enqueueSetState: function(c, d, e) {
                    c = c._reactInternalFiber, e = void 0 === e ? null : e;
                    var g = b(c);
                    He(c, {
                        expirationTime: g,
                        partialState: d,
                        callback: e,
                        isReplace: !1,
                        isForced: !1,
                        nextCallback: null,
                        next: null
                    }), a(c, g);
                },
                enqueueReplaceState: function(c, d, e) {
                    c = c._reactInternalFiber, e = void 0 === e ? null : e;
                    var g = b(c);
                    He(c, {
                        expirationTime: g,
                        partialState: d,
                        callback: e,
                        isReplace: !0,
                        isForced: !1,
                        nextCallback: null,
                        next: null
                    }), a(c, g);
                },
                enqueueForceUpdate: function(c, d) {
                    c = c._reactInternalFiber, d = void 0 === d ? null : d;
                    var e = b(c);
                    He(c, {
                        expirationTime: e,
                        partialState: null,
                        callback: d,
                        isReplace: !1,
                        isForced: !0,
                        nextCallback: null,
                        next: null
                    }), a(c, e);
                }
            };
            return {
                adoptClassInstance: e,
                constructClassInstance: function(a, b) {
                    var c = a.type, d = ke(a), f = 2 === a.tag && null != a.type.contextTypes, g = f ? me(a, d) : D;
                    return e(a, b = new c(b, g)), f && ((a = a.stateNode).__reactInternalMemoizedUnmaskedChildContext = d, 
                    a.__reactInternalMemoizedMaskedChildContext = g), b;
                },
                mountClassInstance: function(a, b) {
                    var c = a.alternate, d = a.stateNode, e = d.state || null, g = a.pendingProps;
                    g || E("158");
                    var h = ke(a);
                    d.props = g, d.state = a.memoizedState = e, d.refs = D, d.context = me(a, h), null != a.type && null != a.type.prototype && !0 === a.type.prototype.unstable_isAsyncReactComponent && (a.internalContextTag |= 1), 
                    "function" == typeof d.componentWillMount && (e = d.state, d.componentWillMount(), 
                    e !== d.state && f.enqueueReplaceState(d, d.state, null), null !== (e = a.updateQueue) && (d.state = Je(c, a, e, d, g, b))), 
                    "function" == typeof d.componentDidMount && (a.effectTag |= 4);
                },
                updateClassInstance: function(a, b, e) {
                    var g = b.stateNode;
                    g.props = b.memoizedProps, g.state = b.memoizedState;
                    var h = b.memoizedProps, k = b.pendingProps;
                    k || null == (k = h) && E("159");
                    var u = g.context, z = ke(b);
                    if (z = me(b, z), "function" != typeof g.componentWillReceiveProps || h === k && u === z || (u = g.state, 
                    g.componentWillReceiveProps(k, z), g.state !== u && f.enqueueReplaceState(g, g.state, null)), 
                    u = b.memoizedState, e = null !== b.updateQueue ? Je(a, b, b.updateQueue, g, k, e) : u, 
                    !(h !== k || u !== e || X.current || null !== b.updateQueue && b.updateQueue.hasForceUpdate)) return "function" != typeof g.componentDidUpdate || h === a.memoizedProps && u === a.memoizedState || (b.effectTag |= 4), 
                    !1;
                    var G = k;
                    if (null === h || null !== b.updateQueue && b.updateQueue.hasForceUpdate) G = !0; else {
                        var I = b.stateNode, L = b.type;
                        G = "function" == typeof I.shouldComponentUpdate ? I.shouldComponentUpdate(G, e, z) : !(L.prototype && L.prototype.isPureReactComponent && ea(h, G) && ea(u, e));
                    }
                    return G ? ("function" == typeof g.componentWillUpdate && g.componentWillUpdate(k, e, z), 
                    "function" == typeof g.componentDidUpdate && (b.effectTag |= 4)) : ("function" != typeof g.componentDidUpdate || h === a.memoizedProps && u === a.memoizedState || (b.effectTag |= 4), 
                    c(b, k), d(b, e)), g.props = k, g.state = e, g.context = z, G;
                }
            };
        }(d, e, function(a, b) {
            a.memoizedProps = b;
        }, function(a, b) {
            a.memoizedState = b;
        })).adoptClassInstance, m = a.constructClassInstance, A = a.mountClassInstance, Ob = a.updateClassInstance;
        return {
            beginWork: function(a, b, c) {
                if (0 === b.expirationTime || b.expirationTime > c) return v(0, b);
                switch (b.tag) {
                  case 0:
                    null !== a && E("155");
                    var d = b.type, e = b.pendingProps, r = ke(b);
                    return d = d(e, r = me(b, r)), b.effectTag |= 1, "object" == typeof d && null !== d && "function" == typeof d.render ? (b.tag = 2, 
                    e = qe(b), w(b, d), A(b, c), b = h(a, b, !0, e)) : (b.tag = 1, f(a, b, d), b.memoizedProps = e, 
                    b = b.child), b;

                  case 1:
                    a: {
                        if (e = b.type, c = b.pendingProps, d = b.memoizedProps, X.current) null === c && (c = d); else if (null === c || d === c) {
                            b = q(a, b);
                            break a;
                        }
                        e = e(c, d = me(b, d = ke(b))), b.effectTag |= 1, f(a, b, e), b.memoizedProps = c, 
                        b = b.child;
                    }
                    return b;

                  case 2:
                    return e = qe(b), d = void 0, null === a ? b.stateNode ? E("153") : (m(b, b.pendingProps), 
                    A(b, c), d = !0) : d = Ob(a, b, c), h(a, b, d, e);

                  case 3:
                    return k(b), null !== (e = b.updateQueue) ? (d = b.memoizedState) === (e = Je(a, b, e, null, null, c)) ? (N(), 
                    b = q(a, b)) : (d = e.element, r = b.stateNode, (null === a || null === a.child) && r.hydrate && L(b) ? (b.effectTag |= 2, 
                    b.child = cf(b, null, d, c)) : (N(), f(a, b, d)), b.memoizedState = e, b = b.child) : (N(), 
                    b = q(a, b)), b;

                  case 5:
                    G(b), null === a && J(b), e = b.type;
                    var n = b.memoizedProps;
                    return null === (d = b.pendingProps) && (null === (d = n) && E("154")), r = null !== a ? a.memoizedProps : null, 
                    X.current || null !== d && n !== d ? (n = d.children, y(e, d) ? n = null : r && y(e, r) && (b.effectTag |= 16), 
                    g(a, b), 2147483647 !== c && !u && z(e, d) ? (b.expirationTime = 2147483647, b = null) : (f(a, b, n), 
                    b.memoizedProps = d, b = b.child)) : b = q(a, b), b;

                  case 6:
                    return null === a && J(b), null === (a = b.pendingProps) && (a = b.memoizedProps), 
                    b.memoizedProps = a, null;

                  case 8:
                    b.tag = 7;

                  case 7:
                    return e = b.pendingProps, X.current ? null === e && (null === (e = a && a.memoizedProps) && E("154")) : null !== e && b.memoizedProps !== e || (e = b.memoizedProps), 
                    d = e.children, b.stateNode = null === a ? cf(b, b.stateNode, d, c) : bf(b, b.stateNode, d, c), 
                    b.memoizedProps = e, b.stateNode;

                  case 9:
                    return null;

                  case 4:
                    a: {
                        if (I(b, b.stateNode.containerInfo), e = b.pendingProps, X.current) null === e && (null == (e = a && a.memoizedProps) && E("154")); else if (null === e || b.memoizedProps === e) {
                            b = q(a, b);
                            break a;
                        }
                        null === a ? b.child = bf(b, null, e, c) : f(a, b, e), b.memoizedProps = e, b = b.child;
                    }
                    return b;

                  case 10:
                    a: {
                        if (c = b.pendingProps, X.current) null === c && (c = b.memoizedProps); else if (null === c || b.memoizedProps === c) {
                            b = q(a, b);
                            break a;
                        }
                        f(a, b, c), b.memoizedProps = c, b = b.child;
                    }
                    return b;

                  default:
                    E("156");
                }
            },
            beginFailedWork: function(a, b, c) {
                switch (b.tag) {
                  case 2:
                    qe(b);
                    break;

                  case 3:
                    k(b);
                    break;

                  default:
                    E("157");
                }
                return b.effectTag |= 64, null === a ? b.child = null : b.child !== a.child && (b.child = a.child), 
                0 === b.expirationTime || b.expirationTime > c ? v(0, b) : (b.firstEffect = null, 
                b.lastEffect = null, b.child = null === a ? cf(b, null, null, c) : bf(b, a.child, null, c), 
                2 === b.tag && (a = b.stateNode, b.memoizedProps = a.props, b.memoizedState = a.state), 
                b.child);
            }
        };
    }
    var gf = {};
    function kf(a) {
        function b(a) {
            Qb = ja = !0;
            var b = a.stateNode;
            if (b.current === a && E("177"), b.isReadyForCommit = !1, id.current = null, 1 < a.effectTag) if (null !== a.lastEffect) {
                a.lastEffect.nextEffect = a;
                var c = a.firstEffect;
            } else c = a; else c = a.firstEffect;
            for (yg(), t = c; null !== t; ) {
                var d = !1, e = void 0;
                try {
                    for (;null !== t; ) {
                        var f = t.effectTag;
                        if (16 & f && zg(t), 128 & f) {
                            var g = t.alternate;
                            null !== g && Ag(g);
                        }
                        switch (-242 & f) {
                          case 2:
                            Ne(t), t.effectTag &= -3;
                            break;

                          case 6:
                            Ne(t), t.effectTag &= -3, Oe(t.alternate, t);
                            break;

                          case 4:
                            Oe(t.alternate, t);
                            break;

                          case 8:
                            Sc = !0, Bg(t), Sc = !1;
                        }
                        t = t.nextEffect;
                    }
                } catch (Tc) {
                    d = !0, e = Tc;
                }
                d && (null === t && E("178"), h(t, e), null !== t && (t = t.nextEffect));
            }
            for (Cg(), b.current = a, t = c; null !== t; ) {
                c = !1, d = void 0;
                try {
                    for (;null !== t; ) {
                        var k = t.effectTag;
                        if (36 & k && Dg(t.alternate, t), 128 & k && Eg(t), 64 & k) switch (e = t, f = void 0, 
                        null !== R && (f = R.get(e), R.delete(e), null == f && null !== e.alternate && (e = e.alternate, 
                        f = R.get(e), R.delete(e))), null == f && E("184"), e.tag) {
                          case 2:
                            e.stateNode.componentDidCatch(f.error, {
                                componentStack: f.componentStack
                            });
                            break;

                          case 3:
                            null === ca && (ca = f.error);
                            break;

                          default:
                            E("157");
                        }
                        var Qc = t.nextEffect;
                        t.nextEffect = null, t = Qc;
                    }
                } catch (Tc) {
                    c = !0, d = Tc;
                }
                c && (null === t && E("178"), h(t, d), null !== t && (t = t.nextEffect));
            }
            return ja = Qb = !1, De(a.stateNode), ha && (ha.forEach(G), ha = null), null !== ca && (a = ca, 
            ca = null, Ob(a)), 0 === (b = b.current.expirationTime) && (qa = R = null), b;
        }
        function c(a) {
            for (;;) {
                var b = Fg(a.alternate, a, H), c = a.return, d = a.sibling, e = a;
                if (2147483647 === H || 2147483647 !== e.expirationTime) {
                    if (2 !== e.tag && 3 !== e.tag) var f = 0; else f = null === (f = e.updateQueue) ? 0 : f.expirationTime;
                    for (var g = e.child; null !== g; ) 0 !== g.expirationTime && (0 === f || f > g.expirationTime) && (f = g.expirationTime), 
                    g = g.sibling;
                    e.expirationTime = f;
                }
                if (null !== b) return b;
                if (null !== c && (null === c.firstEffect && (c.firstEffect = a.firstEffect), null !== a.lastEffect && (null !== c.lastEffect && (c.lastEffect.nextEffect = a.firstEffect), 
                c.lastEffect = a.lastEffect), 1 < a.effectTag && (null !== c.lastEffect ? c.lastEffect.nextEffect = a : c.firstEffect = a, 
                c.lastEffect = a)), null !== d) return d;
                if (null === c) {
                    a.stateNode.isReadyForCommit = !0;
                    break;
                }
                a = c;
            }
            return null;
        }
        function d(a) {
            var b = rg(a.alternate, a, H);
            return null === b && (b = c(a)), id.current = null, b;
        }
        function e(a) {
            var b = Gg(a.alternate, a, H);
            return null === b && (b = c(a)), id.current = null, b;
        }
        function f(a) {
            if (null !== R) {
                if (!(0 === H || H > a)) if (H <= Uc) for (;null !== F; ) F = k(F) ? e(F) : d(F); else for (;null !== F && !A(); ) F = k(F) ? e(F) : d(F);
            } else if (!(0 === H || H > a)) if (H <= Uc) for (;null !== F; ) F = d(F); else for (;null !== F && !A(); ) F = d(F);
        }
        function g(a, b) {
            if (ja && E("243"), ja = !0, a.isReadyForCommit = !1, a !== ra || b !== H || null === F) {
                for (;-1 < he; ) ge[he] = null, he--;
                je = D, ie.current = D, X.current = !1, x(), H = b, F = se((ra = a).current, null, b);
            }
            var c = !1, d = null;
            try {
                f(b);
            } catch (Rc) {
                c = !0, d = Rc;
            }
            for (;c; ) {
                if (eb) {
                    ca = d;
                    break;
                }
                var g = F;
                if (null === g) eb = !0; else {
                    var k = h(g, d);
                    if (null === k && E("183"), !eb) {
                        try {
                            for (d = b, k = c = k; null !== g; ) {
                                switch (g.tag) {
                                  case 2:
                                    ne(g);
                                    break;

                                  case 5:
                                    qg(g);
                                    break;

                                  case 3:
                                    p(g);
                                    break;

                                  case 4:
                                    p(g);
                                }
                                if (g === k || g.alternate === k) break;
                                g = g.return;
                            }
                            F = e(c), f(d);
                        } catch (Rc) {
                            c = !0, d = Rc;
                            continue;
                        }
                        break;
                    }
                }
            }
            return b = ca, eb = ja = !1, ca = null, null !== b && Ob(b), a.isReadyForCommit ? a.current.alternate : null;
        }
        function h(a, b) {
            var c = id.current = null, d = !1, e = !1, f = null;
            if (3 === a.tag) c = a, q(a) && (eb = !0); else for (var g = a.return; null !== g && null === c; ) {
                if (2 === g.tag ? "function" == typeof g.stateNode.componentDidCatch && (d = !0, 
                f = jd(g), c = g, e = !0) : 3 === g.tag && (c = g), q(g)) {
                    if (Sc || null !== ha && (ha.has(g) || null !== g.alternate && ha.has(g.alternate))) return null;
                    c = null, e = !1;
                }
                g = g.return;
            }
            if (null !== c) {
                null === qa && (qa = new Set()), qa.add(c);
                var h = "";
                g = a;
                do {
                    a: switch (g.tag) {
                      case 0:
                      case 1:
                      case 2:
                      case 5:
                        var k = g._debugOwner, Qc = g._debugSource, m = jd(g), n = null;
                        k && (n = jd(k)), m = "\n    in " + (m || "Unknown") + ((k = Qc) ? " (at " + k.fileName.replace(/^.*[\\\/]/, "") + ":" + k.lineNumber + ")" : n ? " (created by " + n + ")" : "");
                        break a;

                      default:
                        m = "";
                    }
                    h += m, g = g.return;
                } while (g);
                g = h, a = jd(a), null === R && (R = new Map()), b = {
                    componentName: a,
                    componentStack: g,
                    error: b,
                    errorBoundary: d ? c.stateNode : null,
                    errorBoundaryFound: d,
                    errorBoundaryName: f,
                    willRetry: e
                }, R.set(c, b);
                try {
                    var p = b.error;
                    p && p.suppressReactErrorLogging || console.error(p);
                } catch (Vc) {
                    Vc && Vc.suppressReactErrorLogging || console.error(Vc);
                }
                return Qb ? (null === ha && (ha = new Set()), ha.add(c)) : G(c), c;
            }
            return null === ca && (ca = b), null;
        }
        function k(a) {
            return null !== R && (R.has(a) || null !== a.alternate && R.has(a.alternate));
        }
        function q(a) {
            return null !== qa && (qa.has(a) || null !== a.alternate && qa.has(a.alternate));
        }
        function v() {
            return 20 * (1 + ((I() + 100) / 20 | 0));
        }
        function y(a) {
            return 0 !== ka ? ka : ja ? Qb ? 1 : H : !Hg || 1 & a.internalContextTag ? v() : 1;
        }
        function u(a, b) {
            return z(a, b);
        }
        function z(a, b) {
            for (;null !== a; ) {
                if ((0 === a.expirationTime || a.expirationTime > b) && (a.expirationTime = b), 
                null !== a.alternate && (0 === a.alternate.expirationTime || a.alternate.expirationTime > b) && (a.alternate.expirationTime = b), 
                null === a.return) {
                    if (3 !== a.tag) break;
                    var c = a.stateNode;
                    !ja && c === ra && b < H && (F = ra = null, H = 0);
                    var d = c, e = b;
                    if (Rb > Ig && E("185"), null === d.nextScheduledRoot) d.remainingExpirationTime = e, 
                    null === O ? (sa = O = d, d.nextScheduledRoot = d) : (O = O.nextScheduledRoot = d).nextScheduledRoot = sa; else {
                        var f = d.remainingExpirationTime;
                        (0 === f || e < f) && (d.remainingExpirationTime = e);
                    }
                    Fa || (la ? Sb && m(ma = d, na = 1) : 1 === e ? w(1, null) : L(e)), !ja && c === ra && b < H && (F = ra = null, 
                    H = 0);
                }
                a = a.return;
            }
        }
        function G(a) {
            z(a, 1);
        }
        function I() {
            return Uc = 2 + ((Wc() - Pe) / 10 | 0);
        }
        function L(a) {
            if (0 !== Tb) {
                if (a > Tb) return;
                Jg(Xc);
            }
            var b = Wc() - Pe;
            Tb = a, Xc = Kg(J, {
                timeout: 10 * (a - 2) - b
            });
        }
        function N() {
            var a = 0, b = null;
            if (null !== O) for (var c = O, d = sa; null !== d; ) {
                var e = d.remainingExpirationTime;
                if (0 === e) {
                    if ((null === c || null === O) && E("244"), d === d.nextScheduledRoot) {
                        sa = O = d.nextScheduledRoot = null;
                        break;
                    }
                    if (d === sa) sa = e = d.nextScheduledRoot, O.nextScheduledRoot = e, d.nextScheduledRoot = null; else {
                        if (d === O) {
                            (O = c).nextScheduledRoot = sa, d.nextScheduledRoot = null;
                            break;
                        }
                        c.nextScheduledRoot = d.nextScheduledRoot, d.nextScheduledRoot = null;
                    }
                    d = c.nextScheduledRoot;
                } else {
                    if ((0 === a || e < a) && (a = e, b = d), d === O) break;
                    c = d, d = d.nextScheduledRoot;
                }
            }
            null !== (c = ma) && c === b ? Rb++ : Rb = 0, ma = b, na = a;
        }
        function J(a) {
            w(0, a);
        }
        function w(a, b) {
            for (fb = b, N(); null !== ma && 0 !== na && (0 === a || na <= a) && !Yc; ) m(ma, na), 
            N();
            if (null !== fb && (Tb = 0, Xc = -1), 0 !== na && L(na), fb = null, Yc = !1, Rb = 0, 
            Ub) throw a = Zc, Zc = null, Ub = !1, a;
        }
        function m(a, c) {
            if (Fa && E("245"), Fa = !0, c <= I()) {
                var d = a.finishedWork;
                null !== d ? (a.finishedWork = null, a.remainingExpirationTime = b(d)) : (a.finishedWork = null, 
                null !== (d = g(a, c)) && (a.remainingExpirationTime = b(d)));
            } else null !== (d = a.finishedWork) ? (a.finishedWork = null, a.remainingExpirationTime = b(d)) : (a.finishedWork = null, 
            null !== (d = g(a, c)) && (A() ? a.finishedWork = d : a.remainingExpirationTime = b(d)));
            Fa = !1;
        }
        function A() {
            return !(null === fb || fb.timeRemaining() > Lg) && (Yc = !0);
        }
        function Ob(a) {
            null === ma && E("246"), ma.remainingExpirationTime = 0, Ub || (Ub = !0, Zc = a);
        }
        var r = function(a) {
            function b(a) {
                return a === gf && E("174"), a;
            }
            var c = a.getChildHostContext, d = a.getRootHostContext, e = {
                current: gf
            }, f = {
                current: gf
            }, g = {
                current: gf
            };
            return {
                getHostContext: function() {
                    return b(e.current);
                },
                getRootHostContainer: function() {
                    return b(g.current);
                },
                popHostContainer: function(a) {
                    V(e), V(f), V(g);
                },
                popHostContext: function(a) {
                    f.current === a && (V(e), V(f));
                },
                pushHostContainer: function(a, b) {
                    W(g, b), b = d(b), W(f, a), W(e, b);
                },
                pushHostContext: function(a) {
                    var d = b(g.current), h = b(e.current);
                    h !== (d = c(h, a.type, d)) && (W(f, a), W(e, d));
                },
                resetHostContainer: function() {
                    e.current = gf, g.current = gf;
                }
            };
        }(a), n = function(a) {
            function b(a, b) {
                var c = new Y(5, null, 0);
                c.type = "DELETED", c.stateNode = b, c.return = a, c.effectTag = 8, null !== a.lastEffect ? (a.lastEffect.nextEffect = c, 
                a.lastEffect = c) : a.firstEffect = a.lastEffect = c;
            }
            function c(a, b) {
                switch (a.tag) {
                  case 5:
                    return null !== (b = f(b, a.type, a.pendingProps)) && (a.stateNode = b, !0);

                  case 6:
                    return null !== (b = g(b, a.pendingProps)) && (a.stateNode = b, !0);

                  default:
                    return !1;
                }
            }
            function d(a) {
                for (a = a.return; null !== a && 5 !== a.tag && 3 !== a.tag; ) a = a.return;
                y = a;
            }
            var e = a.shouldSetTextContent;
            if (!(a = a.hydration)) return {
                enterHydrationState: function() {
                    return !1;
                },
                resetHydrationState: function() {},
                tryToClaimNextHydratableInstance: function() {},
                prepareToHydrateHostInstance: function() {
                    E("175");
                },
                prepareToHydrateHostTextInstance: function() {
                    E("176");
                },
                popHydrationState: function() {
                    return !1;
                }
            };
            var f = a.canHydrateInstance, g = a.canHydrateTextInstance, h = a.getNextHydratableSibling, k = a.getFirstHydratableChild, q = a.hydrateInstance, v = a.hydrateTextInstance, y = null, u = null, z = !1;
            return {
                enterHydrationState: function(a) {
                    return u = k(a.stateNode.containerInfo), y = a, z = !0;
                },
                resetHydrationState: function() {
                    u = y = null, z = !1;
                },
                tryToClaimNextHydratableInstance: function(a) {
                    if (z) {
                        var d = u;
                        if (d) {
                            if (!c(a, d)) {
                                if (!(d = h(d)) || !c(a, d)) return a.effectTag |= 2, z = !1, void (y = a);
                                b(y, u);
                            }
                            y = a, u = k(d);
                        } else a.effectTag |= 2, z = !1, y = a;
                    }
                },
                prepareToHydrateHostInstance: function(a, b, c) {
                    return b = q(a.stateNode, a.type, a.memoizedProps, b, c, a), a.updateQueue = b, 
                    null !== b;
                },
                prepareToHydrateHostTextInstance: function(a) {
                    return v(a.stateNode, a.memoizedProps, a);
                },
                popHydrationState: function(a) {
                    if (a !== y) return !1;
                    if (!z) return d(a), z = !0, !1;
                    var c = a.type;
                    if (5 !== a.tag || "head" !== c && "body" !== c && !e(c, a.memoizedProps)) for (c = u; c; ) b(a, c), 
                    c = h(c);
                    return d(a), u = y ? h(a.stateNode) : null, !0;
                }
            };
        }(a), p = r.popHostContainer, qg = r.popHostContext, x = r.resetHostContainer, Me = df(a, r, n, u, y), rg = Me.beginWork, Gg = Me.beginFailedWork, Fg = function(a, b, c) {
            function d(a) {
                a.effectTag |= 4;
            }
            var e = a.createInstance, f = a.createTextInstance, g = a.appendInitialChild, h = a.finalizeInitialChildren, k = a.prepareUpdate, q = a.persistence, v = b.getRootHostContainer, y = b.popHostContext, u = b.getHostContext, z = b.popHostContainer, G = c.prepareToHydrateHostInstance, I = c.prepareToHydrateHostTextInstance, L = c.popHydrationState, N = void 0, J = void 0, w = void 0;
            return a.mutation ? (N = function() {}, J = function(a, b, c) {
                (b.updateQueue = c) && d(b);
            }, w = function(a, b, c, e) {
                c !== e && d(b);
            }) : E(q ? "235" : "236"), {
                completeWork: function(a, b, c) {
                    var m = b.pendingProps;
                    switch (null === m ? m = b.memoizedProps : 2147483647 === b.expirationTime && 2147483647 !== c || (b.pendingProps = null), 
                    b.tag) {
                      case 1:
                        return null;

                      case 2:
                        return ne(b), null;

                      case 3:
                        return z(b), V(X), V(ie), (m = b.stateNode).pendingContext && (m.context = m.pendingContext, 
                        m.pendingContext = null), null !== a && null !== a.child || (L(b), b.effectTag &= -3), 
                        N(b), null;

                      case 5:
                        y(b), c = v();
                        var A = b.type;
                        if (null !== a && null != b.stateNode) {
                            var p = a.memoizedProps, q = b.stateNode, x = u();
                            q = k(q, A, p, m, c, x), J(a, b, q, A, p, m, c), a.ref !== b.ref && (b.effectTag |= 128);
                        } else {
                            if (!m) return null === b.stateNode && E("166"), null;
                            if (a = u(), L(b)) G(b, c, a) && d(b); else {
                                a = e(A, m, c, a, b);
                                a: for (p = b.child; null !== p; ) {
                                    if (5 === p.tag || 6 === p.tag) g(a, p.stateNode); else if (4 !== p.tag && null !== p.child) {
                                        p.child.return = p, p = p.child;
                                        continue;
                                    }
                                    if (p === b) break;
                                    for (;null === p.sibling; ) {
                                        if (null === p.return || p.return === b) break a;
                                        p = p.return;
                                    }
                                    p.sibling.return = p.return, p = p.sibling;
                                }
                                h(a, A, m, c) && d(b), b.stateNode = a;
                            }
                            null !== b.ref && (b.effectTag |= 128);
                        }
                        return null;

                      case 6:
                        if (a && null != b.stateNode) w(a, b, a.memoizedProps, m); else {
                            if ("string" != typeof m) return null === b.stateNode && E("166"), null;
                            a = v(), c = u(), L(b) ? I(b) && d(b) : b.stateNode = f(m, a, c, b);
                        }
                        return null;

                      case 7:
                        (m = b.memoizedProps) || E("165"), b.tag = 8, A = [];
                        a: for ((p = b.stateNode) && (p.return = b); null !== p; ) {
                            if (5 === p.tag || 6 === p.tag || 4 === p.tag) E("247"); else if (9 === p.tag) A.push(p.type); else if (null !== p.child) {
                                p.child.return = p, p = p.child;
                                continue;
                            }
                            for (;null === p.sibling; ) {
                                if (null === p.return || p.return === b) break a;
                                p = p.return;
                            }
                            p.sibling.return = p.return, p = p.sibling;
                        }
                        return m = (p = m.handler)(m.props, A), b.child = bf(b, null !== a ? a.child : null, m, c), 
                        b.child;

                      case 8:
                        return b.tag = 7, null;

                      case 9:
                      case 10:
                        return null;

                      case 4:
                        return z(b), N(b), null;

                      case 0:
                        E("167");

                      default:
                        E("156");
                    }
                }
            };
        }(a, r, n).completeWork, zg = (r = function(a, b) {
            function c(a) {
                var c = a.ref;
                if (null !== c) try {
                    c(null);
                } catch (A) {
                    b(a, A);
                }
            }
            function d(a) {
                switch (Ee(a), a.tag) {
                  case 2:
                    c(a);
                    var d = a.stateNode;
                    if ("function" == typeof d.componentWillUnmount) try {
                        d.props = a.memoizedProps, d.state = a.memoizedState, d.componentWillUnmount();
                    } catch (A) {
                        b(a, A);
                    }
                    break;

                  case 5:
                    c(a);
                    break;

                  case 7:
                    e(a.stateNode);
                    break;

                  case 4:
                    k && g(a);
                }
            }
            function e(a) {
                for (var b = a; ;) if (d(b), null === b.child || k && 4 === b.tag) {
                    if (b === a) break;
                    for (;null === b.sibling; ) {
                        if (null === b.return || b.return === a) return;
                        b = b.return;
                    }
                    b.sibling.return = b.return, b = b.sibling;
                } else b.child.return = b, b = b.child;
            }
            function f(a) {
                return 5 === a.tag || 3 === a.tag || 4 === a.tag;
            }
            function g(a) {
                for (var b = a, c = !1, f = void 0, g = void 0; ;) {
                    if (!c) {
                        c = b.return;
                        a: for (;;) {
                            switch (null === c && E("160"), c.tag) {
                              case 5:
                                f = c.stateNode, g = !1;
                                break a;

                              case 3:
                              case 4:
                                f = c.stateNode.containerInfo, g = !0;
                                break a;
                            }
                            c = c.return;
                        }
                        c = !0;
                    }
                    if (5 === b.tag || 6 === b.tag) e(b), g ? J(f, b.stateNode) : N(f, b.stateNode); else if (4 === b.tag ? f = b.stateNode.containerInfo : d(b), 
                    null !== b.child) {
                        b.child.return = b, b = b.child;
                        continue;
                    }
                    if (b === a) break;
                    for (;null === b.sibling; ) {
                        if (null === b.return || b.return === a) return;
                        4 === (b = b.return).tag && (c = !1);
                    }
                    b.sibling.return = b.return, b = b.sibling;
                }
            }
            var h = a.getPublicInstance, k = a.mutation;
            a = a.persistence, k || E(a ? "235" : "236");
            var q = k.commitMount, v = k.commitUpdate, y = k.resetTextContent, u = k.commitTextUpdate, z = k.appendChild, G = k.appendChildToContainer, I = k.insertBefore, L = k.insertInContainerBefore, N = k.removeChild, J = k.removeChildFromContainer;
            return {
                commitResetTextContent: function(a) {
                    y(a.stateNode);
                },
                commitPlacement: function(a) {
                    a: {
                        for (var b = a.return; null !== b; ) {
                            if (f(b)) {
                                var c = b;
                                break a;
                            }
                            b = b.return;
                        }
                        E("160"), c = void 0;
                    }
                    var d = b = void 0;
                    switch (c.tag) {
                      case 5:
                        b = c.stateNode, d = !1;
                        break;

                      case 3:
                      case 4:
                        b = c.stateNode.containerInfo, d = !0;
                        break;

                      default:
                        E("161");
                    }
                    16 & c.effectTag && (y(b), c.effectTag &= -17);
                    a: b: for (c = a; ;) {
                        for (;null === c.sibling; ) {
                            if (null === c.return || f(c.return)) {
                                c = null;
                                break a;
                            }
                            c = c.return;
                        }
                        for (c.sibling.return = c.return, c = c.sibling; 5 !== c.tag && 6 !== c.tag; ) {
                            if (2 & c.effectTag) continue b;
                            if (null === c.child || 4 === c.tag) continue b;
                            c.child.return = c, c = c.child;
                        }
                        if (!(2 & c.effectTag)) {
                            c = c.stateNode;
                            break a;
                        }
                    }
                    for (var e = a; ;) {
                        if (5 === e.tag || 6 === e.tag) c ? d ? L(b, e.stateNode, c) : I(b, e.stateNode, c) : d ? G(b, e.stateNode) : z(b, e.stateNode); else if (4 !== e.tag && null !== e.child) {
                            e.child.return = e, e = e.child;
                            continue;
                        }
                        if (e === a) break;
                        for (;null === e.sibling; ) {
                            if (null === e.return || e.return === a) return;
                            e = e.return;
                        }
                        e.sibling.return = e.return, e = e.sibling;
                    }
                },
                commitDeletion: function(a) {
                    g(a), a.return = null, a.child = null, a.alternate && (a.alternate.child = null, 
                    a.alternate.return = null);
                },
                commitWork: function(a, b) {
                    switch (b.tag) {
                      case 2:
                        break;

                      case 5:
                        var c = b.stateNode;
                        if (null != c) {
                            var d = b.memoizedProps;
                            a = null !== a ? a.memoizedProps : d;
                            var e = b.type, f = b.updateQueue;
                            b.updateQueue = null, null !== f && v(c, f, e, a, d, b);
                        }
                        break;

                      case 6:
                        null === b.stateNode && E("162"), c = b.memoizedProps, u(b.stateNode, null !== a ? a.memoizedProps : c, c);
                        break;

                      case 3:
                        break;

                      default:
                        E("163");
                    }
                },
                commitLifeCycles: function(a, b) {
                    switch (b.tag) {
                      case 2:
                        var c = b.stateNode;
                        if (4 & b.effectTag) if (null === a) c.props = b.memoizedProps, c.state = b.memoizedState, 
                        c.componentDidMount(); else {
                            var d = a.memoizedProps;
                            a = a.memoizedState, c.props = b.memoizedProps, c.state = b.memoizedState, c.componentDidUpdate(d, a);
                        }
                        null !== (b = b.updateQueue) && Ke(b, c);
                        break;

                      case 3:
                        null !== (c = b.updateQueue) && Ke(c, null !== b.child ? b.child.stateNode : null);
                        break;

                      case 5:
                        c = b.stateNode, null === a && 4 & b.effectTag && q(c, b.type, b.memoizedProps, b);
                        break;

                      case 6:
                      case 4:
                        break;

                      default:
                        E("163");
                    }
                },
                commitAttachRef: function(a) {
                    var b = a.ref;
                    if (null !== b) {
                        var c = a.stateNode;
                        switch (a.tag) {
                          case 5:
                            b(h(c));
                            break;

                          default:
                            b(c);
                        }
                    }
                },
                commitDetachRef: function(a) {
                    null !== (a = a.ref) && a(null);
                }
            };
        }(a, h)).commitResetTextContent, Ne = r.commitPlacement, Bg = r.commitDeletion, Oe = r.commitWork, Dg = r.commitLifeCycles, Eg = r.commitAttachRef, Ag = r.commitDetachRef, Wc = a.now, Kg = a.scheduleDeferredCallback, Jg = a.cancelDeferredCallback, Hg = a.useSyncScheduling, yg = a.prepareForCommit, Cg = a.resetAfterCommit, Pe = Wc(), Uc = 2, ka = 0, ja = !1, F = null, ra = null, H = 0, t = null, R = null, qa = null, ha = null, ca = null, eb = !1, Qb = !1, Sc = !1, sa = null, O = null, Tb = 0, Xc = -1, Fa = !1, ma = null, na = 0, Yc = !1, Ub = !1, Zc = null, fb = null, la = !1, Sb = !1, Ig = 1e3, Rb = 0, Lg = 1;
        return {
            computeAsyncExpiration: v,
            computeExpirationForFiber: y,
            scheduleWork: u,
            batchedUpdates: function(a, b) {
                var c = la;
                la = !0;
                try {
                    return a(b);
                } finally {
                    (la = c) || Fa || w(1, null);
                }
            },
            unbatchedUpdates: function(a) {
                if (la && !Sb) {
                    Sb = !0;
                    try {
                        return a();
                    } finally {
                        Sb = !1;
                    }
                }
                return a();
            },
            flushSync: function(a) {
                var b = la;
                la = !0;
                try {
                    a: {
                        var c = ka;
                        ka = 1;
                        try {
                            var d = a();
                            break a;
                        } finally {
                            ka = c;
                        }
                        d = void 0;
                    }
                    return d;
                } finally {
                    la = b, Fa && E("187"), w(1, null);
                }
            },
            deferredUpdates: function(a) {
                var b = ka;
                ka = v();
                try {
                    return a();
                } finally {
                    ka = b;
                }
            }
        };
    }
    function lf(a) {
        function b(a) {
            return null === (a = function(a) {
                if (!(a = nd(a))) return null;
                for (var b = a; ;) {
                    if (5 === b.tag || 6 === b.tag) return b;
                    if (b.child) b.child.return = b, b = b.child; else {
                        if (b === a) break;
                        for (;!b.sibling; ) {
                            if (!b.return || b.return === a) return null;
                            b = b.return;
                        }
                        b.sibling.return = b.return, b = b.sibling;
                    }
                }
                return null;
            }(a)) ? null : a.stateNode;
        }
        var c = a.getPublicInstance, d = (a = kf(a)).computeAsyncExpiration, e = a.computeExpirationForFiber, f = a.scheduleWork;
        return {
            createContainer: function(a, b) {
                var c = new Y(3, null, 0);
                return a = {
                    current: c,
                    containerInfo: a,
                    pendingChildren: null,
                    remainingExpirationTime: 0,
                    isReadyForCommit: !1,
                    finishedWork: null,
                    context: null,
                    pendingContext: null,
                    hydrate: b,
                    nextScheduledRoot: null
                }, c.stateNode = a;
            },
            updateContainer: function(a, b, c, q) {
                var g = b.current;
                if (c) {
                    var h;
                    b: {
                        for (2 === kd(c = c._reactInternalFiber) && 2 === c.tag || E("170"), h = c; 3 !== h.tag; ) {
                            if (le(h)) {
                                h = h.stateNode.__reactInternalMemoizedMergedChildContext;
                                break b;
                            }
                            (h = h.return) || E("171");
                        }
                        h = h.stateNode.context;
                    }
                    c = le(c) ? pe(c, h) : h;
                } else c = D;
                null === b.context ? b.context = c : b.pendingContext = c, b = void 0 === (b = q) ? null : b, 
                He(g, {
                    expirationTime: q = null != a && null != a.type && null != a.type.prototype && !0 === a.type.prototype.unstable_isAsyncReactComponent ? d() : e(g),
                    partialState: {
                        element: a
                    },
                    callback: b,
                    isReplace: !1,
                    isForced: !1,
                    nextCallback: null,
                    next: null
                }), f(g, q);
            },
            batchedUpdates: a.batchedUpdates,
            unbatchedUpdates: a.unbatchedUpdates,
            deferredUpdates: a.deferredUpdates,
            flushSync: a.flushSync,
            getPublicRootInstance: function(a) {
                if (!(a = a.current).child) return null;
                switch (a.child.tag) {
                  case 5:
                    return c(a.child.stateNode);

                  default:
                    return a.child.stateNode;
                }
            },
            findHostInstance: b,
            findHostInstanceWithNoPortals: function(a) {
                return null === (a = function(a) {
                    if (!(a = nd(a))) return null;
                    for (var b = a; ;) {
                        if (5 === b.tag || 6 === b.tag) return b;
                        if (b.child && 4 !== b.tag) b.child.return = b, b = b.child; else {
                            if (b === a) break;
                            for (;!b.sibling; ) {
                                if (!b.return || b.return === a) return null;
                                b = b.return;
                            }
                            b.sibling.return = b.return, b = b.sibling;
                        }
                    }
                    return null;
                }(a)) ? null : a.stateNode;
            },
            injectIntoDevTools: function(a) {
                var c = a.findFiberByHostInstance;
                return function(a) {
                    if ("undefined" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) return !1;
                    var b = __REACT_DEVTOOLS_GLOBAL_HOOK__;
                    if (b.isDisabled || !b.supportsFiber) return !0;
                    try {
                        var c = b.inject(a);
                        ze = Be(function(a) {
                            return b.onCommitFiberRoot(c, a);
                        }), Ae = Be(function(a) {
                            return b.onCommitFiberUnmount(c, a);
                        });
                    } catch (d) {}
                    return !0;
                }(B({}, a, {
                    findHostInstanceByFiber: function(a) {
                        return b(a);
                    },
                    findFiberByHostInstance: function(a) {
                        return c ? c(a) : null;
                    }
                }));
            }
        };
    }
    var mf = Object.freeze({
        default: lf
    }), nf = mf && lf || mf, of = nf.default ? nf.default : nf;
    var qf = "object" == typeof performance && "function" == typeof performance.now, rf = void 0;
    rf = qf ? function() {
        return performance.now();
    } : function() {
        return Date.now();
    };
    var sf = void 0, tf = void 0;
    if (l.canUseDOM) if ("function" != typeof requestIdleCallback || "function" != typeof cancelIdleCallback) {
        var Bf, uf = null, vf = !1, wf = -1, xf = !1, yf = 0, zf = 33, Af = 33;
        Bf = qf ? {
            didTimeout: !1,
            timeRemaining: function() {
                var a = yf - performance.now();
                return 0 < a ? a : 0;
            }
        } : {
            didTimeout: !1,
            timeRemaining: function() {
                var a = yf - Date.now();
                return 0 < a ? a : 0;
            }
        };
        var Cf = "__reactIdleCallback$" + Math.random().toString(36).slice(2);
        window.addEventListener("message", function(a) {
            if (a.source === window && a.data === Cf) {
                if (vf = !1, a = rf(), 0 >= yf - a) {
                    if (!(-1 !== wf && wf <= a)) return void (xf || (xf = !0, requestAnimationFrame(Df)));
                    Bf.didTimeout = !0;
                } else Bf.didTimeout = !1;
                wf = -1, a = uf, uf = null, null !== a && a(Bf);
            }
        }, !1);
        var Df = function(a) {
            xf = !1;
            var b = a - yf + Af;
            b < Af && zf < Af ? (8 > b && (b = 8), Af = b < zf ? zf : b) : zf = b, yf = a + Af, 
            vf || (vf = !0, window.postMessage(Cf, "*"));
        };
        sf = function(a, b) {
            return uf = a, null != b && "number" == typeof b.timeout && (wf = rf() + b.timeout), 
            xf || (xf = !0, requestAnimationFrame(Df)), 0;
        }, tf = function() {
            uf = null, vf = !1, wf = -1;
        };
    } else sf = window.requestIdleCallback, tf = window.cancelIdleCallback; else sf = function(a) {
        return setTimeout(function() {
            a({
                timeRemaining: function() {
                    return 1 / 0;
                }
            });
        });
    }, tf = function(a) {
        clearTimeout(a);
    };
    var Ef = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/, Ff = {}, Gf = {};
    function If(a, b, c) {
        var d = wa(b);
        if (d && va(b, c)) {
            var e = d.mutationMethod;
            e ? e(a, c) : null == c || d.hasBooleanValue && !c || d.hasNumericValue && isNaN(c) || d.hasPositiveNumericValue && 1 > c || d.hasOverloadedBooleanValue && !1 === c ? Jf(a, b) : d.mustUseProperty ? a[d.propertyName] = c : (b = d.attributeName, 
            (e = d.attributeNamespace) ? a.setAttributeNS(e, b, "" + c) : d.hasBooleanValue || d.hasOverloadedBooleanValue && !0 === c ? a.setAttribute(b, "") : a.setAttribute(b, "" + c));
        } else Kf(a, b, va(b, c) ? c : null);
    }
    function Kf(a, b, c) {
        (function(a) {
            return !!Gf.hasOwnProperty(a) || !Ff.hasOwnProperty(a) && (Ef.test(a) ? Gf[a] = !0 : (Ff[a] = !0, 
            !1));
        })(b) && (null == c ? a.removeAttribute(b) : a.setAttribute(b, "" + c));
    }
    function Jf(a, b) {
        var c = wa(b);
        c ? (b = c.mutationMethod) ? b(a, void 0) : c.mustUseProperty ? a[c.propertyName] = !c.hasBooleanValue && "" : a.removeAttribute(c.attributeName) : a.removeAttribute(b);
    }
    function Lf(a, b) {
        var c = b.value, d = b.checked;
        return B({
            type: void 0,
            step: void 0,
            min: void 0,
            max: void 0
        }, b, {
            defaultChecked: void 0,
            defaultValue: void 0,
            value: null != c ? c : a._wrapperState.initialValue,
            checked: null != d ? d : a._wrapperState.initialChecked
        });
    }
    function Mf(a, b) {
        var c = b.defaultValue;
        a._wrapperState = {
            initialChecked: null != b.checked ? b.checked : b.defaultChecked,
            initialValue: null != b.value ? b.value : c,
            controlled: "checkbox" === b.type || "radio" === b.type ? null != b.checked : null != b.value
        };
    }
    function Nf(a, b) {
        null != (b = b.checked) && If(a, "checked", b);
    }
    function Of(a, b) {
        Nf(a, b);
        var c = b.value;
        null != c ? 0 === c && "" === a.value ? a.value = "0" : "number" === b.type ? (c != (b = parseFloat(a.value) || 0) || c == b && a.value != c) && (a.value = "" + c) : a.value !== "" + c && (a.value = "" + c) : (null == b.value && null != b.defaultValue && a.defaultValue !== "" + b.defaultValue && (a.defaultValue = "" + b.defaultValue), 
        null == b.checked && null != b.defaultChecked && (a.defaultChecked = !!b.defaultChecked));
    }
    function Pf(a, b) {
        switch (b.type) {
          case "submit":
          case "reset":
            break;

          case "color":
          case "date":
          case "datetime":
          case "datetime-local":
          case "month":
          case "time":
          case "week":
            a.value = "", a.value = a.defaultValue;
            break;

          default:
            a.value = a.value;
        }
        "" !== (b = a.name) && (a.name = ""), a.defaultChecked = !a.defaultChecked, a.defaultChecked = !a.defaultChecked, 
        "" !== b && (a.name = b);
    }
    function Rf(a, b) {
        return a = B({
            children: void 0
        }, b), (b = function(a) {
            var b = "";
            return aa.Children.forEach(a, function(a) {
                null == a || "string" != typeof a && "number" != typeof a || (b += a);
            }), b;
        }(b.children)) && (a.children = b), a;
    }
    function Sf(a, b, c, d) {
        if (a = a.options, b) {
            b = {};
            for (var e = 0; e < c.length; e++) b["$" + c[e]] = !0;
            for (c = 0; c < a.length; c++) e = b.hasOwnProperty("$" + a[c].value), a[c].selected !== e && (a[c].selected = e), 
            e && d && (a[c].defaultSelected = !0);
        } else {
            for (c = "" + c, b = null, e = 0; e < a.length; e++) {
                if (a[e].value === c) return a[e].selected = !0, void (d && (a[e].defaultSelected = !0));
                null !== b || a[e].disabled || (b = a[e]);
            }
            null !== b && (b.selected = !0);
        }
    }
    function Tf(a, b) {
        var c = b.value;
        a._wrapperState = {
            initialValue: null != c ? c : b.defaultValue,
            wasMultiple: !!b.multiple
        };
    }
    function Uf(a, b) {
        return null != b.dangerouslySetInnerHTML && E("91"), B({}, b, {
            value: void 0,
            defaultValue: void 0,
            children: "" + a._wrapperState.initialValue
        });
    }
    function Vf(a, b) {
        var c = b.value;
        null == c && (c = b.defaultValue, null != (b = b.children) && (null != c && E("92"), 
        Array.isArray(b) && (1 >= b.length || E("93"), b = b[0]), c = "" + b), null == c && (c = "")), 
        a._wrapperState = {
            initialValue: "" + c
        };
    }
    function Wf(a, b) {
        var c = b.value;
        null != c && ((c = "" + c) !== a.value && (a.value = c), null == b.defaultValue && (a.defaultValue = c)), 
        null != b.defaultValue && (a.defaultValue = b.defaultValue);
    }
    function Xf(a) {
        var b = a.textContent;
        b === a._wrapperState.initialValue && (a.value = b);
    }
    var Yf_html = "http://www.w3.org/1999/xhtml", Yf_svg = "http://www.w3.org/2000/svg";
    function Zf(a) {
        switch (a) {
          case "svg":
            return "http://www.w3.org/2000/svg";

          case "math":
            return "http://www.w3.org/1998/Math/MathML";

          default:
            return "http://www.w3.org/1999/xhtml";
        }
    }
    function $f(a, b) {
        return null == a || "http://www.w3.org/1999/xhtml" === a ? Zf(b) : "http://www.w3.org/2000/svg" === a && "foreignObject" === b ? "http://www.w3.org/1999/xhtml" : a;
    }
    var a, ag = void 0, bg = (a = function(a, b) {
        if (a.namespaceURI !== Yf_svg || "innerHTML" in a) a.innerHTML = b; else {
            for ((ag = ag || document.createElement("div")).innerHTML = "<svg>" + b + "</svg>", 
            b = ag.firstChild; a.firstChild; ) a.removeChild(a.firstChild);
            for (;b.firstChild; ) a.appendChild(b.firstChild);
        }
    }, "undefined" != typeof MSApp && MSApp.execUnsafeLocalFunction ? function(b, c, d, e) {
        MSApp.execUnsafeLocalFunction(function() {
            return a(b, c);
        });
    } : a);
    function cg(a, b) {
        if (b) {
            var c = a.firstChild;
            if (c && c === a.lastChild && 3 === c.nodeType) return void (c.nodeValue = b);
        }
        a.textContent = b;
    }
    var dg = {
        animationIterationCount: !0,
        borderImageOutset: !0,
        borderImageSlice: !0,
        borderImageWidth: !0,
        boxFlex: !0,
        boxFlexGroup: !0,
        boxOrdinalGroup: !0,
        columnCount: !0,
        columns: !0,
        flex: !0,
        flexGrow: !0,
        flexPositive: !0,
        flexShrink: !0,
        flexNegative: !0,
        flexOrder: !0,
        gridRow: !0,
        gridRowEnd: !0,
        gridRowSpan: !0,
        gridRowStart: !0,
        gridColumn: !0,
        gridColumnEnd: !0,
        gridColumnSpan: !0,
        gridColumnStart: !0,
        fontWeight: !0,
        lineClamp: !0,
        lineHeight: !0,
        opacity: !0,
        order: !0,
        orphans: !0,
        tabSize: !0,
        widows: !0,
        zIndex: !0,
        zoom: !0,
        fillOpacity: !0,
        floodOpacity: !0,
        stopOpacity: !0,
        strokeDasharray: !0,
        strokeDashoffset: !0,
        strokeMiterlimit: !0,
        strokeOpacity: !0,
        strokeWidth: !0
    }, eg = [ "Webkit", "ms", "Moz", "O" ];
    function fg(a, b) {
        for (var c in a = a.style, b) if (b.hasOwnProperty(c)) {
            var d = 0 === c.indexOf("--"), e = c, f = b[c];
            e = null == f || "boolean" == typeof f || "" === f ? "" : d || "number" != typeof f || 0 === f || dg.hasOwnProperty(e) && dg[e] ? ("" + f).trim() : f + "px", 
            "float" === c && (c = "cssFloat"), d ? a.setProperty(c, e) : a[c] = e;
        }
    }
    Object.keys(dg).forEach(function(a) {
        eg.forEach(function(b) {
            b = b + a.charAt(0).toUpperCase() + a.substring(1), dg[b] = dg[a];
        });
    });
    var gg = B({
        menuitem: !0
    }, {
        area: !0,
        base: !0,
        br: !0,
        col: !0,
        embed: !0,
        hr: !0,
        img: !0,
        input: !0,
        keygen: !0,
        link: !0,
        meta: !0,
        param: !0,
        source: !0,
        track: !0,
        wbr: !0
    });
    function hg(a, b, c) {
        b && (gg[a] && (null != b.children || null != b.dangerouslySetInnerHTML) && E("137", a, c()), 
        null != b.dangerouslySetInnerHTML && (null != b.children && E("60"), "object" == typeof b.dangerouslySetInnerHTML && "__html" in b.dangerouslySetInnerHTML || E("61")), 
        null != b.style && "object" != typeof b.style && E("62", c()));
    }
    function ig(a, b) {
        if (-1 === a.indexOf("-")) return "string" == typeof b.is;
        switch (a) {
          case "annotation-xml":
          case "color-profile":
          case "font-face":
          case "font-face-src":
          case "font-face-uri":
          case "font-face-format":
          case "font-face-name":
          case "missing-glyph":
            return !1;

          default:
            return !0;
        }
    }
    var jg = Yf_html, kg = C.thatReturns("");
    function lg(a, b) {
        var c = Hd(a = 9 === a.nodeType || 11 === a.nodeType ? a : a.ownerDocument);
        b = Sa[b];
        for (var d = 0; d < b.length; d++) {
            var e = b[d];
            c.hasOwnProperty(e) && c[e] || ("topScroll" === e ? wd("topScroll", "scroll", a) : "topFocus" === e || "topBlur" === e ? (wd("topFocus", "focus", a), 
            wd("topBlur", "blur", a), c.topBlur = !0, c.topFocus = !0) : "topCancel" === e ? (yc("cancel", !0) && wd("topCancel", "cancel", a), 
            c.topCancel = !0) : "topClose" === e ? (yc("close", !0) && wd("topClose", "close", a), 
            c.topClose = !0) : Dd.hasOwnProperty(e) && U(e, Dd[e], a), c[e] = !0);
        }
    }
    var mg = {
        topAbort: "abort",
        topCanPlay: "canplay",
        topCanPlayThrough: "canplaythrough",
        topDurationChange: "durationchange",
        topEmptied: "emptied",
        topEncrypted: "encrypted",
        topEnded: "ended",
        topError: "error",
        topLoadedData: "loadeddata",
        topLoadedMetadata: "loadedmetadata",
        topLoadStart: "loadstart",
        topPause: "pause",
        topPlay: "play",
        topPlaying: "playing",
        topProgress: "progress",
        topRateChange: "ratechange",
        topSeeked: "seeked",
        topSeeking: "seeking",
        topStalled: "stalled",
        topSuspend: "suspend",
        topTimeUpdate: "timeupdate",
        topVolumeChange: "volumechange",
        topWaiting: "waiting"
    };
    function ng(a, b, c, d) {
        return c = 9 === c.nodeType ? c : c.ownerDocument, d === jg && (d = Zf(a)), d === jg ? "script" === a ? ((a = c.createElement("div")).innerHTML = "<script><\/script>", 
        a = a.removeChild(a.firstChild)) : a = "string" == typeof b.is ? c.createElement(a, {
            is: b.is
        }) : c.createElement(a) : a = c.createElementNS(d, a), a;
    }
    function og(a, b) {
        return (9 === b.nodeType ? b : b.ownerDocument).createTextNode(a);
    }
    function pg(a, b, c, d) {
        var e = ig(b, c);
        switch (b) {
          case "iframe":
          case "object":
            U("topLoad", "load", a);
            var f = c;
            break;

          case "video":
          case "audio":
            for (f in mg) mg.hasOwnProperty(f) && U(f, mg[f], a);
            f = c;
            break;

          case "source":
            U("topError", "error", a), f = c;
            break;

          case "img":
          case "image":
            U("topError", "error", a), U("topLoad", "load", a), f = c;
            break;

          case "form":
            U("topReset", "reset", a), U("topSubmit", "submit", a), f = c;
            break;

          case "details":
            U("topToggle", "toggle", a), f = c;
            break;

          case "input":
            Mf(a, c), f = Lf(a, c), U("topInvalid", "invalid", a), lg(d, "onChange");
            break;

          case "option":
            f = Rf(a, c);
            break;

          case "select":
            Tf(a, c), f = B({}, c, {
                value: void 0
            }), U("topInvalid", "invalid", a), lg(d, "onChange");
            break;

          case "textarea":
            Vf(a, c), f = Uf(a, c), U("topInvalid", "invalid", a), lg(d, "onChange");
            break;

          default:
            f = c;
        }
        hg(b, f, kg);
        var h, g = f;
        for (h in g) if (g.hasOwnProperty(h)) {
            var k = g[h];
            "style" === h ? fg(a, k) : "dangerouslySetInnerHTML" === h ? null != (k = k ? k.__html : void 0) && bg(a, k) : "children" === h ? "string" == typeof k ? ("textarea" !== b || "" !== k) && cg(a, k) : "number" == typeof k && cg(a, "" + k) : "suppressContentEditableWarning" !== h && "suppressHydrationWarning" !== h && "autoFocus" !== h && (Ra.hasOwnProperty(h) ? null != k && lg(d, h) : e ? Kf(a, h, k) : null != k && If(a, h, k));
        }
        switch (b) {
          case "input":
            Bc(a), Pf(a, c);
            break;

          case "textarea":
            Bc(a), Xf(a);
            break;

          case "option":
            null != c.value && a.setAttribute("value", c.value);
            break;

          case "select":
            a.multiple = !!c.multiple, null != (b = c.value) ? Sf(a, !!c.multiple, b, !1) : null != c.defaultValue && Sf(a, !!c.multiple, c.defaultValue, !0);
            break;

          default:
            "function" == typeof f.onClick && (a.onclick = C);
        }
    }
    function sg(a, b, c, d, e) {
        var g, h, f = null;
        switch (b) {
          case "input":
            c = Lf(a, c), d = Lf(a, d), f = [];
            break;

          case "option":
            c = Rf(a, c), d = Rf(a, d), f = [];
            break;

          case "select":
            c = B({}, c, {
                value: void 0
            }), d = B({}, d, {
                value: void 0
            }), f = [];
            break;

          case "textarea":
            c = Uf(a, c), d = Uf(a, d), f = [];
            break;

          default:
            "function" != typeof c.onClick && "function" == typeof d.onClick && (a.onclick = C);
        }
        for (g in hg(b, d, kg), a = null, c) if (!d.hasOwnProperty(g) && c.hasOwnProperty(g) && null != c[g]) if ("style" === g) for (h in b = c[g]) b.hasOwnProperty(h) && (a || (a = {}), 
        a[h] = ""); else "dangerouslySetInnerHTML" !== g && "children" !== g && "suppressContentEditableWarning" !== g && "suppressHydrationWarning" !== g && "autoFocus" !== g && (Ra.hasOwnProperty(g) ? f || (f = []) : (f = f || []).push(g, null));
        for (g in d) {
            var k = d[g];
            if (b = null != c ? c[g] : void 0, d.hasOwnProperty(g) && k !== b && (null != k || null != b)) if ("style" === g) if (b) {
                for (h in b) !b.hasOwnProperty(h) || k && k.hasOwnProperty(h) || (a || (a = {}), 
                a[h] = "");
                for (h in k) k.hasOwnProperty(h) && b[h] !== k[h] && (a || (a = {}), a[h] = k[h]);
            } else a || (f || (f = []), f.push(g, a)), a = k; else "dangerouslySetInnerHTML" === g ? (k = k ? k.__html : void 0, 
            b = b ? b.__html : void 0, null != k && b !== k && (f = f || []).push(g, "" + k)) : "children" === g ? b === k || "string" != typeof k && "number" != typeof k || (f = f || []).push(g, "" + k) : "suppressContentEditableWarning" !== g && "suppressHydrationWarning" !== g && (Ra.hasOwnProperty(g) ? (null != k && lg(e, g), 
            f || b === k || (f = [])) : (f = f || []).push(g, k));
        }
        return a && (f = f || []).push("style", a), f;
    }
    function tg(a, b, c, d, e) {
        "input" === c && "radio" === e.type && null != e.name && Nf(a, e), ig(c, d), d = ig(c, e);
        for (var f = 0; f < b.length; f += 2) {
            var g = b[f], h = b[f + 1];
            "style" === g ? fg(a, h) : "dangerouslySetInnerHTML" === g ? bg(a, h) : "children" === g ? cg(a, h) : d ? null != h ? Kf(a, g, h) : a.removeAttribute(g) : null != h ? If(a, g, h) : Jf(a, g);
        }
        switch (c) {
          case "input":
            Of(a, e);
            break;

          case "textarea":
            Wf(a, e);
            break;

          case "select":
            a._wrapperState.initialValue = void 0, b = a._wrapperState.wasMultiple, a._wrapperState.wasMultiple = !!e.multiple, 
            null != (c = e.value) ? Sf(a, !!e.multiple, c, !1) : b !== !!e.multiple && (null != e.defaultValue ? Sf(a, !!e.multiple, e.defaultValue, !0) : Sf(a, !!e.multiple, e.multiple ? [] : "", !1));
        }
    }
    function ug(a, b, c, d, e) {
        switch (b) {
          case "iframe":
          case "object":
            U("topLoad", "load", a);
            break;

          case "video":
          case "audio":
            for (var f in mg) mg.hasOwnProperty(f) && U(f, mg[f], a);
            break;

          case "source":
            U("topError", "error", a);
            break;

          case "img":
          case "image":
            U("topError", "error", a), U("topLoad", "load", a);
            break;

          case "form":
            U("topReset", "reset", a), U("topSubmit", "submit", a);
            break;

          case "details":
            U("topToggle", "toggle", a);
            break;

          case "input":
            Mf(a, c), U("topInvalid", "invalid", a), lg(e, "onChange");
            break;

          case "select":
            Tf(a, c), U("topInvalid", "invalid", a), lg(e, "onChange");
            break;

          case "textarea":
            Vf(a, c), U("topInvalid", "invalid", a), lg(e, "onChange");
        }
        for (var g in hg(b, c, kg), d = null, c) c.hasOwnProperty(g) && (f = c[g], "children" === g ? "string" == typeof f ? a.textContent !== f && (d = [ "children", f ]) : "number" == typeof f && a.textContent !== "" + f && (d = [ "children", "" + f ]) : Ra.hasOwnProperty(g) && null != f && lg(e, g));
        switch (b) {
          case "input":
            Bc(a), Pf(a, c);
            break;

          case "textarea":
            Bc(a), Xf(a);
            break;

          case "select":
          case "option":
            break;

          default:
            "function" == typeof c.onClick && (a.onclick = C);
        }
        return d;
    }
    function vg(a, b) {
        return a.nodeValue !== b;
    }
    var wg = Object.freeze({
        createElement: ng,
        createTextNode: og,
        setInitialProperties: pg,
        diffProperties: sg,
        updateProperties: tg,
        diffHydratedProperties: ug,
        diffHydratedText: vg,
        warnForUnmatchedText: function() {},
        warnForDeletedHydratableElement: function() {},
        warnForDeletedHydratableText: function() {},
        warnForInsertedHydratedElement: function() {},
        warnForInsertedHydratedText: function() {},
        restoreControlledState: function(a, b, c) {
            switch (b) {
              case "input":
                if (Of(a, c), b = c.name, "radio" === c.type && null != b) {
                    for (c = a; c.parentNode; ) c = c.parentNode;
                    for (c = c.querySelectorAll("input[name=" + JSON.stringify("" + b) + '][type="radio"]'), 
                    b = 0; b < c.length; b++) {
                        var d = c[b];
                        if (d !== a && d.form === a.form) {
                            var e = rb(d);
                            e || E("90"), Cc(d), Of(d, e);
                        }
                    }
                }
                break;

              case "textarea":
                Wf(a, c);
                break;

              case "select":
                null != (b = c.value) && Sf(a, !!c.multiple, b, !1);
            }
        }
    });
    nc.injectFiberControlledHostComponent(wg);
    var xg = null, Mg = null;
    function Ng(a) {
        return !(!a || 1 !== a.nodeType && 9 !== a.nodeType && 11 !== a.nodeType && (8 !== a.nodeType || " react-mount-point-unstable " !== a.nodeValue));
    }
    var Z = of({
        getRootHostContext: function(a) {
            var b = a.nodeType;
            switch (b) {
              case 9:
              case 11:
                a = (a = a.documentElement) ? a.namespaceURI : $f(null, "");
                break;

              default:
                a = $f(a = (b = 8 === b ? a.parentNode : a).namespaceURI || null, b = b.tagName);
            }
            return a;
        },
        getChildHostContext: function(a, b) {
            return $f(a, b);
        },
        getPublicInstance: function(a) {
            return a;
        },
        prepareForCommit: function() {
            xg = td;
            var a = da();
            if (Kd(a)) {
                if ("selectionStart" in a) var b = {
                    start: a.selectionStart,
                    end: a.selectionEnd
                }; else a: {
                    var c = window.getSelection && window.getSelection();
                    if (c && 0 !== c.rangeCount) {
                        b = c.anchorNode;
                        var d = c.anchorOffset, e = c.focusNode;
                        c = c.focusOffset;
                        try {
                            b.nodeType, e.nodeType;
                        } catch (z) {
                            b = null;
                            break a;
                        }
                        var f = 0, g = -1, h = -1, k = 0, q = 0, v = a, y = null;
                        b: for (;;) {
                            for (var u; v !== b || 0 !== d && 3 !== v.nodeType || (g = f + d), v !== e || 0 !== c && 3 !== v.nodeType || (h = f + c), 
                            3 === v.nodeType && (f += v.nodeValue.length), null !== (u = v.firstChild); ) y = v, 
                            v = u;
                            for (;;) {
                                if (v === a) break b;
                                if (y === b && ++k === d && (g = f), y === e && ++q === c && (h = f), null !== (u = v.nextSibling)) break;
                                y = (v = y).parentNode;
                            }
                            v = u;
                        }
                        b = -1 === g || -1 === h ? null : {
                            start: g,
                            end: h
                        };
                    } else b = null;
                }
                b = b || {
                    start: 0,
                    end: 0
                };
            } else b = null;
            Mg = {
                focusedElem: a,
                selectionRange: b
            }, ud(!1);
        },
        resetAfterCommit: function() {
            var a = Mg, b = da(), c = a.focusedElem, d = a.selectionRange;
            if (b !== c && fa(document.documentElement, c)) {
                if (Kd(c)) if (b = d.start, void 0 === (a = d.end) && (a = b), "selectionStart" in c) c.selectionStart = b, 
                c.selectionEnd = Math.min(a, c.value.length); else if (window.getSelection) {
                    b = window.getSelection();
                    var e = c[Eb()].length;
                    a = Math.min(d.start, e), d = void 0 === d.end ? a : Math.min(d.end, e), !b.extend && a > d && (e = d, 
                    d = a, a = e), e = Jd(c, a);
                    var f = Jd(c, d);
                    if (e && f && (1 !== b.rangeCount || b.anchorNode !== e.node || b.anchorOffset !== e.offset || b.focusNode !== f.node || b.focusOffset !== f.offset)) {
                        var g = document.createRange();
                        g.setStart(e.node, e.offset), b.removeAllRanges(), a > d ? (b.addRange(g), b.extend(f.node, f.offset)) : (g.setEnd(f.node, f.offset), 
                        b.addRange(g));
                    }
                }
                for (b = [], a = c; a = a.parentNode; ) 1 === a.nodeType && b.push({
                    element: a,
                    left: a.scrollLeft,
                    top: a.scrollTop
                });
                for (ia(c), c = 0; c < b.length; c++) (a = b[c]).element.scrollLeft = a.left, a.element.scrollTop = a.top;
            }
            Mg = null, ud(xg), xg = null;
        },
        createInstance: function(a, b, c, d, e) {
            return (a = ng(a, b, c, d))[Q] = e, a[ob] = b, a;
        },
        appendInitialChild: function(a, b) {
            a.appendChild(b);
        },
        finalizeInitialChildren: function(a, b, c, d) {
            pg(a, b, c, d);
            a: {
                switch (b) {
                  case "button":
                  case "input":
                  case "select":
                  case "textarea":
                    a = !!c.autoFocus;
                    break a;
                }
                a = !1;
            }
            return a;
        },
        prepareUpdate: function(a, b, c, d, e) {
            return sg(a, b, c, d, e);
        },
        shouldSetTextContent: function(a, b) {
            return "textarea" === a || "string" == typeof b.children || "number" == typeof b.children || "object" == typeof b.dangerouslySetInnerHTML && null !== b.dangerouslySetInnerHTML && "string" == typeof b.dangerouslySetInnerHTML.__html;
        },
        shouldDeprioritizeSubtree: function(a, b) {
            return !!b.hidden;
        },
        createTextInstance: function(a, b, c, d) {
            return (a = og(a, b))[Q] = d, a;
        },
        now: rf,
        mutation: {
            commitMount: function(a) {
                a.focus();
            },
            commitUpdate: function(a, b, c, d, e) {
                a[ob] = e, tg(a, b, c, d, e);
            },
            resetTextContent: function(a) {
                a.textContent = "";
            },
            commitTextUpdate: function(a, b, c) {
                a.nodeValue = c;
            },
            appendChild: function(a, b) {
                a.appendChild(b);
            },
            appendChildToContainer: function(a, b) {
                8 === a.nodeType ? a.parentNode.insertBefore(b, a) : a.appendChild(b);
            },
            insertBefore: function(a, b, c) {
                a.insertBefore(b, c);
            },
            insertInContainerBefore: function(a, b, c) {
                8 === a.nodeType ? a.parentNode.insertBefore(b, c) : a.insertBefore(b, c);
            },
            removeChild: function(a, b) {
                a.removeChild(b);
            },
            removeChildFromContainer: function(a, b) {
                8 === a.nodeType ? a.parentNode.removeChild(b) : a.removeChild(b);
            }
        },
        hydration: {
            canHydrateInstance: function(a, b) {
                return 1 !== a.nodeType || b.toLowerCase() !== a.nodeName.toLowerCase() ? null : a;
            },
            canHydrateTextInstance: function(a, b) {
                return "" === b || 3 !== a.nodeType ? null : a;
            },
            getNextHydratableSibling: function(a) {
                for (a = a.nextSibling; a && 1 !== a.nodeType && 3 !== a.nodeType; ) a = a.nextSibling;
                return a;
            },
            getFirstHydratableChild: function(a) {
                for (a = a.firstChild; a && 1 !== a.nodeType && 3 !== a.nodeType; ) a = a.nextSibling;
                return a;
            },
            hydrateInstance: function(a, b, c, d, e, f) {
                return a[Q] = f, a[ob] = c, ug(a, b, c, e, d);
            },
            hydrateTextInstance: function(a, b, c) {
                return a[Q] = c, vg(a, b);
            },
            didNotMatchHydratedContainerTextInstance: function() {},
            didNotMatchHydratedTextInstance: function() {},
            didNotHydrateContainerInstance: function() {},
            didNotHydrateInstance: function() {},
            didNotFindHydratableContainerInstance: function() {},
            didNotFindHydratableContainerTextInstance: function() {},
            didNotFindHydratableInstance: function() {},
            didNotFindHydratableTextInstance: function() {}
        },
        scheduleDeferredCallback: sf,
        cancelDeferredCallback: tf,
        useSyncScheduling: !0
    });
    function Pg(a, b, c, d, e) {
        Ng(c) || E("200");
        var f = c._reactRootContainer;
        if (f) Z.updateContainer(b, f, a, e); else {
            if (!(d = d || function(a) {
                return !(!(a = a ? 9 === a.nodeType ? a.documentElement : a.firstChild : null) || 1 !== a.nodeType || !a.hasAttribute("data-reactroot"));
            }(c))) for (f = void 0; f = c.lastChild; ) c.removeChild(f);
            var g = Z.createContainer(c, d);
            f = c._reactRootContainer = g, Z.unbatchedUpdates(function() {
                Z.updateContainer(b, g, a, e);
            });
        }
        return Z.getPublicRootInstance(f);
    }
    function Qg(a, b) {
        var c = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;
        return Ng(b) || E("200"), function(a, b, c) {
            var d = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;
            return {
                $$typeof: Ue,
                key: null == d ? null : "" + d,
                children: a,
                containerInfo: b,
                implementation: c
            };
        }(a, b, null, c);
    }
    function Rg(a, b) {
        this._reactRootContainer = Z.createContainer(a, b);
    }
    rc = Z.batchedUpdates, Rg.prototype.render = function(a, b) {
        Z.updateContainer(a, this._reactRootContainer, null, b);
    }, Rg.prototype.unmount = function(a) {
        Z.updateContainer(null, this._reactRootContainer, null, a);
    };
    var Sg = {
        createPortal: Qg,
        findDOMNode: function(a) {
            if (null == a) return null;
            if (1 === a.nodeType) return a;
            var b = a._reactInternalFiber;
            if (b) return Z.findHostInstance(b);
            "function" == typeof a.render ? E("188") : E("213", Object.keys(a));
        },
        hydrate: function(a, b, c) {
            return Pg(null, a, b, !0, c);
        },
        render: function(a, b, c) {
            return Pg(null, a, b, !1, c);
        },
        unstable_renderSubtreeIntoContainer: function(a, b, c, d) {
            return (null == a || void 0 === a._reactInternalFiber) && E("38"), Pg(a, b, c, !1, d);
        },
        unmountComponentAtNode: function(a) {
            return Ng(a) || E("40"), !!a._reactRootContainer && (Z.unbatchedUpdates(function() {
                Pg(null, null, a, !1, function() {
                    a._reactRootContainer = null;
                });
            }), !0);
        },
        unstable_createPortal: Qg,
        unstable_batchedUpdates: tc,
        unstable_deferredUpdates: Z.deferredUpdates,
        flushSync: Z.flushSync,
        __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: {
            EventPluginHub: mb,
            EventPluginRegistry: Va,
            EventPropagators: Cb,
            ReactControlledComponent: qc,
            ReactDOMComponentTree: sb,
            ReactDOMEventListener: xd
        }
    };
    Z.injectIntoDevTools({
        findFiberByHostInstance: pb,
        bundleType: 0,
        version: "16.2.0",
        rendererPackageName: "react-dom"
    });
    var Tg = Object.freeze({
        default: Sg
    }), Ug = Tg && Sg || Tg;
    module.exports = Ug.default ? Ug.default : Ug;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var m = __webpack_require__(322), n = __webpack_require__(323), p = __webpack_require__(151), q = "function" == typeof Symbol && Symbol.for, r = q ? Symbol.for("react.element") : 60103, t = q ? Symbol.for("react.call") : 60104, u = q ? Symbol.for("react.return") : 60105, v = q ? Symbol.for("react.portal") : 60106, w = q ? Symbol.for("react.fragment") : 60107, x = "function" == typeof Symbol && Symbol.iterator;
    function y(a) {
        for (var b = arguments.length - 1, e = "Minified React error #" + a + "; visit http://facebook.github.io/react/docs/error-decoder.html?invariant=" + a, c = 0; c < b; c++) e += "&args[]=" + encodeURIComponent(arguments[c + 1]);
        throw (b = Error(e + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name = "Invariant Violation", 
        b.framesToPop = 1, b;
    }
    var z = {
        isMounted: function() {
            return !1;
        },
        enqueueForceUpdate: function() {},
        enqueueReplaceState: function() {},
        enqueueSetState: function() {}
    };
    function A(a, b, e) {
        this.props = a, this.context = b, this.refs = n, this.updater = e || z;
    }
    function B(a, b, e) {
        this.props = a, this.context = b, this.refs = n, this.updater = e || z;
    }
    function C() {}
    A.prototype.isReactComponent = {}, A.prototype.setState = function(a, b) {
        "object" != typeof a && "function" != typeof a && null != a && y("85"), this.updater.enqueueSetState(this, a, b, "setState");
    }, A.prototype.forceUpdate = function(a) {
        this.updater.enqueueForceUpdate(this, a, "forceUpdate");
    }, C.prototype = A.prototype;
    var D = B.prototype = new C();
    function E(a, b, e) {
        this.props = a, this.context = b, this.refs = n, this.updater = e || z;
    }
    D.constructor = B, m(D, A.prototype), D.isPureReactComponent = !0;
    var F = E.prototype = new C();
    F.constructor = E, m(F, A.prototype), F.unstable_isAsyncReactComponent = !0, F.render = function() {
        return this.props.children;
    };
    var G = {
        current: null
    }, H = Object.prototype.hasOwnProperty, I = {
        key: !0,
        ref: !0,
        __self: !0,
        __source: !0
    };
    function J(a, b, e) {
        var c, d = {}, g = null, k = null;
        if (null != b) for (c in void 0 !== b.ref && (k = b.ref), void 0 !== b.key && (g = "" + b.key), 
        b) H.call(b, c) && !I.hasOwnProperty(c) && (d[c] = b[c]);
        var f = arguments.length - 2;
        if (1 === f) d.children = e; else if (1 < f) {
            for (var h = Array(f), l = 0; l < f; l++) h[l] = arguments[l + 2];
            d.children = h;
        }
        if (a && a.defaultProps) for (c in f = a.defaultProps) void 0 === d[c] && (d[c] = f[c]);
        return {
            $$typeof: r,
            type: a,
            key: g,
            ref: k,
            props: d,
            _owner: G.current
        };
    }
    function K(a) {
        return "object" == typeof a && null !== a && a.$$typeof === r;
    }
    var L = /\/+/g, M = [];
    function N(a, b, e, c) {
        if (M.length) {
            var d = M.pop();
            return d.result = a, d.keyPrefix = b, d.func = e, d.context = c, d.count = 0, d;
        }
        return {
            result: a,
            keyPrefix: b,
            func: e,
            context: c,
            count: 0
        };
    }
    function O(a) {
        a.result = null, a.keyPrefix = null, a.func = null, a.context = null, a.count = 0, 
        10 > M.length && M.push(a);
    }
    function P(a, b, e, c) {
        var d = typeof a;
        "undefined" !== d && "boolean" !== d || (a = null);
        var g = !1;
        if (null === a) g = !0; else switch (d) {
          case "string":
          case "number":
            g = !0;
            break;

          case "object":
            switch (a.$$typeof) {
              case r:
              case t:
              case u:
              case v:
                g = !0;
            }
        }
        if (g) return e(c, a, "" === b ? "." + Q(a, 0) : b), 1;
        if (g = 0, b = "" === b ? "." : b + ":", Array.isArray(a)) for (var k = 0; k < a.length; k++) {
            var f = b + Q(d = a[k], k);
            g += P(d, f, e, c);
        } else if (null == a ? f = null : f = "function" == typeof (f = x && a[x] || a["@@iterator"]) ? f : null, 
        "function" == typeof f) for (a = f.call(a), k = 0; !(d = a.next()).done; ) g += P(d = d.value, f = b + Q(d, k++), e, c); else "object" === d && y("31", "[object Object]" === (e = "" + a) ? "object with keys {" + Object.keys(a).join(", ") + "}" : e, "");
        return g;
    }
    function Q(a, b) {
        return "object" == typeof a && null !== a && null != a.key ? function(a) {
            var b = {
                "=": "=0",
                ":": "=2"
            };
            return "$" + ("" + a).replace(/[=:]/g, function(a) {
                return b[a];
            });
        }(a.key) : b.toString(36);
    }
    function R(a, b) {
        a.func.call(a.context, b, a.count++);
    }
    function S(a, b, e) {
        var c = a.result, d = a.keyPrefix;
        a = a.func.call(a.context, b, a.count++), Array.isArray(a) ? T(a, c, e, p.thatReturnsArgument) : null != a && (K(a) && (b = d + (!a.key || b && b.key === a.key ? "" : ("" + a.key).replace(L, "$&/") + "/") + e, 
        a = {
            $$typeof: r,
            type: a.type,
            key: b,
            ref: a.ref,
            props: a.props,
            _owner: a._owner
        }), c.push(a));
    }
    function T(a, b, e, c, d) {
        var g = "";
        null != e && (g = ("" + e).replace(L, "$&/") + "/"), b = N(b, g, c, d), null == a || P(a, "", S, b), 
        O(b);
    }
    var U = {
        Children: {
            map: function(a, b, e) {
                if (null == a) return a;
                var c = [];
                return T(a, c, null, b, e), c;
            },
            forEach: function(a, b, e) {
                if (null == a) return a;
                b = N(null, null, b, e), null == a || P(a, "", R, b), O(b);
            },
            count: function(a) {
                return null == a ? 0 : P(a, "", p.thatReturnsNull, null);
            },
            toArray: function(a) {
                var b = [];
                return T(a, b, null, p.thatReturnsArgument), b;
            },
            only: function(a) {
                return K(a) || y("143"), a;
            }
        },
        Component: A,
        PureComponent: B,
        unstable_AsyncComponent: E,
        Fragment: w,
        createElement: J,
        cloneElement: function(a, b, e) {
            var c = m({}, a.props), d = a.key, g = a.ref, k = a._owner;
            if (null != b) {
                if (void 0 !== b.ref && (g = b.ref, k = G.current), void 0 !== b.key && (d = "" + b.key), 
                a.type && a.type.defaultProps) var f = a.type.defaultProps;
                for (h in b) H.call(b, h) && !I.hasOwnProperty(h) && (c[h] = void 0 === b[h] && void 0 !== f ? f[h] : b[h]);
            }
            var h = arguments.length - 2;
            if (1 === h) c.children = e; else if (1 < h) {
                f = Array(h);
                for (var l = 0; l < h; l++) f[l] = arguments[l + 2];
                c.children = f;
            }
            return {
                $$typeof: r,
                type: a.type,
                key: d,
                ref: g,
                props: c,
                _owner: k
            };
        },
        createFactory: function(a) {
            var b = J.bind(null, a);
            return b.type = a, b;
        },
        isValidElement: K,
        version: "16.2.0",
        __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: {
            ReactCurrentOwner: G,
            assign: m
        }
    }, V = Object.freeze({
        default: U
    }), W = V && U || V;
    module.exports = W.default ? W.default : W;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var canUseDOM = !("undefined" == typeof window || !window.document || !window.document.createElement), ExecutionEnvironment = {
        canUseDOM: canUseDOM,
        canUseWorkers: "undefined" != typeof Worker,
        canUseEventListeners: canUseDOM && !(!window.addEventListener && !window.attachEvent),
        canUseViewport: canUseDOM && !!window.screen,
        isInWorker: !canUseDOM
    };
    module.exports = ExecutionEnvironment;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var emptyFunction = __webpack_require__(151), EventListener = {
        listen: function(target, eventType, callback) {
            return target.addEventListener ? (target.addEventListener(eventType, callback, !1), 
            {
                remove: function() {
                    target.removeEventListener(eventType, callback, !1);
                }
            }) : target.attachEvent ? (target.attachEvent("on" + eventType, callback), {
                remove: function() {
                    target.detachEvent("on" + eventType, callback);
                }
            }) : void 0;
        },
        capture: function(target, eventType, callback) {
            return target.addEventListener ? (target.addEventListener(eventType, callback, !0), 
            {
                remove: function() {
                    target.removeEventListener(eventType, callback, !0);
                }
            }) : {
                remove: emptyFunction
            };
        },
        registerDefault: function() {}
    };
    module.exports = EventListener;
}, function(module, exports, __webpack_require__) {
    "use strict";
    module.exports = function(doc) {
        if (void 0 === (doc = doc || ("undefined" != typeof document ? document : void 0))) return null;
        try {
            return doc.activeElement || doc.body;
        } catch (e) {
            return doc.body;
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var hasOwnProperty = Object.prototype.hasOwnProperty;
    function is(x, y) {
        return x === y ? 0 !== x || 0 !== y || 1 / x == 1 / y : x != x && y != y;
    }
    module.exports = function(objA, objB) {
        if (is(objA, objB)) return !0;
        if ("object" != typeof objA || null === objA || "object" != typeof objB || null === objB) return !1;
        var keysA = Object.keys(objA), keysB = Object.keys(objB);
        if (keysA.length !== keysB.length) return !1;
        for (var i = 0; i < keysA.length; i++) if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) return !1;
        return !0;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var isTextNode = __webpack_require__(407);
    module.exports = function containsNode(outerNode, innerNode) {
        return !(!outerNode || !innerNode) && (outerNode === innerNode || !isTextNode(outerNode) && (isTextNode(innerNode) ? containsNode(outerNode, innerNode.parentNode) : "contains" in outerNode ? outerNode.contains(innerNode) : !!outerNode.compareDocumentPosition && !!(16 & outerNode.compareDocumentPosition(innerNode))));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var isNode = __webpack_require__(408);
    module.exports = function(object) {
        return isNode(object) && 3 == object.nodeType;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    module.exports = function(object) {
        var defaultView = (object ? object.ownerDocument || object : document).defaultView || window;
        return !(!object || !("function" == typeof defaultView.Node ? object instanceof defaultView.Node : "object" == typeof object && "number" == typeof object.nodeType && "string" == typeof object.nodeName));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    module.exports = function(node) {
        try {
            node.focus();
        } catch (e) {}
    };
}, function(module, exports, __webpack_require__) {
    var baseGetTag = __webpack_require__(23), isArray = __webpack_require__(7), isObjectLike = __webpack_require__(17), stringTag = "[object String]";
    module.exports = function(value) {
        return "string" == typeof value || !isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    function encode(value) {
        try {
            return encodeURIComponent(value);
        } catch (e) {
            return null;
        }
    }
    function decode(value) {
        try {
            return decodeURIComponent(value);
        } catch (e) {
            return null;
        }
    }
    module.exports = function(name, value, options) {
        if (arguments.length < 2) return function(name) {
            var cookies = function(str) {
                var obj = {}, pairs = str.split(/ *; */);
                if (!pairs[0]) return obj;
                var _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;
                try {
                    for (var _step, _iterator = pairs[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0) {
                        var pair = _step.value;
                        pair = pair.split("="), obj[decode(pair[0])] = decode(pair[1]);
                    }
                } catch (err) {
                    _didIteratorError = !0, _iteratorError = err;
                } finally {
                    try {
                        !_iteratorNormalCompletion && _iterator.return && _iterator.return();
                    } finally {
                        if (_didIteratorError) throw _iteratorError;
                    }
                }
                return obj;
            }(document.cookie);
            return name ? cookies[name] : cookies;
        }(name);
        !function(name, value) {
            var options = void 0 === arguments[2] ? {} : arguments[2], str = encode(name) + "=" + encode(value);
            null == value && (options.maxage = -1);
            options.maxage && (options.expires = new Date(+new Date() + options.maxage));
            options.path && (str += "; path=" + options.path);
            options.domain && (str += "; domain=" + options.domain);
            options.expires && (str += "; expires=" + options.expires.toUTCString());
            options.secure && (str += "; secure");
            document.cookie = str;
        }(name, value, options);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var hint_1 = __webpack_require__(488), position_1 = __webpack_require__(101), dom_1 = __webpack_require__(3);
    __webpack_require__(489);
    exports.createTooltip = function(config) {
        void 0 === config && (config = {});
        var contentEl, hint, visible, el = function() {
            var el = document.querySelector(".gr__tooltip");
            return el || (el = dom_1.createEl('<span class="gr__tooltip"><span class="gr__tooltip-content"></span><i class="gr__tooltip-logo"></i><span class="gr__triangle"></span></span>'), 
            document.documentElement.appendChild(el)), el;
        }(), enabled = void 0 === config.enabled || config.enabled;
        return contentEl = el.querySelector(".gr__tooltip-content"), config.posEl && (config.moveListenerDoc = config.outerIframe ? config.outerIframe.contentDocument : config.doc, 
        hint = new hint_1.HintImpl({
            doc: config.moveListenerDoc,
            doc2: config.doc,
            hint: el,
            hideDelay: 500,
            delay: 0,
            onshow: function() {
                return show();
            },
            onhide: hide,
            inTarget: function(_a) {
                var target = _a.target;
                return dom_1.inEl(target, config.posEl);
            }
        }), dom_1.listen(config.doc, "scroll", fastHide), dom_1.listen(config.moveListenerDoc, "scroll", fastHide), 
        hint.bind()), {
            show: show,
            fastShow: function() {
                config.cls += " gr-no-transition", show(), setTimeout(function() {
                    config.cls = config.cls.replace(" gr-no-transition", ""), dom_1.removeClass(el, "gr-no-transition");
                }, 100);
            },
            hide: hide,
            remove: function() {
                config.posEl && (el && el.parentNode && el.parentNode.removeChild(el), dom_1.unlisten(config.doc, "scroll", fastHide), 
                config.moveListenerDoc && dom_1.unlisten(config.moveListenerDoc, "scroll", fastHide), 
                hint && hint.unbind());
            },
            el: el,
            enable: function() {
                enabled = !0;
            },
            disable: function() {
                enabled = !1;
            },
            isEnabled: function() {
                return enabled;
            }
        };
        function fastHide() {
            hint.fastHide();
        }
        function hide() {
            visible && (visible = !1, el && (el.style.opacity = "0", el.style.top = "-9999px", 
            hint && hint.setVisible(!1), el.className = el.className.replace(config.cls, "")));
        }
        function show(_a) {
            var _b = void 0 === _a ? config : _a, _c = _b.posEl, posEl = void 0 === _c ? config.posEl : _c, _d = _b.html, html = void 0 === _d ? config.html : _d, _e = _b.text, text = void 0 === _e ? config.text : _e, _f = _b.cls, cls = void 0 === _f ? config.cls : _f, _g = _b.doc, doc = void 0 === _g ? config.doc : _g, _h = _b.outerIframe, outerIframe = void 0 === _h ? config.outerIframe : _h;
            if (Object.assign(config, {
                posEl: posEl,
                html: html,
                text: text,
                cls: cls,
                doc: doc,
                outerIframe: outerIframe
            }), enabled) {
                visible = !0, hint && hint.setVisible(!0), text && el.setAttribute("data-content", text), 
                html && (contentEl.innerHTML = html), el.className = "gr__tooltip", cls && dom_1.addClass(el, cls), 
                dom_1.removeClass(el, "gr__flipped");
                var rect = position_1.getAbsRect(posEl, outerIframe), pos = position_1.posToRect(el, rect), _j = pos.rect, top = _j.top, left = _j.left;
                dom_1.css(el, {
                    top: top,
                    left: left
                }), pos && pos.rect && !pos.rect.flip && dom_1.addClass(el, "gr__flipped");
                var w = el.clientWidth, elTr = el.querySelector(".gr__triangle"), dest = rect.width / 2;
                dest > w && (dest = 0), pos.delta.right <= 0 && (dest -= pos.delta.right), dest -= parseInt(getComputedStyle(el).getPropertyValue("margin-left"), 10), 
                elTr && (elTr.style.marginLeft = dest + "px"), el.style.opacity = "1";
            }
        }
    };
}, function(module, exports) {
    module.exports = {
        container: "_18bXE",
        flip: "_2Ma6G",
        flipSyn: "_29E5O",
        card: "_1NrpM",
        bigTitle: "cmfON",
        unknownWordTitle: "_2OYqB",
        btnDictLabelWithIcon: "_1LG4w",
        explanation: "FzDcj",
        maxWidthReached: "_18mu3",
        replacement: "_2A8KW",
        item: "_1iw59",
        logoIcon: "_2FMsU",
        ignoreIcon: "_14kMJ",
        undoIcon: "_1ZGSY",
        dictionaryIcon: "_2GqlG",
        wikiIcon: "LTDY9",
        footer: "_3mQIn",
        footerButton: "tERfz",
        btnIgnore: "_1ygyV",
        icon: "_1rKSI",
        btnLogo: "oDyTk",
        btnPersonalize: "_3M9cy",
        btnNewBadge: "_1NRLq",
        newLabel: "UwQqi",
        newTitle: "_1WaR8",
        newInfo: "pBmav",
        personalizeMessage: "_2BW9y",
        attn: "_2_l_V",
        cardAddedToDict: "_1CUGQ",
        addedToDictTitle: "_3R1EP",
        dictionaryDescription: "_fIgC",
        undo: "_3Hx91",
        dictLink: "_1en3h",
        dictionaryAddedIcon: "RjJU1",
        synTitle: "_25la2",
        synList: "MsQmr",
        synListSingle: "_3DaUK",
        synListTitle: "_12z2a",
        synListNumber: "_3E-3m",
        synSubitems: "_3emOn",
        synItem: "_1JE8W",
        dict: "_36ZTz",
        dictContent: "q2M20",
        dictItemCounter: "_19mkn",
        dictItem: "_2BioG",
        qualifier: "_-3jzl",
        dictFooterItem: "mlZVQ",
        wikiLink: "_3UaGR",
        wiki: "_1QYIg"
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var DOMPurify = __webpack_require__(100);
    exports.nbsp = String.fromCharCode(160), exports.capitalize = function(str) {
        return str ? str[0].toUpperCase() + str.slice(1) : "";
    }, exports.camelize = function(str) {
        return str ? str.replace(/(?:^|[-_])(\w)/g, function(_, c) {
            return c ? c.toUpperCase() : "";
        }) : "";
    }, exports.sanitize = function(str, allowedTags) {
        return void 0 === str && (str = ""), str && "undefined" != typeof window ? allowedTags ? DOMPurify.sanitize(str, {
            ALLOWED_TAGS: allowedTags
        }) : DOMPurify.sanitize(str) : "";
    }, exports.getFirstMatch = function(str, regex) {
        var match = str.match(regex);
        return match && match[1];
    }, exports.getFirstWord = function(str) {
        return str.split(/\s+/)[0];
    }, exports.pluralize = function(count, singular, plural) {
        return 1 === count ? singular : plural;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var iframe_1 = __webpack_require__(353), dialog_1 = __webpack_require__(693), card_1 = __webpack_require__(491), notifications_1 = __webpack_require__(496), location_1 = __webpack_require__(15), stdlib_1 = __webpack_require__(4);
    !function(AppElements) {
        AppElements.empty = function() {
            return {
                iframe: null,
                dialog: null,
                card: null,
                notifications: null,
                clear: stdlib_1.noOp,
                updateState: stdlib_1.noOp,
                initialized: !1
            };
        }, AppElements.init = function(app, _a) {
            var _b = _a.doc, doc = void 0 === _b ? document : _b, user = _a.user, page = _a.page, actions = _a.actions, iframe = app.iframe = iframe_1.iFrame({
                doc: doc,
                user: user
            });
            app.dialog = dialog_1.Dialog({
                doc: doc,
                iframe: iframe,
                user: user,
                actions: actions,
                page: page
            }), app.dialog.render(), app.card = new card_1.Card({
                doc: doc,
                user: user,
                isGDocs: location_1.isGdocsSite()
            }), app.notifications = new notifications_1.Notifications({
                doc: doc,
                actions: actions
            }), app.updateState = function(_a) {
                var user = _a.user, page = _a.page;
                app.iframe && app.iframe.updateState(user), app.dialog && app.dialog.updateState(user, page), 
                app.card && app.card.updateState(user);
            }, app.clear = function() {
                app.iframe && app.iframe.deactivate(), app.dialog && app.dialog.remove(), app.card && app.card.remove(), 
                app.iframe = null, app.dialog = null, app.card = null;
            }, app.initialized = !0;
        };
    }(exports.AppElements || (exports.AppElements = {}));
}, function(module, exports, __webpack_require__) {
    var baseDifference = __webpack_require__(503), baseFlatten = __webpack_require__(196), baseRest = __webpack_require__(94), isArrayLikeObject = __webpack_require__(111), difference = baseRest(function(array, values) {
        return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, !0)) : [];
    });
    module.exports = difference;
}, function(module, exports, __webpack_require__) {
    var baseFindIndex = __webpack_require__(326), baseIsNaN = __webpack_require__(418), strictIndexOf = __webpack_require__(419);
    module.exports = function(array, value, fromIndex) {
        return value == value ? strictIndexOf(array, value, fromIndex) : baseFindIndex(array, baseIsNaN, fromIndex);
    };
}, function(module, exports) {
    module.exports = function(value) {
        return value != value;
    };
}, function(module, exports) {
    module.exports = function(array, value, fromIndex) {
        for (var index = fromIndex - 1, length = array.length; ++index < length; ) if (array[index] === value) return index;
        return -1;
    };
}, function(module, exports, __webpack_require__) {
    var find = __webpack_require__(510)(__webpack_require__(739));
    module.exports = find;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var emitter = __webpack_require__(18), difference = __webpack_require__(416), escape = __webpack_require__(422), filter = __webpack_require__(507), DOMPurify = __webpack_require__(100), dom_1 = __webpack_require__(3), util_1 = __webpack_require__(2), Wrap = __webpack_require__(153);
    exports.createHtmlDom = function(config) {
        var editor = config.editor, el = config.el, doc = el.ownerDocument, me = emitter({
            render: render,
            remove: remove,
            renderRange: renderRange,
            removeBySelector: function(sel) {
                for (var p = Wrap.getCursorPos(el), els = el.querySelectorAll(sel), len = els.length, i = 0; i < len; i++) Wrap.unwrap(els[i]);
                dom_1.isFocused(el) && Wrap.setCursorPos(el, p);
            },
            replace: function(match, value, isUndo) {
                removeCollisionMatches(match, editor.getFiltered());
                var nodes = renderRange({
                    s: match.s,
                    e: match.e
                });
                nodes.length > 1 && unwrapToCommonParent(nodes);
                var node = renderRange({
                    s: match.s,
                    e: match.e
                })[0];
                node.textContent = value, node.id = match.id.toString(), match.replaced = !isUndo, 
                match.inDom = !isUndo, node.className = "gr_ gr_" + match.id + editor.getMatchClass(match, editor.getText()) + " " + (match.cls || ""), 
                node.setAttribute("data-gr-id", match.id.toString()), isUndo && Wrap.unwrap(node);
            },
            getCleanHtml: function() {
                for (var clone = el.cloneNode(!0), els = clone.querySelectorAll(".gr-alert"), i = 0; i < els.length; i++) Wrap.unwrap(els[i]);
                return clone.innerHTML;
            },
            cleanHTML: function() {
                for (var els = el.querySelectorAll(".gr-alert"), i = 0; i < els.length; i++) Wrap.unwrap(els[i]);
            },
            getHtml: function() {
                return el.innerHTML;
            },
            start: function() {
                checkingTimer = setTimeout(invalidate, CLEANUP_FREQUENCY), editor.on("paste", function() {
                    me.emit("startInvalidateNode"), Wrap.invalidateNode(el), me.emit("endInvalidateNode"), 
                    me.invalidate();
                });
            },
            stop: function() {
                checkingTimer && clearTimeout(checkingTimer);
            },
            select: function(match) {
                for (var alerts = doc.querySelectorAll(getSel(match)), len = alerts.length, i = 0; i < len; i++) dom_1.addClass(alerts[i], "sel");
            },
            deselect: function(match) {
                for (var alerts = doc.querySelectorAll(getSel(match)), len = alerts.length, i = 0; i < len; i++) dom_1.removeClass(alerts[i], "sel");
            },
            getText: function(invalidateNode) {
                invalidateNode && (me.emit("startInvalidateNode"), Wrap.invalidateNode(el), me.emit("endInvalidateNode"));
                return Wrap.getText(el).replace(util_1.NBSP_RE, " ");
            },
            setText: function(val) {
                el.innerHTML = util_1.br(escape(val));
            },
            setHtml: function(val) {
                el.innerHTML = DOMPurify.sanitize(val);
            },
            changeSelection: function() {
                var sel = dom_1.getDocSelection(doc), node = sel.anchorNode;
                if (!node) return;
                var parent = node.parentNode;
                if (sel.toString().length > 1) return;
                if (dom_1.hasClass(parent, "gr_")) return parent.parentNode && dom_1.hasClass(parent.parentNode, "gr_spell") && (parent = parent.parentNode), 
                editor.selectById(parent.id);
                var nextNode = node.nextElementSibling;
                if (nextNode && node.__node_text && dom_1.hasClass(nextNode, "gr_tiny") && node.__node_text.length === sel.focusOffset) return editor.selectById(nextNode.id);
                editor.selectedMatch && editor.selectedMatch.deselect();
            },
            getCursor: getCursor,
            setCursor: setCursor,
            unwrapToCommonParent: unwrapToCommonParent,
            invalidate: invalidate
        });
        editor && editor.on && editor.on("immediatepaste", function() {
            setTimeout(function() {
                !function removeComments(node) {
                    for (var i = 0, len = node.childNodes.length; i < len; ++i) {
                        var _el = node.childNodes[i];
                        3 !== _el.nodeType && 1 !== _el.nodeType && removeEls.push(_el), 3 === _el.nodeType && removeComments(_el);
                    }
                }(el);
                for (var i = 0; i < removeEls.length; i++) {
                    var _el = removeEls[i];
                    _el.parentNode && _el.parentNode.removeChild(_el);
                }
                if (removeEls.length > 0) {
                    el.normalize();
                    var first = el.firstChild;
                    first && first.parentNode && "" === (first.textContent || "").trim() && first.parentNode.removeChild(first);
                    var last = el.lastChild;
                    last && last.parentNode && "" === (last.textContent || "").trim() && last.parentNode.removeChild(last), 
                    editor.hardReset();
                }
                removeEls = [], me.emit("startInvalidateNode"), Wrap.invalidateNode(el), me.emit("endInvalidateNode");
            }, 0);
        });
        var checkingTimer, CLEANUP_FREQUENCY = 1e3, removeEls = [];
        return me;
        function render(matches, text) {
            var inDom = filter(editor.matches.get(), {
                inDom: !0
            });
            difference(inDom, matches).forEach(function(m) {
                return remove(m);
            });
            for (var action, cursor, doRender = !1, i = 0; i < matches.length; i++) {
                var m = matches[i];
                m.replaced && (m._s = m.s, m._e = m.e), m.inDom || (doRender = !0, removeCollisionMatches(m, matches));
            }
            if (!doRender) return me.invalidate(), me.emit("rendered");
            action = function() {
                return renderFn(matches, text);
            }, cursor = getCursorInfo(), action(), dom_1.isFocused(el) && cursorChanged(cursor) && setCursor(cursor.pos), 
            me.invalidate();
        }
        function removeCollisionMatches(m, matches) {
            for (var j = 0; j < matches.length; j++) {
                var m2 = matches[j];
                m._e - m._s > m2._e - m2._s && Wrap.collision(m, m2) > 0 && m2.inDom && remove(m2);
            }
        }
        function renderFn(matches, text) {
            Wrap.render({
                node: el,
                matches: matches,
                createElement: function(m, val) {
                    var el = doc.createElement("g"), cls = editor.getMatchClass(m, text || "");
                    return el.className = "gr_ gr_" + m.id + cls + " " + (m.cls || ""), el.textContent = val, 
                    el.id = m.id.toString(), el.setAttribute("data-gr-id", m.id.toString()), el;
                },
                isValidNode: config.isValidNode,
                isValidMatchForNode: config.isValidMatchForNode,
                type: "dom"
            });
            for (var i = 0; i < matches.length; i++) {
                var m = matches[i];
                m.inDom || editor.matches.remove(m, !0);
            }
            me.emit("rendered");
        }
        function getCursorInfo() {
            var sel = dom_1.getDocSelection(doc), aNode = sel.anchorNode || {}, fNode = sel.focusNode || {};
            return {
                pos: getCursor(),
                aNode: aNode,
                aNodeText: aNode.textContent,
                aNodeParent: aNode.parentNode,
                fNode: fNode,
                fNodeText: fNode.textContent,
                fNodeParent: fNode.parentNode
            };
        }
        function cursorChanged(oldSel) {
            var sel = dom_1.getDocSelection(doc), aNode = sel.anchorNode || {}, fNode = sel.focusNode || {};
            return oldSel.aNode !== aNode || oldSel.aNodeText !== aNode.textContent || oldSel.aNodeParent !== aNode.parentNode || oldSel.fNode !== fNode || oldSel.fNodeText !== fNode.textContent || oldSel.fNodeParent !== fNode.parentNode;
        }
        function setCursor(pos, retry) {
            retry = retry || 10;
            var res = Wrap.setCursorPos(el, pos);
            return !1 === res && retry <= 1 ? me.emit("badCursorPositionRetryFail") : !1 === res && pos.s > 1 ? (me.emit("badCursorPosition"), 
            setCursor({
                s: pos.s - 1,
                e: pos.e - 1
            }, retry - 1)) : void 0;
        }
        function getCursor() {
            return Wrap.getCursorPos(el);
        }
        function renderRange(match) {
            return match._s = match.s, match._e = match.e, match.id = "tmp_id", match.cls = "gr_tmp_id", 
            renderFn([ match ]), [].slice.call(el.querySelectorAll(".gr_tmp_id"));
        }
        function getSel(match) {
            return ".gr_" + match.id;
        }
        function remove(match, withText) {
            for (var p = Wrap.getCursorPos(el), els = el.querySelectorAll(getSel(match)), len = els.length, i = 0; i < len; i++) if (withText) {
                var parent_1 = els[i].parentNode;
                parent_1 && parent_1.removeChild(els[i]);
            } else Wrap.unwrap(els[i]);
            match.inDom = !1, dom_1.isFocused(el) && Wrap.setCursorPos(el, p);
        }
        function unwrapToCommonParent(nodes) {
            var commonParent = function(nodes) {
                var i, e = nodes[0], method = "contains" in e ? "contains" : "compareDocumentPosition", test = "contains" === method ? 1 : 16;
                rocking: for (;e.parentNode; ) {
                    for (i = nodes.length, e = e.parentNode; i--; ) if ((e[method](nodes[i]) & test) !== test) continue rocking;
                    return e;
                }
                return null;
            }(nodes), nodeList = nodes, len = nodes.length;
            if (len > 1) {
                var mergedNode = Wrap.mergeNodes(nodes);
                (nodeList = []).push(mergedNode), len = nodeList.length;
            }
            for (var i = 0; i < len; i++) {
                for (var node = nodeList[i], p = node.parentNode, j = 0; p !== commonParent && j < 1e3; ) {
                    var _p = p;
                    p = p && p.parentNode, Wrap.unwrap(_p), j++;
                }
                Wrap.unwrap(node);
            }
        }
        function nodePosValid(matchEl, m) {
            var s = matchEl.__pos, e = s + (matchEl.textContent || "").length;
            return s >= m._s && e <= m._e;
        }
        function invalidate(associateMatches) {
            checkingTimer && clearTimeout(checkingTimer);
            var els = el.querySelectorAll("g[data-gr-id]"), len = els.length, ids = [];
            Wrap.markChildPos(el);
            for (var i = 0; i < len; i++) {
                var matchEl = els[i], m = editor.matches.byId(matchEl.id);
                if (ids.push(matchEl.id), m && nodePosValid(matchEl, m)) {
                    if (!m.inDom && associateMatches && (m.inDom = !0), !m.selected && dom_1.hasClass(matchEl, "sel") && dom_1.removeClass(matchEl, "sel"), 
                    !matchEl.className) {
                        var cls = editor.getMatchClass(m, editor.getText());
                        matchEl.className = "gr_ gr_" + m.id + cls + " " + (m.cls || "");
                    }
                } else {
                    var cursor = getCursorInfo();
                    Wrap.unwrap(matchEl), dom_1.isFocused(el) && cursorChanged(cursor) && setCursor(cursor.pos);
                }
            }
            var matches = editor.getFiltered(), shouldRender = !1;
            for (i = 0; i < matches.length; i++) {
                var id = (m = matches[i]).id;
                -1 === ids.indexOf(id) && (m.inDom = !1, shouldRender = !0);
            }
            shouldRender && render(matches, editor.getText());
        }
    };
}, function(module, exports, __webpack_require__) {
    var escapeHtmlChar = __webpack_require__(748), toString = __webpack_require__(168), reUnescapedHtml = /[&<>"']/g, reHasUnescapedHtml = RegExp(reUnescapedHtml.source);
    module.exports = function(string) {
        return (string = toString(string)) && reHasUnescapedHtml.test(string) ? string.replace(reUnescapedHtml, escapeHtmlChar) : string;
    };
}, function(module, exports, __webpack_require__) {
    var textdiff = __webpack_require__(201).textdiff, extend = __webpack_require__(38), clone = __webpack_require__(508), Changesets = {
        op: function(op) {
            return (op = clone(op)).len = op.text ? op.text.length : 0, op.toString = function() {
                return this.type + this.pos + ":" + this.text;
            }, op.extend = function(mod) {
                return (op = extend(clone(this), mod)).len = op.text.length, op;
            }, op.revision = function(rev) {
                return extend(clone(this), {
                    accessory: rev
                });
            }, op.apply = function(text, selection) {
                if ("+" == this.type) {
                    if (text.length != this.tlen) throw new Error("Text length doesn't match expected length. It's most likely you have missed a transformation: expected:" + this.tlen + ", actual:" + text.length);
                    return selection && (this.pos < selection.b && (selection.b += this.text.length), 
                    this.pos < selection.e && (selection.e += this.text.length)), text.slice(0, this.pos) + this.text + text.slice(this.pos);
                }
                if ("-" == this.type) {
                    if (text.length != this.tlen) throw new Error("Text length doesn't match expected length. It's most likely you have missed a transformation: expected:" + this.tlen + ", actual:" + text.length);
                    if (text.substr(this.pos, this.len) != this.text) throw new Error("Applying delete operation: Passed context doesn't match assumed context: " + JSON.stringify(op) + ', actual context: "' + text.substr(this.pos, this.len) + '"');
                    return selection && (this.pos < selection.b && (selection.b -= Math.min(this.text.length, selection.b - this.pos)), 
                    this.pos < selection.e && (selection.e -= Math.min(this.text.length, selection.e - this.pos))), 
                    text.slice(0, this.pos) + text.slice(this.pos + this.len);
                }
                if ("=" == this.type) return text;
            }, op.transformAgainst = function(b) {
                if ("+" == this.type && "+" == b.type) {
                    var tlen = this.tlen + b.len;
                    if (this.pos < b.pos) return this.extend({
                        tlen: tlen
                    });
                    if (this.pos == b.pos && this.accessory < b.accessory) return this.extend({
                        tlen: tlen
                    });
                    if (b.pos <= this.pos) return this.extend({
                        tlen: tlen,
                        pos: this.pos + b.len
                    });
                } else if ("+" == this.type && "-" == b.type) {
                    tlen = this.tlen - b.len;
                    if (this.pos < b.pos) return this.extend({
                        tlen: tlen
                    });
                    if (this.pos == b.pos) return this.extend({
                        tlen: tlen
                    });
                    if (b.pos < this.pos) return this.extend({
                        tlen: tlen,
                        pos: Math.max(this.pos - b.len, b.pos)
                    });
                } else if ("-" == this.type && "-" == b.type) {
                    tlen = this.tlen - b.len;
                    if (this.pos < b.pos) {
                        var startOfOther = Math.min(b.pos - this.pos, this.len);
                        return this.extend({
                            tlen: tlen,
                            text: this.text.substr(0, startOfOther) + this.text.substr(startOfOther + b.len)
                        });
                    }
                    if (this.pos == b.pos) return this.len <= b.len ? Changesets.op({
                        type: "="
                    }) : this.extend({
                        tlen: tlen,
                        text: this.text.substr(b.len)
                    });
                    if (b.pos < this.pos) {
                        var overlap = b.pos + b.len - this.pos;
                        return overlap >= this.len ? Changesets.op({
                            type: "="
                        }) : overlap > 0 ? this.extend({
                            tlen: tlen,
                            pos: b.pos,
                            text: this.text.substr(overlap)
                        }) : this.extend({
                            tlen: tlen,
                            pos: this.pos - b.len
                        });
                    }
                } else if ("-" == this.type && "+" == b.type) {
                    tlen = this.tlen + b.len;
                    if (this.pos < b.pos) {
                        if (this.pos + this.len > b.pos) {
                            var firstHalfLength = b.pos - this.pos;
                            return [ this.extend({
                                tlen: tlen,
                                text: this.text.substr(0, firstHalfLength)
                            }), this.extend({
                                tlen: tlen,
                                pos: b.pos + b.len,
                                text: this.text.substr(firstHalfLength)
                            }) ];
                        }
                        return this.extend({
                            tlen: tlen
                        });
                    }
                    if (this.pos == b.pos) return this.extend({
                        tlen: tlen,
                        pos: this.pos + b.len
                    });
                    if (b.pos < this.pos) return this.extend({
                        tlen: tlen,
                        pos: this.pos + b.len
                    });
                }
                return this;
            }, op;
        },
        cs: function(cs) {
            return (cs = clone(cs.map(function(op) {
                return clone(op);
            }))).toString = function() {
                return this.map(function(op) {
                    return op.toString();
                }).join(" ");
            }, cs.push = function(op) {
                op instanceof Array ? op.forEach(function(op) {
                    [].push.call(cs, op);
                }) : [].push.call(cs, op);
            }, cs.revision = function(rev) {
                return Changesets.cs(cs.map(function(op) {
                    return op.revision(rev);
                }));
            }, cs.maxRevision = function() {
                return Math.max(0, Math.max.apply(null, cs.map(function(op) {
                    return op.accessory;
                })));
            }, cs.apply = function(text, selection) {
                return this.sequencify().forEach(function(op) {
                    text = op.apply(text, selection);
                }), text;
            }, cs.transformAgainst = function(b) {
                var newCs = Changesets.cs([]);
                b = b.sequencify();
                return this.forEach(function(op) {
                    b.forEach(function(o) {
                        op = op.transformAgainst(o);
                    }), newCs.push(op);
                }), newCs;
            }, cs.sequencify = function(cs) {
                var result = Changesets.cs([]);
                return this.forEach(function(op) {
                    "=" != op.type && (result.forEach(function(o) {
                        op = op.transformAgainst(o);
                    }), result.push(op));
                }), result;
            }, cs.pack = function() {
                return this.filter(function(op) {
                    return "=" != op.type;
                }).map(function(op) {
                    var text = op.text.replace(/%/g, "%25").replace(/:/g, "%3A"), pos = op.pos.toString(36), tlen = op.tlen.toString(36), accessory = op.accessory.toString(36);
                    return op.type + pos + ":" + tlen + ":" + text + ":" + accessory;
                }).join("");
            }, cs;
        },
        diff: function(oldText, newText, accessory) {
            accessory = accessory || 0;
            var diff = textdiff(oldText, newText), cs = Changesets.cs([]), tlen = oldText.length;
            return diff.oldFragment && cs.push(Changesets.op({
                type: "-",
                tlen: tlen,
                pos: diff.from,
                text: diff.oldFragment,
                accessory: accessory
            })), diff.newFragment && cs.push(Changesets.op({
                type: "+",
                tlen: tlen,
                pos: diff.from,
                text: diff.newFragment,
                accessory: accessory
            })), cs;
        },
        unpack: function(packed) {
            if ("" == packed) return Changesets.cs([]);
            var matches = packed.match(/(\+|-)\w+?:\w+?:[^:]+?:\w+/g);
            if (!matches) throw new Error("Cannot unpack invalid serialized changeset string");
            return Changesets.cs(matches.map(function(s) {
                var props = s.substr(1).split(":");
                return Changesets.op({
                    type: s.substr(0, 1),
                    pos: parseInt(props[0], 36),
                    tlen: parseInt(props[1], 36),
                    text: props[2].replace(/%3A/gi, ":").replace(/%25/g, "%"),
                    accessory: parseInt(props[3], 36)
                });
            }));
        }
    };
    try {
        module.exports = Changesets;
    } catch (e) {}
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), dom_1 = __webpack_require__(3), btnStyle = __webpack_require__(357), style = __webpack_require__(752), content_1 = __webpack_require__(425), location_1 = __webpack_require__(15), react_1 = __webpack_require__(22), tracking_1 = __webpack_require__(20), focal_1 = __webpack_require__(91), BaseDialogComponent = function(_a) {
        var children = _a.children, onCloseClick = _a.onCloseClick, widthClass = _a.widthClass, gbuttonClass = _a.gbuttonClass, isHideTootip = _a.isHideTootip, isHoverable = _a.isHoverable, isClosed = focal_1.Atom.create(isHideTootip && isHoverable), isHoverActive = focal_1.Atom.create(isHideTootip && isHoverable);
        return React.createElement(focal_1.F.div, __assign({}, focal_1.classes(style.container, isHideTootip && style.hideTooltip, isClosed.view(function(x) {
            return x && style.isClosed;
        }), isHoverActive.view(function(x) {
            return x && style.isHoverActive;
        }))), React.createElement("div", {
            className: style.wrap
        }, React.createElement("div", {
            className: dom_1.cs(style.bubbleWrap, widthClass)
        }, React.createElement(react_1.GenericButton, {
            clickHandler: function() {
                isHoverable && (isClosed.set(!0), isHoverActive.set(!1), setTimeout(function() {
                    return isHoverActive.set(!0);
                }, 100)), onCloseClick();
            }
        }, React.createElement("div", {
            className: style.close
        })), children), React.createElement("div", {
            className: style.bubbleArrow
        }, ""), isHoverable && React.createElement("div", {
            className: style.invisibleSpace
        }), React.createElement("div", __assign({}, focal_1.classes(btnStyle.textarea_btn, btnStyle.show, btnStyle.field_hovered)), React.createElement("div", {
            className: btnStyle.transform_wrap
        }, React.createElement("div", {
            className: dom_1.cs(btnStyle.status, gbuttonClass)
        })))));
    }, GdocsOptInDialog = function() {
        function GdocsOptInDialog(doc) {
            this.doc = doc, this._tagName = "grammarly-gdocs-opt-in";
        }
        return GdocsOptInDialog.prototype._remove = function() {
            this._component && this._component.remove();
        }, GdocsOptInDialog.prototype.render = function(enableOnSite, onDialogClose) {
            var _this = this, id = Symbol("GrammarlyOptIn");
            this._component = dom_1.renderReactWithParent(React.createElement(BaseDialogComponent, {
                onCloseClick: function() {
                    _this._remove(), tracking_1.gnar.gdocsOptInPopupCloseButtonClick("optin"), onDialogClose();
                }
            }, React.createElement(content_1.OptInContentComponent, {
                onClick: function() {
                    enableOnSite(), _this._remove(), tracking_1.gnar.gdocsOptInPopupEnableButtonClick("optin"), 
                    setTimeout(function() {
                        return window.location.reload(!0);
                    }, 200);
                },
                isLargeButton: !0
            })), this.doc.documentElement, id, this._tagName), tracking_1.gnar.gdocsOptInPopupShow();
        }, GdocsOptInDialog;
    }(), GdocsDisabledAfterOfflineDialog = function() {
        function GdocsDisabledAfterOfflineDialog(doc) {
            this.doc = doc, this._tagName = "grammarly-gdocs-disable-after-offline";
        }
        return GdocsDisabledAfterOfflineDialog.prototype._remove = function() {
            this._component && this._component.remove();
        }, GdocsDisabledAfterOfflineDialog.prototype.render = function() {
            var _this = this, id = Symbol("GrammarlyGdocsDisableDialog");
            this._component = dom_1.renderReactWithParent(React.createElement(BaseDialogComponent, {
                onCloseClick: function() {
                    _this._remove();
                },
                gbuttonClass: style.btnOffline,
                widthClass: style.widthClass
            }, React.createElement(content_1.OfflineDialogContentComponent, {
                onClick: function() {
                    _this._remove(), tracking_1.gnar.gdocsOfflinePageReloadButtonClick("offline"), setTimeout(function() {
                        return window.location.reload(!0);
                    }, 200);
                }
            })), this.doc.documentElement, id, this._tagName);
        }, GdocsDisabledAfterOfflineDialog;
    }(), GdocsDisabledForLargeDocumentDialog = function() {
        function GdocsDisabledForLargeDocumentDialog(doc, isSeen, onClose, onEnable) {
            this.doc = doc, this.isSeen = isSeen, this.onClose = onClose, this.onEnable = onEnable, 
            this._tagName = "grammarly-gdocs-disable-for-large-document";
        }
        return GdocsDisabledForLargeDocumentDialog.prototype._remove = function() {
            this._component && this._component.remove();
        }, GdocsDisabledForLargeDocumentDialog.prototype.render = function() {
            var _this = this, id = Symbol("GrammarlyGdocsDisableLargeDocumentDialog");
            this._component = dom_1.renderReactWithParent(React.createElement(BaseDialogComponent, {
                onCloseClick: function() {
                    _this.onClose();
                },
                gbuttonClass: style.btnDisabled,
                widthClass: style.widthClass,
                isHideTootip: Boolean(this.isSeen),
                isHoverable: !0
            }, React.createElement(content_1.LargeDocumentDialogContentComponent, {
                onClick: function() {
                    _this._remove(), _this.onEnable(), tracking_1.gnar.gdocsLargeDocumentButtonClick("check");
                }
            })), this.doc.documentElement, id, this._tagName);
        }, GdocsDisabledForLargeDocumentDialog;
    }();
    exports.renderGdocsOptInIfneeded = function(_a, onEnableClick, onClose, disableGdocsInitial) {
        var gdocsOptInPopup, user = _a.user, page = _a.page;
        location_1.isGdocsSite() && user.experiments && user.experiments.googleDocsBeta && (page.gdocsWasInitiallyDisabled ? (gdocsOptInPopup = page.enabled || page.seenGdocsOptIn ? null : new GdocsOptInDialog(document)) && gdocsOptInPopup.render(onEnableClick, onClose) : (disableGdocsInitial(), 
        (gdocsOptInPopup = new GdocsOptInDialog(document)).render(onEnableClick, onClose)));
    }, exports.renderGdocsDisabledAfterOffline = function() {
        tracking_1.gnar.gdocsOfflinePopupShow(), new GdocsDisabledAfterOfflineDialog(document).render();
    }, exports.renderGdocsDisabledForLargeDocument = function(isSeen, onClose, onEnable) {
        tracking_1.gnar.gdocsLargeDocumentPopupShow(), new GdocsDisabledForLargeDocumentDialog(document, isSeen, onClose, onEnable).render();
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), dom_1 = __webpack_require__(3), styl = __webpack_require__(358), react_1 = __webpack_require__(22);
    exports.OptInContentComponent = function(_a) {
        var onClick = _a.onClick, isLargeButton = _a.isLargeButton;
        return React.createElement("div", {
            className: styl.container
        }, React.createElement("div", {
            className: styl.header
        }, "Grammarly now has ", React.createElement("span", {
            className: styl.bold
        }, "beta"), "support", React.createElement("br", null), "for Google Docs!"), React.createElement("div", {
            className: styl.btnContainer
        }, React.createElement(react_1.GenericButton, {
            clickHandler: onClick
        }, React.createElement("div", {
            className: dom_1.cs(styl.button, isLargeButton && styl.large)
        }, "Turn it on"))), React.createElement("div", {
            className: styl.note
        }, "This beta feature does not currently support Grammarly Premium corrections or the popup Grammarly Editor"));
    }, exports.OfflineDialogContentComponent = function(_a) {
        var onClick = _a.onClick;
        return React.createElement("div", {
            className: styl.container
        }, React.createElement("div", {
            className: styl.offlineDialogHeader
        }, "Cannot connect to Grammarly"), React.createElement("div", {
            className: styl.offlineDialogMessage
        }, "Please ", React.createElement("span", {
            className: styl.bold
        }, "reload"), " the browser tab and", React.createElement("br", null), " check your internet connection."), React.createElement("div", {
            className: dom_1.cs(styl.btnContainer, styl.offlineDialogButton)
        }, React.createElement(react_1.GenericButton, {
            clickHandler: onClick
        }, React.createElement("div", {
            className: dom_1.cs(styl.button, styl.large)
        }, "Reload"))));
    }, exports.LargeDocumentDialogContentComponent = function(_a) {
        var onClick = _a.onClick;
        return React.createElement("div", {
            className: styl.container
        }, React.createElement("div", {
            className: styl.largeDocumentDialogHeader
        }, "This doc looks a bit long"), React.createElement("div", {
            className: styl.offlineDialogMessage
        }, "Were just making sure you", React.createElement("br", null), " want us to check it."), React.createElement("div", {
            className: dom_1.cs(styl.btnContainer, styl.offlineDialogButton)
        }, React.createElement(react_1.GenericButton, {
            clickHandler: onClick
        }, React.createElement("div", {
            className: dom_1.cs(styl.button, styl.large)
        }, "Check it"))));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    function arrayFromIterator(iter) {
        for (var next, result = []; !(next = iter.next()).done; ) result.push(next.value);
        return result;
    }
    function has(prop, obj) {
        return Object.prototype.hasOwnProperty.call(obj, prop);
    }
    function identical(a, b) {
        return a === b ? 0 !== a || 1 / a == 1 / b : a != a && b != b;
    }
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var hasEnumBug, nonEnumerableProps, hasArgsEnumBug, contains, _isArguments = function() {
        var toString = Object.prototype.toString;
        return "[object Arguments]" === toString.call(arguments) ? function(x) {
            return "[object Arguments]" === toString.call(x);
        } : function(x) {
            return has("callee", x);
        };
    }(), keys = (hasEnumBug = !{
        toString: null
    }.propertyIsEnumerable("toString"), nonEnumerableProps = [ "constructor", "valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString" ], 
    hasArgsEnumBug = function() {
        return arguments.propertyIsEnumerable("length");
    }(), contains = function(list, item) {
        for (var idx = 0; idx < list.length; ) {
            if (list[idx] === item) return !0;
            idx += 1;
        }
        return !1;
    }, "function" != typeof Object.keys || hasArgsEnumBug ? function(obj) {
        if (Object(obj) !== obj) return [];
        var prop, nIdx, ks = [], checkArgsLength = hasArgsEnumBug && _isArguments(obj);
        for (prop in obj) !has(prop, obj) || checkArgsLength && "length" === prop || (ks[ks.length] = prop);
        if (hasEnumBug) for (nIdx = nonEnumerableProps.length - 1; nIdx >= 0; ) has(prop = nonEnumerableProps[nIdx], obj) && !contains(ks, prop) && (ks[ks.length] = prop), 
        nIdx -= 1;
        return ks;
    } : function(obj) {
        return Object(obj) !== obj ? [] : Object.keys(obj);
    });
    function type(val) {
        return null === val ? "Null" : void 0 === val ? "Undefined" : Object.prototype.toString.call(val).slice(8, -1);
    }
    exports.equals = function equals(a, b, stackA, stackB) {
        if (void 0 === stackA && (stackA = []), void 0 === stackB && (stackB = []), identical(a, b)) return !0;
        if (type(a) !== type(b)) return !1;
        if (null == a || null == b) return !1;
        if ("function" == typeof a.equals || "function" == typeof b.equals) return "function" == typeof a.equals && a.equals(b) && "function" == typeof b.equals && b.equals(a);
        switch (type(a)) {
          case "Arguments":
          case "Array":
          case "Object":
            if ("function" == typeof a.constructor && "Promise" === (f = a.constructor, null == (match = String(f).match(/^function (\w*)/)) ? "" : match[1])) return a === b;
            break;

          case "Boolean":
          case "Number":
          case "String":
            if (typeof a != typeof b || !identical(a.valueOf(), b.valueOf())) return !1;
            break;

          case "Date":
            if (!identical(a.valueOf(), b.valueOf())) return !1;
            break;

          case "Error":
            return a.name === b.name && a.message === b.message;

          case "RegExp":
            if (a.source !== b.source || a.global !== b.global || a.ignoreCase !== b.ignoreCase || a.multiline !== b.multiline || a.sticky !== b.sticky || a.unicode !== b.unicode) return !1;
            break;

          case "Map":
          case "Set":
            if (!equals(arrayFromIterator(a.entries()), arrayFromIterator(b.entries()), stackA, stackB)) return !1;
            break;

          case "Int8Array":
          case "Uint8Array":
          case "Uint8ClampedArray":
          case "Int16Array":
          case "Uint16Array":
          case "Int32Array":
          case "Uint32Array":
          case "Float32Array":
          case "Float64Array":
          case "ArrayBuffer":
            break;

          default:
            return !1;
        }
        var f, match, keysA = keys(a);
        if (keysA.length !== keys(b).length) return !1;
        for (var idx = stackA.length - 1; idx >= 0; ) {
            if (stackA[idx] === a) return stackB[idx] === b;
            idx -= 1;
        }
        for (stackA.push(a), stackB.push(b), idx = keysA.length - 1; idx >= 0; ) {
            var key = keysA[idx];
            if (!has(key, b) || !equals(b[key], a[key], stackA, stackB)) return !1;
            idx -= 1;
        }
        return stackA.pop(), stackB.pop(), !0;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, isArray_1 = __webpack_require__(95), ArrayObservable_1 = __webpack_require__(136), OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.race = function() {
        for (var observables = [], _i = 0; _i < arguments.length; _i++) observables[_i - 0] = arguments[_i];
        if (1 === observables.length) {
            if (!isArray_1.isArray(observables[0])) return observables[0];
            observables = observables[0];
        }
        return new ArrayObservable_1.ArrayObservable(observables).lift(new RaceOperator());
    };
    var RaceOperator = function() {
        function RaceOperator() {}
        return RaceOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new RaceSubscriber(subscriber));
        }, RaceOperator;
    }();
    exports.RaceOperator = RaceOperator;
    var RaceSubscriber = function(_super) {
        function RaceSubscriber(destination) {
            _super.call(this, destination), this.hasFirst = !1, this.observables = [], this.subscriptions = [];
        }
        return __extends(RaceSubscriber, _super), RaceSubscriber.prototype._next = function(observable) {
            this.observables.push(observable);
        }, RaceSubscriber.prototype._complete = function() {
            var observables = this.observables, len = observables.length;
            if (0 === len) this.destination.complete(); else {
                for (var i = 0; i < len && !this.hasFirst; i++) {
                    var observable = observables[i], subscription = subscribeToResult_1.subscribeToResult(this, observable, observable, i);
                    this.subscriptions && this.subscriptions.push(subscription), this.add(subscription);
                }
                this.observables = null;
            }
        }, RaceSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            if (!this.hasFirst) {
                this.hasFirst = !0;
                for (var i = 0; i < this.subscriptions.length; i++) if (i !== outerIndex) {
                    var subscription = this.subscriptions[i];
                    subscription.unsubscribe(), this.remove(subscription);
                }
                this.subscriptions = null;
            }
            this.destination.next(innerValue);
        }, RaceSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.RaceSubscriber = RaceSubscriber;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, FromObservable_1 = __webpack_require__(459), isArray_1 = __webpack_require__(95), OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.onErrorResumeNext = function() {
        for (var nextSources = [], _i = 0; _i < arguments.length; _i++) nextSources[_i - 0] = arguments[_i];
        return 1 === nextSources.length && isArray_1.isArray(nextSources[0]) && (nextSources = nextSources[0]), 
        function(source) {
            return source.lift(new OnErrorResumeNextOperator(nextSources));
        };
    }, exports.onErrorResumeNextStatic = function() {
        for (var nextSources = [], _i = 0; _i < arguments.length; _i++) nextSources[_i - 0] = arguments[_i];
        var source;
        return 1 === nextSources.length && isArray_1.isArray(nextSources[0]) && (nextSources = nextSources[0]), 
        source = nextSources.shift(), new FromObservable_1.FromObservable(source, null).lift(new OnErrorResumeNextOperator(nextSources));
    };
    var OnErrorResumeNextOperator = function() {
        function OnErrorResumeNextOperator(nextSources) {
            this.nextSources = nextSources;
        }
        return OnErrorResumeNextOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new OnErrorResumeNextSubscriber(subscriber, this.nextSources));
        }, OnErrorResumeNextOperator;
    }(), OnErrorResumeNextSubscriber = function(_super) {
        function OnErrorResumeNextSubscriber(destination, nextSources) {
            _super.call(this, destination), this.destination = destination, this.nextSources = nextSources;
        }
        return __extends(OnErrorResumeNextSubscriber, _super), OnErrorResumeNextSubscriber.prototype.notifyError = function(error, innerSub) {
            this.subscribeToNextSource();
        }, OnErrorResumeNextSubscriber.prototype.notifyComplete = function(innerSub) {
            this.subscribeToNextSource();
        }, OnErrorResumeNextSubscriber.prototype._error = function(err) {
            this.subscribeToNextSource();
        }, OnErrorResumeNextSubscriber.prototype._complete = function() {
            this.subscribeToNextSource();
        }, OnErrorResumeNextSubscriber.prototype.subscribeToNextSource = function() {
            var next = this.nextSources.shift();
            next ? this.add(subscribeToResult_1.subscribeToResult(this, next)) : this.destination.complete();
        }, OnErrorResumeNextSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.defaultIfEmpty = function(defaultValue) {
        return void 0 === defaultValue && (defaultValue = null), function(source) {
            return source.lift(new DefaultIfEmptyOperator(defaultValue));
        };
    };
    var DefaultIfEmptyOperator = function() {
        function DefaultIfEmptyOperator(defaultValue) {
            this.defaultValue = defaultValue;
        }
        return DefaultIfEmptyOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));
        }, DefaultIfEmptyOperator;
    }(), DefaultIfEmptySubscriber = function(_super) {
        function DefaultIfEmptySubscriber(destination, defaultValue) {
            _super.call(this, destination), this.defaultValue = defaultValue, this.isEmpty = !0;
        }
        return __extends(DefaultIfEmptySubscriber, _super), DefaultIfEmptySubscriber.prototype._next = function(value) {
            this.isEmpty = !1, this.destination.next(value);
        }, DefaultIfEmptySubscriber.prototype._complete = function() {
            this.isEmpty && this.destination.next(this.defaultValue), this.destination.complete();
        }, DefaultIfEmptySubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), tryCatch_1 = __webpack_require__(44), errorObject_1 = __webpack_require__(37);
    exports.distinctUntilChanged = function(compare, keySelector) {
        return function(source) {
            return source.lift(new DistinctUntilChangedOperator(compare, keySelector));
        };
    };
    var DistinctUntilChangedOperator = function() {
        function DistinctUntilChangedOperator(compare, keySelector) {
            this.compare = compare, this.keySelector = keySelector;
        }
        return DistinctUntilChangedOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));
        }, DistinctUntilChangedOperator;
    }(), DistinctUntilChangedSubscriber = function(_super) {
        function DistinctUntilChangedSubscriber(destination, compare, keySelector) {
            _super.call(this, destination), this.keySelector = keySelector, this.hasKey = !1, 
            "function" == typeof compare && (this.compare = compare);
        }
        return __extends(DistinctUntilChangedSubscriber, _super), DistinctUntilChangedSubscriber.prototype.compare = function(x, y) {
            return x === y;
        }, DistinctUntilChangedSubscriber.prototype._next = function(value) {
            var key = value;
            if (this.keySelector && (key = tryCatch_1.tryCatch(this.keySelector)(value)) === errorObject_1.errorObject) return this.destination.error(errorObject_1.errorObject.e);
            var result = !1;
            if (this.hasKey) {
                if ((result = tryCatch_1.tryCatch(this.compare)(this.key, key)) === errorObject_1.errorObject) return this.destination.error(errorObject_1.errorObject.e);
            } else this.hasKey = !0;
            !1 === Boolean(result) && (this.key = key, this.destination.next(value));
        }, DistinctUntilChangedSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.find = function(predicate, thisArg) {
        if ("function" != typeof predicate) throw new TypeError("predicate is not a function");
        return function(source) {
            return source.lift(new FindValueOperator(predicate, source, !1, thisArg));
        };
    };
    var FindValueOperator = function() {
        function FindValueOperator(predicate, source, yieldIndex, thisArg) {
            this.predicate = predicate, this.source = source, this.yieldIndex = yieldIndex, 
            this.thisArg = thisArg;
        }
        return FindValueOperator.prototype.call = function(observer, source) {
            return source.subscribe(new FindValueSubscriber(observer, this.predicate, this.source, this.yieldIndex, this.thisArg));
        }, FindValueOperator;
    }();
    exports.FindValueOperator = FindValueOperator;
    var FindValueSubscriber = function(_super) {
        function FindValueSubscriber(destination, predicate, source, yieldIndex, thisArg) {
            _super.call(this, destination), this.predicate = predicate, this.source = source, 
            this.yieldIndex = yieldIndex, this.thisArg = thisArg, this.index = 0;
        }
        return __extends(FindValueSubscriber, _super), FindValueSubscriber.prototype.notifyComplete = function(value) {
            var destination = this.destination;
            destination.next(value), destination.complete();
        }, FindValueSubscriber.prototype._next = function(value) {
            var predicate = this.predicate, thisArg = this.thisArg, index = this.index++;
            try {
                predicate.call(thisArg || this, value, index, this.source) && this.notifyComplete(this.yieldIndex ? index : value);
            } catch (err) {
                this.destination.error(err);
            }
        }, FindValueSubscriber.prototype._complete = function() {
            this.notifyComplete(this.yieldIndex ? -1 : void 0);
        }, FindValueSubscriber;
    }(Subscriber_1.Subscriber);
    exports.FindValueSubscriber = FindValueSubscriber;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, tryCatch_1 = __webpack_require__(44), errorObject_1 = __webpack_require__(37), OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.audit = function(durationSelector) {
        return function(source) {
            return source.lift(new AuditOperator(durationSelector));
        };
    };
    var AuditOperator = function() {
        function AuditOperator(durationSelector) {
            this.durationSelector = durationSelector;
        }
        return AuditOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new AuditSubscriber(subscriber, this.durationSelector));
        }, AuditOperator;
    }(), AuditSubscriber = function(_super) {
        function AuditSubscriber(destination, durationSelector) {
            _super.call(this, destination), this.durationSelector = durationSelector, this.hasValue = !1;
        }
        return __extends(AuditSubscriber, _super), AuditSubscriber.prototype._next = function(value) {
            if (this.value = value, this.hasValue = !0, !this.throttled) {
                var duration = tryCatch_1.tryCatch(this.durationSelector)(value);
                if (duration === errorObject_1.errorObject) this.destination.error(errorObject_1.errorObject.e); else {
                    var innerSubscription = subscribeToResult_1.subscribeToResult(this, duration);
                    innerSubscription.closed ? this.clearThrottle() : this.add(this.throttled = innerSubscription);
                }
            }
        }, AuditSubscriber.prototype.clearThrottle = function() {
            var value = this.value, hasValue = this.hasValue, throttled = this.throttled;
            throttled && (this.remove(throttled), this.throttled = null, throttled.unsubscribe()), 
            hasValue && (this.value = null, this.hasValue = !1, this.destination.next(value));
        }, AuditSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex) {
            this.clearThrottle();
        }, AuditSubscriber.prototype.notifyComplete = function() {
            this.clearThrottle();
        }, AuditSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.scan = function(accumulator, seed) {
        var hasSeed = !1;
        return arguments.length >= 2 && (hasSeed = !0), function(source) {
            return source.lift(new ScanOperator(accumulator, seed, hasSeed));
        };
    };
    var ScanOperator = function() {
        function ScanOperator(accumulator, seed, hasSeed) {
            void 0 === hasSeed && (hasSeed = !1), this.accumulator = accumulator, this.seed = seed, 
            this.hasSeed = hasSeed;
        }
        return ScanOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new ScanSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));
        }, ScanOperator;
    }(), ScanSubscriber = function(_super) {
        function ScanSubscriber(destination, accumulator, _seed, hasSeed) {
            _super.call(this, destination), this.accumulator = accumulator, this._seed = _seed, 
            this.hasSeed = hasSeed, this.index = 0;
        }
        return __extends(ScanSubscriber, _super), Object.defineProperty(ScanSubscriber.prototype, "seed", {
            get: function() {
                return this._seed;
            },
            set: function(value) {
                this.hasSeed = !0, this._seed = value;
            },
            enumerable: !0,
            configurable: !0
        }), ScanSubscriber.prototype._next = function(value) {
            if (this.hasSeed) return this._tryNext(value);
            this.seed = value, this.destination.next(value);
        }, ScanSubscriber.prototype._tryNext = function(value) {
            var result, index = this.index++;
            try {
                result = this.accumulator(this.seed, value, index);
            } catch (err) {
                this.destination.error(err);
            }
            this.seed = result, this.destination.next(result);
        }, ScanSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), ArgumentOutOfRangeError_1 = __webpack_require__(332), EmptyObservable_1 = __webpack_require__(137);
    exports.takeLast = function(count) {
        return function(source) {
            return 0 === count ? new EmptyObservable_1.EmptyObservable() : source.lift(new TakeLastOperator(count));
        };
    };
    var TakeLastOperator = function() {
        function TakeLastOperator(total) {
            if (this.total = total, this.total < 0) throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();
        }
        return TakeLastOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new TakeLastSubscriber(subscriber, this.total));
        }, TakeLastOperator;
    }(), TakeLastSubscriber = function(_super) {
        function TakeLastSubscriber(destination, total) {
            _super.call(this, destination), this.total = total, this.ring = new Array(), this.count = 0;
        }
        return __extends(TakeLastSubscriber, _super), TakeLastSubscriber.prototype._next = function(value) {
            var ring = this.ring, total = this.total, count = this.count++;
            ring.length < total ? ring.push(value) : ring[count % total] = value;
        }, TakeLastSubscriber.prototype._complete = function() {
            var destination = this.destination, count = this.count;
            if (count > 0) for (var total = this.count >= this.total ? this.total : this.count, ring = this.ring, i = 0; i < total; i++) {
                var idx = count++ % total;
                destination.next(ring[idx]);
            }
            destination.complete();
        }, TakeLastSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.switchMap = function(project, resultSelector) {
        return function(source) {
            return source.lift(new SwitchMapOperator(project, resultSelector));
        };
    };
    var SwitchMapOperator = function() {
        function SwitchMapOperator(project, resultSelector) {
            this.project = project, this.resultSelector = resultSelector;
        }
        return SwitchMapOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new SwitchMapSubscriber(subscriber, this.project, this.resultSelector));
        }, SwitchMapOperator;
    }(), SwitchMapSubscriber = function(_super) {
        function SwitchMapSubscriber(destination, project, resultSelector) {
            _super.call(this, destination), this.project = project, this.resultSelector = resultSelector, 
            this.index = 0;
        }
        return __extends(SwitchMapSubscriber, _super), SwitchMapSubscriber.prototype._next = function(value) {
            var result, index = this.index++;
            try {
                result = this.project(value, index);
            } catch (error) {
                return void this.destination.error(error);
            }
            this._innerSub(result, value, index);
        }, SwitchMapSubscriber.prototype._innerSub = function(result, value, index) {
            var innerSubscription = this.innerSubscription;
            innerSubscription && innerSubscription.unsubscribe(), this.add(this.innerSubscription = subscribeToResult_1.subscribeToResult(this, result, value, index));
        }, SwitchMapSubscriber.prototype._complete = function() {
            var innerSubscription = this.innerSubscription;
            innerSubscription && !innerSubscription.closed || _super.prototype._complete.call(this);
        }, SwitchMapSubscriber.prototype._unsubscribe = function() {
            this.innerSubscription = null;
        }, SwitchMapSubscriber.prototype.notifyComplete = function(innerSub) {
            this.remove(innerSub), this.innerSubscription = null, this.isStopped && _super.prototype._complete.call(this);
        }, SwitchMapSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.resultSelector ? this._tryNotifyNext(outerValue, innerValue, outerIndex, innerIndex) : this.destination.next(innerValue);
        }, SwitchMapSubscriber.prototype._tryNotifyNext = function(outerValue, innerValue, outerIndex, innerIndex) {
            var result;
            try {
                result = this.resultSelector(outerValue, innerValue, outerIndex, innerIndex);
            } catch (err) {
                return void this.destination.error(err);
            }
            this.destination.next(result);
        }, SwitchMapSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var async_1 = __webpack_require__(24), map_1 = __webpack_require__(284);
    exports.timestamp = function(scheduler) {
        return void 0 === scheduler && (scheduler = async_1.async), map_1.map(function(value) {
            return new Timestamp(value, scheduler.now());
        });
    };
    var Timestamp = function() {
        return function(value, timestamp) {
            this.value = value, this.timestamp = timestamp;
        };
    }();
    exports.Timestamp = Timestamp;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    }), __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    }, __rest = this && this.__rest || function(s, e) {
        var t = {};
        for (var p in s) Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0 && (t[p] = s[p]);
        if (null != s && "function" == typeof Object.getOwnPropertySymbols) {
            var i = 0;
            for (p = Object.getOwnPropertySymbols(s); i < p.length; i++) e.indexOf(p[i]) < 0 && (t[p[i]] = s[p[i]]);
        }
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), utils_1 = __webpack_require__(205), utils_2 = __webpack_require__(205), Observable_1 = __webpack_require__(0);
    __webpack_require__(568), __webpack_require__(378), __webpack_require__(515);
    var LiftWrapper = function(_super) {
        function LiftWrapper(props) {
            return _super.call(this, props, LiftWrapper._initState) || this;
        }
        return __extends(LiftWrapper, _super), LiftWrapper.prototype.render = function() {
            return this.state.renderCache || null;
        }, LiftWrapper.prototype._subscribe = function(newProps) {
            var props = newProps.props, component = newProps.component, n = 0;
            switch (walkObservables(props, function() {
                return n += 1;
            }), n) {
              case 0:
                this.setState({
                    subscription: null,
                    renderCache: render(component, props)
                });
                break;

              case 1:
                new RenderOne(this, newProps);
                break;

              default:
                new RenderMany(this, newProps, n);
            }
        }, LiftWrapper.prototype._unsubscribe = function() {
            var subscription = this.state ? this.state.subscription : null;
            subscription && subscription.unsubscribe();
        }, LiftWrapper.prototype.componentWillReceiveProps = function(newProps) {
            this._unsubscribe(), this._subscribe(newProps);
        }, LiftWrapper.prototype.componentWillMount = function() {
            this._unsubscribe(), this._subscribe(this.props);
        }, LiftWrapper.prototype.componentWillUnmount = function() {
            this._unsubscribe(), this.setState(LiftWrapper._initState);
        }, LiftWrapper.prototype.shouldComponentUpdate = function(_newProps, newState, _newContext) {
            return newState.renderCache !== this.state.renderCache;
        }, LiftWrapper._initState = {
            renderCache: null,
            subscription: null
        }, LiftWrapper._endState = {
            subscription: null
        }, LiftWrapper;
    }(React.Component);
    exports.LiftWrapper = LiftWrapper, exports.lift = function(component) {
        return function(props) {
            return React.createElement(LiftWrapper, {
                component: component,
                props: props
            });
        };
    };
    var PROP_CHILDREN = "children", PROP_STYLE = "style", PROP_MOUNT = "mount", PROP_REF = "ref";
    function walkObservables(props, action) {
        for (var key in props) {
            var value = props[key];
            if (value instanceof Observable_1.Observable) action(value); else if (PROP_CHILDREN === key && value instanceof Array) for (var n = value.length, i = 0; i < n; ++i) {
                var child = value[i];
                child instanceof Observable_1.Observable && action(child);
            } else if (PROP_STYLE === key) for (var k in value) {
                var style = value[k];
                style instanceof Observable_1.Observable && action(style);
            }
        }
    }
    function render(class_, props, observedValues) {
        void 0 === observedValues && (observedValues = []);
        var newChildren, newProps = {}, k = -1;
        for (var key in props) {
            var propValue = props[key], isChildren = key === PROP_CHILDREN, isMount = key === PROP_MOUNT, isStyle = key === PROP_STYLE;
            if (propValue instanceof Observable_1.Observable) {
                var observedValue = observedValues[++k];
                isChildren ? newChildren = observedValue : isMount ? newProps.ref = observedValue : newProps[key] = observedValue;
            } else if (isChildren) {
                if (propValue instanceof Array) for (var n = propValue.length, i = 0; i < n; ++i) {
                    if (propValue[i] instanceof Observable_1.Observable) {
                        if (!newChildren) {
                            newChildren = Array(propValue.length);
                            for (var j = 0; j < i; ++j) newChildren[j] = propValue[j];
                        }
                        newChildren[i] = observedValues[++k];
                    } else newChildren && (newChildren[i] = propValue[i]);
                }
                newChildren = newChildren || propValue;
            } else if (isMount) newProps.ref = propValue; else if (isStyle) {
                var newStyle = void 0;
                for (var i in propValue) {
                    var style = propValue[i];
                    if (style instanceof Observable_1.Observable) {
                        if (!newStyle) for (var j in newStyle = {}, propValue) {
                            if (j === i) break;
                            newStyle[j] = propValue[j];
                        }
                        newStyle[i] = observedValues[++k];
                    } else newStyle && (newStyle[i] = style);
                }
                newProps.style = newStyle || propValue;
            } else newProps[key] = propValue;
        }
        return React.createElement(class_, newProps, void 0 === newChildren ? null : newChildren);
    }
    var FakeComponent = function() {
        function FakeComponent(state, props) {
            this.state = state, this.props = props;
        }
        return FakeComponent.prototype.setState = function(newState) {
            "subscription" in newState && (this.state.subscription = newState.subscription), 
            "renderCache" in newState && (this.state.renderCache = newState.renderCache);
        }, FakeComponent;
    }(), handleError = function(e) {
        throw e;
    };
    function warnEmptyObservable(componentName) {
        utils_2.warning((componentName ? "The component <" + componentName + ">" : "An unnamed component") + " has received an observable that doesn't immediately emit a value in one of its props. Since this observable hasn't yet called its subscription handler, the component can not be rendered at the time. Check the props of " + (componentName ? "<" + componentName + ">" : "this component") + ".");
    }
    var RenderOne = function() {
        function RenderOne(liftedComponent, newProps) {
            var _this = this;
            this._receivedValue = !1;
            var state = {
                subscription: this,
                renderCache: liftedComponent.state && liftedComponent.state.renderCache
            };
            this._liftedComponent = new FakeComponent(state, newProps), walkObservables(newProps.props, function(observable) {
                _this._innerSubscription = observable.subscribe(function(v) {
                    return _this._handleValue(v);
                }, handleError, function() {
                    return _this._handleCompleted();
                }), _this._innerSubscription && _this._innerSubscription.closed && (_this._innerSubscription = null);
            }), utils_2.DEV_ENV && !this._receivedValue && warnEmptyObservable(utils_2.getReactComponentName(this._liftedComponent.props.component)), 
            this._liftedComponent = liftedComponent, liftedComponent.setState(state);
        }
        return RenderOne.prototype.unsubscribe = function() {
            this._innerSubscription && this._innerSubscription.unsubscribe();
        }, RenderOne.prototype._handleValue = function(value) {
            utils_2.DEV_ENV && (this._receivedValue = !0);
            var liftedComponent = this._liftedComponent, _a = liftedComponent.props, renderCache = render(_a.component, _a.props, [ value ]);
            utils_1.structEq(liftedComponent.state.renderCache, renderCache) || liftedComponent.setState({
                renderCache: renderCache
            });
        }, RenderOne.prototype._handleCompleted = function() {
            this._innerSubscription = null, this._liftedComponent.setState(LiftWrapper._endState);
        }, RenderOne;
    }(), RenderMany = function() {
        function RenderMany(liftedComponent, newProps, N) {
            var _this = this, state = {
                subscription: this,
                renderCache: liftedComponent.state && liftedComponent.state.renderCache
            };
            this._liftedComponent = new FakeComponent(state, newProps), this._innerSubscriptions = [], 
            this._values = Array(N);
            for (var i = 0; i < N; ++i) this._values[i] = this;
            if (walkObservables(newProps.props, function(observable) {
                var i = _this._innerSubscriptions.length, subscription = observable.subscribe(function(v) {
                    return _this._handleValue(i, v);
                }, handleError, function() {
                    return _this._handleCompleted(i);
                });
                subscription && subscription.closed && (subscription = null), _this._innerSubscriptions.push(subscription);
            }), utils_2.DEV_ENV) for (i = this._values.length - 1; 0 <= i; --i) if (this._values[i] === this) {
                warnEmptyObservable(utils_2.getReactComponentName(liftedComponent.props.component));
                break;
            }
            this._liftedComponent = liftedComponent, liftedComponent.setState(state);
        }
        return RenderMany.prototype.unsubscribe = function() {
            var _this = this, i = -1;
            walkObservables(this._liftedComponent.props.props, function(_) {
                var unsubscriber = _this._innerSubscriptions[++i];
                unsubscriber && unsubscriber.unsubscribe();
            });
        }, RenderMany.prototype._handleValue = function(idx, value) {
            this._values[idx] = value;
            for (var i = this._values.length - 1; 0 <= i; --i) if (this._values[i] === this) return;
            var liftedComponent = this._liftedComponent, _a = liftedComponent.props, renderCache = render(_a.component, _a.props, this._values);
            utils_1.structEq(liftedComponent.state.renderCache, renderCache) || liftedComponent.setState({
                renderCache: renderCache
            });
        }, RenderMany.prototype._handleCompleted = function(idx) {
            var n = this._innerSubscriptions.length;
            if (n > idx && (this._innerSubscriptions[idx] = null), n === this._values.length) {
                for (var i = 0; i < n; ++i) if (this._innerSubscriptions[i]) return;
                this._liftedComponent.setState(LiftWrapper._endState);
            }
        }, RenderMany;
    }();
    function filterClassNames(cs) {
        return cs.filter(function(c) {
            if (!0 === c) throw new TypeError("Unexpected `true` value in classes");
            return null != c && "" !== c && !1 !== c;
        });
    }
    function setElementProps(template) {
        var observable = null, subscription = null;
        return function(domElement) {
            subscription && (subscription.unsubscribe(), subscription = null, observable = null), 
            domElement && (observable = function(template) {
                var keys = [], values = [];
                for (var k in template) keys.push(k), values.push(template[k]);
                return Observable_1.Observable.combineLatest(values, function() {
                    for (var vs = [], _i = 0; _i < arguments.length; _i++) vs[_i] = arguments[_i];
                    for (var r = {}, i = 0; i < keys.length; i++) r[keys[i]] = vs[i];
                    return r;
                });
            }(template), subscription = observable.subscribe(function(value) {
                for (var k in value) domElement[k] = value[k];
            }, handleError, function() {
                observable = null, subscription = null;
            }));
        };
    }
    function getElementProps(template) {
        return function(e) {
            for (var k in template) template[k].set(e.target[k]);
        };
    }
    exports.classes = function() {
        for (var cs = [], _i = 0; _i < arguments.length; _i++) cs[_i] = arguments[_i];
        if (cs && void 0 !== cs.find(function(x) {
            return x instanceof Observable_1.Observable;
        })) return {
            className: Observable_1.Observable.combineLatest(filterClassNames(cs || []).map(function(x) {
                return x instanceof Observable_1.Observable ? x : Observable_1.Observable.of(x);
            }), function() {
                for (var cs = [], _i = 0; _i < arguments.length; _i++) cs[_i] = arguments[_i];
                var filtered = filterClassNames(cs || []);
                return filtered.length > 0 ? filtered.join(" ") : void 0;
            })
        };
        var filtered = filterClassNames(cs || []);
        return {
            className: filtered.length > 0 ? filtered.join(" ") : void 0
        };
    }, exports.setElementProps = setElementProps, exports.getElementProps = getElementProps, 
    exports.bindElementProps = function(template) {
        var _c, _d, _a = PROP_REF, ref = template[_a], _b = PROP_MOUNT, mount = template[_b], tpl = __rest(template, [ "symbol" == typeof _a ? _a : _a + "", "symbol" == typeof _b ? _b : _b + "" ]);
        return ref ? ((_c = {})[PROP_REF] = setElementProps(tpl), _c[ref] = getElementProps(tpl), 
        _c) : mount ? ((_d = {})[PROP_MOUNT] = setElementProps(tpl), _d[mount] = getElementProps(tpl), 
        _d) : {};
    }, exports.bind = function(template) {
        return __assign({}, template, {
            onChange: getElementProps(template)
        });
    }, exports.reactiveList = function(ids, createListItem) {
        return ids.scan(function(_a, ids) {
            for (var oldIds = _a[0], newIds = (_a[1], {}), newValues = Array(ids.length), n = ids.length, i = 0; i < n; ++i) {
                var id = ids[i], k = id.toString();
                k in newIds ? newValues[i] = newIds[k] : newIds[k] = newValues[i] = k in oldIds ? oldIds[k] : createListItem(id);
            }
            return [ newIds, newValues ];
        }, [ {}, [] ]).map(function(_a) {
            return _a[0], _a[1];
        });
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var emitter = __webpack_require__(18), isFunction = __webpack_require__(41), extend = __webpack_require__(38), websocket = __webpack_require__(369), log = __webpack_require__(1).Logger.create("lib.grammarly-editor.capi");
    exports.capi = emitter({
        CLIENT_NAME: "web",
        PROTOCOL_VERSION: "1.0",
        clientVersion: "",
        clientSubtype: "",
        extDomain: "",
        token: null,
        debug: !1,
        setToken: function(token) {
            exports.capi.token = token, exports.capi.emit("ready", exports.capi.token);
        },
        onReady: function(cb) {
            if (exports.capi.token) return cb(exports.capi.token);
            exports.capi.one("ready", cb);
        },
        createClient: function(options) {
            var DEBUG = !options.silentLogs, capiErrors = {
                runtime_error: {
                    maxCount: 10,
                    emitMsg: "frequent_runtime_error"
                },
                not_authorized: {
                    maxCount: 5,
                    emitMsg: "frequent_not_authorized_error"
                }
            }, wsErrorStatus = !1, failCount = 0, socket = (options = extend({
                connectionTimeout: 1e3,
                sid: null,
                useQueue: 30,
                useStandBy: 9e5,
                resetQueueOnReconnect: !0
            }, options)).createWs || websocket, client = emitter({
                rev: 0,
                messageId: 0,
                options: options,
                genre: null,
                ws: socket(options),
                fluidEx: {
                    feedback: function(match, type) {
                        send("feedback", {
                            sentenceNo: match.sentence_no,
                            alertId: String(match.id),
                            text: match.text,
                            type: type
                        });
                    },
                    addToDictionary: function(word) {
                        return send("add_to_dict", {
                            word: word
                        });
                    }
                },
                checkText: function(changedText, start, end, cb) {
                    return client.check(changedText, start, end, void 0, cb);
                },
                submitOt: function(changes, rev, data, cb) {
                    return client.rev = rev, sendRev("submit_ot", extend({
                        ch: changes
                    }, data = data || {}), cb);
                },
                checkNoSynonymsText: function(changedText, start, end, cb) {
                    return client.check(changedText, start, end, "NOSYNONYMS", cb);
                },
                checkGrammar: function(changedText, start, end, cb) {
                    return client.check(changedText, start, end, "GRAMMAR", cb);
                },
                checkSpell: function(changedText, start, end, cb) {
                    return client.check(changedText, start, end, "SPELL", cb);
                },
                checkStyle: function(changedText, start, end, cb) {
                    return client.check(changedText, start, end, "STYLE", cb);
                },
                checkSynonyms: function(changedText, start, end, cb) {
                    return client.check(changedText, start, end, "SYNONYMS", cb);
                },
                acknowledged: function(match) {
                    return client.feedback(match, "acknowledged");
                },
                ignore: function(match) {
                    return client.feedback(match, "ignore");
                },
                ignoreAll: function(match) {
                    return client.feedback(match, "ignore_all");
                },
                addToDictionary: function(match) {
                    return send("add_to_dict", {
                        word: match.value
                    });
                },
                sendEmailSubject: function(emailSubject) {
                    return send("feedback", {
                        type: "EMAIL_SUBJECT",
                        emailSubject: emailSubject
                    });
                },
                sendEmailFormatting: function(formattingType, emailFormatting) {
                    return send("feedback", {
                        type: "EMAIL_FORMATTING",
                        formattingType: formattingType,
                        emailFormatting: emailFormatting
                    });
                },
                sendEmailSummary: function(emailSummary) {
                    return send("feedback", {
                        type: "EMAIL_SUMMARY",
                        emailSummary: emailSummary
                    });
                },
                sendEmailSummaryAcknowledget: function() {
                    return send("feedback", {
                        type: "EMAIL_SUMMARY_ACKNOWLEDGED"
                    });
                },
                sendEmailSummaryNotHelpful: function() {
                    return send("feedback", {
                        type: "EMAIL_SUMMARY_NOT_HELPFUL"
                    });
                },
                feedback: function(match, type) {
                    return send("feedback", {
                        sentenceNo: match.sentence_no,
                        alertId: String(match.sid),
                        text: match.value,
                        type: type
                    });
                },
                check: function(changedText, start, end, checks, cb) {
                    return sendRev("submit", {
                        text: changedText,
                        begin: start,
                        end: end,
                        checks: checks
                    }, cb);
                },
                start: function() {
                    var data = {
                        token: options.token || exports.capi.token,
                        sid: options.sid,
                        docid: options.docid,
                        client: options.clientName || exports.capi.CLIENT_NAME,
                        protocolVersion: exports.capi.PROTOCOL_VERSION,
                        clientSubtype: options.clientSubtype
                    };
                    return options.dialect && (data.dialect = options.dialect), (options.clientVersion || exports.capi.clientVersion) && (data.clientVersion = options.clientVersion || exports.capi.clientVersion), 
                    (options.extDomain || exports.capi.extDomain) && (data.extDomain = options.extDomain || exports.capi.extDomain), 
                    (options.clientSubtype || exports.capi.clientSubtype) && (data.clientSubtype = options.clientSubtype || exports.capi.clientSubtype), 
                    send("start", data);
                },
                plagiarism: function(text, cb) {
                    return sendRev("plagiarism", {
                        text: text
                    }, cb);
                },
                undo: function(alertId, sentenceId) {
                    return send("undo", {
                        alertId: alertId,
                        sentenceId: sentenceId
                    });
                },
                drop: function(alertId, sentenceId) {
                    return send("drop", {
                        alertId: alertId,
                        sentenceId: sentenceId
                    });
                },
                synonyms: function(begin, value) {
                    return send("synonyms", {
                        rev: client.rev - 1,
                        begin: begin,
                        token: value
                    });
                },
                stop: function() {
                    return send("stop");
                },
                logout: function() {
                    return send("logout");
                },
                close: function() {
                    return client.ws.close();
                },
                wsPause: function() {
                    return client.ws.wsPause();
                },
                wsPlay: function() {
                    return client.ws.wsPlay();
                },
                sendContainerId: function(containerId) {
                    return send("option", {
                        name: "gnar_containerId",
                        value: containerId
                    });
                }
            }), ServiceStatus = function() {
                var checkTimeout, STATUS_CHECK_DELAY = 6e4, unavailable = !1;
                return {
                    setAvailable: function() {
                        clearTimeout(checkTimeout), unavailable && client.emit("serviceState", {
                            type: "capi",
                            available: !0
                        }), unavailable = !1;
                    },
                    checkOnline: function() {
                        clearTimeout(checkTimeout), checkTimeout = setTimeout(function() {
                            client.ws.isConnected() || (client.emit("serviceState", {
                                type: "capi",
                                available: !1
                            }), unavailable = !0);
                        }, STATUS_CHECK_DELAY);
                    }
                };
            }();
            return client.ws.on("message", function(msg) {
                if (msg.action) {
                    var action = msg.action.toLowerCase();
                    if ("finished" === action && void 0 !== msg.rev) return client.emit([ action, msg.rev.toString() ], msg), 
                    client.emit(action, msg);
                    if ("cannot_find_synonym" === msg.error) {
                        var badSyn = {
                            synonyms: {
                                meanings: []
                            },
                            action: "synonyms",
                            id: msg.id,
                            type: "syn"
                        };
                        return client.emit("synonyms", badSyn);
                    }
                    if ("error" === action) return function(msg) {
                        var errs = capiErrors[msg.error];
                        if (!errs) return;
                        errs.intervals || (errs.intervals = [], errs.lastErrSent = 0);
                        errs.lastErr = Date.now(), errs.intervals.push(errs.lastErr), errs.intervals.length < errs.maxCount && (client.ws.reconnect(), 
                        client.start());
                        var lastErrInterval = errs.lastErr - errs.intervals[errs.intervals.length - (errs.maxCount + 1)] < 6e4;
                        errs.intervals.length > errs.maxCount && lastErrInterval && errs.lastErr - errs.lastErrSent > 6e4 && (client.emit(errs.emitMsg, {
                            msg: msg,
                            count: errs.intervals.length,
                            intervals: errs.intervals
                        }), errs.lastErrSent = errs.lastErr);
                        "not_authorized" === msg.error && errs.intervals.length > errs.maxCount && (errs.intervals = []);
                    }(msg), client.emit("capiError", msg);
                    if ("alert" === action && void 0 !== msg.rev) return client.emit([ action, msg.rev.toString() ], msg), 
                    client.emit(action, msg);
                    msg.id && client.emit([ action, msg.id ], msg), client.emit(action, msg);
                }
            }), client.on("start", function(msg) {
                client.emit("socketStart"), DEBUG && log.trace("Got START with sid " + msg.sid), 
                msg.sid && (client.options.sid = msg.sid);
            }), client.ws.connect(), client.start(), client.ws.on("connect", function() {
                client.emit("socketConnect"), ServiceStatus.setAvailable();
            }), client.ws.on("error", function(e) {
                ServiceStatus.checkOnline(), "disconnected" !== e && (client.emit("socketError", e), 
                wsErrorStatus || (failCount++, client.emit("socketFailCount", failCount)), wsErrorStatus = !0);
            }), client.ws.on("reconnect", function() {
                client.start(), client.emit("socketReconnect"), ServiceStatus.setAvailable(), wsErrorStatus && (client.emit("socketReconnectAfterError"), 
                wsErrorStatus = !1);
            }), client.ws.delegate(client, "disconnect"), client;
            function sendRev(op, msg, cb) {
                return msg.rev = client.rev++, isFunction(cb) && client.one([ "finished", msg.rev.toString() ], cb), 
                send(op, msg), msg.rev;
            }
            function send(op, msg, cb) {
                (msg = msg || {}).action = op, msg.id = client.messageId++;
                var start = +new Date();
                return client.one([ msg.action.toString(), msg.id.toString() ], function() {
                    isFunction(cb) && cb(msg), client.emit("stats:timing", {
                        key: "performance:capi_time",
                        value: +new Date() - start,
                        tags: [ "op:" + op ]
                    });
                }), client.ws.send(msg), msg.id;
            }
        }
    });
}, function(module, exports, __webpack_require__) {
    var emitter = __webpack_require__(18);
    "function" != typeof Object.assign && (Object.assign = function(target) {
        "use strict";
        if (null == target) throw new TypeError("Cannot convert undefined or null to object");
        for (var output = Object(target), index = 1; index < arguments.length; index++) {
            var source = arguments[index];
            if (null != source) for (var nextKey in source) source.hasOwnProperty(nextKey) && (output[nextKey] = source[nextKey]);
        }
        return output;
    });
    try {
        module.exports = function(options) {
            var socket, reconnectTimer, idleTimer, emiterQueueId, playTimerId, reconnectInProgress, DEBUG = !options.silentLogs, WebSocketClass = window.WebSocket || window.MozWebSocket, standByStatus = !1, activityTimer = null, connected = !1, closedByMe = !1, closeWhenConnected = !1, reconnectTime = 1e3, initialReconnectTime = 1e3, maxReconnectTime = 6e4, messageQueue = [], emiterQueue = [], isPaused = !1;
            options = Object.assign({}, {
                url: null,
                connectionTimeout: 1e3,
                idleTimeout: 3e5,
                useQueue: !1,
                useStandBy: !1,
                playDelay: 50,
                resetQueueOnReconnect: !1
            }, options);
            var ws = emitter({
                connect: connect,
                reconnect: function() {
                    reconnectInProgress || (reconnectInProgress = !0, ws.isConnected() ? (ws.one("disconnect", function() {
                        setTimeout(ws.connect.bind(null, !0), 0);
                    }), closedByMe = !0, ws.close()) : ws.connect(!0));
                },
                send: function(message) {
                    if (standByStatus) !function(message) {
                        if (hasPingPong(message)) return !1;
                        standByStatus && (standByStatus = !1, connect(!0));
                    }(message); else {
                        var strMessage = JSON.stringify(message);
                        messageQueue.push(strMessage), dequeue();
                    }
                },
                close: function() {
                    if (closedByMe = !0, log("explicit close requested"), !connected) return closeWhenConnected = !0;
                    try {
                        socket && socket.close(), reconnectTimer && (clearTimeout(reconnectTimer), reconnectTimer = null);
                    } catch (e) {
                        logError("socket closing bug", e.stack || e);
                    }
                    connected = !1, activityTimer && clearTimeout(activityTimer);
                },
                isConnected: function() {
                    return connected;
                },
                release: function() {
                    clearTimeout(reconnectTimer);
                },
                toString: function() {
                    return "[object WebSocket]";
                },
                wsPlay: function() {
                    clearTimeout(playTimerId), playTimerId = setTimeout(function() {
                        isPaused = !1, emiterWorker();
                    }, options.playDelay);
                },
                wsPause: function() {
                    clearTimeout(playTimerId), isPaused = !0;
                }
            });
            return ws;
            function connect(isReconnect) {
                ws.isConnected() || (log("connect to url: " + options.url), socket = new WebSocketClass(options.url), 
                closedByMe = !1, connected = !1, socket.onopen = function() {
                    reconnectTime = initialReconnectTime, connected = !0, closeWhenConnected && (closeWhenConnected = !1, 
                    ws.close()), isReconnect && options.resetQueueOnReconnect ? messageQueue = [] : dequeue(), 
                    ws.emit("connect"), isReconnect && (ws.emit("reconnect"), reconnectInProgress = !1);
                }, socket.onmessage = function(msg) {
                    DEBUG && console.log("%c Received: %s", "color: #46af91;", msg.data), activity(msg.data), 
                    function(msg) {
                        try {
                            msg = JSON.parse(msg);
                        } catch (e) {
                            logError(e.stack || e, msg);
                        }
                        options.useQueue ? (emiterQueue.push(msg), emiterWorker()) : ws.emit("message", msg);
                    }(msg.data);
                }, socket.onclose = function(reason) {
                    connected = !1, ws.emit("disconnect", reason), closedByMe || handleError("disconnected");
                }, socket.onerror = handleError, window.app && app.one("offline", function() {
                    connected && (ws.close(), app.one("online", function() {
                        ws.connect();
                    }));
                }));
            }
            function activity(msg) {
                options.useStandBy && msg && !hasPingPong(msg) && (clearTimeout(activityTimer), 
                activityTimer = setTimeout(function() {
                    ws.close(), standByStatus = !0, activityTimer = !1;
                }, options.useStandBy));
            }
            function hasPingPong(msg) {
                if (msg && "ping" == msg) return !0;
                var message, result = !1;
                try {
                    message = JSON.parse(msg);
                } catch (e) {}
                return message && ("ping" == message || message.action && "pong" == message.action) && (result = !0), 
                result;
            }
            function dequeue() {
                if (socket) for (;socket.readyState == WebSocketClass.OPEN && messageQueue.length; ) message = messageQueue.shift(), 
                DEBUG && console.log("%c Sending %s", "color:rgba(10, 10, 10, 0.6); font-size: 10px", message), 
                activity(message), socket.send(message), idleTimer && clearTimeout(idleTimer), idleTimer = setTimeout(ping, options.idleTimeout);
                var message;
            }
            function ping() {
                idleTimer = null, ws.send("ping");
            }
            function handleError(data) {
                logError("websocket error", data), ws.emit("error", data), data && data.target && [ WebSocketClass.CLOSING, WebSocketClass.CLOSED ].indexOf(data.target.readyState) > -1 || reconnectTimer || (connected && ws.close(), 
                log("try to reconnect in " + reconnectTime / 1e3 + "s"), reconnectTimer = setTimeout(function() {
                    reconnectTime = Math.min(maxReconnectTime, 1.5 * reconnectTime), reconnectTimer = null, 
                    connect(!0);
                }, reconnectTime));
            }
            function log() {
                DEBUG && console.log.apply(console, arguments);
            }
            function logError() {
                console.error.apply(console, arguments);
            }
            function emiterWorker() {
                emiterQueueId || isPaused || (emiterQueueId = 0 !== emiterQueue.length ? setTimeout(function() {
                    isPaused || ws.emit("message", emiterQueue.shift()), emiterQueueId = null, emiterWorker();
                }, options.useQueue) : null);
            }
        };
    } catch (e) {}
}, function(module, exports, __webpack_require__) {
    var castPath = __webpack_require__(83), last = __webpack_require__(441), parent = __webpack_require__(442), toKey = __webpack_require__(42);
    module.exports = function(object, path) {
        return path = castPath(path, object), null == (object = parent(object, path)) || delete object[toKey(last(path))];
    };
}, function(module, exports) {
    module.exports = function(array) {
        var length = null == array ? 0 : array.length;
        return length ? array[length - 1] : void 0;
    };
}, function(module, exports, __webpack_require__) {
    var baseGet = __webpack_require__(93), baseSlice = __webpack_require__(443);
    module.exports = function(object, path) {
        return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));
    };
}, function(module, exports) {
    module.exports = function(array, start, end) {
        var index = -1, length = array.length;
        start < 0 && (start = -start > length ? 0 : length + start), (end = end > length ? length : end) < 0 && (end += length), 
        length = start > end ? 0 : end - start >>> 0, start >>>= 0;
        for (var result = Array(length); ++index < length; ) result[index] = array[index + start];
        return result;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.sendBtnSelector = 'table .HE td div[role="button"][data-tooltip^="Send"].T-I', 
    exports.accountInfoSelector = ".gb_fa .gb_yb div.gb_Db, .gb_fa .gb_xb div.gb_Cb, .gb_fa .gb_Cb div.gb_Ib", 
    exports.senderElSelector = "form table .J-J5-Ji .J-JN-M-I-Jm span[dir]", exports.recipiantsTableSelector = "form[method=POST] table.GS", 
    exports.subjectInputSelector = 'input[name="subjectbox"]';
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var loggingDecorator_1 = __webpack_require__(1063);
    exports.LoggingDecorator = loggingDecorator_1.LoggingDecorator;
    var rules_1 = __webpack_require__(1064);
    exports.chooseRule = rules_1.chooseRule;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var stdlib_1 = __webpack_require__(4), Observable_1 = __webpack_require__(0), BehaviorSubject_1 = __webpack_require__(334), equals_1 = __webpack_require__(426), mutationObservable_1 = __webpack_require__(336);
    !function(Rect) {
        Rect.contains = function(point, rect) {
            return point.left >= rect.left && point.left <= rect.left + rect.width && point.top >= rect.top && point.top <= rect.top + rect.height;
        };
    }(exports.Rect || (exports.Rect = {})), exports.equals = equals_1.equals, function(ViewportRect) {
        ViewportRect.containsClientPoint = function(clientPoint, rect) {
            return clientPoint.left >= rect.clientLeft && clientPoint.left <= rect.clientLeft + rect.width && clientPoint.top >= rect.clientTop && clientPoint.top <= rect.clientTop + rect.height;
        };
    }(exports.ViewportRect || (exports.ViewportRect = {}));
    var ApproximateValue, ApproximateValueImpl = function() {
        function ApproximateValueImpl(_getImmediateValue, _observable, _compare) {
            var _this = this;
            this._getImmediateValue = _getImmediateValue, this._observable = _observable, this._compare = _compare, 
            this._subject = null, this.behavior = this._observable.distinctUntilChanged(this._compare).multicast(function() {
                return _this._subject = new BehaviorSubject_1.BehaviorSubject(_this._getImmediateValue()), 
                _this._subject;
            }).refCount(), this.getImmediate = this._getImmediateValue;
        }
        return ApproximateValueImpl.prototype.getApproximate = function() {
            return this._subject ? this._subject.getValue() : this._getImmediateValue();
        }, ApproximateValueImpl.prototype.map = function(f, compare) {
            var _this = this;
            return ApproximateValue.create(function() {
                return f(_this._getImmediateValue());
            }, this._observable, compare);
        }, ApproximateValueImpl;
    }();
    !function(ApproximateValue) {
        ApproximateValue.create = function(getImmediateValue, onChange, compare) {
            return new ApproximateValueImpl(getImmediateValue, onChange.map(getImmediateValue), compare);
        };
    }(ApproximateValue = exports.ApproximateValue || (exports.ApproximateValue = {})), 
    function(Point) {
        Point.zero = {
            top: 0,
            left: 0
        };
    }(exports.Point || (exports.Point = {})), exports.getPossibleScrollChange = function(target) {
        return Observable_1.Observable.merge(Observable_1.Observable.fromEvent(target, "scroll"), Observable_1.Observable.fromEvent(target, "mousewheel"), Observable_1.Observable.fromEvent(target, "touchmove"), mutationObservable_1.MutationObservable.create(target, {
            attributes: !1,
            childList: !0,
            subtree: !0,
            characterData: !0
        }), Observable_1.Observable.fromEvent(target, "keydown"), Observable_1.Observable.fromEvent(target, "keyup"));
    }, exports.getPadding = function(el) {
        var style = el.ownerDocument.defaultView.getComputedStyle(el);
        return {
            left: parseFloat(style.paddingLeft) || 0,
            top: parseFloat(style.paddingTop) || 0,
            right: parseFloat(style.paddingRight) || 0,
            bottom: parseFloat(style.paddingBottom) || 0
        };
    }, exports.idleRecalcIntervalMs = stdlib_1.Ms.hertz(5), exports.slowIdleRecalcIntervalMs = stdlib_1.Ms.seconds(2), 
    exports.idleZIndexRecalcIntervalMs = stdlib_1.Ms.second, exports.recalcThrottleIntervalMs = stdlib_1.Ms.hertz(45), 
    exports.mouseMoveSampleTimeMs = stdlib_1.Ms.hertz(30), exports.defaultGButtonMinPaddingPx = 4, 
    exports.genericGbuttonLayout = function(highlightsLayout, minPadding) {
        return void 0 === minPadding && (minPadding = exports.defaultGButtonMinPaddingPx), 
        {
            zIndex: highlightsLayout.zIndex.map(function(x) {
                return x + 1;
            }, exports.equals),
            position: highlightsLayout.rect.map(function(rect) {
                var effectivePaddingRight = Math.max(rect.padding.right, minPadding), effectivePaddingBottom = Math.max(rect.padding.bottom, minPadding);
                return {
                    top: rect.pageTop + rect.height - effectivePaddingBottom,
                    left: rect.pageLeft + rect.width - effectivePaddingRight,
                    effectivePadding: {
                        right: effectivePaddingRight,
                        bottom: effectivePaddingBottom,
                        left: rect.padding.left,
                        top: rect.padding.top
                    },
                    textFieldHeight: rect.height,
                    textFieldWidth: rect.width
                };
            }, exports.equals)
        };
    }, exports.genericHighlightZIndex = function(targetTextField) {
        return ApproximateValue.create(function() {
            return function getZIndexOf(target) {
                var raw = getComputedStyle(target).zIndex, parsed = "auto" !== raw && parseInt(raw || "0", 10) || null;
                return null !== parsed ? parsed : target.parentNode && target.parentNode.nodeType === Node.ELEMENT_NODE ? getZIndexOf(target.parentNode) : null;
            }(targetTextField) || 1;
        }, Observable_1.Observable.interval(exports.idleZIndexRecalcIntervalMs), exports.equals);
    };
}, , , , , , function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), fromEvent_1 = __webpack_require__(645);
    Observable_1.Observable.fromEvent = fromEvent_1.fromEvent;
}, function(module, exports, __webpack_require__) {
    "use strict";
    exports.isObject = function(x) {
        return null != x && "object" == typeof x;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, UnsubscriptionError = function(_super) {
        function UnsubscriptionError(errors) {
            _super.call(this), this.errors = errors;
            var err = Error.call(this, errors ? errors.length + " errors occurred during unsubscription:\n  " + errors.map(function(err, i) {
                return i + 1 + ") " + err.toString();
            }).join("\n  ") : "");
            this.name = err.name = "UnsubscriptionError", this.stack = err.stack, this.message = err.message;
        }
        return __extends(UnsubscriptionError, _super), UnsubscriptionError;
    }(Error);
    exports.UnsubscriptionError = UnsubscriptionError;
}, function(module, exports, __webpack_require__) {
    "use strict";
    exports.empty = {
        closed: !0,
        next: function(value) {},
        error: function(err) {
            throw err;
        },
        complete: function() {}
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), fromEventPattern_1 = __webpack_require__(647);
    Observable_1.Observable.fromEventPattern = fromEventPattern_1.fromEventPattern;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), from_1 = __webpack_require__(458);
    Observable_1.Observable.from = from_1.from;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var FromObservable_1 = __webpack_require__(459);
    exports.from = FromObservable_1.FromObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, isArray_1 = __webpack_require__(95), isArrayLike_1 = __webpack_require__(460), isPromise_1 = __webpack_require__(461), PromiseObservable_1 = __webpack_require__(462), IteratorObservable_1 = __webpack_require__(649), ArrayObservable_1 = __webpack_require__(136), ArrayLikeObservable_1 = __webpack_require__(650), iterator_1 = __webpack_require__(282), Observable_1 = __webpack_require__(0), observeOn_1 = __webpack_require__(344), observable_1 = __webpack_require__(343), FromObservable = function(_super) {
        function FromObservable(ish, scheduler) {
            _super.call(this, null), this.ish = ish, this.scheduler = scheduler;
        }
        return __extends(FromObservable, _super), FromObservable.create = function(ish, scheduler) {
            if (null != ish) {
                if ("function" == typeof ish[observable_1.observable]) return ish instanceof Observable_1.Observable && !scheduler ? ish : new FromObservable(ish, scheduler);
                if (isArray_1.isArray(ish)) return new ArrayObservable_1.ArrayObservable(ish, scheduler);
                if (isPromise_1.isPromise(ish)) return new PromiseObservable_1.PromiseObservable(ish, scheduler);
                if ("function" == typeof ish[iterator_1.iterator] || "string" == typeof ish) return new IteratorObservable_1.IteratorObservable(ish, scheduler);
                if (isArrayLike_1.isArrayLike(ish)) return new ArrayLikeObservable_1.ArrayLikeObservable(ish, scheduler);
            }
            throw new TypeError((null !== ish && typeof ish || ish) + " is not observable");
        }, FromObservable.prototype._subscribe = function(subscriber) {
            var ish = this.ish, scheduler = this.scheduler;
            return null == scheduler ? ish[observable_1.observable]().subscribe(subscriber) : ish[observable_1.observable]().subscribe(new observeOn_1.ObserveOnSubscriber(subscriber, scheduler, 0));
        }, FromObservable;
    }(Observable_1.Observable);
    exports.FromObservable = FromObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    exports.isArrayLike = function(x) {
        return x && "number" == typeof x.length;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    exports.isPromise = function(value) {
        return value && "function" != typeof value.subscribe && "function" == typeof value.then;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, root_1 = __webpack_require__(46), PromiseObservable = function(_super) {
        function PromiseObservable(promise, scheduler) {
            _super.call(this), this.promise = promise, this.scheduler = scheduler;
        }
        return __extends(PromiseObservable, _super), PromiseObservable.create = function(promise, scheduler) {
            return new PromiseObservable(promise, scheduler);
        }, PromiseObservable.prototype._subscribe = function(subscriber) {
            var _this = this, promise = this.promise, scheduler = this.scheduler;
            if (null == scheduler) this._isScalar ? subscriber.closed || (subscriber.next(this.value), 
            subscriber.complete()) : promise.then(function(value) {
                _this.value = value, _this._isScalar = !0, subscriber.closed || (subscriber.next(value), 
                subscriber.complete());
            }, function(err) {
                subscriber.closed || subscriber.error(err);
            }).then(null, function(err) {
                root_1.root.setTimeout(function() {
                    throw err;
                });
            }); else if (this._isScalar) {
                if (!subscriber.closed) return scheduler.schedule(dispatchNext, 0, {
                    value: this.value,
                    subscriber: subscriber
                });
            } else promise.then(function(value) {
                _this.value = value, _this._isScalar = !0, subscriber.closed || subscriber.add(scheduler.schedule(dispatchNext, 0, {
                    value: value,
                    subscriber: subscriber
                }));
            }, function(err) {
                subscriber.closed || subscriber.add(scheduler.schedule(dispatchError, 0, {
                    err: err,
                    subscriber: subscriber
                }));
            }).then(null, function(err) {
                root_1.root.setTimeout(function() {
                    throw err;
                });
            });
        }, PromiseObservable;
    }(__webpack_require__(0).Observable);
    function dispatchNext(arg) {
        var value = arg.value, subscriber = arg.subscriber;
        subscriber.closed || (subscriber.next(value), subscriber.complete());
    }
    function dispatchError(arg) {
        var err = arg.err, subscriber = arg.subscriber;
        subscriber.closed || subscriber.error(err);
    }
    exports.PromiseObservable = PromiseObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), of_1 = __webpack_require__(464);
    Observable_1.Observable.of = of_1.of;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var ArrayObservable_1 = __webpack_require__(136);
    exports.of = ArrayObservable_1.ArrayObservable.of;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), defer_1 = __webpack_require__(651);
    Observable_1.Observable.defer = defer_1.defer;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), publish_1 = __webpack_require__(654);
    Observable_1.Observable.prototype.publish = publish_1.publish;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Subject_1 = __webpack_require__(27), multicast_1 = __webpack_require__(177);
    exports.publish = function(selector) {
        return selector ? multicast_1.multicast(function() {
            return new Subject_1.Subject();
        }, selector) : multicast_1.multicast(new Subject_1.Subject());
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, SubjectSubscription = function(_super) {
        function SubjectSubscription(subject, subscriber) {
            _super.call(this), this.subject = subject, this.subscriber = subscriber, this.closed = !1;
        }
        return __extends(SubjectSubscription, _super), SubjectSubscription.prototype.unsubscribe = function() {
            if (!this.closed) {
                this.closed = !0;
                var subject = this.subject, observers = subject.observers;
                if (this.subject = null, observers && 0 !== observers.length && !subject.isStopped && !subject.closed) {
                    var subscriberIndex = observers.indexOf(this.subscriber);
                    -1 !== subscriberIndex && observers.splice(subscriberIndex, 1);
                }
            }
        }, SubjectSubscription;
    }(__webpack_require__(30).Subscription);
    exports.SubjectSubscription = SubjectSubscription;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subject_1 = __webpack_require__(27), Observable_1 = __webpack_require__(0), Subscriber_1 = __webpack_require__(6), Subscription_1 = __webpack_require__(30), refCount_1 = __webpack_require__(377), ConnectableObservable = function(_super) {
        function ConnectableObservable(source, subjectFactory) {
            _super.call(this), this.source = source, this.subjectFactory = subjectFactory, this._refCount = 0, 
            this._isComplete = !1;
        }
        return __extends(ConnectableObservable, _super), ConnectableObservable.prototype._subscribe = function(subscriber) {
            return this.getSubject().subscribe(subscriber);
        }, ConnectableObservable.prototype.getSubject = function() {
            var subject = this._subject;
            return subject && !subject.isStopped || (this._subject = this.subjectFactory()), 
            this._subject;
        }, ConnectableObservable.prototype.connect = function() {
            var connection = this._connection;
            return connection || (this._isComplete = !1, (connection = this._connection = new Subscription_1.Subscription()).add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(), this))), 
            connection.closed ? (this._connection = null, connection = Subscription_1.Subscription.EMPTY) : this._connection = connection), 
            connection;
        }, ConnectableObservable.prototype.refCount = function() {
            return refCount_1.refCount()(this);
        }, ConnectableObservable;
    }(Observable_1.Observable);
    exports.ConnectableObservable = ConnectableObservable;
    var connectableProto = ConnectableObservable.prototype;
    exports.connectableObservableDescriptor = {
        operator: {
            value: null
        },
        _refCount: {
            value: 0,
            writable: !0
        },
        _subject: {
            value: null,
            writable: !0
        },
        _connection: {
            value: null,
            writable: !0
        },
        _subscribe: {
            value: connectableProto._subscribe
        },
        _isComplete: {
            value: connectableProto._isComplete,
            writable: !0
        },
        getSubject: {
            value: connectableProto.getSubject
        },
        connect: {
            value: connectableProto.connect
        },
        refCount: {
            value: connectableProto.refCount
        }
    };
    var ConnectableSubscriber = function(_super) {
        function ConnectableSubscriber(destination, connectable) {
            _super.call(this, destination), this.connectable = connectable;
        }
        return __extends(ConnectableSubscriber, _super), ConnectableSubscriber.prototype._error = function(err) {
            this._unsubscribe(), _super.prototype._error.call(this, err);
        }, ConnectableSubscriber.prototype._complete = function() {
            this.connectable._isComplete = !0, this._unsubscribe(), _super.prototype._complete.call(this);
        }, ConnectableSubscriber.prototype._unsubscribe = function() {
            var connectable = this.connectable;
            if (connectable) {
                this.connectable = null;
                var connection = connectable._connection;
                connectable._refCount = 0, connectable._subject = null, connectable._connection = null, 
                connection && connection.unsubscribe();
            }
        }, ConnectableSubscriber;
    }(Subject_1.SubjectSubscriber), RefCountSubscriber = (function() {
        function RefCountOperator(connectable) {
            this.connectable = connectable;
        }
        RefCountOperator.prototype.call = function(subscriber, source) {
            var connectable = this.connectable;
            connectable._refCount++;
            var refCounter = new RefCountSubscriber(subscriber, connectable), subscription = source.subscribe(refCounter);
            return refCounter.closed || (refCounter.connection = connectable.connect()), subscription;
        };
    }(), function(_super) {
        function RefCountSubscriber(destination, connectable) {
            _super.call(this, destination), this.connectable = connectable;
        }
        return __extends(RefCountSubscriber, _super), RefCountSubscriber.prototype._unsubscribe = function() {
            var connectable = this.connectable;
            if (connectable) {
                this.connectable = null;
                var refCount = connectable._refCount;
                if (refCount <= 0) this.connection = null; else if (connectable._refCount = refCount - 1, 
                refCount > 1) this.connection = null; else {
                    var connection = this.connection, sharedConnection = connectable._connection;
                    this.connection = null, !sharedConnection || connection && sharedConnection !== connection || sharedConnection.unsubscribe();
                }
            } else this.connection = null;
        }, RefCountSubscriber;
    }(Subscriber_1.Subscriber));
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), filter_1 = __webpack_require__(656);
    Observable_1.Observable.prototype.filter = filter_1.filter;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), concat_1 = __webpack_require__(657);
    Observable_1.Observable.prototype.concat = concat_1.concat;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var concat_1 = __webpack_require__(285), concat_2 = __webpack_require__(285);
    exports.concatStatic = concat_2.concat, exports.concat = function() {
        for (var observables = [], _i = 0; _i < arguments.length; _i++) observables[_i - 0] = arguments[_i];
        return function(source) {
            return source.lift.call(concat_1.concat.apply(void 0, [ source ].concat(observables)));
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    exports.identity = function(x) {
        return x;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), distinct_1 = __webpack_require__(658);
    Observable_1.Observable.prototype.distinct = distinct_1.distinct;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13), Set_1 = __webpack_require__(659);
    exports.distinct = function(keySelector, flushes) {
        return function(source) {
            return source.lift(new DistinctOperator(keySelector, flushes));
        };
    };
    var DistinctOperator = function() {
        function DistinctOperator(keySelector, flushes) {
            this.keySelector = keySelector, this.flushes = flushes;
        }
        return DistinctOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new DistinctSubscriber(subscriber, this.keySelector, this.flushes));
        }, DistinctOperator;
    }(), DistinctSubscriber = function(_super) {
        function DistinctSubscriber(destination, keySelector, flushes) {
            _super.call(this, destination), this.keySelector = keySelector, this.values = new Set_1.Set(), 
            flushes && this.add(subscribeToResult_1.subscribeToResult(this, flushes));
        }
        return __extends(DistinctSubscriber, _super), DistinctSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.values.clear();
        }, DistinctSubscriber.prototype.notifyError = function(error, innerSub) {
            this._error(error);
        }, DistinctSubscriber.prototype._next = function(value) {
            this.keySelector ? this._useKeySelector(value) : this._finalizeNext(value, value);
        }, DistinctSubscriber.prototype._useKeySelector = function(value) {
            var key, destination = this.destination;
            try {
                key = this.keySelector(value);
            } catch (err) {
                return void destination.error(err);
            }
            this._finalizeNext(key, value);
        }, DistinctSubscriber.prototype._finalizeNext = function(key, value) {
            var values = this.values;
            values.has(key) || (values.add(key), this.destination.next(value));
        }, DistinctSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.DistinctSubscriber = DistinctSubscriber;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), multicast_1 = __webpack_require__(660);
    Observable_1.Observable.prototype.multicast = multicast_1.multicast;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), mergeMap_1 = __webpack_require__(661);
    Observable_1.Observable.prototype.mergeMap = mergeMap_1.mergeMap, Observable_1.Observable.prototype.flatMap = mergeMap_1.mergeMap;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), concatMap_1 = __webpack_require__(662);
    Observable_1.Observable.prototype.concatMap = concatMap_1.concatMap;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), startWith_1 = __webpack_require__(663);
    Observable_1.Observable.prototype.startWith = startWith_1.startWith;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var ArrayObservable_1 = __webpack_require__(136), ScalarObservable_1 = __webpack_require__(376), EmptyObservable_1 = __webpack_require__(137), concat_1 = __webpack_require__(285), isScheduler_1 = __webpack_require__(86);
    exports.startWith = function() {
        for (var array = [], _i = 0; _i < arguments.length; _i++) array[_i - 0] = arguments[_i];
        return function(source) {
            var scheduler = array[array.length - 1];
            isScheduler_1.isScheduler(scheduler) ? array.pop() : scheduler = null;
            var len = array.length;
            return 1 === len ? concat_1.concat(new ScalarObservable_1.ScalarObservable(array[0], scheduler), source) : len > 1 ? concat_1.concat(new ArrayObservable_1.ArrayObservable(array, scheduler), source) : concat_1.concat(new EmptyObservable_1.EmptyObservable(scheduler), source);
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), share_1 = __webpack_require__(664);
    Observable_1.Observable.prototype.share = share_1.share;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var multicast_1 = __webpack_require__(177), refCount_1 = __webpack_require__(377), Subject_1 = __webpack_require__(27);
    function shareSubjectFactory() {
        return new Subject_1.Subject();
    }
    exports.share = function() {
        return function(source) {
            return refCount_1.refCount()(multicast_1.multicast(shareSubjectFactory)(source));
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), observeOn_1 = __webpack_require__(665);
    Observable_1.Observable.prototype.observeOn = observeOn_1.observeOn;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var util_1 = __webpack_require__(2), message = __webpack_require__(16), logger_1 = __webpack_require__(1), METHODS = [ "info", "warn", "error", "time", "timeEnd", "debug" ], w = window, originalConsole = console;
    exports.disableConsoleLog = function() {
        if (logger_1.LogConfig.getGlobal().writer instanceof logger_1.ConsoleLogWriter && logger_1.LogConfig.updateGlobal({
            filterFn: logger_1.logLevelFilter("INFO")
        }), util_1.isEdge()) w.console.log = util_1._f, w.__BROWSERTOOLS_CONSOLE_SAFEFUNC = util_1._f; else {
            var newConsole_1 = {
                log: util_1._f
            };
            METHODS.forEach(function(method) {
                newConsole_1[method] = originalConsole[method];
            }), w.console = newConsole_1;
        }
    };
    var storedLogs = [];
    exports.setSeleniumCompatibility = function() {
        message.on("bg-log", function(obj) {
            var _a;
            (_a = console)[obj.method].apply(_a, __spread([ "BG LOG" ], obj.args));
        });
        var newConsole = {};
        METHODS.concat("log").forEach(function(method) {
            newConsole[method] = function() {
                for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
                try {
                    storedLogs.push({
                        method: method,
                        args: args
                    }), originalConsole[method](JSON.stringify(args));
                } catch (e) {}
            };
        }), w.console = newConsole;
    }, exports.flushLog = function() {
        var result = storedLogs.concat();
        return storedLogs.length = 0, result;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var felogPixel = __webpack_require__(139), telemetry_1 = __webpack_require__(140), status = {}, telemetry = new telemetry_1.Telemetry(felogPixel.sendEventPixel);
    exports.failover = function() {
        var pageLoadTimeout = 12e4, appLoadTimeout = 12e4;
        return {
            startPageLoadTimer: function() {
                setTimeout(failPageLoad, pageLoadTimeout), status.index_load = !1;
            },
            startAppLoadTimer: function() {
                setTimeout(failAppLoad, appLoadTimeout), status.app_load = !1;
            },
            success: function(name) {
                status[name] = !0;
            },
            setPageLoadTimeout: function(time) {
                return pageLoadTimeout = time;
            },
            setAppLoadTimeout: function(time) {
                return appLoadTimeout = time;
            }
        };
        function failPageLoad() {
            status.index_load || telemetry.pageLoadTimeout();
        }
        function failAppLoad() {
            status.app_load || telemetry.appLoadTimeout();
        }
    }();
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.UPDATE_CONNECTION = "connection/UPDATE_CONNECTION", exports.bgPageDown = function(reason) {
        return {
            type: exports.UPDATE_CONNECTION,
            data: {
                bgNotConnected: !0,
                online: !1
            },
            reason: reason,
            sync: !1
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var message = __webpack_require__(16), dom_1 = __webpack_require__(3), config_1 = __webpack_require__(10), tracking_1 = __webpack_require__(20), log = __webpack_require__(1).Logger.create("lib.external");
    function inject(str) {
        var script = document.createElement("script");
        script.innerHTML = str, document.head.appendChild(script), script.parentNode && script.parentNode.removeChild(script);
    }
    exports.setYoutubeComponentValue = function(id, txt) {
        inject("\n    var g__fieldEl = document.querySelector('iron-autogrow-textarea [data-gramm_id=\"" + id + "\"]')\n    if (\n        g__fieldEl &&\n        g__fieldEl.parentElement &&\n        g__fieldEl.parentElement.parentElement &&\n        g__fieldEl.parentElement.parentElement.parentElement &&\n        g__fieldEl.parentElement.parentElement.parentElement.tagName === 'IRON-AUTOGROW-TEXTAREA'\n      ) {\n        var g__txtEl = g__fieldEl.parentElement.parentElement.parentElement\n        g__txtEl.value = '" + txt + "'\n    }\n  ");
    }, exports.fireSalesforceChangeEvent = function(id, nodeName) {
        inject("\n    var g__fieldEl = document.querySelector('" + nodeName + '[data-gramm_id="' + id + "\"]')\n    if (g__fieldEl) {\n      g__fieldEl.dispatchEvent(new Event('change'))\n    }\n  ");
    }, exports.fireInputEvent = function(id, nodeName) {
        inject("\n    var g__fieldEl = document.querySelector('" + nodeName + '[data-gramm_id="' + id + "\"]')\n    if (g__fieldEl) {\n      g__fieldEl.dispatchEvent(new Event('input', { bubbles: true }))\n    }\n  ");
    }, exports.addExternalEventListeners = function() {
        tracking_1.initContentScript(), inject("window.GR_EXTENSION_ID='" + config_1.getUuid() + "'"), 
        inject("\n    window.GR_EXTENSION_SEND = function(key, data) {\n      if (!key) throw new TypeError('cant be called without message')\n      var e = document.createEvent('CustomEvent')\n      e.initCustomEvent('external:' + key, true, true, data)\n      document.dispatchEvent(e)\n    }\n  "), 
        config_1.externalEvents.map(function(e) {
            return "external:" + e;
        }).forEach(function(event) {
            return dom_1.on.call(document, event, function(_a) {
                var detail = _a.detail;
                log.trace("external event", {
                    event: event,
                    detail: detail
                }), message.emitBackground(event, detail);
            });
        });
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var util_1 = __webpack_require__(2), dom_1 = __webpack_require__(3), HintImpl = function() {
        function HintImpl(options) {
            var _this = this;
            this.hideDelay = 10, this.onshow = function(__el, __e) {}, this.onhide = util_1._f, 
            this.onmousemove = function(__event, _) {}, this.getCurrentEl = function(__event) {
                return __event.target;
            }, this.onInnerMouseMove = function(_) {}, this.inTarget = function(e) {
                var el = e.target;
                if (dom_1.parentHasClass(el, _this.cls) || dom_1.hasClass(el, _this.cls)) {
                    if (!_this.currentEl || _this.currentEl === el) return !0;
                    _this.fastHide();
                }
            }, this.bind = function(unbind, d) {
                return void 0 === d && (d = _this.doc), _this.doc2 && _this.doc2 !== d && _this.bind(unbind, _this.doc2), 
                dom_1.listen(d.body, "resize", _this.fastHide, unbind), dom_1.listen(d, {
                    gramMouse: _this.mousemove,
                    mousemove: _this.mousemove,
                    scroll: _this.fastHide
                }, util_1._f, unbind), dom_1.listen(d, "click", _this.click, unbind, !0), dom_1.listen(_this.hint, "mousemove", _this.innerMouseMove, unbind), 
                _this;
            }, this.setDocs = function(doc, doc2) {
                _this.unbind(), Object.assign(_this, {
                    doc: doc,
                    doc2: doc2
                }), _this.bind();
            }, this.unbind = function(d) {
                return _this.bind(!0, d);
            }, this.fastHide = function() {
                _this.onhide(), _this.cancelTimeout("show"), _this.cancelTimeout("hide"), _this.visible = !1, 
                _this.currentEl = null;
            }, this.innerMouseMove = function(e) {
                _this.onInnerMouseMove(e), e.preventDefault(), e.stopPropagation(), _this.cancelTimeout("hide");
            }, this.click = function(e) {
                return !_this.elInHint(e.target) && !_this.inTarget(e) && _this.fastHide();
            }, this.elInHint = function(el) {
                return el && (dom_1.inEl(el, _this.hint) || el === _this.hint);
            }, this.mousemove = function(e) {
                var el = _this.getCurrentEl(e);
                if ("IFRAME" !== el.tagName) {
                    if (e.detail && e.detail.id) {
                        var _el = document.querySelector("[data-gr-id='" + e.detail.id + "']");
                        _el && (e = {
                            target: el = _el,
                            clientX: e.detail.e.clientX,
                            clientY: e.detail.e.clientY
                        });
                    }
                    if (util_1.isSafari() && "mousemove" === e.type) {
                        if (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey) return void (_this.mouseMoveCoordinates = e.x + "-" + e.y);
                        if (_this.mouseMoveCoordinates === e.x + "-" + e.y) return;
                    }
                    if (_this.elInHint(el)) return _this.onmousemove(e, !0), _this.cancelTimeout("show"), 
                    void _this.cancelTimeout("hide");
                    if (!_this.inTarget(e)) return _this.onmousemove(e, !1), void (_this.visible ? _this.hide() : _this.cancelTimeout("show"));
                    _this.onmousemove(e, !0), _this.visible || (_this.show(e, el), _this.cancelTimeout("hide"), 
                    _this.currentEl = el);
                }
            }, this.show = function(e, el) {
                return _this.showTimeout ? _this : (_this.cancelTimeout("hide"), _this.showTimeout = setTimeout(function() {
                    _this.cancelTimeout("show"), (_this.elInHint(el) || _this.inTarget(e)) && (_this.visible = !0, 
                    _this.onshow(el, {
                        pageX: e.pageX,
                        pageY: e.pageY,
                        clientX: e.clientX,
                        clientY: e.clientY
                    }));
                }, _this.delay), _this);
            }, this.hide = function() {
                return _this.hideTimeout ? _this : (_this.hideTimeout = setTimeout(function() {
                    _this.onhide(), _this.visible = !1, _this.currentEl = null;
                }, _this.hideDelay), _this);
            }, Object.assign(this, options);
        }
        return HintImpl.prototype.cancelTimeout = function(name) {
            "show" === name && this.showTimeout ? (clearTimeout(this.showTimeout), this.showTimeout = null) : "hide" === name && this.hideTimeout && (clearTimeout(this.hideTimeout), 
            this.hideTimeout = null);
        }, HintImpl.prototype.setVisible = function(value) {
            this.visible = value, this.cancelTimeout("hide");
        }, HintImpl;
    }();
    exports.HintImpl = HintImpl;
}, function(module, exports) {}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5);
    exports.LogoIcon = function(_a) {
        var className = _a.className;
        return React.createElement("svg", {
            className: className,
            width: "18",
            height: "18",
            viewBox: "0 0 18 18"
        }, React.createElement("g", {
            transform: "translate(-7 -7)",
            fill: "none",
            fillRule: "evenodd"
        }, React.createElement("circle", {
            fill: "#15C39A",
            cx: "16",
            cy: "16",
            r: "9.008"
        }), React.createElement("path", {
            d: "M17.318 17.843c.052.297.335.504.64.504h.963l.56-.074c-.895 1.297-2.438 1.897-4.13 1.638-1.38-.214-2.566-1.14-3.065-2.437-1.134-2.942 1.03-5.75 3.84-5.75 1.468 0 2.75.852 3.49 1.882.193.304.58.385.864.185.267-.185.342-.533.178-.815-1.014-1.578-2.84-2.593-4.906-2.46-2.677.193-4.854 2.37-5.003 5.04-.18 3.103 2.295 5.637 5.382 5.637 1.618 0 3.065-.703 4.056-1.837l-.12.652v.585c0 .304.21.586.508.637.395.074.738-.23.738-.608v-3.52H17.93c-.38.008-.687.35-.612.74z",
            fill: "#FFF"
        })));
    }, exports.IgnoreIcon = function(_a) {
        var className = _a.className;
        return React.createElement("span", {
            className: className,
            dangerouslySetInnerHTML: {
                __html: '\n            <svg width="32" height="32" viewBox="0 0 32 32">\n              <defs>\n                <path d="M21,12.5 L21,20.1308289 C21,21.7154283 19.6513555,23 17.9996703,23 L14.0003297,23 C12.3432934,23 11,21.7124939 11,20.1308289 L11,12.5 L11,12.5" id="d70af4_ignoreIconUse"></path>\n                <mask data-mask-color="d70af4_ignoreIcon" id="d70af4_ignoreIconMask" x="-1" y="0" width="9.5" height="10.5">\n                  <use data-fix="d70af4_ignoreIcon" xlink:href="#d70af4_ignoreIconUse"/>\n                </mask>\n              </defs>\n              <g stroke="#D2D4DD" fill="none" fill-rule="evenodd">\n                <path d="M9 10.6h14" stroke-width="1.2"/>\n                <g stroke-width="1.2">\n                  <path d="M14.6 14v6M17.4 14v6"/>\n                </g>\n                <use mask="url(#d70af4_ignoreIconMask)" stroke-width="2.4" xlink:href="#d70af4_ignoreIconUse"/>\n                <path d="M18.5 11V9c0-1.1045695-.8982606-2-1.9979131-2h-1.0041738C14.3944962 7 13.5 7.8877296 13.5 9v2" stroke-width="1.2"/>\n              </g>\n            </svg>\n      '
            }
        });
    }, exports.DictionaryIcon = function(_a) {
        var className = _a.className;
        return React.createElement("span", {
            className: className,
            dangerouslySetInnerHTML: {
                __html: '\n        <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n          <defs>\n            <mask id="57da07_dictionaryIconMask" x="0" y="0" width="10" height="15" fill="#fff">\n              <path id="57da07_dictionaryIconUse" d="M11 9h10v15l-4.8857422-4L11 24z"/>\n            </mask>\n          </defs>\n          <use mask="url(#57da07_dictionaryIconMask)" xlink:href="#57da07_dictionaryIconUse" stroke-width="2.4" stroke="#D2D4DD" fill="none"/>\n        </svg>\n      '
            }
        });
    }, exports.DictionaryAddedIcon = function(_a) {
        var className = _a.className;
        return React.createElement("svg", {
            className: className,
            width: "15",
            height: "23",
            viewBox: "0 0 15 23"
        }, React.createElement("path", {
            d: "M14.773 22.573V.39h-14v22.183l7-5.326",
            fill: "#15C49A",
            fillRule: "evenodd"
        }));
    }, exports.WikiIcon = function(_a) {
        var className = _a.className;
        return React.createElement("svg", {
            className: className,
            width: "32",
            height: "32",
            viewBox: "0 0 32 32"
        }, React.createElement("path", {
            d: "M13.633 21l2.198-4.264L17.64 21h.633l3.756-8.643c.21-.485.62-.776 1.057-.842V11H20.05v.515c.402.09.83.24 1.02.666l-2.758 6.363c-.5-1.06-1.01-2.22-1.498-3.375.504-1.07.915-2.064 1.533-3.04.36-.576.948-.59 1.25-.618V11h-3.23v.51c.404 0 1.242.037.868.822l-.936 1.97-.993-2.19c-.155-.342.145-.57.635-.596L15.938 11h-3.633v.51c.433.015 1.043.013 1.268.38.694 1.274 1.158 2.598 1.79 3.898l-1.636 3.06-2.75-6.323c-.31-.713.425-.943.903-1.002L11.874 11H8v.51c.535.178 1.225.974 1.418 1.376 1.447 3.027 2.176 5.057 3.557 8.114h.658z",
            fill: "#D2D4DD",
            fillRule: "evenodd"
        }));
    }, exports.UndoIcon = function(_a) {
        var className = _a.className;
        return React.createElement("svg", {
            className: className,
            width: "32",
            height: "32",
            viewBox: "0 0 32 32"
        }, React.createElement("g", {
            stroke: "#D2D4DD",
            fill: "none",
            fillRule: "evenodd",
            strokeLinecap: "round"
        }, React.createElement("path", {
            d: "M11.518 8.412l-4.26 4.224L11.5 16.88"
        }), React.createElement("path", {
            d: "M16.192 22.236h4.23c2.642 0 4.784-2.147 4.784-4.783 0-2.642-2.15-4.784-4.787-4.784H8.1"
        })));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    }), __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), react_dom_1 = __webpack_require__(19), emitter = __webpack_require__(18), timers_1 = __webpack_require__(102), util_1 = __webpack_require__(2), events = __webpack_require__(352), tracking_1 = __webpack_require__(8), tracking_2 = __webpack_require__(20), position_1 = __webpack_require__(101), dom_1 = __webpack_require__(3), hint_1 = __webpack_require__(488), tooltip_1 = __webpack_require__(412), inline_cards_1 = __webpack_require__(680);
    __webpack_require__(495);
    exports.GR_TOOLTIP_EMPTY = "gr__tooltip_empty";
    var me = {}, Card = function(_super) {
        function Card(_a) {
            var _b = void 0 === _a ? {} : _a, _c = _b.doc, doc = void 0 === _c ? document : _c, _d = _b.domCls, domCls = void 0 === _d ? "" : _d, user = _b.user, _f = _b.isGDocs, isGDocs = void 0 !== _f && _f, _this = _super.call(this) || this;
            _this._isAnonymous = !1, _this._isGdocs = !1, _this._id = Symbol("GrammarCard"), 
            _this.show = function(el, e) {
                return _this.emit("show", el.id), _this.updatePos(el, e), _this._isGdocs && _this.listenGdocsKeyDown(), 
                timers_1.timers.start(me.id), tracking_1.felog.cardShowAction(), _this;
            }, _this.hide = function(_e, force) {
                if (void 0 === force && (force = !1), me.hint.visible || force) {
                    _this._isGdocs && _this.listenGdocsKeyDown(!1), me.container.el.style.display = "none", 
                    _this.setState({
                        animate: !1,
                        visible: !1,
                        match: {}
                    });
                    var notFoundSynCard = me.notfound && me.notfound.isEnabled();
                    if (me.notfound.disable(), me.notfound.hide(), me.hint.setVisible(!1), _this.emit("hide", _this.match || void 0), 
                    me.hint.currentEl && _this.removeLoading(me.hint.currentEl), timers_1.timers.stop(me.id), 
                    _this.match) _this.match.syn ? tracking_1.felog.synonymCardHideAction(notFoundSynCard) : tracking_1.felog.cardHideAction();
                    return notFoundSynCard && tracking_1.felog.synonymCardHideAction(notFoundSynCard), 
                    _this.match = null, me.container.el.style.display = "", _this;
                }
            }, _this.animHide = function() {
                return _this.setState({
                    animate: !0
                }), dom_1.once.call(me.el, dom_1.whichAnimationEndEvent(), _this.hide), _this;
            }, _this.openEditor = function() {
                me.hint.currentEl && _this.removeLoading(me.hint.currentEl), _this.emit("toeditor", _this.match ? _this.match.editorId : void 0), 
                _this.hide();
            }, _this.animateReplacement = function(matchId, replacement, visibleReplacement) {
                _this.emit("animateReplacement", {
                    matchId: matchId,
                    replacement: replacement,
                    visibleReplacement: visibleReplacement
                });
            }, _this.addToDict = function() {
                _this.setState({
                    addedToDict: !0
                }), _this.emit("addtodict", {
                    match: _this.match,
                    hide: _this.hide,
                    animHide: _this.animHide
                });
            }, _this.getCurrentEl = function(e) {
                var el = e.target, x = e.clientX, y = e.clientY;
                if (_this._isGdocs) {
                    var gDocsUnderline = _this.elementsFromPoint(x, y).find(function(x) {
                        return dom_1.hasClass(x, "kix-spelling-error-overlay-container");
                    });
                    gDocsUnderline && gDocsUnderline.childNodes[0] && (el = gDocsUnderline.childNodes[0]);
                }
                return el;
            }, _this.gdocsUnderlineParts = function(id) {
                return Array.from(me.doc.querySelectorAll("[data-gr-g='" + id + "']"));
            }, _this.inTarget = function(e) {
                var x = e.clientX, y = e.clientY, detail = e.detail, el = _this.getCurrentEl(e), curEl = me.hint.currentEl, check = (dom_1.parentHasClass(el, me.cls) || dom_1.hasClass(el, me.cls)) && (!curEl || !dom_1.hasClass(curEl, "g-selection-anim"));
                return !(!_this.elementsFromPoint(x, y).some(function(el) {
                    return dom_1.hasClass(el, me.cls);
                }) || !me.hint.visible || 1 !== detail) || (check ? curEl && curEl !== el ? (me.hint.fastHide(), 
                void _this.removeLoading(curEl)) : (_this.addLoading(el), !0) : void (!me.hint.visible && curEl && _this.removeLoading(curEl)));
            }, _this.isGdocsMainViewTarget = function(el) {
                return Boolean(dom_1.parentHasClass(el, "kix-paragraphrenderer"));
            }, _this.addLoading = function(el) {
                var els = [ el ];
                _this._isGdocs && _this.isGdocsMainViewTarget(el) && (els = _this.gdocsUnderlineParts(el.dataset.grG)), 
                els.forEach(function(el) {
                    return !dom_1.hasClass(el, me.pCls) && dom_1.addClass(el, me.pCls);
                });
            }, _this.removeLoading = function(el) {
                if (el) {
                    var els = [ el ];
                    _this._isGdocs && _this.isGdocsMainViewTarget(el) && (els = _this.gdocsUnderlineParts(el.dataset.grG)), 
                    els.forEach(function(el) {
                        dom_1.hasClass(el, me.pCls) && dom_1.removeClass(el, me.pCls), dom_1.hasClass(el, "g-selection-anim") && el.parentNode && el.parentNode.removeChild(el);
                    });
                }
            }, _this.showSynonyms = function(match) {
                return match.animEl && 0 !== match.animEl.getClientRects().length ? (me.hint.currentEl && _this.hide(), 
                me.hint.currentEl = match.animEl, match.synonyms && 0 === match.synonyms.meanings.length ? (me.notfound.enable(), 
                me.notfound.show({
                    posEl: match.animEl,
                    text: "No synonyms found",
                    outerIframe: me.iframe
                }), tracking_1.felog.synonymCardShowAction(!0)) : (_this.setData(match), _this.updatePos(match.animEl), 
                _this.setState({
                    visible: !0
                }), tracking_1.felog.synonymCardShowAction(!1)), tracking_2.gnar.synonymsPopupShow(), 
                me.hint.setVisible(!0), timers_1.timers.start(me.id), _this) : _this;
            }, _this.setOuterIframe = function(iframe) {
                var iframeDoc = iframe.contentDocument;
                !iframe || iframeDoc && iframe === me.iframe || (me.iframe = iframe, me.hint.setDocs(me.doc, iframeDoc));
            }, _this.fluidShow = function(rect, underlineThicknessOffset) {
                return _this.fluidUpdatePos(rect, underlineThicknessOffset), timers_1.timers.start(me.id), 
                tracking_1.felog.cardShowAction(), _this;
            }, _this._isGdocs = isGDocs, _this._isAnonymous = user.anonymous, _this._userType = user.type;
            var container = _this.render(_this._id, doc), el = react_dom_1.findDOMNode(container.component), hint = new hint_1.HintImpl({
                doc: doc,
                hint: el,
                hideDelay: 500,
                inTarget: _this.inTarget,
                cls: me.cls,
                delay: 400,
                onshow: _this.show,
                onhide: _this.hide,
                getCurrentEl: _this.getCurrentEl
            }).bind();
            return me = {
                id: _this._id,
                notfound: tooltip_1.createTooltip({
                    cls: dom_1.cs("gr-notfound-tooltip", exports.GR_TOOLTIP_EMPTY),
                    enabled: !1,
                    doc: doc
                }),
                windowEvents: {
                    keydown: _this.hide,
                    scroll: _this.hide,
                    resize: _this.hide
                },
                doc: doc,
                domCls: domCls,
                cls: "gr_",
                pCls: "gr-progress",
                container: container,
                el: el,
                hint: hint
            }, _this.hint = hint, events.on(me.windowEvents, null, !0), _this;
        }
        return __extends(Card, _super), Card.prototype.updateState = function(user) {
            this._isAnonymous = user.anonymous, this._userType = user.type;
        }, Card.prototype.listenGdocsKeyDown = function(isListen) {
            void 0 === isListen && (isListen = !0);
            var iframe = document.querySelector(".docs-texteventtarget-iframe");
            iframe && dom_1.listen(iframe.contentDocument, "keydown", this.hide, !isListen);
        }, Card.prototype.elementsFromPoint = function(x, y) {
            return x && y ? me.doc.elementsFromPoint ? me.doc.elementsFromPoint(x, y) : [ me.doc.elementFromPoint(x, y) ] : [];
        }, Card.prototype.setState = function(state) {
            me.container.component.setState(state);
        }, Card.prototype.setData = function(match, editorType) {
            return match ? (this.setState({
                match: match,
                visible: !0,
                addedToDict: !1
            }), this.match = match, this._editorType = editorType, this) : this;
        }, Card.prototype.updatePos = function(el, e) {
            if (null == el.parentNode) {
                if (!el.id) return void this.hide();
                var newEl = me.doc.querySelector(".gr_" + el.id);
                if (!newEl) return void this.hide();
                me.hint.currentEl = el = newEl;
            }
            var rect = position_1.getAllAbsRects(el, me.iframe), pos = Object.assign(position_1.posToRect(me.el, function(rects, e) {
                if (!rects) return;
                if (!rects.length) return rects;
                if (1 === rects.length || !e) return rects[0];
                var cur, x = e.pageX || e.clientX, y = e.pageY || e.clientY;
                return rects.forEach(function(r) {
                    var t = r.top, l = r.left, w = r.width, h = r.height;
                    y >= t && y <= t + h && x >= l && x <= l + w && (cur = r);
                }), cur || rects[0];
            }(rect, e)), {
                width: me.el.clientWidth,
                height: me.el.clientHeight
            });
            pos.rect.flip && (pos.rect.top = pos.rect.top + me.el.clientHeight), this.setState({
                pos: pos
            });
        }, Card.prototype.fluidUpdatePos = function(rect, underlineThicknessOffset) {
            var pos = Object.assign(position_1.posToRect(me.el, rect), {
                width: me.el.clientWidth,
                height: me.el.clientHeight
            });
            pos.rect.top = pos.rect.flip ? pos.rect.top + me.el.clientHeight - underlineThicknessOffset : pos.rect.top + underlineThicknessOffset, 
            this.setState({
                pos: pos
            });
        }, Card.prototype.render = function(id, doc) {
            var _this = this;
            void 0 === id && (id = this._id);
            var props = {
                isAnonymous: function() {
                    return _this._isAnonymous;
                },
                isGdocs: this._isGdocs,
                getUserType: function() {
                    return _this._userType;
                },
                getEditorType: function() {
                    return _this._editorType;
                },
                hide: this.hide,
                openEditor: this.openEditor,
                animateReplacement: this.animateReplacement,
                addToDict: this.addToDict
            };
            return dom_1.renderReactWithParent(React.createElement(inline_cards_1.PositionedCard, __assign({}, props)), doc.documentElement, id, "grammarly-card");
        }, Card.prototype.remove = function() {
            me.hint.unbind(), events.off(me.windowEvents, null, !0), me.container.remove();
        }, Card;
    }(util_1.createClass(emitter));
    exports.Card = Card;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var AlertGroup, alert_replacement_1 = __webpack_require__(682);
    exports.createReplacement = alert_replacement_1.createReplacement, exports.createSimpleReplacement = alert_replacement_1.createSimpleReplacement, 
    function(AlertGroup) {
        AlertGroup[AlertGroup.contextualSpelling = 0] = "contextualSpelling", AlertGroup[AlertGroup.grammar = 1] = "grammar", 
        AlertGroup[AlertGroup.sentenceStructure = 2] = "sentenceStructure", AlertGroup[AlertGroup.punctuation = 3] = "punctuation", 
        AlertGroup[AlertGroup.style = 4] = "style", AlertGroup[AlertGroup.plagiarism = 5] = "plagiarism", 
        AlertGroup[AlertGroup.synonym = 6] = "synonym", AlertGroup[AlertGroup.enhancement = 7] = "enhancement";
    }(AlertGroup = exports.AlertGroup || (exports.AlertGroup = {}));
    var alertGroupMap = {
        Spelling: AlertGroup.contextualSpelling,
        ContextualSpelling: AlertGroup.contextualSpelling,
        Grammar: AlertGroup.grammar,
        Style: AlertGroup.style,
        SentenceStructure: AlertGroup.sentenceStructure,
        Punctuation: AlertGroup.punctuation,
        Enhancement: AlertGroup.enhancement
    };
    exports.alertGroupFromString = function(stringGroup) {
        return void 0 !== alertGroupMap[stringGroup] ? alertGroupMap[stringGroup] : null;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, CardReplacementTemplate, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), function(CardReplacementTemplate) {
        CardReplacementTemplate[CardReplacementTemplate.single = 0] = "single", CardReplacementTemplate[CardReplacementTemplate.list = 1] = "list", 
        CardReplacementTemplate[CardReplacementTemplate.flatList = 2] = "flatList", CardReplacementTemplate[CardReplacementTemplate.empty = 3] = "empty";
    }(CardReplacementTemplate = exports.CardReplacementTemplate || (exports.CardReplacementTemplate = {})), 
    exports.isNoReplacement = function(replacements) {
        return !replacements || 0 === replacements.length;
    };
    var EmptyReplacement = function() {
        return function() {
            this.template = CardReplacementTemplate.empty, this.headerText = "";
        };
    }();
    exports.EmptyReplacement = EmptyReplacement;
    var CardReplacementSingle = function() {
        return function(headerText, _replacement, _onReplace) {
            var _this = this;
            this.headerText = headerText, this._replacement = _replacement, this._onReplace = _onReplace, 
            this.transform = this._replacement.transform, this.onReplace = function() {
                return _this._onReplace(_this._replacement.newText);
            }, this.template = CardReplacementTemplate.single;
        };
    }();
    exports.CardReplacementSingle = CardReplacementSingle;
    var CardReplacementList = function() {
        return function(headerText, replacements, _onReplace) {
            var _this = this;
            this.headerText = headerText, this.replacements = replacements, this._onReplace = _onReplace, 
            this.template = CardReplacementTemplate.list, this.getOnReplace = function(r) {
                return function() {
                    var transform;
                    _this._onReplace(r.newText, (transform = r.transform).slice(transform.findIndex(function(t) {
                        return "arrow" === t.type;
                    }) + 1).filter(function(t) {
                        return "delete" !== t.type;
                    }).map(function(t) {
                        return "insert" === t.type || "text" === t.type ? t.text : "";
                    }).join(""));
                };
            };
        };
    }();
    exports.CardReplacementList = CardReplacementList;
    var CardReplacementFlatList = function(_super) {
        function CardReplacementFlatList(headerText, replacements, _onReplace) {
            var _this = _super.call(this, headerText, replacements, _onReplace) || this;
            return _this.headerText = headerText, _this.template = CardReplacementTemplate.flatList, 
            _this;
        }
        return __extends(CardReplacementFlatList, _super), CardReplacementFlatList;
    }(CardReplacementList);
    exports.CardReplacementFlatList = CardReplacementFlatList;
}, function(module, exports) {
    module.exports = {
        title: "_9EJM3",
        replacement: "_3V1vk",
        singleReplacement: "CqeHJ",
        listItemReplacement: "oIVtG",
        sideCommas: "_2aBno",
        orReplacement: "_1hgJp",
        insertReplacement: "_3s6VN",
        longReplacement: "_3F4SX",
        didYouMean: "_3q2bI",
        wordPart: "_3PXDW",
        wordBeforeInsert: "_3mG9s",
        insertPart: "_20iAs",
        insertPunctuation: "_3tf0Q",
        deleteReplacement: "f5BVR",
        deletePart: "EOSY5",
        wordBeforeDelete: "_1dLoO",
        deletePunctuation: "_38q50",
        deleteColonOrSemicolon: "_1lr-c",
        deleteParenthesis: "Zn97q",
        deleteQuestion: "_3sepg",
        deleteExclamation: "_2sXqz",
        deletePeriod: "_2JCIo",
        deleteQuote: "_35lsr",
        deleteDash: "_3erki",
        deleteEllipsis: "_1CxzD",
        deleteQuoteWithPunctuation: "NQhg5",
        deleteApostrophe: "_1EcpD",
        deletePunctuationBeforeLetter: "_1uVis",
        deleteLetter: "XZyEb",
        deleteDoubleComma: "_1bXDc",
        insertQuestion: "_348pk",
        listReplacement: "GNypx",
        nextIsWord: "_3bzNu",
        arrowPart: "_9CB5Q",
        bold: "_3zUPi",
        orSeparator: "_3T5vg",
        didYouMeanLabel: "_1vq50",
        listItemReplacementNoHeader: "_3cecA",
        listItemReplacementWrapper: "_2ILMl",
        flattenListItemReplacementWrapper: "_17a8o"
    };
}, function(module, exports) {}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), location_1 = __webpack_require__(15), tracking_1 = __webpack_require__(185), dom_1 = __webpack_require__(3), components_1 = __webpack_require__(690), tracking_2 = __webpack_require__(8), tracking_3 = __webpack_require__(20), componentHeight = 160, xOffset = -10, yOffset = 15, Notifications = function() {
        function Notifications(_a) {
            var doc = _a.doc, actions = _a.actions, _this = this;
            this.containerClickHandler = function(e) {
                e.stopPropagation(), e.stopImmediatePropagation();
            }, this._getStyles = function() {
                var _a, transform = dom_1.transformProp(_this._doc), xTranslate = xOffset, yTranslate = yOffset - componentHeight;
                return Object.assign({}, ((_a = {})[transform] = "translate(" + xTranslate + "px, " + yTranslate + "px)", 
                _a));
            }, this._windowResize = function() {
                var styles = _this._getStyles();
                _this._component.setState(function() {
                    return {
                        styles: styles
                    };
                });
            }, this._doc = doc, this.actions = actions;
        }
        return Notifications.prototype._checkContainer = function() {
            this._container || (this._container = this._doc.createElement("g-notifications"), 
            this._container.addEventListener("click", this.containerClickHandler), this._doc.documentElement.appendChild(this._container));
        }, Notifications.prototype.showDisable = function() {
            this._show("disable");
        }, Notifications.prototype.showDisableOnTab = function() {
            this._show("disableOnTab");
        }, Notifications.prototype.showReminder = function() {
            this._show("reminder"), tracking_3.gnar.disableReminderNotificationShow();
        }, Notifications.prototype._show = function(type) {
            this._render(type), this.isActive = !0, dom_1.listen(window, "resize", this._windowResize, !1), 
            tracking_2.felog.notificationShown(type);
        }, Notifications.prototype.hide = function(type) {
            this.isActive = !1, this._container && ReactDOM.unmountComponentAtNode(this._container), 
            dom_1.unlisten(window, "resize", this._windowResize, !1), void 0 !== type && tracking_2.felog.notificationHide(type);
        }, Notifications.prototype._render = function(type) {
            var _this = this;
            this._checkContainer();
            var styles = this._getStyles(), domain = location_1.getDomain(), notification = React.createElement(components_1.NotificationComponent, {
                enableOnDomain: function() {
                    _this.actions.toggleSite(!0, domain), _this.remove(type), tracking_3.gnar.checkingToggleClick("reminder" === type ? "reminder" : "notification", location_1.isGdocsSite() ? tracking_1.SiteCategory.gdocs : tracking_1.SiteCategory.other, "on"), 
                    tracking_2.felog.toggleExtension(!0, "reminder" === type ? "reminder" : "notification");
                },
                disableReminder: function() {
                    return _this.actions.disableReminder(domain);
                },
                styles: styles,
                remove: function() {
                    return _this.remove(type);
                },
                type: type,
                domain: domain
            });
            this._component = ReactDOM.render(notification, this._container);
        }, Notifications.prototype.remove = function(type) {
            this.hide(type), this._container && (ReactDOM.unmountComponentAtNode(this._container), 
            this._container.removeEventListener("click", this.containerClickHandler)), this._container && this._container.parentNode && this._container.parentNode.removeChild(this._container);
        }, Notifications;
    }();
    exports.Notifications = Notifications;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    }), __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), input_1 = __webpack_require__(697), style = __webpack_require__(699), fields = [ {
        label: "Name",
        name: "name",
        type: "text"
    }, {
        label: "Email",
        name: "email",
        type: "text"
    }, {
        label: "Password",
        name: "password",
        type: "password"
    } ], Fieldset = function(_super) {
        function Fieldset() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends(Fieldset, _super), Fieldset.prototype.setFocus = function(field) {
            void 0 === field && (field = this.props.fields[0]);
            var input = this.refs[field].refs.input;
            if (input.focus(), input.value) {
                var len = input.value.length;
                input.setSelectionRange(len, len);
            }
        }, Fieldset.prototype.render = function() {
            var _this = this;
            return React.createElement("fieldset", {
                className: style.inputs
            }, React.createElement("input", {
                className: style.hidden,
                type: "text",
                name: "fakeusernameremembered"
            }), React.createElement("input", {
                className: style.hidden,
                type: "password",
                name: "fakepasswordremembered"
            }), fields.filter(function(_a) {
                var name = _a.name;
                return _this.props.fields.indexOf(name) > -1;
            }).map(function(field, i) {
                return React.createElement(input_1.Input, __assign({}, field, {
                    ref: field.name,
                    onInputChange: _this.props.onInputChange(field.name),
                    value: _this.props.formData[field.name],
                    validation: _this.props.validation[field.name],
                    onValidate: _this.props.onValidate(field.name),
                    forceValidation: _this.props.forceValidation,
                    fieldStyle: _this.props.fieldStyle,
                    key: i
                }));
            }));
        }, Fieldset;
    }(React.Component);
    exports.Fieldset = Fieldset;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function(resolve, reject) {
            function fulfilled(value) {
                try {
                    step(generator.next(value));
                } catch (e) {
                    reject(e);
                }
            }
            function rejected(value) {
                try {
                    step(generator.throw(value));
                } catch (e) {
                    reject(e);
                }
            }
            function step(result) {
                result.done ? resolve(result.value) : new P(function(resolve) {
                    resolve(result.value);
                }).then(fulfilled, rejected);
            }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }, __generator = this && this.__generator || function(thisArg, body) {
        var f, y, t, g, _ = {
            label: 0,
            sent: function() {
                if (1 & t[0]) throw t[1];
                return t[1];
            },
            trys: [],
            ops: []
        };
        return g = {
            next: verb(0),
            throw: verb(1),
            return: verb(2)
        }, "function" == typeof Symbol && (g[Symbol.iterator] = function() {
            return this;
        }), g;
        function verb(n) {
            return function(v) {
                return function(op) {
                    if (f) throw new TypeError("Generator is already executing.");
                    for (;_; ) try {
                        if (f = 1, y && (t = y[2 & op[0] ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                        switch (y = 0, t && (op = [ 0, t.value ]), op[0]) {
                          case 0:
                          case 1:
                            t = op;
                            break;

                          case 4:
                            return _.label++, {
                                value: op[1],
                                done: !1
                            };

                          case 5:
                            _.label++, y = op[1], op = [ 0 ];
                            continue;

                          case 7:
                            op = _.ops.pop(), _.trys.pop();
                            continue;

                          default:
                            if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                                _ = 0;
                                continue;
                            }
                            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                                _.label = op[1];
                                break;
                            }
                            if (6 === op[0] && _.label < t[1]) {
                                _.label = t[1], t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2], _.ops.push(op);
                                break;
                            }
                            t[2] && _.ops.pop(), _.trys.pop();
                            continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [ 6, e ], y = 0;
                    } finally {
                        f = t = 0;
                    }
                    if (5 & op[0]) throw op[1];
                    return {
                        value: op[0] ? op[1] : void 0,
                        done: !0
                    };
                }([ n, v ]);
            };
        }
    }, _this = this;
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var url_1 = __webpack_require__(90), util_1 = __webpack_require__(2), tracking_1 = __webpack_require__(8), tracking_2 = __webpack_require__(20), message = __webpack_require__(16);
    exports.validationMessages = {
        fail: "Something went wrong. Please try again later.",
        invalidUser: "Invalid email address/password combination.",
        required: "Required",
        shortPassword: "Use 6 characters or more",
        incorrectEmail: "Incorrect",
        emailExists: 'Already in use. Do you need to <a data-view="login">Log in</a>?'
    }, exports.validate = function(data, isSignupView) {
        var result = Object.keys(data).reduce(function(result, field) {
            var value = data[field];
            return value && "" !== value ? ("password" === field && isSignupView && value.length < 6 && (result[field] = exports.validationMessages.shortPassword), 
            "email" !== field || util_1.isValidEmail(value) || (result[field] = exports.validationMessages.incorrectEmail), 
            result) : (result[field] = exports.validationMessages.required, result);
        }, {});
        return result._valid = 0 === Object.keys(result).length, result;
    }, exports.extendWithServerValidation = function(validation, response) {
        if (!response.error) return Object.assign({}, validation, {
            _valid: !0
        });
        var error, email, parsed = {};
        try {
            parsed = JSON.parse(response.error);
        } catch (e) {}
        return "Conflict" === response.error || "already_exists" === parsed.error || "USE_EMAIL_LOGIN" === parsed.error ? email = error = exports.validationMessages.emailExists : error = "Unauthorized" === response.error || "user_not_authorized" === parsed.error ? exports.validationMessages.invalidUser : exports.validationMessages.fail, 
        Object.assign({}, validation, {
            error: error,
            email: email,
            _valid: !1
        });
    }, exports.sendAuthRequest = function(form, v, isSignUp, placement) {
        return __awaiter(_this, void 0, void 0, function() {
            var type, response, e_1;
            return __generator(this, function(_a) {
                switch (_a.label) {
                  case 0:
                    type = isSignUp ? "signup" : "signin", _a.label = 1;

                  case 1:
                    return _a.trys.push([ 1, 3, , 4 ]), [ 4, message.promiseBackground(type, {
                        form: form,
                        placement: placement
                    }) ];

                  case 2:
                    return response = _a.sent(), [ 3, 4 ];

                  case 3:
                    return (e_1 = _a.sent()).message && e_1.message.includes("rejected by timeout") && tracking_1.felog.loginNoBgPageConnection(e_1.message), 
                    response = {
                        error: !0
                    }, [ 3, 4 ];

                  case 4:
                    return [ 2, exports.extendWithServerValidation(v, response) ];
                }
            });
        });
    }, exports.getResetPassLink = function(email) {
        return url_1.getResetPasswordURL() + (email ? "&email=" + encodeURIComponent(email) : "");
    }, exports.goPremium = function() {
        tracking_2.gnar.getPremiumButtonClick("afterSignUp"), message.emitBackground("open-url", url_1.getUpgradeURL("upHook", "anonPopupCard"));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), style = __webpack_require__(700), dom_1 = __webpack_require__(3), util_1 = __webpack_require__(2), react_1 = __webpack_require__(22), button_1 = __webpack_require__(202);
    exports.Welcome = function(_a) {
        var _b, isShow = _a.isShow, onClose = _a.onClose, onGoPremium = _a.onGoPremium, isExperiment = _a.isExperiment, classes = dom_1.cs(((_b = {})[style.welcome] = !0, 
        _b[style.show] = isShow, _b[style.experiment] = isExperiment, _b[style.windows] = util_1.isWindows(), 
        _b));
        return React.createElement("div", {
            className: classes
        }, React.createElement("div", {
            className: style.image
        }), React.createElement("div", {
            className: style.content
        }, React.createElement("div", {
            className: style.title
        }, "Welcome to Grammarly"), React.createElement("div", {
            className: style.text
        }, isExperiment ? "Write with confidence across the web." : React.createElement("div", null, "Wave good-bye to the most frequent and pesky ", React.createElement("br", null), "writing mistakes.")), React.createElement("div", {
            className: style.goPremium
        }, React.createElement("span", {
            className: style.checks
        }, isExperiment ? React.createElement("span", null, "Go Premium and access over 400 types", React.createElement("br", null), "of checks and features.") : React.createElement("span", null, "Go Premium and get 150+ additional", React.createElement("br", null), " advanced checks.")), " ", React.createElement(react_1.GenericButton, {
            clickHandler: onGoPremium
        }, React.createElement("a", {
            className: style.learnMore
        }, "Learn more"))), React.createElement("div", {
            className: style.close
        }, React.createElement(button_1.Button, {
            onClick: onClose,
            text: "Continue to Your Text"
        }))));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), style = __webpack_require__(703), LoginSuccess = function(_super) {
        function LoginSuccess() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends(LoginSuccess, _super), LoginSuccess.prototype.componentDidMount = function() {
            this.props.onClose && setTimeout(this.props.onClose, 1700);
        }, LoginSuccess.prototype.render = function() {
            return React.createElement("div", {
                className: style.loginSuccess
            }, this.props.username ? React.createElement("div", {
                className: style.label
            }, "Welcome back, ", React.createElement("span", {
                className: style.name
            }, this.props.username), "!") : React.createElement("div", {
                className: style.label
            }, "Welcome back!"));
        }, LoginSuccess;
    }(React.Component);
    exports.LoginSuccess = LoginSuccess;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var abstractRules_1 = __webpack_require__(502), legacy_1 = __webpack_require__(727), gdocs_1 = __webpack_require__(1061), generic_1 = __webpack_require__(1062), rules_1 = __webpack_require__(1065), FluidFieldRules = __webpack_require__(1075), elements_1 = __webpack_require__(415), socket_1 = __webpack_require__(612), tracking_1 = __webpack_require__(8), tracking_2 = __webpack_require__(20), message = __webpack_require__(16), util_1 = __webpack_require__(2);
    function generic(ctx, state, actions, app, rules) {
        var legacyData = {
            actions: actions,
            app: app,
            createSocket: new socket_1.ContentScriptSocketManager(tracking_1.felog, message).createSocket,
            gnar: tracking_2.gnar,
            felog: tracking_1.felog
        };
        return new generic_1.GenericPageIntegration(ctx, state, legacyData, rules);
    }
    function genericFluid(ctx, state, actions, app, rules) {
        return void 0 === rules && (rules = [ FluidFieldRules.Generic.contentEditable(), FluidFieldRules.Generic.iframe() ]), 
        app.initialized || elements_1.AppElements.init(app, {
            doc: ctx.doc,
            user: state.user,
            page: state.page,
            actions: actions
        }), generic(ctx, state, actions, app, rules);
    }
    exports.getPageIntegrationRules = function(state, actions, app) {
        return [ {
            canExecute: function(ctx) {
                return /^https?:\/\/docs\.google\.com\/document\/.*$/.test(ctx.url);
            },
            execute: function(ctx) {
                return function(ctx, state, actions, app) {
                    return new gdocs_1.GDocsPageIntegration(function() {
                        return new legacy_1.LegacyPageIntegration(ctx.doc, state, app, actions);
                    }, state.user);
                }(ctx, state, actions, app);
            }
        }, null, null, {
            canExecute: function(ctx) {
                return !!state.user.experiments && state.user.experiments.fluidSlackDogfoodEnabled && /^\S+\.slack\.com$/.test(ctx.domain);
            },
            execute: function(ctx) {
                return genericFluid(ctx, state, actions, app, FluidFieldRules.Slack.all());
            }
        }, null, {
            canExecute: function(_ctx) {
                return window.gr_newArchitectureEnabled = util_1.normalizedHashCode(state.user.id, 100) < 50, 
                window.gr_newArchitectureEnabled;
            },
            execute: function(ctx) {
                return function(ctx, state, actions, app) {
                    return generic(ctx, state, actions, app, rules_1.getFieldIntegrationRules());
                }(ctx, state, actions, app);
            }
        }, {
            canExecute: function(_ctx) {
                return !0;
            },
            execute: function(ctx) {
                return new legacy_1.LegacyPageIntegration(ctx.doc, state, app, actions);
            }
        } ].filter(function(x) {
            return null !== x;
        }).map(function(x) {
            return x;
        });
    }, exports.chooseRule = function(ctx, rules) {
        var integrationRule = abstractRules_1.firstMatchRule(ctx, rules);
        if (void 0 !== integrationRule) return integrationRule;
        throw new Error("Integration rule for " + ctx.url + " was not found");
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.firstMatchRule = function(input, rules) {
        return rules.find(function(r) {
            return r.canExecute(input);
        });
    };
}, function(module, exports, __webpack_require__) {
    var SetCache = __webpack_require__(125), arrayIncludes = __webpack_require__(355), arrayIncludesWith = __webpack_require__(356), arrayMap = __webpack_require__(85), baseUnary = __webpack_require__(79), cacheHas = __webpack_require__(126), LARGE_ARRAY_SIZE = 200;
    module.exports = function(array, values, iteratee, comparator) {
        var index = -1, includes = arrayIncludes, isCommon = !0, length = array.length, result = [], valuesLength = values.length;
        if (!length) return result;
        iteratee && (values = arrayMap(values, baseUnary(iteratee))), comparator ? (includes = arrayIncludesWith, 
        isCommon = !1) : values.length >= LARGE_ARRAY_SIZE && (includes = cacheHas, isCommon = !1, 
        values = new SetCache(values));
        outer: for (;++index < length; ) {
            var value = array[index], computed = null == iteratee ? value : iteratee(value);
            if (value = comparator || 0 !== value ? value : 0, isCommon && computed == computed) {
                for (var valuesIndex = valuesLength; valuesIndex--; ) if (values[valuesIndex] === computed) continue outer;
                result.push(value);
            } else includes(values, computed, comparator) || result.push(value);
        }
        return result;
    };
}, function(module, exports, __webpack_require__) {
    var baseGetTag = __webpack_require__(23), isObjectLike = __webpack_require__(17), numberTag = "[object Number]";
    module.exports = function(value) {
        return "number" == typeof value || isObjectLike(value) && baseGetTag(value) == numberTag;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), dom_1 = __webpack_require__(3), sites_1 = __webpack_require__(67), editor_1 = __webpack_require__(731), tracking_1 = __webpack_require__(8), location_1 = __webpack_require__(15), infinity_checker_1 = __webpack_require__(1044), error_tooltip_1 = __webpack_require__(1045), util_1 = __webpack_require__(2), pos_1 = __webpack_require__(1046), path_1 = __webpack_require__(1050), menu_1 = __webpack_require__(1051), state_1 = __webpack_require__(1055), view_1 = __webpack_require__(1056), popup_1 = __webpack_require__(1057), field_type_detect_1 = __webpack_require__(204), email_summarization_1 = __webpack_require__(1058), style = __webpack_require__(357), log = (__webpack_require__(489), 
    __webpack_require__(1).Logger.create("lib.buttons.button"));
    exports.Button = function(_a) {
        var container, el, tooltip, infCheck, gButtonPopup, _isFieldHovered, pos, editor, cancelCheckingTimeout, withinBtnPath, showingTimeout, resetCustomCss, emailSummarization, app = _a.app, user = _a.user, page = _a.page, connection = _a.connection, field = _a.field, type = _a.type, actions = _a.actions, createSocket = _a.createSocket, menu = void 0, inlineStyle = {
            visibility: "hidden"
        }, doc = field.ownerDocument, isGdocs = "gdocs" === type, focusEl = "iframe" === type ? function(field) {
            var id = util_1.guid(), frame = field;
            dom_1.setGRAttributes(frame, id), frame.setAttribute("gramm-ifr", "true");
            var frameDoc = frame.contentDocument;
            return dom_1.addIframeCss(frameDoc, field_type_detect_1.getFieldType(field)), dom_1.setGRAttributes(frameDoc.body, id), 
            frame.setAttribute("spellcheck", "false"), frameDoc.body.setAttribute("spellcheck", "false"), 
            frame.style.height = frame.style.height || getComputedStyle(frame).height, frameDoc.body;
        }(field) : field, _isFieldEmpty = 0 === (field.value || field.textContent || "").trim().length, _custom = !1, _isHovered = !1, _visible = !1, _show = !1, _minimized = !1, _wasMinimized = !1, _isEditorInited = !1, _fieldWasFocused = !1, _user = user, _page = page, _connection = connection, _anonymous = user.anonymous, _premium = user.premium, fixes = sites_1.pageStyles(doc).getFixesForCurrentDomain(), fieldState = state_1.State(page.disabledFields, actions.toggleField), posSourceEl = field, _checking = !1, _offline = !_connection.online, _enabled = !0, loginReminderPopupWasShown = !1, changeConnectionState = function(online) {
            _offline !== !online && (_offline = !online, pos && pos.set("minimize", online), 
            update(), editor && editor[_offline ? "offline" : "online"](), _enabled && tooltip && tooltip[_offline ? "enable" : "disable"]());
        }, changeFieldState = function(enabled) {
            if (_enabled !== enabled) {
                var goingToEnable = enabled && !_enabled, refreshInDom = util_1.isSafari() && goingToEnable;
                _enabled = enabled, fieldState.changeFieldState(field, posSourceEl, !enabled), pos && pos.set("maximize", enabled), 
                enabled ? (menu.hide(), createEditor()) : editorRemove(), update(), refreshInDom && (el.style.display = "none", 
                util_1.asyncCall(function() {
                    return el.style.display = "";
                }));
            }
        }, start = function() {
            dom_1.unlisten(focusEl, "focus", start), render();
        }, me = {
            online: function() {
                return changeConnectionState(!0);
            },
            offline: function() {
                return changeConnectionState(!1);
            },
            enable: function() {
                return changeFieldState(!0);
            },
            disable: function() {
                return changeFieldState(!1);
            },
            remove: function() {
                editorRemove(), pos && pos.remove(), menu && menu.remove(), menu && menu.unbind(), 
                emailSummarization && emailSummarization.unload(), gButtonPopup && gButtonPopup.remove(), 
                dom_1.unlisten(el, "click", onclick), dom_1.unlisten(focusEl, "focus", start), dom_1.unlisten(focusEl, "blur", onblur), 
                fixes.stopImmediatePropagationForClick && dom_1.unlisten(field, "click", stopImmediatePropagationForClick), 
                tooltip && tooltip.remove(), resetCustomCss && resetCustomCss(), container && container.parentNode && container.parentNode.removeChild(container);
            },
            getEl: function() {
                return el;
            },
            getState: getState,
            updateState: function(_a) {
                var user = _a.user, connection = _a.connection, page = _a.page;
                _anonymous = user.anonymous, _premium = user.premium, _user = user, _page = page, 
                _connection = connection, changeConnectionState(connection.online), editor && editor.updateState({
                    user: user,
                    connection: connection,
                    page: page
                }), function(updatedUser) {
                    if (gButtonPopup) {
                        var isLoginReminderPopup = "loginReminder-free" === gButtonPopup.type || "loginReminder-premium" === gButtonPopup.type;
                        !1 === updatedUser.anonymous && isLoginReminderPopup && gButtonPopup.hide();
                    }
                }(_user), update();
            },
            getPosState: getPosState,
            onViewClick: onViewClick,
            onChangeState: onChangeState,
            show: show,
            hide: hide,
            update: update,
            checking: checking,
            cancelChecking: cancelChecking,
            initialized: !1
        };
        return dom_1.isFocused(focusEl) || isGdocs ? start() : dom_1.listen(focusEl, "focus", start, !1), 
        me;
        function init() {
            container = doc.createElement("grammarly-btn"), el = ReactDOM.findDOMNode(_render()), 
            function() {
                var style = {
                    "z-index": (parseInt(dom_1.css(field, "z-index"), 10) || 1) + 1
                }, customContainer = fixes.btnCustomContainer && fixes.btnCustomContainer(field);
                if (customContainer) {
                    _custom = !0, posSourceEl = customContainer;
                    var customStyles = fixes.btnCustomStyles && fixes.btnCustomStyles(!0, field);
                    customStyles && Object.assign(style, customStyles);
                }
                dom_1.insertAfter(container, posSourceEl), onpos(style);
            }(), me.initialized = !0, pos = new pos_1.Pos({
                btnEl: el,
                fieldEl: field,
                custom: _custom,
                sourceEl: posSourceEl,
                isTextarea: "textarea" === type,
                initCondition: _enabled
            }, onpos, onChangeState), withinBtnPath = path_1.getWithinButtonPath({
                editorEl: field,
                btnEl: el,
                padding: 15
            }), menu = menu_1.createMenu({
                el: el,
                editor: editor,
                enabled: _enabled,
                user: _user,
                btn: me,
                gButtonPopup: gButtonPopup
            }, function(isMenuHovered) {
                _isHovered = isMenuHovered, !0 === isMenuHovered && function() {
                    if (gButtonPopup) {
                        var showLoginReminder = !me.getState().offline && _page.showLoginReminder && pos.max;
                        !1 === loginReminderPopupWasShown && showLoginReminder && (gButtonPopup.showLoginReminder(_page.loginReminderType || "free"), 
                        loginReminderPopupWasShown = !0);
                    }
                }(), render();
            }), tooltip = error_tooltip_1.createErrorTooltip({
                el: el,
                win: window
            }), menu.bind(), dom_1.listen(el, "click", onclick, !1), dom_1.listen(focusEl, "blur", onblur, !1), 
            toggle({
                target: focusEl
            }), createEditor(), fixes.fieldParentCustomStyle && (resetCustomCss = dom_1.setCustomCss(field.parentNode, fixes.fieldParentCustomStyle(field))), 
            fixes.stopImmediatePropagationForClick && fixes.stopImmediatePropagationForClick(field) && dom_1.listen(field, "click", stopImmediatePropagationForClick), 
            _offline && me.offline();
        }
        function createEditor() {
            if (_fieldWasFocused = !0, _isFieldHovered = !0, _show = !0, _enabled) {
                if (!_isEditorInited) {
                    _isEditorInited = !0;
                    try {
                        editor = editor_1.createGrammarlyEditor({
                            app: app,
                            doc: doc,
                            connection: _connection,
                            page: _page,
                            user: _user,
                            type: type,
                            field: field,
                            actions: actions,
                            createSocket: createSocket
                        }), infCheck = infinity_checker_1.infinityChecker(fullEditorReset, me.offline), 
                        editorListeners("on"), editor.run(), menu.updateEditor(editor), pos.set("minimize", !_offline), 
                        pos.set("editor", editor);
                    } catch (e) {
                        log.error(e), me.offline();
                    }
                    update(), gButtonPopup = new popup_1.Popup({
                        doc: doc,
                        el: el,
                        editor: editor,
                        user: user,
                        actions: actions,
                        notifications: app.notifications
                    }), menu.setGbuttonPopup(gButtonPopup), !me.getState().offline && _page.showOnboarding && pos.max && (gButtonPopup.showOnboarding(), 
                    actions.seenOnboarding()), location_1.isGmailSite() && user.experiments && user.experiments.emailSummarization && !0 !== page.emailSummarizationDisabled && (emailSummarization = new email_summarization_1.EmailSummarization(editor, el, gButtonPopup, actions.disableEmailSummarization));
                    try {
                        var editorType = field_type_detect_1.getFieldType(field);
                        tracking_1.felog.initSession(location_1.getDomain(), user.type, editorType, !0);
                    } catch (err) {}
                }
            } else update();
        }
        function editorListeners(method) {
            void 0 === method && (method = "on"), editor[method]("finish", onfinish), editor[method]("rendered", update), 
            editor[method]("sending", checking), editor[method]("show-dialog", cancelChecking);
        }
        function onfinish() {
            cancelChecking(), update();
        }
        function onclick() {
            editor && editor.isOffline() && tooltip.fastShow();
        }
        function stopImmediatePropagationForClick(e) {
            e.stopImmediatePropagation();
        }
        function onblur(e) {
            _visible && dom_1.isFocused(focusEl) && toggle(e);
        }
        function onpos(data) {
            Object.assign(inlineStyle, data), render();
        }
        function onChangeState() {
            _minimized = !getPosState(), _wasMinimized = !0, menu && menu.hide();
        }
        function onViewClick(e) {
            _offline || (focusEl.focus(), dom_1.hasClass(e.target, style.status) && menu.show(!0));
        }
        function render() {
            container || init(), _render();
        }
        function fullEditorReset() {
            editor.reset(), editor.hardReset();
        }
        function _render() {
            return ReactDOM.render(React.createElement(view_1.ButtonComponent, {
                state: getState(),
                inlineStyle: inlineStyle,
                onViewClick: function(e) {
                    return onViewClick(e);
                }
            }), container);
        }
        function toggle(e) {
            if (!dom_1.isFocused(focusEl) && _isFieldHovered) {
                if (withinBtnPath(e)) return void show();
                _isFieldHovered = !1;
            }
            if (e.target !== focusEl) return hide();
            if (function(target, el, focusEl) {
                return dom_1.isFocused(focusEl) || target === focusEl || dom_1.isParent(target, focusEl) || target === el || dom_1.isParent(target, el);
            }(e.target, el, focusEl)) _isFieldHovered = !0, show(); else {
                if (0 === (target = e.target).className.indexOf("gr-") || dom_1.resolveEl(target, style.textarea_btn) || dom_1.resolveEl(target, "gr__tooltip")) return;
                hide();
            }
            var target;
        }
        function showAction() {
            _visible = !0, _show = !0, el && "0" === el.style.opacity && (el.style.opacity = "1"), 
            update();
        }
        function show() {
            _visible || (_enabled ? showAction() : showingTimeout = setTimeout(showAction, 150));
        }
        function hide() {
            _visible && (clearTimeout(showingTimeout), menu && menu.isOpened() ? el.style.opacity = "0" : (_visible = !1, 
            _show = !1, update()));
        }
        function checking() {
            _offline || (clearTimeout(cancelCheckingTimeout), clearTimeout(cancelCheckingTimeout), 
            editor && !editor.getText().trim() || _checking || (_checking = !0, infCheck && infCheck.start(), 
            _visible || toggle({
                target: focusEl
            }), update()));
        }
        function cancelChecking() {
            clearTimeout(cancelCheckingTimeout), infCheck && infCheck.finish(), cancelCheckingTimeout = setTimeout(timeoutedCancelChecking, 200);
        }
        function timeoutedCancelChecking() {
            _checking = !1, update();
        }
        function editorRemove() {
            editor && (infCheck && infCheck.finish(), _isEditorInited = !1, editor.remove(), 
            editorListeners("off"));
        }
        function update() {
            var data = editor && editor.errorData() || {};
            data.enabled = _enabled, data.checking = _checking, data.anonymous = _anonymous, 
            data.premium = _premium, data.user = _user, data.fieldWasFocused = _fieldWasFocused, 
            menu && menu.update(data), pos && pos.set("show", _show), !0 === me.initialized && render();
        }
        function getPosState() {
            return pos.max;
        }
        function getState() {
            var errors = editor && editor.errorData() || {}, experiments = _user && _user.experiments || null;
            return {
                offline: _offline,
                checking: _checking,
                enabled: _enabled,
                anonymous: _anonymous,
                premium: _premium,
                experiments: experiments,
                show: _show,
                visible: _visible,
                wasMinimized: _wasMinimized,
                minimized: _minimized,
                hovered: _isHovered,
                isFieldEmpty: _isFieldEmpty,
                isFieldHovered: _isFieldHovered,
                fieldWasFocused: _fieldWasFocused,
                isEditorInited: _isEditorInited,
                loginReminder: !!_page.showLoginReminder,
                errors: errors
            };
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var throttle = __webpack_require__(178), difference = __webpack_require__(416), union = __webpack_require__(733), extend = __webpack_require__(38), debounce = __webpack_require__(53), each = __webpack_require__(96), filter = __webpack_require__(507), Wrap = __webpack_require__(153), Under = __webpack_require__(738), match_extensions_1 = __webpack_require__(1013), text_api_1 = __webpack_require__(602), synonyms_1 = __webpack_require__(1029), track_1 = __webpack_require__(1031), Util = __webpack_require__(368), dom_1 = __webpack_require__(3), sites_1 = __webpack_require__(67), log = __webpack_require__(1).Logger.create("lib.grammarly-editor");
    exports.GrammarlyEditor = function(config) {
        var DEBUG = !config.silentLogs, api = text_api_1.createTextApi(config), editor = Under.createEditor({
            el: config.el,
            useBufferForAddingMatches: config.useBufferForAddingMatches,
            editorType: config.editorType,
            autorun: config.autorun,
            value: config.value,
            dom: config.dom,
            api: api
        }, {
            isValidNode: function(node) {
                if (node.tagName) {
                    var tagName = node.tagName.toLowerCase(), className = node.className;
                    return (!SKIP_TAGS.includes(tagName) || SKIP_TAGS_EXCEPTIONS.includes(tagName)) && !SKIP_CLASSES.includes(className);
                }
                return !1;
            },
            isValidMatchForNode: function(_, isValidNode, match) {
                return "tmp_id" === match.id.toString() || !!match.syn || isValidNode;
            }
        });
        editor.matchPrefix = config.matchPrefix;
        var doc, fixes, checkCorruptedUnderlinesTimer, filter = config.filter || function(arr) {
            return arr;
        }, apps = config.apps || {
            plagiarismActive: function() {
                return !1;
            }
        }, lazyCheckPlagiarism = throttle(checkPlagiarism, config.plagiarismCheckDelay || 2e3), matches = editor.matches, matchExtensions = match_extensions_1.createMatchExtensions({
            silentLogs: config.silentLogs,
            exposeRawMatch: config.exposeRawMatch,
            editor: editor,
            matches: matches
        }), isTextarea = "textarea" === config.editorType.value, SKIP_TAGS_EXCEPTIONS = (doc = config.el.ownerDocument, 
        (fixes = sites_1.pageStyles(doc).getFixesForCurrentDomain()).getSkipTagExceptions && fixes.getSkipTagExceptions() || []), SKIP_TAGS = [ "pre", "code", "blockquote" ], SKIP_CLASSES = [ "gmail_quote" ];
        Wrap.skipTag(difference(union(Wrap.skipTag() || [], SKIP_TAGS), SKIP_TAGS_EXCEPTIONS)), 
        Wrap.skipClass(union(Wrap.skipClass() || [], SKIP_CLASSES)), extend(editor, {
            checkPlagiarism: checkPlagiarism,
            getSynonyms: function(s, value) {
                api.synonyms(s, value);
            },
            filter: filter,
            apps: apps,
            matchFilter: function(matches) {
                return filter(matches);
            },
            synonyms: synonyms_1.createSynonyms({
                editor: editor,
                canRemove: config.canRemoveSynonym,
                textareaWrapSelector: config.textareaWrapSelector,
                animatorContainer: config.animatorContainer,
                getAnimatorElPos: config.getAnimatorElPos,
                exposeSynApi: config.exposeSynApi,
                editorType: config.editorType
            }),
            getState: function(isText) {
                var result = {
                    matches: editor.serializeMatches(editor.matches.get(), !0),
                    editorId: editor.id,
                    cursor: editor.latestCursor,
                    socketId: editor.api.ws.socketId,
                    api: editor.api.getState(),
                    selectedMatchId: editor.selectedMatch && editor.selectedMatch.id
                };
                return editor.getHtml && !isText ? __assign({}, result, {
                    html: editor.getHtml(),
                    whiteSpace: editor.el.__white_space
                }) : __assign({}, result, {
                    text: editor.getText(!0)
                });
            },
            setState: function(data) {
                editor.clearData(), data.html && (editor.el.__white_space = editor.el.style.whiteSpace = data.whiteSpace || "normal");
                editor.one("afterReplace", function() {
                    editor.api.setState(data.api), editor.addMatches(data.matches), data.cursor || (data.cursor = {
                        s: 0,
                        e: 0
                    }), editor.isHtmlGhost || editor.el.focus();
                    var hasSyn = editor.getMatches().filter(function(m) {
                        return m.syn;
                    }).length > 0;
                    hasSyn && editor.synonyms.registerRemove(), editor.setCursor(data.cursor), editor.latestCursor = data.cursor, 
                    editor.render();
                }), void 0 !== data.html && editor.setHtml ? editor.setHtml(data.html) : editor.setText(data.text);
            },
            run: run,
            isTextarea: isTextarea
        }, matchExtensions), editor.on("change", function() {
            apps.plagiarismActive() && lazyCheckPlagiarism();
        }), editor.on("input", oninput), editor.on("keydown", oninput), editor.on("exit", function() {
            editor.api.close(), editor.synonyms.disable(), clearTimeout(checkCorruptedUnderlinesTimer);
        }), editor.on("fieldEnable", function() {
            editor.synonyms.fieldEnable();
        }), editor.on("startInvalidateNode", api.wsPause), editor.on("endInvalidateNode", api.wsPlay), 
        api.delegate(editor, "plagiarismChecked"), api.delegate(editor, "capiError"), api.delegate(editor, "serviceState"), 
        api.delegate(editor, "socketConnect"), api.delegate(editor, "socketStart"), api.delegate(editor, "socketReconnect"), 
        api.delegate(editor, "socketReconnectAfterError"), api.delegate(editor, "socketFailCount"), 
        api.delegate(editor, "disconnect"), api.delegate(editor, "socketError"), api.delegate(editor, "frequent_runtime_error"), 
        api.delegate(editor, "too_many_runtime_error"), api.delegate(editor, "frequent_not_authorized_error"), 
        api.delegate(editor, "finished"), api.on("remove", function(sid) {
            var _sid = "object" == typeof sid && sid.id ? sid.id : sid, m = editor.bySid(_sid);
            editor._removedByServer.push(_sid), "object" == typeof sid && sid.id && matches.rmMatchesBufferCache(sid);
            if (m && (editor.emit("serverRemove", m), m.cancelServerRemove)) return void delete m.cancelServerRemove;
            if (m) return matches.forceRemove(m);
            var removed = editor.matches.getRemoved()[_sid];
            removed && (DEBUG && log.trace("remove-already-removed-match"), matches.forceRemove(removed));
        }), track_1.track(editor), Wrap.setOnError(function(err) {
            editor.emit("track", {
                type: "increment",
                key: "wrap_error." + err
            });
        }), isTextarea || function checkCorruptedUnderlines() {
            var els = editor.el.querySelectorAll(".gr-alert"), len = els.length;
            for (var i = 0; i < len; i++) {
                var matchEl = els[i], sibling = matchEl.nextSibling;
                sibling && 3 === sibling.nodeType && (matchEl.__sentCorruptedUnderline || dom_1.hasClass(matchEl, "Punctuation") || sibling.textContent && sibling.textContent[0].match(/\w/) && (editor.emit("corruptedUnderline", {
                    text: matchEl.textContent,
                    id: matchEl.id,
                    className: matchEl.className,
                    siblingText: sibling.textContent.substring(0, 20)
                }), matchEl.__sentCorruptedUnderline = !0));
            }
            checkCorruptedUnderlinesTimer = setTimeout(checkCorruptedUnderlines, 5e3);
        }();
        var reportStats = debounce(function() {
            if (!editor.getText) return;
            var text = editor.getText(), _wordCount = Util.wordCount(text), rate = _wordCount > 0 ? editor.getFiltered().length / _wordCount : 0;
            editor.emit("track", {
                type: "timing",
                data: {
                    "performance:text_stats.error_rate": Math.round(1e3 * rate) / 1e3,
                    "performance:text_stats.text_size_chars": text.length,
                    "performance:text_stats.text_size_words": _wordCount
                }
            });
        }, 5e3);
        config.autorun && run();
        var originalFeedback = editor.api.feedback;
        return editor.api.feedback = function(match, type) {
            return originalFeedback(match, type);
        }, editor;
        function run() {
            editor.inputListener && editor.inputListener.start(), editor.dom && editor.dom.start(), 
            config.value && editor.setText(config.value), config.matches && editor.addMatches(config.matches), 
            editor.api.update(editor.currentText), editor.check();
        }
        function checkPlagiarism() {
            api.checkPlagiarism(editor.currentText);
        }
        function oninput() {
            reportStats();
        }
    }, exports.getUpgradeUrlFromMatches = function(config) {
        var data, grouped = function(matches) {
            var _matches = function(matches) {
                return filter(matches, function(match) {
                    return match.hidden;
                });
            }(matches), grouped = {};
            return each(_matches, function(match) {
                var key = [ match.group, match.category.replace("_", "") ].join(":");
                void 0 === grouped[key] && (grouped[key] = 0), grouped[key] += 1;
            }), grouped;
        }(config.matches), returnUrl = config.returnUrl, queryParams = config.queryParams || {}, urlContainer = {};
        return returnUrl && (urlContainer.return_url = encodeURIComponent(returnUrl)), config.appType && (urlContainer.app_type = config.appType), 
        data = extend(grouped, urlContainer, queryParams), config.baseUrl + "?" + function(data) {
            var req = "";
            return each(data, function(v, k) {
                "" !== req && (req += "&"), req += encodeURI(String(k)) + "=" + v;
            }), req;
        }(data);
    };
}, function(module, exports, __webpack_require__) {
    var arrayFilter = __webpack_require__(186), baseFilter = __webpack_require__(737), baseIteratee = __webpack_require__(64), isArray = __webpack_require__(7);
    module.exports = function(collection, predicate) {
        return (isArray(collection) ? arrayFilter : baseFilter)(collection, baseIteratee(predicate, 3));
    };
}, function(module, exports, __webpack_require__) {
    var baseClone = __webpack_require__(349), CLONE_SYMBOLS_FLAG = 4;
    module.exports = function(value) {
        return baseClone(value, CLONE_SYMBOLS_FLAG);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var emitter = __webpack_require__(18), find = __webpack_require__(420), isArray = __webpack_require__(7), isUndefined = __webpack_require__(328), match_updater_1 = __webpack_require__(741), log = __webpack_require__(1).Logger.create("lib.under.matches");
    function isIntersected(match1, match2) {
        return (match1.s <= match2.s && match1.e >= match2.s || match1.s >= match2.s && match1.e <= match2.e || match1.s <= match2.e && match1.e >= match2.e) && match2;
    }
    exports.isIntersected = isIntersected, exports.createMatches = function(editor) {
        var matches = [], removedMatches = {}, matchesBuffer = [], _matchUpdater = match_updater_1.createMatchUpdater(editor), me = emitter({
            matchUpdater: _matchUpdater,
            add: function(m) {
                matches.push(m);
            },
            tryToAdd: function(match, text) {
                match.value = text.substring(match.s, match.e), match.skipUpdatePos && (match.value = text.substring(match.s, match.e), 
                match._value = text.substring(match._s, match._e), match.v = match.value);
                if (function(match) {
                    for (var i = 0; i < matches.length; i++) {
                        var curMatch = matches[i], equalPos = match.s === curMatch.s && match.e === curMatch.e;
                        if (curMatch.r && (curMatch.ignored && equalPos)) return !0;
                    }
                    return !1;
                }(match)) return log.trace("match exist", match), !1;
                var _valInText = text.substring(match._s, match._e), valInText = text.substring(match.s, match.e);
                match.siblingValue = text.substring(match._s - 1, match._e + 1), match.skipUpdatePos || (match.removed = _valInText !== match._value || valInText !== match.v, 
                match.removed && (log.trace("match value does not correspondents to the value in a text '" + match.v + "' vs '" + valInText + "'"), 
                me.emit("lost_match_value_in_text", match)));
                if (match.removed) return log.trace("lost match", match), !1;
                return extend(match), !0;
            },
            isIntersected: isIntersected,
            removeIntersectedWithReplace: function(m) {
                for (var result = !1, i = 0; i < matches.length; i++) {
                    var existed = matches[i];
                    if (!(existed.value.split(" ").length > 1 || m === existed)) {
                        var toRemove = isIntersected(m, existed);
                        toRemove && (remove(toRemove), result = !0);
                    }
                }
                return result;
            },
            update: function(oldText, newText) {
                updatePos(oldText, newText, matches), _matchUpdater.removeNotExisting(newText, matches), 
                newText && _matchUpdater.tryToAddRemoved(newText, matches, removedMatches);
            },
            forceRemove: function(match, withoutEmit) {
                for (var i = 0; i < matches.length; i++) matches[i].id === match.id && remove(matches[i], withoutEmit);
                rmMatchesBufferCache(match), delete removedMatches[match.id];
            },
            byId: function(id) {
                return find(matches, {
                    id: id
                });
            },
            removeSimilar: function(match) {
                var val = match.oldVal, similar = [], len = matches.length;
                for (;len--; ) {
                    var m = matches[len];
                    m.oldVal === val && (m.addedToDict = !0, remove(m), similar.push(m));
                }
                return similar;
            },
            removeByPID: function(match) {
                var pid = match.pid, similar = [], len = matches.length;
                for (;len--; ) {
                    var m = matches[len];
                    m.pid === pid && "" !== m.value && match.value === m.value && (remove(m), similar.push(m));
                }
                return similar;
            },
            updatePos: updatePos,
            shift: shift,
            extend: extend,
            remove: remove,
            clear: function() {
                matches = [], removedMatches = {};
            },
            locateMatch: function(match, text) {
                return _matchUpdater.locateMatch(match, text);
            },
            get: function() {
                matches || (matches = []);
                return matches;
            },
            matchesBuffer: matchesBuffer,
            matchesRmBuffer: [],
            getRemoved: function() {
                return removedMatches;
            },
            addRemoved: function(match) {
                if (match.removed = !1, match.rendered = !1, editor.canAddRemovedMatch(match)) return;
                removedMatches[match.id] = match;
            },
            replace: function(match, value, isUndo, text) {
                var replVal = value;
                isUndefined(replVal) && (replVal = match.rFirst);
                text = text.substring(0, match.s) + replVal + text.substring(match.e, text.length);
                var delta = replVal.length - match.oldVal.length;
                shift(match, delta, text), match.e = match.s + replVal.length, isUndo ? (match._s = match.s + match.sd, 
                match._e = match.e + match.ed) : (match._s = match.s, match._e = match.e);
                match.undoed = !1, match.replaced = !isUndo, match.beforeReplace = match.v, match.oldVal = replVal, 
                match.value = replVal, match._value = text.substring(match._s, match._e);
            },
            rmMatchesBufferCache: rmMatchesBufferCache
        });
        return _matchUpdater.delegate(me, "remove"), me;
        function remove(match, withoutEmit) {
            withoutEmit || me.emit("remove", match), _matchUpdater.remove(match, matches), rmMatchesBufferCache(match);
        }
        function rmMatchesBufferCache(match) {
            if (match && match.id) {
                var sid = match.id;
                if (isArray(sid)) for (var i = 0; i < sid.length; i++) rmMatchesFromBuffer(sid[i]); else rmMatchesFromBuffer(sid);
            }
            function rmMatchesFromBuffer(sid) {
                !function(sid) {
                    for (var i = 0; i < matchesBuffer.length; i++) matchesBuffer[i] && matchesBuffer[i].id === sid && (matchesBuffer[i] = !1);
                }(sid), function(match) {
                    if (!matchesBuffer.length) return;
                    for (var i = 0; i < matchesBuffer.length; i++) {
                        var mb = matchesBuffer[i];
                        mb && mb.pid === match.pid && mb.highlightBegin === match.highlightBegin && mb.highlightEnd === match.highlightEnd && me.emit("hasAvailableRenderDeletedMatch", {
                            match: mb,
                            position: i
                        });
                    }
                }(match);
            }
        }
        function updatePos(oldText, newText, _matches) {
            _matchUpdater.updatePos(oldText, newText, _matches), me.emit("updatePos", {
                matches: _matches,
                text: newText
            });
        }
        function extend(match) {
            _matchUpdater.extend(matches, [ match ]);
        }
        function shift(m, delta, text) {
            for (var i = 0; i < matches.length; i++) {
                var target = matches[i];
                m !== target && (m.e < target.s && (target.s += delta, target.e += delta, target._s += delta, 
                target._e += delta), m.s >= target.s && m.e <= target.e && editor.canShiftMatchEnd(m) ? (target.e += delta, 
                target._e += delta, target.value = text.substring(target.s, target.e), target._value = text.substring(target._s, target._e), 
                target.oldVal = target.value) : m.s >= target.s && m.e > target.e && (target.value = text.substring(target.s, target.e), 
                target._value = text.substring(target._s, target._e), target.oldVal = target.value), 
                target.rev++);
            }
        }
    };
}, function(module, exports, __webpack_require__) {
    var baseIteratee = __webpack_require__(64), isArrayLike = __webpack_require__(28), keys = __webpack_require__(31);
    module.exports = function(findIndexFunc) {
        return function(collection, predicate, fromIndex) {
            var iterable = Object(collection);
            if (!isArrayLike(collection)) {
                var iteratee = baseIteratee(predicate, 3);
                collection = keys(collection), predicate = function(key) {
                    return iteratee(iterable[key], key, iterable);
                };
            }
            var index = findIndexFunc(collection, predicate, fromIndex);
            return index > -1 ? iterable[iteratee ? collection[index] : index] : void 0;
        };
    };
}, function(module, exports, __webpack_require__) {
    var toFinite = __webpack_require__(740);
    module.exports = function(value) {
        var result = toFinite(value), remainder = result % 1;
        return result == result ? remainder ? result - remainder : result : 0;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var emitter = __webpack_require__(18), debounce = __webpack_require__(53), throttle = __webpack_require__(178), dom_1 = __webpack_require__(3), util_1 = __webpack_require__(2), Wrap = __webpack_require__(153), html_dom_1 = __webpack_require__(421), text_split_1 = __webpack_require__(750), log = __webpack_require__(1).Logger.create("lib.under.textarea-dom");
    exports.createTextareaDom = function(config) {
        var split, htmlDom, clone, cloneVal, lazyUpdateShadow, editor = config.editor, el = editor.el, id = util_1.guid(), template = function(doc) {
            var div = doc.createElement("div");
            div.className = "gram-ghost", div.setAttribute("gramm_editor", "true"), div.setAttribute("contenteditable", "true"), 
            div.setAttribute("tabindex", "-1");
            var span = doc.createElement("span");
            return span.className = "clone-val", div.appendChild(span), div;
        }, me = emitter({
            el: el,
            id: id,
            render: render,
            remove: function() {
                render(editor.getFiltered(), editor.currentText, !0);
            },
            renderRange: function(match) {
                return htmlDom.renderRange(match);
            },
            removeBySelector: function(sel) {
                for (var els = el.querySelectorAll(sel), len = els.length, i = 0; i < len; i++) Wrap.unwrap(els[i]);
            },
            replace: function(match, value) {
                var text = el.value;
                text = text.substring(0, match.s) + value + text.substr(match.e), editor.currentText = text, 
                setText(text);
            },
            start: function() {
                gh = me.insertGhost(), clone = gh.clone, cloneVal = gh.cloneVal, htmlDom = html_dom_1.createHtmlDom({
                    el: cloneVal,
                    editor: editor
                }), (split = text_split_1.createTextSplit({
                    node: cloneVal
                })).on("finish", function() {
                    me.emit("rendered");
                }), me.htmlDom = htmlDom, lazyUpdateShadow = throttle(updateShadow, 100), me.clone = clone, 
                me.cloneVal = cloneVal, editor.emit("createdGhost");
                var gh;
            },
            stop: util_1._f,
            select: function(match) {
                htmlDom.select(match);
            },
            deselect: function(match) {
                htmlDom.deselect(match);
            },
            getText: function() {
                return el.value;
            },
            setText: setText,
            setTextareaValue: function(val) {
                el.value = val;
            },
            changeSelection: function() {
                if (dom_1.getDocSelection(document).toString().length > 1) return;
                lazySelectMatch();
            },
            getCursor: function() {
                return {
                    s: el.selectionStart,
                    e: el.selectionEnd
                };
            },
            setCursor: function(pos) {
                el.selectionStart = pos.s, el.selectionEnd = pos.e;
            },
            insertGhost: function() {
                var clone = template(document), cloneVal = clone.firstChild;
                return clone.id = id, clone.setAttribute("gramm_id", id), dom_1.insertBefore(clone, el), 
                {
                    clone: clone,
                    cloneVal: cloneVal
                };
            },
            forceRedraw: forceRedraw,
            invalidate: util_1._f
        }), lazySelectMatch = debounce(function() {
            var sel = el.selectionStart, matches = editor.getFiltered().concat(), selected = !1;
            matches.sort(function(a, b) {
                return b._e - a._e;
            });
            for (var inRange = [], i = 0; i < matches.length; i++) {
                var m = matches[i], inMatch = sel >= m._s && sel <= m._e;
                inMatch && inRange.push(m);
            }
            if (inRange.length > 0) {
                inRange.sort(function(a, b) {
                    return a._e - a._s - (b._e - b._s);
                }), selected = !0;
                var m = inRange[0];
                return editor.selectedMatch && editor.selectedMatch !== m && editor.selectedMatch.deselect(), 
                editor.selectById(m.id);
            }
            !selected && editor.selectedMatch && editor.selectedMatch.deselect();
            selected || editor.emit("deselectMatch");
        }, 100);
        return setTimeout(forceRedraw, 10), me;
        function forceRedraw() {
            var pos = editor.getCursor(), v = el.value;
            el.value = v + " ", el.value = v, dom_1.isFocused(el) && editor.setCursor(pos);
        }
        function updateShadow(val, matches, text) {
            try {
                split.update(val, matches, text);
            } catch (e) {
                log.error(e.stack || e);
            }
        }
        function render(matches, text, isFast) {
            for (var i = 0; i < matches.length; i++) {
                var m = matches[i];
                m.replaced && (m._s = m.s, m._e = m.e);
            }
            !function(matches, text, isFast) {
                Wrap.render({
                    node: el,
                    matches: matches,
                    createTag: createTag,
                    type: "text",
                    text: text,
                    updateMethod: isFast ? updateShadow : lazyUpdateShadow
                });
            }(matches, text, isFast);
        }
        function createTag(m, text) {
            var parent = m.parent || m, cls = editor.getMatchClass(parent, text);
            return {
                start: '<g class="gr_ gr_' + parent.id + cls + '" data-gr-id="' + parent.id + '" id="' + parent.id + '">',
                end: "</g>"
            };
        }
        function setText(val) {
            me.setTextareaValue(val), render(editor.getFiltered(), val, !0);
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var base_1 = __webpack_require__(514);
    exports.Lens = base_1.Lens, exports.Prism = base_1.Prism, exports.Optic = base_1.Optic, 
    __webpack_require__(753);
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Prism, utils_1 = __webpack_require__(205);
    function createModify(getter, setter) {
        return function(updateFn, s) {
            return setter(updateFn(getter(s)), s);
        };
    }
    !function(Optic) {
        Optic.optic = function(getter, setter) {
            return {
                get: getter,
                set: setter,
                modify: createModify(getter, setter)
            };
        };
    }(exports.Optic || (exports.Optic = {})), function(Prism) {
        Prism.create = function create(getter, setter) {
            return {
                get: getter,
                set: setter,
                modify: createModify(getter, setter),
                compose: function(next) {
                    return create(function(s) {
                        var x = getter(s);
                        return utils_1.Option.isSome(x) ? next.get(x) : void 0;
                    }, function(v, s) {
                        var x = getter(s);
                        return utils_1.Option.isSome(x) ? setter(next.set(v, x), s) : s;
                    });
                }
            };
        };
    }(Prism = exports.Prism || (exports.Prism = {})), function(Lens) {
        function create(getter, setter) {
            return {
                get: getter,
                set: setter,
                modify: createModify(getter, setter),
                compose: function(next) {
                    return create(function(s) {
                        return next.get(getter(s));
                    }, function(v, s) {
                        return setter(next.set(v, getter(s)), s);
                    });
                }
            };
        }
        Lens.create = create, Lens.compose = function() {
            for (var lenses = [], _i = 0; _i < arguments.length; _i++) lenses[_i] = arguments[_i];
            if (0 === lenses.length) throw new TypeError("Can not compose zero lenses. You probably want `Lens.identity`.");
            if (1 === lenses.length) return lenses[0];
            var r_1 = lenses[0];
            return lenses.slice(1).forEach(function(l) {
                r_1 = r_1.compose(l);
            }), r_1;
        };
        var _identity = create(function(x) {
            return x;
        }, function(x, _) {
            return x;
        });
        Lens.identity = function() {
            return _identity;
        };
        var _nothing = Prism.create(function(_) {}, function(_, o) {
            return o;
        });
        Lens.nothing = function() {
            return _nothing;
        };
    }(exports.Lens || (exports.Lens = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), combineLatest_1 = __webpack_require__(763);
    Observable_1.Observable.combineLatest = combineLatest_1.combineLatest;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var TimerObservable_1 = __webpack_require__(803);
    exports.timer = TimerObservable_1.TimerObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, root_1 = __webpack_require__(46), tryCatch_1 = __webpack_require__(44), errorObject_1 = __webpack_require__(37), Observable_1 = __webpack_require__(0), Subscriber_1 = __webpack_require__(6), map_1 = __webpack_require__(284);
    function ajaxGet(url, headers) {
        return void 0 === headers && (headers = null), new AjaxObservable({
            method: "GET",
            url: url,
            headers: headers
        });
    }
    function ajaxPost(url, body, headers) {
        return new AjaxObservable({
            method: "POST",
            url: url,
            body: body,
            headers: headers
        });
    }
    function ajaxDelete(url, headers) {
        return new AjaxObservable({
            method: "DELETE",
            url: url,
            headers: headers
        });
    }
    function ajaxPut(url, body, headers) {
        return new AjaxObservable({
            method: "PUT",
            url: url,
            body: body,
            headers: headers
        });
    }
    function ajaxPatch(url, body, headers) {
        return new AjaxObservable({
            method: "PATCH",
            url: url,
            body: body,
            headers: headers
        });
    }
    exports.ajaxGet = ajaxGet, exports.ajaxPost = ajaxPost, exports.ajaxDelete = ajaxDelete, 
    exports.ajaxPut = ajaxPut, exports.ajaxPatch = ajaxPatch;
    var mapResponse = map_1.map(function(x, index) {
        return x.response;
    });
    function ajaxGetJSON(url, headers) {
        return mapResponse(new AjaxObservable({
            method: "GET",
            url: url,
            responseType: "json",
            headers: headers
        }));
    }
    exports.ajaxGetJSON = ajaxGetJSON;
    var AjaxObservable = function(_super) {
        function AjaxObservable(urlOrRequest) {
            _super.call(this);
            var request = {
                async: !0,
                createXHR: function() {
                    return this.crossDomain ? function() {
                        if (root_1.root.XMLHttpRequest) return new root_1.root.XMLHttpRequest();
                        if (root_1.root.XDomainRequest) return new root_1.root.XDomainRequest();
                        throw new Error("CORS is not supported by your browser");
                    }.call(this) : function() {
                        if (root_1.root.XMLHttpRequest) return new root_1.root.XMLHttpRequest();
                        var progId = void 0;
                        try {
                            for (var progIds = [ "Msxml2.XMLHTTP", "Microsoft.XMLHTTP", "Msxml2.XMLHTTP.4.0" ], i = 0; i < 3; i++) try {
                                if (progId = progIds[i], new root_1.root.ActiveXObject(progId)) break;
                            } catch (e) {}
                            return new root_1.root.ActiveXObject(progId);
                        } catch (e) {
                            throw new Error("XMLHttpRequest is not supported by your browser");
                        }
                    }();
                },
                crossDomain: !1,
                withCredentials: !1,
                headers: {},
                method: "GET",
                responseType: "json",
                timeout: 0
            };
            if ("string" == typeof urlOrRequest) request.url = urlOrRequest; else for (var prop in urlOrRequest) urlOrRequest.hasOwnProperty(prop) && (request[prop] = urlOrRequest[prop]);
            this.request = request;
        }
        var create;
        return __extends(AjaxObservable, _super), AjaxObservable.prototype._subscribe = function(subscriber) {
            return new AjaxSubscriber(subscriber, this.request);
        }, AjaxObservable.create = ((create = function(urlOrRequest) {
            return new AjaxObservable(urlOrRequest);
        }).get = ajaxGet, create.post = ajaxPost, create.delete = ajaxDelete, create.put = ajaxPut, 
        create.patch = ajaxPatch, create.getJSON = ajaxGetJSON, create), AjaxObservable;
    }(Observable_1.Observable);
    exports.AjaxObservable = AjaxObservable;
    var AjaxSubscriber = function(_super) {
        function AjaxSubscriber(destination, request) {
            _super.call(this, destination), this.request = request, this.done = !1;
            var headers = request.headers = request.headers || {};
            request.crossDomain || headers["X-Requested-With"] || (headers["X-Requested-With"] = "XMLHttpRequest"), 
            "Content-Type" in headers || root_1.root.FormData && request.body instanceof root_1.root.FormData || void 0 === request.body || (headers["Content-Type"] = "application/x-www-form-urlencoded; charset=UTF-8"), 
            request.body = this.serializeBody(request.body, request.headers["Content-Type"]), 
            this.send();
        }
        return __extends(AjaxSubscriber, _super), AjaxSubscriber.prototype.next = function(e) {
            this.done = !0;
            var xhr = this.xhr, request = this.request, destination = this.destination, response = new AjaxResponse(e, xhr, request);
            destination.next(response);
        }, AjaxSubscriber.prototype.send = function() {
            var request = this.request, _b = this.request, user = _b.user, method = _b.method, url = _b.url, async = _b.async, password = _b.password, headers = _b.headers, body = _b.body, createXHR = request.createXHR, xhr = tryCatch_1.tryCatch(createXHR).call(request);
            if (xhr === errorObject_1.errorObject) this.error(errorObject_1.errorObject.e); else {
                this.xhr = xhr, this.setupEvents(xhr, request);
                if ((user ? tryCatch_1.tryCatch(xhr.open).call(xhr, method, url, async, user, password) : tryCatch_1.tryCatch(xhr.open).call(xhr, method, url, async)) === errorObject_1.errorObject) return this.error(errorObject_1.errorObject.e), 
                null;
                if (async && (xhr.timeout = request.timeout, xhr.responseType = request.responseType), 
                "withCredentials" in xhr && (xhr.withCredentials = !!request.withCredentials), this.setHeaders(xhr, headers), 
                (body ? tryCatch_1.tryCatch(xhr.send).call(xhr, body) : tryCatch_1.tryCatch(xhr.send).call(xhr)) === errorObject_1.errorObject) return this.error(errorObject_1.errorObject.e), 
                null;
            }
            return xhr;
        }, AjaxSubscriber.prototype.serializeBody = function(body, contentType) {
            if (!body || "string" == typeof body) return body;
            if (root_1.root.FormData && body instanceof root_1.root.FormData) return body;
            if (contentType) {
                var splitIndex = contentType.indexOf(";");
                -1 !== splitIndex && (contentType = contentType.substring(0, splitIndex));
            }
            switch (contentType) {
              case "application/x-www-form-urlencoded":
                return Object.keys(body).map(function(key) {
                    return encodeURI(key) + "=" + encodeURI(body[key]);
                }).join("&");

              case "application/json":
                return JSON.stringify(body);

              default:
                return body;
            }
        }, AjaxSubscriber.prototype.setHeaders = function(xhr, headers) {
            for (var key in headers) headers.hasOwnProperty(key) && xhr.setRequestHeader(key, headers[key]);
        }, AjaxSubscriber.prototype.setupEvents = function(xhr, request) {
            var progressSubscriber = request.progressSubscriber;
            function xhrTimeout(e) {
                var _a = xhrTimeout, subscriber = _a.subscriber, progressSubscriber = _a.progressSubscriber, request = _a.request;
                progressSubscriber && progressSubscriber.error(e), subscriber.error(new AjaxTimeoutError(this, request));
            }
            if (xhr.ontimeout = xhrTimeout, xhrTimeout.request = request, xhrTimeout.subscriber = this, 
            xhrTimeout.progressSubscriber = progressSubscriber, xhr.upload && "withCredentials" in xhr) {
                var xhrProgress_1, xhrError_1;
                if (progressSubscriber) xhrProgress_1 = function(e) {
                    xhrProgress_1.progressSubscriber.next(e);
                }, root_1.root.XDomainRequest ? xhr.onprogress = xhrProgress_1 : xhr.upload.onprogress = xhrProgress_1, 
                xhrProgress_1.progressSubscriber = progressSubscriber;
                xhrError_1 = function(e) {
                    var _a = xhrError_1, progressSubscriber = _a.progressSubscriber, subscriber = _a.subscriber, request = _a.request;
                    progressSubscriber && progressSubscriber.error(e), subscriber.error(new AjaxError("ajax error", this, request));
                }, xhr.onerror = xhrError_1, xhrError_1.request = request, xhrError_1.subscriber = this, 
                xhrError_1.progressSubscriber = progressSubscriber;
            }
            function xhrReadyStateChange(e) {
                var _a = xhrReadyStateChange, subscriber = _a.subscriber, progressSubscriber = _a.progressSubscriber, request = _a.request;
                if (4 === this.readyState) {
                    var status_1 = 1223 === this.status ? 204 : this.status, response = "text" === this.responseType ? this.response || this.responseText : this.response;
                    0 === status_1 && (status_1 = response ? 200 : 0), 200 <= status_1 && status_1 < 300 ? (progressSubscriber && progressSubscriber.complete(), 
                    subscriber.next(e), subscriber.complete()) : (progressSubscriber && progressSubscriber.error(e), 
                    subscriber.error(new AjaxError("ajax error " + status_1, this, request)));
                }
            }
            xhr.onreadystatechange = xhrReadyStateChange, xhrReadyStateChange.subscriber = this, 
            xhrReadyStateChange.progressSubscriber = progressSubscriber, xhrReadyStateChange.request = request;
        }, AjaxSubscriber.prototype.unsubscribe = function() {
            var done = this.done, xhr = this.xhr;
            !done && xhr && 4 !== xhr.readyState && "function" == typeof xhr.abort && xhr.abort(), 
            _super.prototype.unsubscribe.call(this);
        }, AjaxSubscriber;
    }(Subscriber_1.Subscriber);
    exports.AjaxSubscriber = AjaxSubscriber;
    var AjaxResponse = function() {
        return function(originalEvent, xhr, request) {
            this.originalEvent = originalEvent, this.xhr = xhr, this.request = request, this.status = xhr.status, 
            this.responseType = xhr.responseType || request.responseType, this.response = parseXhrResponse(this.responseType, xhr);
        };
    }();
    exports.AjaxResponse = AjaxResponse;
    var AjaxError = function(_super) {
        function AjaxError(message, xhr, request) {
            _super.call(this, message), this.message = message, this.xhr = xhr, this.request = request, 
            this.status = xhr.status, this.responseType = xhr.responseType || request.responseType, 
            this.response = parseXhrResponse(this.responseType, xhr);
        }
        return __extends(AjaxError, _super), AjaxError;
    }(Error);
    function parseXhrResponse(responseType, xhr) {
        switch (responseType) {
          case "json":
            return "response" in xhr ? xhr.responseType ? xhr.response : JSON.parse(xhr.response || xhr.responseText || "null") : JSON.parse(xhr.responseText || "null");

          case "xml":
            return xhr.responseXML;

          case "text":
          default:
            return "response" in xhr ? xhr.response : xhr.responseText;
        }
    }
    exports.AjaxError = AjaxError;
    var AjaxTimeoutError = function(_super) {
        function AjaxTimeoutError(xhr, request) {
            _super.call(this, "ajax timeout", xhr, request);
        }
        return __extends(AjaxTimeoutError, _super), AjaxTimeoutError;
    }(AjaxError);
    exports.AjaxTimeoutError = AjaxTimeoutError;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var QueueAction_1 = __webpack_require__(811), QueueScheduler_1 = __webpack_require__(812);
    exports.queue = new QueueScheduler_1.QueueScheduler(QueueAction_1.QueueAction);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.buffer = function(closingNotifier) {
        return function(source) {
            return source.lift(new BufferOperator(closingNotifier));
        };
    };
    var BufferOperator = function() {
        function BufferOperator(closingNotifier) {
            this.closingNotifier = closingNotifier;
        }
        return BufferOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new BufferSubscriber(subscriber, this.closingNotifier));
        }, BufferOperator;
    }(), BufferSubscriber = function(_super) {
        function BufferSubscriber(destination, closingNotifier) {
            _super.call(this, destination), this.buffer = [], this.add(subscribeToResult_1.subscribeToResult(this, closingNotifier));
        }
        return __extends(BufferSubscriber, _super), BufferSubscriber.prototype._next = function(value) {
            this.buffer.push(value);
        }, BufferSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            var buffer = this.buffer;
            this.buffer = [], this.destination.next(buffer);
        }, BufferSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.bufferCount = function(bufferSize, startBufferEvery) {
        return void 0 === startBufferEvery && (startBufferEvery = null), function(source) {
            return source.lift(new BufferCountOperator(bufferSize, startBufferEvery));
        };
    };
    var BufferCountOperator = function() {
        function BufferCountOperator(bufferSize, startBufferEvery) {
            this.bufferSize = bufferSize, this.startBufferEvery = startBufferEvery, this.subscriberClass = startBufferEvery && bufferSize !== startBufferEvery ? BufferSkipCountSubscriber : BufferCountSubscriber;
        }
        return BufferCountOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new this.subscriberClass(subscriber, this.bufferSize, this.startBufferEvery));
        }, BufferCountOperator;
    }(), BufferCountSubscriber = function(_super) {
        function BufferCountSubscriber(destination, bufferSize) {
            _super.call(this, destination), this.bufferSize = bufferSize, this.buffer = [];
        }
        return __extends(BufferCountSubscriber, _super), BufferCountSubscriber.prototype._next = function(value) {
            var buffer = this.buffer;
            buffer.push(value), buffer.length == this.bufferSize && (this.destination.next(buffer), 
            this.buffer = []);
        }, BufferCountSubscriber.prototype._complete = function() {
            var buffer = this.buffer;
            buffer.length > 0 && this.destination.next(buffer), _super.prototype._complete.call(this);
        }, BufferCountSubscriber;
    }(Subscriber_1.Subscriber), BufferSkipCountSubscriber = function(_super) {
        function BufferSkipCountSubscriber(destination, bufferSize, startBufferEvery) {
            _super.call(this, destination), this.bufferSize = bufferSize, this.startBufferEvery = startBufferEvery, 
            this.buffers = [], this.count = 0;
        }
        return __extends(BufferSkipCountSubscriber, _super), BufferSkipCountSubscriber.prototype._next = function(value) {
            var bufferSize = this.bufferSize, startBufferEvery = this.startBufferEvery, buffers = this.buffers, count = this.count;
            this.count++, count % startBufferEvery == 0 && buffers.push([]);
            for (var i = buffers.length; i--; ) {
                var buffer = buffers[i];
                buffer.push(value), buffer.length === bufferSize && (buffers.splice(i, 1), this.destination.next(buffer));
            }
        }, BufferSkipCountSubscriber.prototype._complete = function() {
            for (var buffers = this.buffers, destination = this.destination; buffers.length > 0; ) {
                var buffer = buffers.shift();
                buffer.length > 0 && destination.next(buffer);
            }
            _super.prototype._complete.call(this);
        }, BufferSkipCountSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, async_1 = __webpack_require__(24), Subscriber_1 = __webpack_require__(6), isScheduler_1 = __webpack_require__(86);
    exports.bufferTime = function(bufferTimeSpan) {
        var length = arguments.length, scheduler = async_1.async;
        isScheduler_1.isScheduler(arguments[arguments.length - 1]) && (scheduler = arguments[arguments.length - 1], 
        length--);
        var bufferCreationInterval = null;
        length >= 2 && (bufferCreationInterval = arguments[1]);
        var maxBufferSize = Number.POSITIVE_INFINITY;
        return length >= 3 && (maxBufferSize = arguments[2]), function(source) {
            return source.lift(new BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler));
        };
    };
    var BufferTimeOperator = function() {
        function BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {
            this.bufferTimeSpan = bufferTimeSpan, this.bufferCreationInterval = bufferCreationInterval, 
            this.maxBufferSize = maxBufferSize, this.scheduler = scheduler;
        }
        return BufferTimeOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new BufferTimeSubscriber(subscriber, this.bufferTimeSpan, this.bufferCreationInterval, this.maxBufferSize, this.scheduler));
        }, BufferTimeOperator;
    }(), Context = function() {
        return function() {
            this.buffer = [];
        };
    }(), BufferTimeSubscriber = function(_super) {
        function BufferTimeSubscriber(destination, bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {
            _super.call(this, destination), this.bufferTimeSpan = bufferTimeSpan, this.bufferCreationInterval = bufferCreationInterval, 
            this.maxBufferSize = maxBufferSize, this.scheduler = scheduler, this.contexts = [];
            var context = this.openContext();
            if (this.timespanOnly = null == bufferCreationInterval || bufferCreationInterval < 0, 
            this.timespanOnly) {
                var timeSpanOnlyState = {
                    subscriber: this,
                    context: context,
                    bufferTimeSpan: bufferTimeSpan
                };
                this.add(context.closeAction = scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));
            } else {
                var closeState = {
                    subscriber: this,
                    context: context
                }, creationState = {
                    bufferTimeSpan: bufferTimeSpan,
                    bufferCreationInterval: bufferCreationInterval,
                    subscriber: this,
                    scheduler: scheduler
                };
                this.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, closeState)), 
                this.add(scheduler.schedule(dispatchBufferCreation, bufferCreationInterval, creationState));
            }
        }
        return __extends(BufferTimeSubscriber, _super), BufferTimeSubscriber.prototype._next = function(value) {
            for (var filledBufferContext, contexts = this.contexts, len = contexts.length, i = 0; i < len; i++) {
                var context = contexts[i], buffer = context.buffer;
                buffer.push(value), buffer.length == this.maxBufferSize && (filledBufferContext = context);
            }
            filledBufferContext && this.onBufferFull(filledBufferContext);
        }, BufferTimeSubscriber.prototype._error = function(err) {
            this.contexts.length = 0, _super.prototype._error.call(this, err);
        }, BufferTimeSubscriber.prototype._complete = function() {
            for (var contexts = this.contexts, destination = this.destination; contexts.length > 0; ) {
                var context = contexts.shift();
                destination.next(context.buffer);
            }
            _super.prototype._complete.call(this);
        }, BufferTimeSubscriber.prototype._unsubscribe = function() {
            this.contexts = null;
        }, BufferTimeSubscriber.prototype.onBufferFull = function(context) {
            this.closeContext(context);
            var closeAction = context.closeAction;
            if (closeAction.unsubscribe(), this.remove(closeAction), !this.closed && this.timespanOnly) {
                context = this.openContext();
                var bufferTimeSpan = this.bufferTimeSpan, timeSpanOnlyState = {
                    subscriber: this,
                    context: context,
                    bufferTimeSpan: bufferTimeSpan
                };
                this.add(context.closeAction = this.scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));
            }
        }, BufferTimeSubscriber.prototype.openContext = function() {
            var context = new Context();
            return this.contexts.push(context), context;
        }, BufferTimeSubscriber.prototype.closeContext = function(context) {
            this.destination.next(context.buffer);
            var contexts = this.contexts;
            (contexts ? contexts.indexOf(context) : -1) >= 0 && contexts.splice(contexts.indexOf(context), 1);
        }, BufferTimeSubscriber;
    }(Subscriber_1.Subscriber);
    function dispatchBufferTimeSpanOnly(state) {
        var subscriber = state.subscriber, prevContext = state.context;
        prevContext && subscriber.closeContext(prevContext), subscriber.closed || (state.context = subscriber.openContext(), 
        state.context.closeAction = this.schedule(state, state.bufferTimeSpan));
    }
    function dispatchBufferCreation(state) {
        var bufferCreationInterval = state.bufferCreationInterval, bufferTimeSpan = state.bufferTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler, context = subscriber.openContext();
        subscriber.closed || (subscriber.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, {
            subscriber: subscriber,
            context: context
        })), this.schedule(state, bufferCreationInterval));
    }
    function dispatchBufferClose(arg) {
        var subscriber = arg.subscriber, context = arg.context;
        subscriber.closeContext(context);
    }
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscription_1 = __webpack_require__(30), subscribeToResult_1 = __webpack_require__(13), OuterSubscriber_1 = __webpack_require__(14);
    exports.bufferToggle = function(openings, closingSelector) {
        return function(source) {
            return source.lift(new BufferToggleOperator(openings, closingSelector));
        };
    };
    var BufferToggleOperator = function() {
        function BufferToggleOperator(openings, closingSelector) {
            this.openings = openings, this.closingSelector = closingSelector;
        }
        return BufferToggleOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new BufferToggleSubscriber(subscriber, this.openings, this.closingSelector));
        }, BufferToggleOperator;
    }(), BufferToggleSubscriber = function(_super) {
        function BufferToggleSubscriber(destination, openings, closingSelector) {
            _super.call(this, destination), this.openings = openings, this.closingSelector = closingSelector, 
            this.contexts = [], this.add(subscribeToResult_1.subscribeToResult(this, openings));
        }
        return __extends(BufferToggleSubscriber, _super), BufferToggleSubscriber.prototype._next = function(value) {
            for (var contexts = this.contexts, len = contexts.length, i = 0; i < len; i++) contexts[i].buffer.push(value);
        }, BufferToggleSubscriber.prototype._error = function(err) {
            for (var contexts = this.contexts; contexts.length > 0; ) {
                var context = contexts.shift();
                context.subscription.unsubscribe(), context.buffer = null, context.subscription = null;
            }
            this.contexts = null, _super.prototype._error.call(this, err);
        }, BufferToggleSubscriber.prototype._complete = function() {
            for (var contexts = this.contexts; contexts.length > 0; ) {
                var context = contexts.shift();
                this.destination.next(context.buffer), context.subscription.unsubscribe(), context.buffer = null, 
                context.subscription = null;
            }
            this.contexts = null, _super.prototype._complete.call(this);
        }, BufferToggleSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            outerValue ? this.closeBuffer(outerValue) : this.openBuffer(innerValue);
        }, BufferToggleSubscriber.prototype.notifyComplete = function(innerSub) {
            this.closeBuffer(innerSub.context);
        }, BufferToggleSubscriber.prototype.openBuffer = function(value) {
            try {
                var closingNotifier = this.closingSelector.call(this, value);
                closingNotifier && this.trySubscribe(closingNotifier);
            } catch (err) {
                this._error(err);
            }
        }, BufferToggleSubscriber.prototype.closeBuffer = function(context) {
            var contexts = this.contexts;
            if (contexts && context) {
                var buffer = context.buffer, subscription = context.subscription;
                this.destination.next(buffer), contexts.splice(contexts.indexOf(context), 1), this.remove(subscription), 
                subscription.unsubscribe();
            }
        }, BufferToggleSubscriber.prototype.trySubscribe = function(closingNotifier) {
            var contexts = this.contexts, subscription = new Subscription_1.Subscription(), context = {
                buffer: [],
                subscription: subscription
            };
            contexts.push(context);
            var innerSubscription = subscribeToResult_1.subscribeToResult(this, closingNotifier, context);
            !innerSubscription || innerSubscription.closed ? this.closeBuffer(context) : (innerSubscription.context = context, 
            this.add(innerSubscription), subscription.add(innerSubscription));
        }, BufferToggleSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscription_1 = __webpack_require__(30), tryCatch_1 = __webpack_require__(44), errorObject_1 = __webpack_require__(37), OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.bufferWhen = function(closingSelector) {
        return function(source) {
            return source.lift(new BufferWhenOperator(closingSelector));
        };
    };
    var BufferWhenOperator = function() {
        function BufferWhenOperator(closingSelector) {
            this.closingSelector = closingSelector;
        }
        return BufferWhenOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new BufferWhenSubscriber(subscriber, this.closingSelector));
        }, BufferWhenOperator;
    }(), BufferWhenSubscriber = function(_super) {
        function BufferWhenSubscriber(destination, closingSelector) {
            _super.call(this, destination), this.closingSelector = closingSelector, this.subscribing = !1, 
            this.openBuffer();
        }
        return __extends(BufferWhenSubscriber, _super), BufferWhenSubscriber.prototype._next = function(value) {
            this.buffer.push(value);
        }, BufferWhenSubscriber.prototype._complete = function() {
            var buffer = this.buffer;
            buffer && this.destination.next(buffer), _super.prototype._complete.call(this);
        }, BufferWhenSubscriber.prototype._unsubscribe = function() {
            this.buffer = null, this.subscribing = !1;
        }, BufferWhenSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.openBuffer();
        }, BufferWhenSubscriber.prototype.notifyComplete = function() {
            this.subscribing ? this.complete() : this.openBuffer();
        }, BufferWhenSubscriber.prototype.openBuffer = function() {
            var closingSubscription = this.closingSubscription;
            closingSubscription && (this.remove(closingSubscription), closingSubscription.unsubscribe());
            var buffer = this.buffer;
            this.buffer && this.destination.next(buffer), this.buffer = [];
            var closingNotifier = tryCatch_1.tryCatch(this.closingSelector)();
            closingNotifier === errorObject_1.errorObject ? this.error(errorObject_1.errorObject.e) : (closingSubscription = new Subscription_1.Subscription(), 
            this.closingSubscription = closingSubscription, this.add(closingSubscription), this.subscribing = !0, 
            closingSubscription.add(subscribeToResult_1.subscribeToResult(this, closingNotifier)), 
            this.subscribing = !1);
        }, BufferWhenSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.catchError = function(selector) {
        return function(source) {
            var operator = new CatchOperator(selector), caught = source.lift(operator);
            return operator.caught = caught;
        };
    };
    var CatchOperator = function() {
        function CatchOperator(selector) {
            this.selector = selector;
        }
        return CatchOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));
        }, CatchOperator;
    }(), CatchSubscriber = function(_super) {
        function CatchSubscriber(destination, selector, caught) {
            _super.call(this, destination), this.selector = selector, this.caught = caught;
        }
        return __extends(CatchSubscriber, _super), CatchSubscriber.prototype.error = function(err) {
            if (!this.isStopped) {
                var result = void 0;
                try {
                    result = this.selector(err, this.caught);
                } catch (err2) {
                    return void _super.prototype.error.call(this, err2);
                }
                this._unsubscribeAndRecycle(), this.add(subscribeToResult_1.subscribeToResult(this, result));
            }
        }, CatchSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var combineLatest_1 = __webpack_require__(360);
    exports.combineAll = function(project) {
        return function(source) {
            return source.lift(new combineLatest_1.CombineLatestOperator(project));
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var concatMap_1 = __webpack_require__(381);
    exports.concatMapTo = function(innerObservable, resultSelector) {
        return concatMap_1.concatMap(function() {
            return innerObservable;
        }, resultSelector);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.count = function(predicate) {
        return function(source) {
            return source.lift(new CountOperator(predicate, source));
        };
    };
    var CountOperator = function() {
        function CountOperator(predicate, source) {
            this.predicate = predicate, this.source = source;
        }
        return CountOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new CountSubscriber(subscriber, this.predicate, this.source));
        }, CountOperator;
    }(), CountSubscriber = function(_super) {
        function CountSubscriber(destination, predicate, source) {
            _super.call(this, destination), this.predicate = predicate, this.source = source, 
            this.count = 0, this.index = 0;
        }
        return __extends(CountSubscriber, _super), CountSubscriber.prototype._next = function(value) {
            this.predicate ? this._tryPredicate(value) : this.count++;
        }, CountSubscriber.prototype._tryPredicate = function(value) {
            var result;
            try {
                result = this.predicate(value, this.index++, this.source);
            } catch (err) {
                return void this.destination.error(err);
            }
            result && this.count++;
        }, CountSubscriber.prototype._complete = function() {
            this.destination.next(this.count), this.destination.complete();
        }, CountSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.dematerialize = function() {
        return function(source) {
            return source.lift(new DeMaterializeOperator());
        };
    };
    var DeMaterializeOperator = function() {
        function DeMaterializeOperator() {}
        return DeMaterializeOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new DeMaterializeSubscriber(subscriber));
        }, DeMaterializeOperator;
    }(), DeMaterializeSubscriber = function(_super) {
        function DeMaterializeSubscriber(destination) {
            _super.call(this, destination);
        }
        return __extends(DeMaterializeSubscriber, _super), DeMaterializeSubscriber.prototype._next = function(value) {
            value.observe(this.destination);
        }, DeMaterializeSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.debounce = function(durationSelector) {
        return function(source) {
            return source.lift(new DebounceOperator(durationSelector));
        };
    };
    var DebounceOperator = function() {
        function DebounceOperator(durationSelector) {
            this.durationSelector = durationSelector;
        }
        return DebounceOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new DebounceSubscriber(subscriber, this.durationSelector));
        }, DebounceOperator;
    }(), DebounceSubscriber = function(_super) {
        function DebounceSubscriber(destination, durationSelector) {
            _super.call(this, destination), this.durationSelector = durationSelector, this.hasValue = !1, 
            this.durationSubscription = null;
        }
        return __extends(DebounceSubscriber, _super), DebounceSubscriber.prototype._next = function(value) {
            try {
                var result = this.durationSelector.call(this, value);
                result && this._tryNext(value, result);
            } catch (err) {
                this.destination.error(err);
            }
        }, DebounceSubscriber.prototype._complete = function() {
            this.emitValue(), this.destination.complete();
        }, DebounceSubscriber.prototype._tryNext = function(value, duration) {
            var subscription = this.durationSubscription;
            this.value = value, this.hasValue = !0, subscription && (subscription.unsubscribe(), 
            this.remove(subscription)), (subscription = subscribeToResult_1.subscribeToResult(this, duration)).closed || this.add(this.durationSubscription = subscription);
        }, DebounceSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.emitValue();
        }, DebounceSubscriber.prototype.notifyComplete = function() {
            this.emitValue();
        }, DebounceSubscriber.prototype.emitValue = function() {
            if (this.hasValue) {
                var value = this.value, subscription = this.durationSubscription;
                subscription && (this.durationSubscription = null, subscription.unsubscribe(), this.remove(subscription)), 
                this.value = null, this.hasValue = !1, _super.prototype._next.call(this, value);
            }
        }, DebounceSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), async_1 = __webpack_require__(24);
    exports.debounceTime = function(dueTime, scheduler) {
        return void 0 === scheduler && (scheduler = async_1.async), function(source) {
            return source.lift(new DebounceTimeOperator(dueTime, scheduler));
        };
    };
    var DebounceTimeOperator = function() {
        function DebounceTimeOperator(dueTime, scheduler) {
            this.dueTime = dueTime, this.scheduler = scheduler;
        }
        return DebounceTimeOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));
        }, DebounceTimeOperator;
    }(), DebounceTimeSubscriber = function(_super) {
        function DebounceTimeSubscriber(destination, dueTime, scheduler) {
            _super.call(this, destination), this.dueTime = dueTime, this.scheduler = scheduler, 
            this.debouncedSubscription = null, this.lastValue = null, this.hasValue = !1;
        }
        return __extends(DebounceTimeSubscriber, _super), DebounceTimeSubscriber.prototype._next = function(value) {
            this.clearDebounce(), this.lastValue = value, this.hasValue = !0, this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));
        }, DebounceTimeSubscriber.prototype._complete = function() {
            this.debouncedNext(), this.destination.complete();
        }, DebounceTimeSubscriber.prototype.debouncedNext = function() {
            this.clearDebounce(), this.hasValue && (this.destination.next(this.lastValue), this.lastValue = null, 
            this.hasValue = !1);
        }, DebounceTimeSubscriber.prototype.clearDebounce = function() {
            var debouncedSubscription = this.debouncedSubscription;
            null !== debouncedSubscription && (this.remove(debouncedSubscription), debouncedSubscription.unsubscribe(), 
            this.debouncedSubscription = null);
        }, DebounceTimeSubscriber;
    }(Subscriber_1.Subscriber);
    function dispatchNext(subscriber) {
        subscriber.debouncedNext();
    }
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, async_1 = __webpack_require__(24), isDate_1 = __webpack_require__(362), Subscriber_1 = __webpack_require__(6), Notification_1 = __webpack_require__(283);
    exports.delay = function(delay, scheduler) {
        void 0 === scheduler && (scheduler = async_1.async);
        var delayFor = isDate_1.isDate(delay) ? +delay - scheduler.now() : Math.abs(delay);
        return function(source) {
            return source.lift(new DelayOperator(delayFor, scheduler));
        };
    };
    var DelayOperator = function() {
        function DelayOperator(delay, scheduler) {
            this.delay = delay, this.scheduler = scheduler;
        }
        return DelayOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));
        }, DelayOperator;
    }(), DelaySubscriber = function(_super) {
        function DelaySubscriber(destination, delay, scheduler) {
            _super.call(this, destination), this.delay = delay, this.scheduler = scheduler, 
            this.queue = [], this.active = !1, this.errored = !1;
        }
        return __extends(DelaySubscriber, _super), DelaySubscriber.dispatch = function(state) {
            for (var source = state.source, queue = source.queue, scheduler = state.scheduler, destination = state.destination; queue.length > 0 && queue[0].time - scheduler.now() <= 0; ) queue.shift().notification.observe(destination);
            if (queue.length > 0) {
                var delay_1 = Math.max(0, queue[0].time - scheduler.now());
                this.schedule(state, delay_1);
            } else source.active = !1;
        }, DelaySubscriber.prototype._schedule = function(scheduler) {
            this.active = !0, this.add(scheduler.schedule(DelaySubscriber.dispatch, this.delay, {
                source: this,
                destination: this.destination,
                scheduler: scheduler
            }));
        }, DelaySubscriber.prototype.scheduleNotification = function(notification) {
            if (!0 !== this.errored) {
                var scheduler = this.scheduler, message = new DelayMessage(scheduler.now() + this.delay, notification);
                this.queue.push(message), !1 === this.active && this._schedule(scheduler);
            }
        }, DelaySubscriber.prototype._next = function(value) {
            this.scheduleNotification(Notification_1.Notification.createNext(value));
        }, DelaySubscriber.prototype._error = function(err) {
            this.errored = !0, this.queue = [], this.destination.error(err);
        }, DelaySubscriber.prototype._complete = function() {
            this.scheduleNotification(Notification_1.Notification.createComplete());
        }, DelaySubscriber;
    }(Subscriber_1.Subscriber), DelayMessage = function() {
        return function(time, notification) {
            this.time = time, this.notification = notification;
        };
    }();
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), Observable_1 = __webpack_require__(0), OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.delayWhen = function(delayDurationSelector, subscriptionDelay) {
        return subscriptionDelay ? function(source) {
            return new SubscriptionDelayObservable(source, subscriptionDelay).lift(new DelayWhenOperator(delayDurationSelector));
        } : function(source) {
            return source.lift(new DelayWhenOperator(delayDurationSelector));
        };
    };
    var DelayWhenOperator = function() {
        function DelayWhenOperator(delayDurationSelector) {
            this.delayDurationSelector = delayDurationSelector;
        }
        return DelayWhenOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new DelayWhenSubscriber(subscriber, this.delayDurationSelector));
        }, DelayWhenOperator;
    }(), DelayWhenSubscriber = function(_super) {
        function DelayWhenSubscriber(destination, delayDurationSelector) {
            _super.call(this, destination), this.delayDurationSelector = delayDurationSelector, 
            this.completed = !1, this.delayNotifierSubscriptions = [], this.values = [];
        }
        return __extends(DelayWhenSubscriber, _super), DelayWhenSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.destination.next(outerValue), this.removeSubscription(innerSub), this.tryComplete();
        }, DelayWhenSubscriber.prototype.notifyError = function(error, innerSub) {
            this._error(error);
        }, DelayWhenSubscriber.prototype.notifyComplete = function(innerSub) {
            var value = this.removeSubscription(innerSub);
            value && this.destination.next(value), this.tryComplete();
        }, DelayWhenSubscriber.prototype._next = function(value) {
            try {
                var delayNotifier = this.delayDurationSelector(value);
                delayNotifier && this.tryDelay(delayNotifier, value);
            } catch (err) {
                this.destination.error(err);
            }
        }, DelayWhenSubscriber.prototype._complete = function() {
            this.completed = !0, this.tryComplete();
        }, DelayWhenSubscriber.prototype.removeSubscription = function(subscription) {
            subscription.unsubscribe();
            var subscriptionIdx = this.delayNotifierSubscriptions.indexOf(subscription), value = null;
            return -1 !== subscriptionIdx && (value = this.values[subscriptionIdx], this.delayNotifierSubscriptions.splice(subscriptionIdx, 1), 
            this.values.splice(subscriptionIdx, 1)), value;
        }, DelayWhenSubscriber.prototype.tryDelay = function(delayNotifier, value) {
            var notifierSubscription = subscribeToResult_1.subscribeToResult(this, delayNotifier, value);
            notifierSubscription && !notifierSubscription.closed && (this.add(notifierSubscription), 
            this.delayNotifierSubscriptions.push(notifierSubscription)), this.values.push(value);
        }, DelayWhenSubscriber.prototype.tryComplete = function() {
            this.completed && 0 === this.delayNotifierSubscriptions.length && this.destination.complete();
        }, DelayWhenSubscriber;
    }(OuterSubscriber_1.OuterSubscriber), SubscriptionDelayObservable = function(_super) {
        function SubscriptionDelayObservable(source, subscriptionDelay) {
            _super.call(this), this.source = source, this.subscriptionDelay = subscriptionDelay;
        }
        return __extends(SubscriptionDelayObservable, _super), SubscriptionDelayObservable.prototype._subscribe = function(subscriber) {
            this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber, this.source));
        }, SubscriptionDelayObservable;
    }(Observable_1.Observable), SubscriptionDelaySubscriber = function(_super) {
        function SubscriptionDelaySubscriber(parent, source) {
            _super.call(this), this.parent = parent, this.source = source, this.sourceSubscribed = !1;
        }
        return __extends(SubscriptionDelaySubscriber, _super), SubscriptionDelaySubscriber.prototype._next = function(unused) {
            this.subscribeToSource();
        }, SubscriptionDelaySubscriber.prototype._error = function(err) {
            this.unsubscribe(), this.parent.error(err);
        }, SubscriptionDelaySubscriber.prototype._complete = function() {
            this.subscribeToSource();
        }, SubscriptionDelaySubscriber.prototype.subscribeToSource = function() {
            this.sourceSubscribed || (this.sourceSubscribed = !0, this.unsubscribe(), this.source.subscribe(this.parent));
        }, SubscriptionDelaySubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var distinctUntilChanged_1 = __webpack_require__(430);
    exports.distinctUntilKeyChanged = function(key, compare) {
        return distinctUntilChanged_1.distinctUntilChanged(function(x, y) {
            return compare ? compare(x[key], y[key]) : x[key] === y[key];
        });
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.tap = function(nextOrObserver, error, complete) {
        return function(source) {
            return source.lift(new DoOperator(nextOrObserver, error, complete));
        };
    };
    var DoOperator = function() {
        function DoOperator(nextOrObserver, error, complete) {
            this.nextOrObserver = nextOrObserver, this.error = error, this.complete = complete;
        }
        return DoOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new DoSubscriber(subscriber, this.nextOrObserver, this.error, this.complete));
        }, DoOperator;
    }(), DoSubscriber = function(_super) {
        function DoSubscriber(destination, nextOrObserver, error, complete) {
            _super.call(this, destination);
            var safeSubscriber = new Subscriber_1.Subscriber(nextOrObserver, error, complete);
            safeSubscriber.syncErrorThrowable = !0, this.add(safeSubscriber), this.safeSubscriber = safeSubscriber;
        }
        return __extends(DoSubscriber, _super), DoSubscriber.prototype._next = function(value) {
            var safeSubscriber = this.safeSubscriber;
            safeSubscriber.next(value), safeSubscriber.syncErrorThrown ? this.destination.error(safeSubscriber.syncErrorValue) : this.destination.next(value);
        }, DoSubscriber.prototype._error = function(err) {
            var safeSubscriber = this.safeSubscriber;
            safeSubscriber.error(err), safeSubscriber.syncErrorThrown ? this.destination.error(safeSubscriber.syncErrorValue) : this.destination.error(err);
        }, DoSubscriber.prototype._complete = function() {
            var safeSubscriber = this.safeSubscriber;
            safeSubscriber.complete(), safeSubscriber.syncErrorThrown ? this.destination.error(safeSubscriber.syncErrorValue) : this.destination.complete();
        }, DoSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.exhaust = function() {
        return function(source) {
            return source.lift(new SwitchFirstOperator());
        };
    };
    var SwitchFirstOperator = function() {
        function SwitchFirstOperator() {}
        return SwitchFirstOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new SwitchFirstSubscriber(subscriber));
        }, SwitchFirstOperator;
    }(), SwitchFirstSubscriber = function(_super) {
        function SwitchFirstSubscriber(destination) {
            _super.call(this, destination), this.hasCompleted = !1, this.hasSubscription = !1;
        }
        return __extends(SwitchFirstSubscriber, _super), SwitchFirstSubscriber.prototype._next = function(value) {
            this.hasSubscription || (this.hasSubscription = !0, this.add(subscribeToResult_1.subscribeToResult(this, value)));
        }, SwitchFirstSubscriber.prototype._complete = function() {
            this.hasCompleted = !0, this.hasSubscription || this.destination.complete();
        }, SwitchFirstSubscriber.prototype.notifyComplete = function(innerSub) {
            this.remove(innerSub), this.hasSubscription = !1, this.hasCompleted && this.destination.complete();
        }, SwitchFirstSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.exhaustMap = function(project, resultSelector) {
        return function(source) {
            return source.lift(new SwitchFirstMapOperator(project, resultSelector));
        };
    };
    var SwitchFirstMapOperator = function() {
        function SwitchFirstMapOperator(project, resultSelector) {
            this.project = project, this.resultSelector = resultSelector;
        }
        return SwitchFirstMapOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new SwitchFirstMapSubscriber(subscriber, this.project, this.resultSelector));
        }, SwitchFirstMapOperator;
    }(), SwitchFirstMapSubscriber = function(_super) {
        function SwitchFirstMapSubscriber(destination, project, resultSelector) {
            _super.call(this, destination), this.project = project, this.resultSelector = resultSelector, 
            this.hasSubscription = !1, this.hasCompleted = !1, this.index = 0;
        }
        return __extends(SwitchFirstMapSubscriber, _super), SwitchFirstMapSubscriber.prototype._next = function(value) {
            this.hasSubscription || this.tryNext(value);
        }, SwitchFirstMapSubscriber.prototype.tryNext = function(value) {
            var index = this.index++, destination = this.destination;
            try {
                var result = this.project(value, index);
                this.hasSubscription = !0, this.add(subscribeToResult_1.subscribeToResult(this, result, value, index));
            } catch (err) {
                destination.error(err);
            }
        }, SwitchFirstMapSubscriber.prototype._complete = function() {
            this.hasCompleted = !0, this.hasSubscription || this.destination.complete();
        }, SwitchFirstMapSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            var resultSelector = this.resultSelector, destination = this.destination;
            resultSelector ? this.trySelectResult(outerValue, innerValue, outerIndex, innerIndex) : destination.next(innerValue);
        }, SwitchFirstMapSubscriber.prototype.trySelectResult = function(outerValue, innerValue, outerIndex, innerIndex) {
            var resultSelector = this.resultSelector, destination = this.destination;
            try {
                var result = resultSelector(outerValue, innerValue, outerIndex, innerIndex);
                destination.next(result);
            } catch (err) {
                destination.error(err);
            }
        }, SwitchFirstMapSubscriber.prototype.notifyError = function(err) {
            this.destination.error(err);
        }, SwitchFirstMapSubscriber.prototype.notifyComplete = function(innerSub) {
            this.remove(innerSub), this.hasSubscription = !1, this.hasCompleted && this.destination.complete();
        }, SwitchFirstMapSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, tryCatch_1 = __webpack_require__(44), errorObject_1 = __webpack_require__(37), OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.expand = function(project, concurrent, scheduler) {
        return void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY), void 0 === scheduler && (scheduler = void 0), 
        concurrent = (concurrent || 0) < 1 ? Number.POSITIVE_INFINITY : concurrent, function(source) {
            return source.lift(new ExpandOperator(project, concurrent, scheduler));
        };
    };
    var ExpandOperator = function() {
        function ExpandOperator(project, concurrent, scheduler) {
            this.project = project, this.concurrent = concurrent, this.scheduler = scheduler;
        }
        return ExpandOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new ExpandSubscriber(subscriber, this.project, this.concurrent, this.scheduler));
        }, ExpandOperator;
    }();
    exports.ExpandOperator = ExpandOperator;
    var ExpandSubscriber = function(_super) {
        function ExpandSubscriber(destination, project, concurrent, scheduler) {
            _super.call(this, destination), this.project = project, this.concurrent = concurrent, 
            this.scheduler = scheduler, this.index = 0, this.active = 0, this.hasCompleted = !1, 
            concurrent < Number.POSITIVE_INFINITY && (this.buffer = []);
        }
        return __extends(ExpandSubscriber, _super), ExpandSubscriber.dispatch = function(arg) {
            var subscriber = arg.subscriber, result = arg.result, value = arg.value, index = arg.index;
            subscriber.subscribeToProjection(result, value, index);
        }, ExpandSubscriber.prototype._next = function(value) {
            var destination = this.destination;
            if (destination.closed) this._complete(); else {
                var index = this.index++;
                if (this.active < this.concurrent) {
                    destination.next(value);
                    var result = tryCatch_1.tryCatch(this.project)(value, index);
                    if (result === errorObject_1.errorObject) destination.error(errorObject_1.errorObject.e); else if (this.scheduler) {
                        var state = {
                            subscriber: this,
                            result: result,
                            value: value,
                            index: index
                        };
                        this.add(this.scheduler.schedule(ExpandSubscriber.dispatch, 0, state));
                    } else this.subscribeToProjection(result, value, index);
                } else this.buffer.push(value);
            }
        }, ExpandSubscriber.prototype.subscribeToProjection = function(result, value, index) {
            this.active++, this.add(subscribeToResult_1.subscribeToResult(this, result, value, index));
        }, ExpandSubscriber.prototype._complete = function() {
            this.hasCompleted = !0, this.hasCompleted && 0 === this.active && this.destination.complete();
        }, ExpandSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this._next(innerValue);
        }, ExpandSubscriber.prototype.notifyComplete = function(innerSub) {
            var buffer = this.buffer;
            this.remove(innerSub), this.active--, buffer && buffer.length > 0 && this._next(buffer.shift()), 
            this.hasCompleted && 0 === this.active && this.destination.complete();
        }, ExpandSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.ExpandSubscriber = ExpandSubscriber;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), ArgumentOutOfRangeError_1 = __webpack_require__(332);
    exports.elementAt = function(index, defaultValue) {
        return function(source) {
            return source.lift(new ElementAtOperator(index, defaultValue));
        };
    };
    var ElementAtOperator = function() {
        function ElementAtOperator(index, defaultValue) {
            if (this.index = index, this.defaultValue = defaultValue, index < 0) throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();
        }
        return ElementAtOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new ElementAtSubscriber(subscriber, this.index, this.defaultValue));
        }, ElementAtOperator;
    }(), ElementAtSubscriber = function(_super) {
        function ElementAtSubscriber(destination, index, defaultValue) {
            _super.call(this, destination), this.index = index, this.defaultValue = defaultValue;
        }
        return __extends(ElementAtSubscriber, _super), ElementAtSubscriber.prototype._next = function(x) {
            0 == this.index-- && (this.destination.next(x), this.destination.complete());
        }, ElementAtSubscriber.prototype._complete = function() {
            var destination = this.destination;
            this.index >= 0 && (void 0 !== this.defaultValue ? destination.next(this.defaultValue) : destination.error(new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError())), 
            destination.complete();
        }, ElementAtSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), Subscription_1 = __webpack_require__(30);
    exports.finalize = function(callback) {
        return function(source) {
            return source.lift(new FinallyOperator(callback));
        };
    };
    var FinallyOperator = function() {
        function FinallyOperator(callback) {
            this.callback = callback;
        }
        return FinallyOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new FinallySubscriber(subscriber, this.callback));
        }, FinallyOperator;
    }(), FinallySubscriber = function(_super) {
        function FinallySubscriber(destination, callback) {
            _super.call(this, destination), this.add(new Subscription_1.Subscription(callback));
        }
        return __extends(FinallySubscriber, _super), FinallySubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var find_1 = __webpack_require__(431);
    exports.findIndex = function(predicate, thisArg) {
        return function(source) {
            return source.lift(new find_1.FindValueOperator(predicate, source, !0, thisArg));
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), EmptyError_1 = __webpack_require__(365);
    exports.first = function(predicate, resultSelector, defaultValue) {
        return function(source) {
            return source.lift(new FirstOperator(predicate, resultSelector, defaultValue, source));
        };
    };
    var FirstOperator = function() {
        function FirstOperator(predicate, resultSelector, defaultValue, source) {
            this.predicate = predicate, this.resultSelector = resultSelector, this.defaultValue = defaultValue, 
            this.source = source;
        }
        return FirstOperator.prototype.call = function(observer, source) {
            return source.subscribe(new FirstSubscriber(observer, this.predicate, this.resultSelector, this.defaultValue, this.source));
        }, FirstOperator;
    }(), FirstSubscriber = function(_super) {
        function FirstSubscriber(destination, predicate, resultSelector, defaultValue, source) {
            _super.call(this, destination), this.predicate = predicate, this.resultSelector = resultSelector, 
            this.defaultValue = defaultValue, this.source = source, this.index = 0, this.hasCompleted = !1, 
            this._emitted = !1;
        }
        return __extends(FirstSubscriber, _super), FirstSubscriber.prototype._next = function(value) {
            var index = this.index++;
            this.predicate ? this._tryPredicate(value, index) : this._emit(value, index);
        }, FirstSubscriber.prototype._tryPredicate = function(value, index) {
            var result;
            try {
                result = this.predicate(value, index, this.source);
            } catch (err) {
                return void this.destination.error(err);
            }
            result && this._emit(value, index);
        }, FirstSubscriber.prototype._emit = function(value, index) {
            this.resultSelector ? this._tryResultSelector(value, index) : this._emitFinal(value);
        }, FirstSubscriber.prototype._tryResultSelector = function(value, index) {
            var result;
            try {
                result = this.resultSelector(value, index);
            } catch (err) {
                return void this.destination.error(err);
            }
            this._emitFinal(result);
        }, FirstSubscriber.prototype._emitFinal = function(value) {
            var destination = this.destination;
            this._emitted || (this._emitted = !0, destination.next(value), destination.complete(), 
            this.hasCompleted = !0);
        }, FirstSubscriber.prototype._complete = function() {
            var destination = this.destination;
            this.hasCompleted || void 0 === this.defaultValue ? this.hasCompleted || destination.error(new EmptyError_1.EmptyError()) : (destination.next(this.defaultValue), 
            destination.complete());
        }, FirstSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), Subscription_1 = __webpack_require__(30), Observable_1 = __webpack_require__(0), Subject_1 = __webpack_require__(27), Map_1 = __webpack_require__(872), FastMap_1 = __webpack_require__(874);
    exports.groupBy = function(keySelector, elementSelector, durationSelector, subjectSelector) {
        return function(source) {
            return source.lift(new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector));
        };
    };
    var GroupByOperator = function() {
        function GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector) {
            this.keySelector = keySelector, this.elementSelector = elementSelector, this.durationSelector = durationSelector, 
            this.subjectSelector = subjectSelector;
        }
        return GroupByOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new GroupBySubscriber(subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector));
        }, GroupByOperator;
    }(), GroupBySubscriber = function(_super) {
        function GroupBySubscriber(destination, keySelector, elementSelector, durationSelector, subjectSelector) {
            _super.call(this, destination), this.keySelector = keySelector, this.elementSelector = elementSelector, 
            this.durationSelector = durationSelector, this.subjectSelector = subjectSelector, 
            this.groups = null, this.attemptedToUnsubscribe = !1, this.count = 0;
        }
        return __extends(GroupBySubscriber, _super), GroupBySubscriber.prototype._next = function(value) {
            var key;
            try {
                key = this.keySelector(value);
            } catch (err) {
                return void this.error(err);
            }
            this._group(value, key);
        }, GroupBySubscriber.prototype._group = function(value, key) {
            var groups = this.groups;
            groups || (groups = this.groups = "string" == typeof key ? new FastMap_1.FastMap() : new Map_1.Map());
            var element, group = groups.get(key);
            if (this.elementSelector) try {
                element = this.elementSelector(value);
            } catch (err) {
                this.error(err);
            } else element = value;
            if (!group) {
                group = this.subjectSelector ? this.subjectSelector() : new Subject_1.Subject(), 
                groups.set(key, group);
                var groupedObservable = new GroupedObservable(key, group, this);
                if (this.destination.next(groupedObservable), this.durationSelector) {
                    var duration = void 0;
                    try {
                        duration = this.durationSelector(new GroupedObservable(key, group));
                    } catch (err) {
                        return void this.error(err);
                    }
                    this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));
                }
            }
            group.closed || group.next(element);
        }, GroupBySubscriber.prototype._error = function(err) {
            var groups = this.groups;
            groups && (groups.forEach(function(group, key) {
                group.error(err);
            }), groups.clear()), this.destination.error(err);
        }, GroupBySubscriber.prototype._complete = function() {
            var groups = this.groups;
            groups && (groups.forEach(function(group, key) {
                group.complete();
            }), groups.clear()), this.destination.complete();
        }, GroupBySubscriber.prototype.removeGroup = function(key) {
            this.groups.delete(key);
        }, GroupBySubscriber.prototype.unsubscribe = function() {
            this.closed || (this.attemptedToUnsubscribe = !0, 0 === this.count && _super.prototype.unsubscribe.call(this));
        }, GroupBySubscriber;
    }(Subscriber_1.Subscriber), GroupDurationSubscriber = function(_super) {
        function GroupDurationSubscriber(key, group, parent) {
            _super.call(this, group), this.key = key, this.group = group, this.parent = parent;
        }
        return __extends(GroupDurationSubscriber, _super), GroupDurationSubscriber.prototype._next = function(value) {
            this.complete();
        }, GroupDurationSubscriber.prototype._unsubscribe = function() {
            var parent = this.parent, key = this.key;
            this.key = this.parent = null, parent && parent.removeGroup(key);
        }, GroupDurationSubscriber;
    }(Subscriber_1.Subscriber), GroupedObservable = function(_super) {
        function GroupedObservable(key, groupSubject, refCountSubscription) {
            _super.call(this), this.key = key, this.groupSubject = groupSubject, this.refCountSubscription = refCountSubscription;
        }
        return __extends(GroupedObservable, _super), GroupedObservable.prototype._subscribe = function(subscriber) {
            var subscription = new Subscription_1.Subscription(), refCountSubscription = this.refCountSubscription, groupSubject = this.groupSubject;
            return refCountSubscription && !refCountSubscription.closed && subscription.add(new InnerRefCountSubscription(refCountSubscription)), 
            subscription.add(groupSubject.subscribe(subscriber)), subscription;
        }, GroupedObservable;
    }(Observable_1.Observable);
    exports.GroupedObservable = GroupedObservable;
    var InnerRefCountSubscription = function(_super) {
        function InnerRefCountSubscription(parent) {
            _super.call(this), this.parent = parent, parent.count++;
        }
        return __extends(InnerRefCountSubscription, _super), InnerRefCountSubscription.prototype.unsubscribe = function() {
            var parent = this.parent;
            parent.closed || this.closed || (_super.prototype.unsubscribe.call(this), parent.count -= 1, 
            0 === parent.count && parent.attemptedToUnsubscribe && parent.unsubscribe());
        }, InnerRefCountSubscription;
    }(Subscription_1.Subscription);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), noop_1 = __webpack_require__(375);
    exports.ignoreElements = function() {
        return function(source) {
            return source.lift(new IgnoreElementsOperator());
        };
    };
    var IgnoreElementsOperator = function() {
        function IgnoreElementsOperator() {}
        return IgnoreElementsOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new IgnoreElementsSubscriber(subscriber));
        }, IgnoreElementsOperator;
    }(), IgnoreElementsSubscriber = function(_super) {
        function IgnoreElementsSubscriber() {
            _super.apply(this, arguments);
        }
        return __extends(IgnoreElementsSubscriber, _super), IgnoreElementsSubscriber.prototype._next = function(unused) {
            noop_1.noop();
        }, IgnoreElementsSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.isEmpty = function() {
        return function(source) {
            return source.lift(new IsEmptyOperator());
        };
    };
    var IsEmptyOperator = function() {
        function IsEmptyOperator() {}
        return IsEmptyOperator.prototype.call = function(observer, source) {
            return source.subscribe(new IsEmptySubscriber(observer));
        }, IsEmptyOperator;
    }(), IsEmptySubscriber = function(_super) {
        function IsEmptySubscriber(destination) {
            _super.call(this, destination);
        }
        return __extends(IsEmptySubscriber, _super), IsEmptySubscriber.prototype.notifyComplete = function(isEmpty) {
            var destination = this.destination;
            destination.next(isEmpty), destination.complete();
        }, IsEmptySubscriber.prototype._next = function(value) {
            this.notifyComplete(!1);
        }, IsEmptySubscriber.prototype._complete = function() {
            this.notifyComplete(!0);
        }, IsEmptySubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var async_1 = __webpack_require__(24), audit_1 = __webpack_require__(432), timer_1 = __webpack_require__(516);
    exports.auditTime = function(duration, scheduler) {
        return void 0 === scheduler && (scheduler = async_1.async), audit_1.audit(function() {
            return timer_1.timer(duration, scheduler);
        });
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), EmptyError_1 = __webpack_require__(365);
    exports.last = function(predicate, resultSelector, defaultValue) {
        return function(source) {
            return source.lift(new LastOperator(predicate, resultSelector, defaultValue, source));
        };
    };
    var LastOperator = function() {
        function LastOperator(predicate, resultSelector, defaultValue, source) {
            this.predicate = predicate, this.resultSelector = resultSelector, this.defaultValue = defaultValue, 
            this.source = source;
        }
        return LastOperator.prototype.call = function(observer, source) {
            return source.subscribe(new LastSubscriber(observer, this.predicate, this.resultSelector, this.defaultValue, this.source));
        }, LastOperator;
    }(), LastSubscriber = function(_super) {
        function LastSubscriber(destination, predicate, resultSelector, defaultValue, source) {
            _super.call(this, destination), this.predicate = predicate, this.resultSelector = resultSelector, 
            this.defaultValue = defaultValue, this.source = source, this.hasValue = !1, this.index = 0, 
            void 0 !== defaultValue && (this.lastValue = defaultValue, this.hasValue = !0);
        }
        return __extends(LastSubscriber, _super), LastSubscriber.prototype._next = function(value) {
            var index = this.index++;
            if (this.predicate) this._tryPredicate(value, index); else {
                if (this.resultSelector) return void this._tryResultSelector(value, index);
                this.lastValue = value, this.hasValue = !0;
            }
        }, LastSubscriber.prototype._tryPredicate = function(value, index) {
            var result;
            try {
                result = this.predicate(value, index, this.source);
            } catch (err) {
                return void this.destination.error(err);
            }
            if (result) {
                if (this.resultSelector) return void this._tryResultSelector(value, index);
                this.lastValue = value, this.hasValue = !0;
            }
        }, LastSubscriber.prototype._tryResultSelector = function(value, index) {
            var result;
            try {
                result = this.resultSelector(value, index);
            } catch (err) {
                return void this.destination.error(err);
            }
            this.lastValue = result, this.hasValue = !0;
        }, LastSubscriber.prototype._complete = function() {
            var destination = this.destination;
            this.hasValue ? (destination.next(this.lastValue), destination.complete()) : destination.error(new EmptyError_1.EmptyError());
        }, LastSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.every = function(predicate, thisArg) {
        return function(source) {
            return source.lift(new EveryOperator(predicate, thisArg, source));
        };
    };
    var EveryOperator = function() {
        function EveryOperator(predicate, thisArg, source) {
            this.predicate = predicate, this.thisArg = thisArg, this.source = source;
        }
        return EveryOperator.prototype.call = function(observer, source) {
            return source.subscribe(new EverySubscriber(observer, this.predicate, this.thisArg, this.source));
        }, EveryOperator;
    }(), EverySubscriber = function(_super) {
        function EverySubscriber(destination, predicate, thisArg, source) {
            _super.call(this, destination), this.predicate = predicate, this.thisArg = thisArg, 
            this.source = source, this.index = 0, this.thisArg = thisArg || this;
        }
        return __extends(EverySubscriber, _super), EverySubscriber.prototype.notifyComplete = function(everyValueMatch) {
            this.destination.next(everyValueMatch), this.destination.complete();
        }, EverySubscriber.prototype._next = function(value) {
            var result = !1;
            try {
                result = this.predicate.call(this.thisArg, value, this.index++, this.source);
            } catch (err) {
                return void this.destination.error(err);
            }
            result || this.notifyComplete(!1);
        }, EverySubscriber.prototype._complete = function() {
            this.notifyComplete(!0);
        }, EverySubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.mapTo = function(value) {
        return function(source) {
            return source.lift(new MapToOperator(value));
        };
    };
    var MapToOperator = function() {
        function MapToOperator(value) {
            this.value = value;
        }
        return MapToOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new MapToSubscriber(subscriber, this.value));
        }, MapToOperator;
    }(), MapToSubscriber = function(_super) {
        function MapToSubscriber(destination, value) {
            _super.call(this, destination), this.value = value;
        }
        return __extends(MapToSubscriber, _super), MapToSubscriber.prototype._next = function(x) {
            this.destination.next(this.value);
        }, MapToSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), Notification_1 = __webpack_require__(283);
    exports.materialize = function() {
        return function(source) {
            return source.lift(new MaterializeOperator());
        };
    };
    var MaterializeOperator = function() {
        function MaterializeOperator() {}
        return MaterializeOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new MaterializeSubscriber(subscriber));
        }, MaterializeOperator;
    }(), MaterializeSubscriber = function(_super) {
        function MaterializeSubscriber(destination) {
            _super.call(this, destination);
        }
        return __extends(MaterializeSubscriber, _super), MaterializeSubscriber.prototype._next = function(value) {
            this.destination.next(Notification_1.Notification.createNext(value));
        }, MaterializeSubscriber.prototype._error = function(err) {
            var destination = this.destination;
            destination.next(Notification_1.Notification.createError(err)), destination.complete();
        }, MaterializeSubscriber.prototype._complete = function() {
            var destination = this.destination;
            destination.next(Notification_1.Notification.createComplete()), destination.complete();
        }, MaterializeSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var reduce_1 = __webpack_require__(333);
    exports.max = function(comparer) {
        var max = "function" == typeof comparer ? function(x, y) {
            return comparer(x, y) > 0 ? x : y;
        } : function(x, y) {
            return x > y ? x : y;
        };
        return reduce_1.reduce(max);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var merge_1 = __webpack_require__(361), merge_2 = __webpack_require__(361);
    exports.mergeStatic = merge_2.merge, exports.merge = function() {
        for (var observables = [], _i = 0; _i < arguments.length; _i++) observables[_i - 0] = arguments[_i];
        return function(source) {
            return source.lift.call(merge_1.merge.apply(void 0, [ source ].concat(observables)));
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.mergeMapTo = function(innerObservable, resultSelector, concurrent) {
        return void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY), "number" == typeof resultSelector && (concurrent = resultSelector, 
        resultSelector = null), function(source) {
            return source.lift(new MergeMapToOperator(innerObservable, resultSelector, concurrent));
        };
    };
    var MergeMapToOperator = function() {
        function MergeMapToOperator(ish, resultSelector, concurrent) {
            void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY), this.ish = ish, 
            this.resultSelector = resultSelector, this.concurrent = concurrent;
        }
        return MergeMapToOperator.prototype.call = function(observer, source) {
            return source.subscribe(new MergeMapToSubscriber(observer, this.ish, this.resultSelector, this.concurrent));
        }, MergeMapToOperator;
    }();
    exports.MergeMapToOperator = MergeMapToOperator;
    var MergeMapToSubscriber = function(_super) {
        function MergeMapToSubscriber(destination, ish, resultSelector, concurrent) {
            void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY), _super.call(this, destination), 
            this.ish = ish, this.resultSelector = resultSelector, this.concurrent = concurrent, 
            this.hasCompleted = !1, this.buffer = [], this.active = 0, this.index = 0;
        }
        return __extends(MergeMapToSubscriber, _super), MergeMapToSubscriber.prototype._next = function(value) {
            if (this.active < this.concurrent) {
                var resultSelector = this.resultSelector, index = this.index++, ish = this.ish, destination = this.destination;
                this.active++, this._innerSub(ish, destination, resultSelector, value, index);
            } else this.buffer.push(value);
        }, MergeMapToSubscriber.prototype._innerSub = function(ish, destination, resultSelector, value, index) {
            this.add(subscribeToResult_1.subscribeToResult(this, ish, value, index));
        }, MergeMapToSubscriber.prototype._complete = function() {
            this.hasCompleted = !0, 0 === this.active && 0 === this.buffer.length && this.destination.complete();
        }, MergeMapToSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            var resultSelector = this.resultSelector, destination = this.destination;
            resultSelector ? this.trySelectResult(outerValue, innerValue, outerIndex, innerIndex) : destination.next(innerValue);
        }, MergeMapToSubscriber.prototype.trySelectResult = function(outerValue, innerValue, outerIndex, innerIndex) {
            var result, resultSelector = this.resultSelector, destination = this.destination;
            try {
                result = resultSelector(outerValue, innerValue, outerIndex, innerIndex);
            } catch (err) {
                return void destination.error(err);
            }
            destination.next(result);
        }, MergeMapToSubscriber.prototype.notifyError = function(err) {
            this.destination.error(err);
        }, MergeMapToSubscriber.prototype.notifyComplete = function(innerSub) {
            var buffer = this.buffer;
            this.remove(innerSub), this.active--, buffer.length > 0 ? this._next(buffer.shift()) : 0 === this.active && this.hasCompleted && this.destination.complete();
        }, MergeMapToSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.MergeMapToSubscriber = MergeMapToSubscriber;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, tryCatch_1 = __webpack_require__(44), errorObject_1 = __webpack_require__(37), subscribeToResult_1 = __webpack_require__(13), OuterSubscriber_1 = __webpack_require__(14);
    exports.mergeScan = function(accumulator, seed, concurrent) {
        return void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY), function(source) {
            return source.lift(new MergeScanOperator(accumulator, seed, concurrent));
        };
    };
    var MergeScanOperator = function() {
        function MergeScanOperator(accumulator, seed, concurrent) {
            this.accumulator = accumulator, this.seed = seed, this.concurrent = concurrent;
        }
        return MergeScanOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new MergeScanSubscriber(subscriber, this.accumulator, this.seed, this.concurrent));
        }, MergeScanOperator;
    }();
    exports.MergeScanOperator = MergeScanOperator;
    var MergeScanSubscriber = function(_super) {
        function MergeScanSubscriber(destination, accumulator, acc, concurrent) {
            _super.call(this, destination), this.accumulator = accumulator, this.acc = acc, 
            this.concurrent = concurrent, this.hasValue = !1, this.hasCompleted = !1, this.buffer = [], 
            this.active = 0, this.index = 0;
        }
        return __extends(MergeScanSubscriber, _super), MergeScanSubscriber.prototype._next = function(value) {
            if (this.active < this.concurrent) {
                var index = this.index++, ish = tryCatch_1.tryCatch(this.accumulator)(this.acc, value), destination = this.destination;
                ish === errorObject_1.errorObject ? destination.error(errorObject_1.errorObject.e) : (this.active++, 
                this._innerSub(ish, value, index));
            } else this.buffer.push(value);
        }, MergeScanSubscriber.prototype._innerSub = function(ish, value, index) {
            this.add(subscribeToResult_1.subscribeToResult(this, ish, value, index));
        }, MergeScanSubscriber.prototype._complete = function() {
            this.hasCompleted = !0, 0 === this.active && 0 === this.buffer.length && (!1 === this.hasValue && this.destination.next(this.acc), 
            this.destination.complete());
        }, MergeScanSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            var destination = this.destination;
            this.acc = innerValue, this.hasValue = !0, destination.next(innerValue);
        }, MergeScanSubscriber.prototype.notifyComplete = function(innerSub) {
            var buffer = this.buffer;
            this.remove(innerSub), this.active--, buffer.length > 0 ? this._next(buffer.shift()) : 0 === this.active && this.hasCompleted && (!1 === this.hasValue && this.destination.next(this.acc), 
            this.destination.complete());
        }, MergeScanSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.MergeScanSubscriber = MergeScanSubscriber;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var reduce_1 = __webpack_require__(333);
    exports.min = function(comparer) {
        var min = "function" == typeof comparer ? function(x, y) {
            return comparer(x, y) < 0 ? x : y;
        } : function(x, y) {
            return x < y ? x : y;
        };
        return reduce_1.reduce(min);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.pairwise = function() {
        return function(source) {
            return source.lift(new PairwiseOperator());
        };
    };
    var PairwiseOperator = function() {
        function PairwiseOperator() {}
        return PairwiseOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new PairwiseSubscriber(subscriber));
        }, PairwiseOperator;
    }(), PairwiseSubscriber = function(_super) {
        function PairwiseSubscriber(destination) {
            _super.call(this, destination), this.hasPrev = !1;
        }
        return __extends(PairwiseSubscriber, _super), PairwiseSubscriber.prototype._next = function(value) {
            this.hasPrev ? this.destination.next([ this.prev, value ]) : this.hasPrev = !0, 
            this.prev = value;
        }, PairwiseSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var not_1 = __webpack_require__(911), filter_1 = __webpack_require__(379);
    exports.partition = function(predicate, thisArg) {
        return function(source) {
            return [ filter_1.filter(predicate, thisArg)(source), filter_1.filter(not_1.not(predicate, thisArg))(source) ];
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var map_1 = __webpack_require__(284);
    exports.pluck = function() {
        for (var properties = [], _i = 0; _i < arguments.length; _i++) properties[_i - 0] = arguments[_i];
        var length = properties.length;
        if (0 === length) throw new Error("list of properties cannot be empty.");
        return function(source) {
            return map_1.map(function(props, length) {
                return function(x) {
                    for (var currentProp = x, i = 0; i < length; i++) {
                        var p = currentProp[props[i]];
                        if (void 0 === p) return;
                        currentProp = p;
                    }
                    return currentProp;
                };
            }(properties, length))(source);
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var BehaviorSubject_1 = __webpack_require__(334), multicast_1 = __webpack_require__(177);
    exports.publishBehavior = function(value) {
        return function(source) {
            return multicast_1.multicast(new BehaviorSubject_1.BehaviorSubject(value))(source);
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var ReplaySubject_1 = __webpack_require__(364), multicast_1 = __webpack_require__(177);
    exports.publishReplay = function(bufferSize, windowTime, selectorOrScheduler, scheduler) {
        selectorOrScheduler && "function" != typeof selectorOrScheduler && (scheduler = selectorOrScheduler);
        var selector = "function" == typeof selectorOrScheduler ? selectorOrScheduler : void 0, subject = new ReplaySubject_1.ReplaySubject(bufferSize, windowTime, scheduler);
        return function(source) {
            return multicast_1.multicast(function() {
                return subject;
            }, selector)(source);
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var AsyncSubject_1 = __webpack_require__(359), multicast_1 = __webpack_require__(177);
    exports.publishLast = function() {
        return function(source) {
            return multicast_1.multicast(new AsyncSubject_1.AsyncSubject())(source);
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var isArray_1 = __webpack_require__(95), race_1 = __webpack_require__(427);
    exports.race = function() {
        for (var observables = [], _i = 0; _i < arguments.length; _i++) observables[_i - 0] = arguments[_i];
        return function(source) {
            return 1 === observables.length && isArray_1.isArray(observables[0]) && (observables = observables[0]), 
            source.lift.call(race_1.race.apply(void 0, [ source ].concat(observables)));
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), EmptyObservable_1 = __webpack_require__(137);
    exports.repeat = function(count) {
        return void 0 === count && (count = -1), function(source) {
            return 0 === count ? new EmptyObservable_1.EmptyObservable() : count < 0 ? source.lift(new RepeatOperator(-1, source)) : source.lift(new RepeatOperator(count - 1, source));
        };
    };
    var RepeatOperator = function() {
        function RepeatOperator(count, source) {
            this.count = count, this.source = source;
        }
        return RepeatOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new RepeatSubscriber(subscriber, this.count, this.source));
        }, RepeatOperator;
    }(), RepeatSubscriber = function(_super) {
        function RepeatSubscriber(destination, count, source) {
            _super.call(this, destination), this.count = count, this.source = source;
        }
        return __extends(RepeatSubscriber, _super), RepeatSubscriber.prototype.complete = function() {
            if (!this.isStopped) {
                var source = this.source, count = this.count;
                if (0 === count) return _super.prototype.complete.call(this);
                count > -1 && (this.count = count - 1), source.subscribe(this._unsubscribeAndRecycle());
            }
        }, RepeatSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subject_1 = __webpack_require__(27), tryCatch_1 = __webpack_require__(44), errorObject_1 = __webpack_require__(37), OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.repeatWhen = function(notifier) {
        return function(source) {
            return source.lift(new RepeatWhenOperator(notifier));
        };
    };
    var RepeatWhenOperator = function() {
        function RepeatWhenOperator(notifier) {
            this.notifier = notifier;
        }
        return RepeatWhenOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new RepeatWhenSubscriber(subscriber, this.notifier, source));
        }, RepeatWhenOperator;
    }(), RepeatWhenSubscriber = function(_super) {
        function RepeatWhenSubscriber(destination, notifier, source) {
            _super.call(this, destination), this.notifier = notifier, this.source = source, 
            this.sourceIsBeingSubscribedTo = !0;
        }
        return __extends(RepeatWhenSubscriber, _super), RepeatWhenSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.sourceIsBeingSubscribedTo = !0, this.source.subscribe(this);
        }, RepeatWhenSubscriber.prototype.notifyComplete = function(innerSub) {
            if (!1 === this.sourceIsBeingSubscribedTo) return _super.prototype.complete.call(this);
        }, RepeatWhenSubscriber.prototype.complete = function() {
            if (this.sourceIsBeingSubscribedTo = !1, !this.isStopped) {
                if (this.retries) {
                    if (this.retriesSubscription.closed) return _super.prototype.complete.call(this);
                } else this.subscribeToRetries();
                this._unsubscribeAndRecycle(), this.notifications.next();
            }
        }, RepeatWhenSubscriber.prototype._unsubscribe = function() {
            var notifications = this.notifications, retriesSubscription = this.retriesSubscription;
            notifications && (notifications.unsubscribe(), this.notifications = null), retriesSubscription && (retriesSubscription.unsubscribe(), 
            this.retriesSubscription = null), this.retries = null;
        }, RepeatWhenSubscriber.prototype._unsubscribeAndRecycle = function() {
            var notifications = this.notifications, retries = this.retries, retriesSubscription = this.retriesSubscription;
            return this.notifications = null, this.retries = null, this.retriesSubscription = null, 
            _super.prototype._unsubscribeAndRecycle.call(this), this.notifications = notifications, 
            this.retries = retries, this.retriesSubscription = retriesSubscription, this;
        }, RepeatWhenSubscriber.prototype.subscribeToRetries = function() {
            this.notifications = new Subject_1.Subject();
            var retries = tryCatch_1.tryCatch(this.notifier)(this.notifications);
            if (retries === errorObject_1.errorObject) return _super.prototype.complete.call(this);
            this.retries = retries, this.retriesSubscription = subscribeToResult_1.subscribeToResult(this, retries);
        }, RepeatWhenSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.retry = function(count) {
        return void 0 === count && (count = -1), function(source) {
            return source.lift(new RetryOperator(count, source));
        };
    };
    var RetryOperator = function() {
        function RetryOperator(count, source) {
            this.count = count, this.source = source;
        }
        return RetryOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new RetrySubscriber(subscriber, this.count, this.source));
        }, RetryOperator;
    }(), RetrySubscriber = function(_super) {
        function RetrySubscriber(destination, count, source) {
            _super.call(this, destination), this.count = count, this.source = source;
        }
        return __extends(RetrySubscriber, _super), RetrySubscriber.prototype.error = function(err) {
            if (!this.isStopped) {
                var source = this.source, count = this.count;
                if (0 === count) return _super.prototype.error.call(this, err);
                count > -1 && (this.count = count - 1), source.subscribe(this._unsubscribeAndRecycle());
            }
        }, RetrySubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subject_1 = __webpack_require__(27), tryCatch_1 = __webpack_require__(44), errorObject_1 = __webpack_require__(37), OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.retryWhen = function(notifier) {
        return function(source) {
            return source.lift(new RetryWhenOperator(notifier, source));
        };
    };
    var RetryWhenOperator = function() {
        function RetryWhenOperator(notifier, source) {
            this.notifier = notifier, this.source = source;
        }
        return RetryWhenOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new RetryWhenSubscriber(subscriber, this.notifier, this.source));
        }, RetryWhenOperator;
    }(), RetryWhenSubscriber = function(_super) {
        function RetryWhenSubscriber(destination, notifier, source) {
            _super.call(this, destination), this.notifier = notifier, this.source = source;
        }
        return __extends(RetryWhenSubscriber, _super), RetryWhenSubscriber.prototype.error = function(err) {
            if (!this.isStopped) {
                var errors = this.errors, retries = this.retries, retriesSubscription = this.retriesSubscription;
                if (retries) this.errors = null, this.retriesSubscription = null; else {
                    if (errors = new Subject_1.Subject(), (retries = tryCatch_1.tryCatch(this.notifier)(errors)) === errorObject_1.errorObject) return _super.prototype.error.call(this, errorObject_1.errorObject.e);
                    retriesSubscription = subscribeToResult_1.subscribeToResult(this, retries);
                }
                this._unsubscribeAndRecycle(), this.errors = errors, this.retries = retries, this.retriesSubscription = retriesSubscription, 
                errors.next(err);
            }
        }, RetryWhenSubscriber.prototype._unsubscribe = function() {
            var errors = this.errors, retriesSubscription = this.retriesSubscription;
            errors && (errors.unsubscribe(), this.errors = null), retriesSubscription && (retriesSubscription.unsubscribe(), 
            this.retriesSubscription = null), this.retries = null;
        }, RetryWhenSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            var errors = this.errors, retries = this.retries, retriesSubscription = this.retriesSubscription;
            this.errors = null, this.retries = null, this.retriesSubscription = null, this._unsubscribeAndRecycle(), 
            this.errors = errors, this.retries = retries, this.retriesSubscription = retriesSubscription, 
            this.source.subscribe(this);
        }, RetryWhenSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.sample = function(notifier) {
        return function(source) {
            return source.lift(new SampleOperator(notifier));
        };
    };
    var SampleOperator = function() {
        function SampleOperator(notifier) {
            this.notifier = notifier;
        }
        return SampleOperator.prototype.call = function(subscriber, source) {
            var sampleSubscriber = new SampleSubscriber(subscriber), subscription = source.subscribe(sampleSubscriber);
            return subscription.add(subscribeToResult_1.subscribeToResult(sampleSubscriber, this.notifier)), 
            subscription;
        }, SampleOperator;
    }(), SampleSubscriber = function(_super) {
        function SampleSubscriber() {
            _super.apply(this, arguments), this.hasValue = !1;
        }
        return __extends(SampleSubscriber, _super), SampleSubscriber.prototype._next = function(value) {
            this.value = value, this.hasValue = !0;
        }, SampleSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.emitValue();
        }, SampleSubscriber.prototype.notifyComplete = function() {
            this.emitValue();
        }, SampleSubscriber.prototype.emitValue = function() {
            this.hasValue && (this.hasValue = !1, this.destination.next(this.value));
        }, SampleSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), async_1 = __webpack_require__(24);
    exports.sampleTime = function(period, scheduler) {
        return void 0 === scheduler && (scheduler = async_1.async), function(source) {
            return source.lift(new SampleTimeOperator(period, scheduler));
        };
    };
    var SampleTimeOperator = function() {
        function SampleTimeOperator(period, scheduler) {
            this.period = period, this.scheduler = scheduler;
        }
        return SampleTimeOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new SampleTimeSubscriber(subscriber, this.period, this.scheduler));
        }, SampleTimeOperator;
    }(), SampleTimeSubscriber = function(_super) {
        function SampleTimeSubscriber(destination, period, scheduler) {
            _super.call(this, destination), this.period = period, this.scheduler = scheduler, 
            this.hasValue = !1, this.add(scheduler.schedule(dispatchNotification, period, {
                subscriber: this,
                period: period
            }));
        }
        return __extends(SampleTimeSubscriber, _super), SampleTimeSubscriber.prototype._next = function(value) {
            this.lastValue = value, this.hasValue = !0;
        }, SampleTimeSubscriber.prototype.notifyNext = function() {
            this.hasValue && (this.hasValue = !1, this.destination.next(this.lastValue));
        }, SampleTimeSubscriber;
    }(Subscriber_1.Subscriber);
    function dispatchNotification(state) {
        var subscriber = state.subscriber, period = state.period;
        subscriber.notifyNext(), this.schedule(state, period);
    }
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), scan_1 = __webpack_require__(936);
    Observable_1.Observable.prototype.scan = scan_1.scan;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), tryCatch_1 = __webpack_require__(44), errorObject_1 = __webpack_require__(37);
    exports.sequenceEqual = function(compareTo, comparor) {
        return function(source) {
            return source.lift(new SequenceEqualOperator(compareTo, comparor));
        };
    };
    var SequenceEqualOperator = function() {
        function SequenceEqualOperator(compareTo, comparor) {
            this.compareTo = compareTo, this.comparor = comparor;
        }
        return SequenceEqualOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new SequenceEqualSubscriber(subscriber, this.compareTo, this.comparor));
        }, SequenceEqualOperator;
    }();
    exports.SequenceEqualOperator = SequenceEqualOperator;
    var SequenceEqualSubscriber = function(_super) {
        function SequenceEqualSubscriber(destination, compareTo, comparor) {
            _super.call(this, destination), this.compareTo = compareTo, this.comparor = comparor, 
            this._a = [], this._b = [], this._oneComplete = !1, this.add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination, this)));
        }
        return __extends(SequenceEqualSubscriber, _super), SequenceEqualSubscriber.prototype._next = function(value) {
            this._oneComplete && 0 === this._b.length ? this.emit(!1) : (this._a.push(value), 
            this.checkValues());
        }, SequenceEqualSubscriber.prototype._complete = function() {
            this._oneComplete ? this.emit(0 === this._a.length && 0 === this._b.length) : this._oneComplete = !0;
        }, SequenceEqualSubscriber.prototype.checkValues = function() {
            for (var _a = this._a, _b = this._b, comparor = this.comparor; _a.length > 0 && _b.length > 0; ) {
                var a = _a.shift(), b = _b.shift(), areEqual = !1;
                comparor ? (areEqual = tryCatch_1.tryCatch(comparor)(a, b)) === errorObject_1.errorObject && this.destination.error(errorObject_1.errorObject.e) : areEqual = a === b, 
                areEqual || this.emit(!1);
            }
        }, SequenceEqualSubscriber.prototype.emit = function(value) {
            var destination = this.destination;
            destination.next(value), destination.complete();
        }, SequenceEqualSubscriber.prototype.nextB = function(value) {
            this._oneComplete && 0 === this._a.length ? this.emit(!1) : (this._b.push(value), 
            this.checkValues());
        }, SequenceEqualSubscriber;
    }(Subscriber_1.Subscriber);
    exports.SequenceEqualSubscriber = SequenceEqualSubscriber;
    var SequenceEqualCompareToSubscriber = function(_super) {
        function SequenceEqualCompareToSubscriber(destination, parent) {
            _super.call(this, destination), this.parent = parent;
        }
        return __extends(SequenceEqualCompareToSubscriber, _super), SequenceEqualCompareToSubscriber.prototype._next = function(value) {
            this.parent.nextB(value);
        }, SequenceEqualCompareToSubscriber.prototype._error = function(err) {
            this.parent.error(err);
        }, SequenceEqualCompareToSubscriber.prototype._complete = function() {
            this.parent._complete();
        }, SequenceEqualCompareToSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var ReplaySubject_1 = __webpack_require__(364);
    exports.shareReplay = function(bufferSize, windowTime, scheduler) {
        return function(source) {
            return source.lift(function(bufferSize, windowTime, scheduler) {
                var subject, subscription, refCount = 0, hasError = !1, isComplete = !1;
                return function(source) {
                    refCount++, subject && !hasError || (hasError = !1, subject = new ReplaySubject_1.ReplaySubject(bufferSize, windowTime, scheduler), 
                    subscription = source.subscribe({
                        next: function(value) {
                            subject.next(value);
                        },
                        error: function(err) {
                            hasError = !0, subject.error(err);
                        },
                        complete: function() {
                            isComplete = !0, subject.complete();
                        }
                    }));
                    var innerSub = subject.subscribe(this);
                    return function() {
                        refCount--, innerSub.unsubscribe(), subscription && 0 === refCount && isComplete && subscription.unsubscribe();
                    };
                };
            }(bufferSize, windowTime, scheduler));
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), EmptyError_1 = __webpack_require__(365);
    exports.single = function(predicate) {
        return function(source) {
            return source.lift(new SingleOperator(predicate, source));
        };
    };
    var SingleOperator = function() {
        function SingleOperator(predicate, source) {
            this.predicate = predicate, this.source = source;
        }
        return SingleOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new SingleSubscriber(subscriber, this.predicate, this.source));
        }, SingleOperator;
    }(), SingleSubscriber = function(_super) {
        function SingleSubscriber(destination, predicate, source) {
            _super.call(this, destination), this.predicate = predicate, this.source = source, 
            this.seenValue = !1, this.index = 0;
        }
        return __extends(SingleSubscriber, _super), SingleSubscriber.prototype.applySingleValue = function(value) {
            this.seenValue ? this.destination.error("Sequence contains more than one element") : (this.seenValue = !0, 
            this.singleValue = value);
        }, SingleSubscriber.prototype._next = function(value) {
            var index = this.index++;
            this.predicate ? this.tryNext(value, index) : this.applySingleValue(value);
        }, SingleSubscriber.prototype.tryNext = function(value, index) {
            try {
                this.predicate(value, index, this.source) && this.applySingleValue(value);
            } catch (err) {
                this.destination.error(err);
            }
        }, SingleSubscriber.prototype._complete = function() {
            var destination = this.destination;
            this.index > 0 ? (destination.next(this.seenValue ? this.singleValue : void 0), 
            destination.complete()) : destination.error(new EmptyError_1.EmptyError());
        }, SingleSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.skip = function(count) {
        return function(source) {
            return source.lift(new SkipOperator(count));
        };
    };
    var SkipOperator = function() {
        function SkipOperator(total) {
            this.total = total;
        }
        return SkipOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new SkipSubscriber(subscriber, this.total));
        }, SkipOperator;
    }(), SkipSubscriber = function(_super) {
        function SkipSubscriber(destination, total) {
            _super.call(this, destination), this.total = total, this.count = 0;
        }
        return __extends(SkipSubscriber, _super), SkipSubscriber.prototype._next = function(x) {
            ++this.count > this.total && this.destination.next(x);
        }, SkipSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), ArgumentOutOfRangeError_1 = __webpack_require__(332);
    exports.skipLast = function(count) {
        return function(source) {
            return source.lift(new SkipLastOperator(count));
        };
    };
    var SkipLastOperator = function() {
        function SkipLastOperator(_skipCount) {
            if (this._skipCount = _skipCount, this._skipCount < 0) throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();
        }
        return SkipLastOperator.prototype.call = function(subscriber, source) {
            return 0 === this._skipCount ? source.subscribe(new Subscriber_1.Subscriber(subscriber)) : source.subscribe(new SkipLastSubscriber(subscriber, this._skipCount));
        }, SkipLastOperator;
    }(), SkipLastSubscriber = function(_super) {
        function SkipLastSubscriber(destination, _skipCount) {
            _super.call(this, destination), this._skipCount = _skipCount, this._count = 0, this._ring = new Array(_skipCount);
        }
        return __extends(SkipLastSubscriber, _super), SkipLastSubscriber.prototype._next = function(value) {
            var skipCount = this._skipCount, count = this._count++;
            if (count < skipCount) this._ring[count] = value; else {
                var currentIndex = count % skipCount, ring = this._ring, oldValue = ring[currentIndex];
                ring[currentIndex] = value, this.destination.next(oldValue);
            }
        }, SkipLastSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.skipUntil = function(notifier) {
        return function(source) {
            return source.lift(new SkipUntilOperator(notifier));
        };
    };
    var SkipUntilOperator = function() {
        function SkipUntilOperator(notifier) {
            this.notifier = notifier;
        }
        return SkipUntilOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new SkipUntilSubscriber(subscriber, this.notifier));
        }, SkipUntilOperator;
    }(), SkipUntilSubscriber = function(_super) {
        function SkipUntilSubscriber(destination, notifier) {
            _super.call(this, destination), this.hasValue = !1, this.isInnerStopped = !1, this.add(subscribeToResult_1.subscribeToResult(this, notifier));
        }
        return __extends(SkipUntilSubscriber, _super), SkipUntilSubscriber.prototype._next = function(value) {
            this.hasValue && _super.prototype._next.call(this, value);
        }, SkipUntilSubscriber.prototype._complete = function() {
            this.isInnerStopped ? _super.prototype._complete.call(this) : this.unsubscribe();
        }, SkipUntilSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.hasValue = !0;
        }, SkipUntilSubscriber.prototype.notifyComplete = function() {
            this.isInnerStopped = !0, this.isStopped && _super.prototype._complete.call(this);
        }, SkipUntilSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.skipWhile = function(predicate) {
        return function(source) {
            return source.lift(new SkipWhileOperator(predicate));
        };
    };
    var SkipWhileOperator = function() {
        function SkipWhileOperator(predicate) {
            this.predicate = predicate;
        }
        return SkipWhileOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new SkipWhileSubscriber(subscriber, this.predicate));
        }, SkipWhileOperator;
    }(), SkipWhileSubscriber = function(_super) {
        function SkipWhileSubscriber(destination, predicate) {
            _super.call(this, destination), this.predicate = predicate, this.skipping = !0, 
            this.index = 0;
        }
        return __extends(SkipWhileSubscriber, _super), SkipWhileSubscriber.prototype._next = function(value) {
            var destination = this.destination;
            this.skipping && this.tryCallPredicate(value), this.skipping || destination.next(value);
        }, SkipWhileSubscriber.prototype.tryCallPredicate = function(value) {
            try {
                var result = this.predicate(value, this.index++);
                this.skipping = Boolean(result);
            } catch (err) {
                this.destination.error(err);
            }
        }, SkipWhileSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    (function(global) {
        var apply = Function.prototype.apply;
        function Timeout(id, clearFn) {
            this._id = id, this._clearFn = clearFn;
        }
        exports.setTimeout = function() {
            return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);
        }, exports.setInterval = function() {
            return new Timeout(apply.call(setInterval, window, arguments), clearInterval);
        }, exports.clearTimeout = exports.clearInterval = function(timeout) {
            timeout && timeout.close();
        }, Timeout.prototype.unref = Timeout.prototype.ref = function() {}, Timeout.prototype.close = function() {
            this._clearFn.call(window, this._id);
        }, exports.enroll = function(item, msecs) {
            clearTimeout(item._idleTimeoutId), item._idleTimeout = msecs;
        }, exports.unenroll = function(item) {
            clearTimeout(item._idleTimeoutId), item._idleTimeout = -1;
        }, exports._unrefActive = exports.active = function(item) {
            clearTimeout(item._idleTimeoutId);
            var msecs = item._idleTimeout;
            msecs >= 0 && (item._idleTimeoutId = setTimeout(function() {
                item._onTimeout && item._onTimeout();
            }, msecs));
        }, __webpack_require__(957), exports.setImmediate = "undefined" != typeof self && self.setImmediate || void 0 !== global && global.setImmediate || this && this.setImmediate, 
        exports.clearImmediate = "undefined" != typeof self && self.clearImmediate || void 0 !== global && global.clearImmediate || this && this.clearImmediate;
    }).call(exports, __webpack_require__(33));
}, function(module, exports, __webpack_require__) {
    "use strict";
    var switchMap_1 = __webpack_require__(435), identity_1 = __webpack_require__(473);
    exports.switchAll = function() {
        return switchMap_1.switchMap(identity_1.identity);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.switchMapTo = function(innerObservable, resultSelector) {
        return function(source) {
            return source.lift(new SwitchMapToOperator(innerObservable, resultSelector));
        };
    };
    var SwitchMapToOperator = function() {
        function SwitchMapToOperator(observable, resultSelector) {
            this.observable = observable, this.resultSelector = resultSelector;
        }
        return SwitchMapToOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new SwitchMapToSubscriber(subscriber, this.observable, this.resultSelector));
        }, SwitchMapToOperator;
    }(), SwitchMapToSubscriber = function(_super) {
        function SwitchMapToSubscriber(destination, inner, resultSelector) {
            _super.call(this, destination), this.inner = inner, this.resultSelector = resultSelector, 
            this.index = 0;
        }
        return __extends(SwitchMapToSubscriber, _super), SwitchMapToSubscriber.prototype._next = function(value) {
            var innerSubscription = this.innerSubscription;
            innerSubscription && innerSubscription.unsubscribe(), this.add(this.innerSubscription = subscribeToResult_1.subscribeToResult(this, this.inner, value, this.index++));
        }, SwitchMapToSubscriber.prototype._complete = function() {
            var innerSubscription = this.innerSubscription;
            innerSubscription && !innerSubscription.closed || _super.prototype._complete.call(this);
        }, SwitchMapToSubscriber.prototype._unsubscribe = function() {
            this.innerSubscription = null;
        }, SwitchMapToSubscriber.prototype.notifyComplete = function(innerSub) {
            this.remove(innerSub), this.innerSubscription = null, this.isStopped && _super.prototype._complete.call(this);
        }, SwitchMapToSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            var resultSelector = this.resultSelector, destination = this.destination;
            resultSelector ? this.tryResultSelector(outerValue, innerValue, outerIndex, innerIndex) : destination.next(innerValue);
        }, SwitchMapToSubscriber.prototype.tryResultSelector = function(outerValue, innerValue, outerIndex, innerIndex) {
            var result, resultSelector = this.resultSelector, destination = this.destination;
            try {
                result = resultSelector(outerValue, innerValue, outerIndex, innerIndex);
            } catch (err) {
                return void destination.error(err);
            }
            destination.next(result);
        }, SwitchMapToSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), ArgumentOutOfRangeError_1 = __webpack_require__(332), EmptyObservable_1 = __webpack_require__(137);
    exports.take = function(count) {
        return function(source) {
            return 0 === count ? new EmptyObservable_1.EmptyObservable() : source.lift(new TakeOperator(count));
        };
    };
    var TakeOperator = function() {
        function TakeOperator(total) {
            if (this.total = total, this.total < 0) throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();
        }
        return TakeOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new TakeSubscriber(subscriber, this.total));
        }, TakeOperator;
    }(), TakeSubscriber = function(_super) {
        function TakeSubscriber(destination, total) {
            _super.call(this, destination), this.total = total, this.count = 0;
        }
        return __extends(TakeSubscriber, _super), TakeSubscriber.prototype._next = function(value) {
            var total = this.total, count = ++this.count;
            count <= total && (this.destination.next(value), count === total && (this.destination.complete(), 
            this.unsubscribe()));
        }, TakeSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.takeUntil = function(notifier) {
        return function(source) {
            return source.lift(new TakeUntilOperator(notifier));
        };
    };
    var TakeUntilOperator = function() {
        function TakeUntilOperator(notifier) {
            this.notifier = notifier;
        }
        return TakeUntilOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new TakeUntilSubscriber(subscriber, this.notifier));
        }, TakeUntilOperator;
    }(), TakeUntilSubscriber = function(_super) {
        function TakeUntilSubscriber(destination, notifier) {
            _super.call(this, destination), this.notifier = notifier, this.add(subscribeToResult_1.subscribeToResult(this, notifier));
        }
        return __extends(TakeUntilSubscriber, _super), TakeUntilSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.complete();
        }, TakeUntilSubscriber.prototype.notifyComplete = function() {}, TakeUntilSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6);
    exports.takeWhile = function(predicate) {
        return function(source) {
            return source.lift(new TakeWhileOperator(predicate));
        };
    };
    var TakeWhileOperator = function() {
        function TakeWhileOperator(predicate) {
            this.predicate = predicate;
        }
        return TakeWhileOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new TakeWhileSubscriber(subscriber, this.predicate));
        }, TakeWhileOperator;
    }(), TakeWhileSubscriber = function(_super) {
        function TakeWhileSubscriber(destination, predicate) {
            _super.call(this, destination), this.predicate = predicate, this.index = 0;
        }
        return __extends(TakeWhileSubscriber, _super), TakeWhileSubscriber.prototype._next = function(value) {
            var result, destination = this.destination;
            try {
                result = this.predicate(value, this.index++);
            } catch (err) {
                return void destination.error(err);
            }
            this.nextOrComplete(value, result);
        }, TakeWhileSubscriber.prototype.nextOrComplete = function(value, predicateResult) {
            var destination = this.destination;
            Boolean(predicateResult) ? destination.next(value) : destination.complete();
        }, TakeWhileSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), async_1 = __webpack_require__(24), throttle_1 = __webpack_require__(366);
    exports.throttleTime = function(duration, scheduler, config) {
        return void 0 === scheduler && (scheduler = async_1.async), void 0 === config && (config = throttle_1.defaultThrottleConfig), 
        function(source) {
            return source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing));
        };
    };
    var ThrottleTimeOperator = function() {
        function ThrottleTimeOperator(duration, scheduler, leading, trailing) {
            this.duration = duration, this.scheduler = scheduler, this.leading = leading, this.trailing = trailing;
        }
        return ThrottleTimeOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing));
        }, ThrottleTimeOperator;
    }(), ThrottleTimeSubscriber = function(_super) {
        function ThrottleTimeSubscriber(destination, duration, scheduler, leading, trailing) {
            _super.call(this, destination), this.duration = duration, this.scheduler = scheduler, 
            this.leading = leading, this.trailing = trailing, this._hasTrailingValue = !1, this._trailingValue = null;
        }
        return __extends(ThrottleTimeSubscriber, _super), ThrottleTimeSubscriber.prototype._next = function(value) {
            this.throttled ? this.trailing && (this._trailingValue = value, this._hasTrailingValue = !0) : (this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.duration, {
                subscriber: this
            })), this.leading && this.destination.next(value));
        }, ThrottleTimeSubscriber.prototype.clearThrottle = function() {
            var throttled = this.throttled;
            throttled && (this.trailing && this._hasTrailingValue && (this.destination.next(this._trailingValue), 
            this._trailingValue = null, this._hasTrailingValue = !1), throttled.unsubscribe(), 
            this.remove(throttled), this.throttled = null);
        }, ThrottleTimeSubscriber;
    }(Subscriber_1.Subscriber);
    function dispatchNext(arg) {
        arg.subscriber.clearThrottle();
    }
}, function(module, exports, __webpack_require__) {
    "use strict";
    var async_1 = __webpack_require__(24), timeInterval_1 = __webpack_require__(584);
    exports.TimeInterval = timeInterval_1.TimeInterval, exports.timeInterval = function(scheduler) {
        return void 0 === scheduler && (scheduler = async_1.async), timeInterval_1.timeInterval(scheduler)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), async_1 = __webpack_require__(24);
    exports.timeInterval = function(scheduler) {
        return void 0 === scheduler && (scheduler = async_1.async), function(source) {
            return source.lift(new TimeIntervalOperator(scheduler));
        };
    };
    var TimeInterval = function() {
        return function(value, interval) {
            this.value = value, this.interval = interval;
        };
    }();
    exports.TimeInterval = TimeInterval;
    var TimeIntervalOperator = function() {
        function TimeIntervalOperator(scheduler) {
            this.scheduler = scheduler;
        }
        return TimeIntervalOperator.prototype.call = function(observer, source) {
            return source.subscribe(new TimeIntervalSubscriber(observer, this.scheduler));
        }, TimeIntervalOperator;
    }(), TimeIntervalSubscriber = function(_super) {
        function TimeIntervalSubscriber(destination, scheduler) {
            _super.call(this, destination), this.scheduler = scheduler, this.lastTime = 0, this.lastTime = scheduler.now();
        }
        return __extends(TimeIntervalSubscriber, _super), TimeIntervalSubscriber.prototype._next = function(value) {
            var now = this.scheduler.now(), span = now - this.lastTime;
            this.lastTime = now, this.destination.next(new TimeInterval(value, span));
        }, TimeIntervalSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, async_1 = __webpack_require__(24), isDate_1 = __webpack_require__(362), Subscriber_1 = __webpack_require__(6), TimeoutError_1 = __webpack_require__(586);
    exports.timeout = function(due, scheduler) {
        void 0 === scheduler && (scheduler = async_1.async);
        var absoluteTimeout = isDate_1.isDate(due), waitFor = absoluteTimeout ? +due - scheduler.now() : Math.abs(due);
        return function(source) {
            return source.lift(new TimeoutOperator(waitFor, absoluteTimeout, scheduler, new TimeoutError_1.TimeoutError()));
        };
    };
    var TimeoutOperator = function() {
        function TimeoutOperator(waitFor, absoluteTimeout, scheduler, errorInstance) {
            this.waitFor = waitFor, this.absoluteTimeout = absoluteTimeout, this.scheduler = scheduler, 
            this.errorInstance = errorInstance;
        }
        return TimeoutOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new TimeoutSubscriber(subscriber, this.absoluteTimeout, this.waitFor, this.scheduler, this.errorInstance));
        }, TimeoutOperator;
    }(), TimeoutSubscriber = function(_super) {
        function TimeoutSubscriber(destination, absoluteTimeout, waitFor, scheduler, errorInstance) {
            _super.call(this, destination), this.absoluteTimeout = absoluteTimeout, this.waitFor = waitFor, 
            this.scheduler = scheduler, this.errorInstance = errorInstance, this.action = null, 
            this.scheduleTimeout();
        }
        return __extends(TimeoutSubscriber, _super), TimeoutSubscriber.dispatchTimeout = function(subscriber) {
            subscriber.error(subscriber.errorInstance);
        }, TimeoutSubscriber.prototype.scheduleTimeout = function() {
            var action = this.action;
            action ? this.action = action.schedule(this, this.waitFor) : this.add(this.action = this.scheduler.schedule(TimeoutSubscriber.dispatchTimeout, this.waitFor, this));
        }, TimeoutSubscriber.prototype._next = function(value) {
            this.absoluteTimeout || this.scheduleTimeout(), _super.prototype._next.call(this, value);
        }, TimeoutSubscriber.prototype._unsubscribe = function() {
            this.action = null, this.scheduler = null, this.errorInstance = null;
        }, TimeoutSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, TimeoutError = function(_super) {
        function TimeoutError() {
            var err = _super.call(this, "Timeout has occurred");
            this.name = err.name = "TimeoutError", this.stack = err.stack, this.message = err.message;
        }
        return __extends(TimeoutError, _super), TimeoutError;
    }(Error);
    exports.TimeoutError = TimeoutError;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, async_1 = __webpack_require__(24), isDate_1 = __webpack_require__(362), OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.timeoutWith = function(due, withObservable, scheduler) {
        return void 0 === scheduler && (scheduler = async_1.async), function(source) {
            var absoluteTimeout = isDate_1.isDate(due), waitFor = absoluteTimeout ? +due - scheduler.now() : Math.abs(due);
            return source.lift(new TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler));
        };
    };
    var TimeoutWithOperator = function() {
        function TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler) {
            this.waitFor = waitFor, this.absoluteTimeout = absoluteTimeout, this.withObservable = withObservable, 
            this.scheduler = scheduler;
        }
        return TimeoutWithOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new TimeoutWithSubscriber(subscriber, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler));
        }, TimeoutWithOperator;
    }(), TimeoutWithSubscriber = function(_super) {
        function TimeoutWithSubscriber(destination, absoluteTimeout, waitFor, withObservable, scheduler) {
            _super.call(this, destination), this.absoluteTimeout = absoluteTimeout, this.waitFor = waitFor, 
            this.withObservable = withObservable, this.scheduler = scheduler, this.action = null, 
            this.scheduleTimeout();
        }
        return __extends(TimeoutWithSubscriber, _super), TimeoutWithSubscriber.dispatchTimeout = function(subscriber) {
            var withObservable = subscriber.withObservable;
            subscriber._unsubscribeAndRecycle(), subscriber.add(subscribeToResult_1.subscribeToResult(subscriber, withObservable));
        }, TimeoutWithSubscriber.prototype.scheduleTimeout = function() {
            var action = this.action;
            action ? this.action = action.schedule(this, this.waitFor) : this.add(this.action = this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout, this.waitFor, this));
        }, TimeoutWithSubscriber.prototype._next = function(value) {
            this.absoluteTimeout || this.scheduleTimeout(), _super.prototype._next.call(this, value);
        }, TimeoutWithSubscriber.prototype._unsubscribe = function() {
            this.action = null, this.scheduler = null, this.withObservable = null;
        }, TimeoutWithSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var reduce_1 = __webpack_require__(333);
    function toArrayReducer(arr, item, index) {
        return arr.push(item), arr;
    }
    exports.toArray = function() {
        return reduce_1.reduce(toArrayReducer, []);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subject_1 = __webpack_require__(27), OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.window = function(windowBoundaries) {
        return function(source) {
            return source.lift(new WindowOperator(windowBoundaries));
        };
    };
    var WindowOperator = function() {
        function WindowOperator(windowBoundaries) {
            this.windowBoundaries = windowBoundaries;
        }
        return WindowOperator.prototype.call = function(subscriber, source) {
            var windowSubscriber = new WindowSubscriber(subscriber), sourceSubscription = source.subscribe(windowSubscriber);
            return sourceSubscription.closed || windowSubscriber.add(subscribeToResult_1.subscribeToResult(windowSubscriber, this.windowBoundaries)), 
            sourceSubscription;
        }, WindowOperator;
    }(), WindowSubscriber = function(_super) {
        function WindowSubscriber(destination) {
            _super.call(this, destination), this.window = new Subject_1.Subject(), destination.next(this.window);
        }
        return __extends(WindowSubscriber, _super), WindowSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.openWindow();
        }, WindowSubscriber.prototype.notifyError = function(error, innerSub) {
            this._error(error);
        }, WindowSubscriber.prototype.notifyComplete = function(innerSub) {
            this._complete();
        }, WindowSubscriber.prototype._next = function(value) {
            this.window.next(value);
        }, WindowSubscriber.prototype._error = function(err) {
            this.window.error(err), this.destination.error(err);
        }, WindowSubscriber.prototype._complete = function() {
            this.window.complete(), this.destination.complete();
        }, WindowSubscriber.prototype._unsubscribe = function() {
            this.window = null;
        }, WindowSubscriber.prototype.openWindow = function() {
            var prevWindow = this.window;
            prevWindow && prevWindow.complete();
            var destination = this.destination, newWindow = this.window = new Subject_1.Subject();
            destination.next(newWindow);
        }, WindowSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subscriber_1 = __webpack_require__(6), Subject_1 = __webpack_require__(27);
    exports.windowCount = function(windowSize, startWindowEvery) {
        return void 0 === startWindowEvery && (startWindowEvery = 0), function(source) {
            return source.lift(new WindowCountOperator(windowSize, startWindowEvery));
        };
    };
    var WindowCountOperator = function() {
        function WindowCountOperator(windowSize, startWindowEvery) {
            this.windowSize = windowSize, this.startWindowEvery = startWindowEvery;
        }
        return WindowCountOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new WindowCountSubscriber(subscriber, this.windowSize, this.startWindowEvery));
        }, WindowCountOperator;
    }(), WindowCountSubscriber = function(_super) {
        function WindowCountSubscriber(destination, windowSize, startWindowEvery) {
            _super.call(this, destination), this.destination = destination, this.windowSize = windowSize, 
            this.startWindowEvery = startWindowEvery, this.windows = [ new Subject_1.Subject() ], 
            this.count = 0, destination.next(this.windows[0]);
        }
        return __extends(WindowCountSubscriber, _super), WindowCountSubscriber.prototype._next = function(value) {
            for (var startWindowEvery = this.startWindowEvery > 0 ? this.startWindowEvery : this.windowSize, destination = this.destination, windowSize = this.windowSize, windows = this.windows, len = windows.length, i = 0; i < len && !this.closed; i++) windows[i].next(value);
            var c = this.count - windowSize + 1;
            if (c >= 0 && c % startWindowEvery == 0 && !this.closed && windows.shift().complete(), 
            ++this.count % startWindowEvery == 0 && !this.closed) {
                var window_1 = new Subject_1.Subject();
                windows.push(window_1), destination.next(window_1);
            }
        }, WindowCountSubscriber.prototype._error = function(err) {
            var windows = this.windows;
            if (windows) for (;windows.length > 0 && !this.closed; ) windows.shift().error(err);
            this.destination.error(err);
        }, WindowCountSubscriber.prototype._complete = function() {
            var windows = this.windows;
            if (windows) for (;windows.length > 0 && !this.closed; ) windows.shift().complete();
            this.destination.complete();
        }, WindowCountSubscriber.prototype._unsubscribe = function() {
            this.count = 0, this.windows = null;
        }, WindowCountSubscriber;
    }(Subscriber_1.Subscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subject_1 = __webpack_require__(27), async_1 = __webpack_require__(24), Subscriber_1 = __webpack_require__(6), isNumeric_1 = __webpack_require__(329), isScheduler_1 = __webpack_require__(86);
    exports.windowTime = function(windowTimeSpan) {
        var scheduler = async_1.async, windowCreationInterval = null, maxWindowSize = Number.POSITIVE_INFINITY;
        return isScheduler_1.isScheduler(arguments[3]) && (scheduler = arguments[3]), isScheduler_1.isScheduler(arguments[2]) ? scheduler = arguments[2] : isNumeric_1.isNumeric(arguments[2]) && (maxWindowSize = arguments[2]), 
        isScheduler_1.isScheduler(arguments[1]) ? scheduler = arguments[1] : isNumeric_1.isNumeric(arguments[1]) && (windowCreationInterval = arguments[1]), 
        function(source) {
            return source.lift(new WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler));
        };
    };
    var WindowTimeOperator = function() {
        function WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {
            this.windowTimeSpan = windowTimeSpan, this.windowCreationInterval = windowCreationInterval, 
            this.maxWindowSize = maxWindowSize, this.scheduler = scheduler;
        }
        return WindowTimeOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new WindowTimeSubscriber(subscriber, this.windowTimeSpan, this.windowCreationInterval, this.maxWindowSize, this.scheduler));
        }, WindowTimeOperator;
    }(), CountedSubject = function(_super) {
        function CountedSubject() {
            _super.apply(this, arguments), this._numberOfNextedValues = 0;
        }
        return __extends(CountedSubject, _super), CountedSubject.prototype.next = function(value) {
            this._numberOfNextedValues++, _super.prototype.next.call(this, value);
        }, Object.defineProperty(CountedSubject.prototype, "numberOfNextedValues", {
            get: function() {
                return this._numberOfNextedValues;
            },
            enumerable: !0,
            configurable: !0
        }), CountedSubject;
    }(Subject_1.Subject), WindowTimeSubscriber = function(_super) {
        function WindowTimeSubscriber(destination, windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {
            _super.call(this, destination), this.destination = destination, this.windowTimeSpan = windowTimeSpan, 
            this.windowCreationInterval = windowCreationInterval, this.maxWindowSize = maxWindowSize, 
            this.scheduler = scheduler, this.windows = [];
            var window = this.openWindow();
            if (null !== windowCreationInterval && windowCreationInterval >= 0) {
                var closeState = {
                    subscriber: this,
                    window: window,
                    context: null
                }, creationState = {
                    windowTimeSpan: windowTimeSpan,
                    windowCreationInterval: windowCreationInterval,
                    subscriber: this,
                    scheduler: scheduler
                };
                this.add(scheduler.schedule(dispatchWindowClose, windowTimeSpan, closeState)), this.add(scheduler.schedule(dispatchWindowCreation, windowCreationInterval, creationState));
            } else {
                var timeSpanOnlyState = {
                    subscriber: this,
                    window: window,
                    windowTimeSpan: windowTimeSpan
                };
                this.add(scheduler.schedule(dispatchWindowTimeSpanOnly, windowTimeSpan, timeSpanOnlyState));
            }
        }
        return __extends(WindowTimeSubscriber, _super), WindowTimeSubscriber.prototype._next = function(value) {
            for (var windows = this.windows, len = windows.length, i = 0; i < len; i++) {
                var window_1 = windows[i];
                window_1.closed || (window_1.next(value), window_1.numberOfNextedValues >= this.maxWindowSize && this.closeWindow(window_1));
            }
        }, WindowTimeSubscriber.prototype._error = function(err) {
            for (var windows = this.windows; windows.length > 0; ) windows.shift().error(err);
            this.destination.error(err);
        }, WindowTimeSubscriber.prototype._complete = function() {
            for (var windows = this.windows; windows.length > 0; ) {
                var window_2 = windows.shift();
                window_2.closed || window_2.complete();
            }
            this.destination.complete();
        }, WindowTimeSubscriber.prototype.openWindow = function() {
            var window = new CountedSubject();
            return this.windows.push(window), this.destination.next(window), window;
        }, WindowTimeSubscriber.prototype.closeWindow = function(window) {
            window.complete();
            var windows = this.windows;
            windows.splice(windows.indexOf(window), 1);
        }, WindowTimeSubscriber;
    }(Subscriber_1.Subscriber);
    function dispatchWindowTimeSpanOnly(state) {
        var subscriber = state.subscriber, windowTimeSpan = state.windowTimeSpan, window = state.window;
        window && subscriber.closeWindow(window), state.window = subscriber.openWindow(), 
        this.schedule(state, windowTimeSpan);
    }
    function dispatchWindowCreation(state) {
        var windowTimeSpan = state.windowTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler, windowCreationInterval = state.windowCreationInterval, context = {
            action: this,
            subscription: null
        }, timeSpanState = {
            subscriber: subscriber,
            window: subscriber.openWindow(),
            context: context
        };
        context.subscription = scheduler.schedule(dispatchWindowClose, windowTimeSpan, timeSpanState), 
        this.add(context.subscription), this.schedule(state, windowCreationInterval);
    }
    function dispatchWindowClose(state) {
        var subscriber = state.subscriber, window = state.window, context = state.context;
        context && context.action && context.subscription && context.action.remove(context.subscription), 
        subscriber.closeWindow(window);
    }
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subject_1 = __webpack_require__(27), Subscription_1 = __webpack_require__(30), tryCatch_1 = __webpack_require__(44), errorObject_1 = __webpack_require__(37), OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.windowToggle = function(openings, closingSelector) {
        return function(source) {
            return source.lift(new WindowToggleOperator(openings, closingSelector));
        };
    };
    var WindowToggleOperator = function() {
        function WindowToggleOperator(openings, closingSelector) {
            this.openings = openings, this.closingSelector = closingSelector;
        }
        return WindowToggleOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new WindowToggleSubscriber(subscriber, this.openings, this.closingSelector));
        }, WindowToggleOperator;
    }(), WindowToggleSubscriber = function(_super) {
        function WindowToggleSubscriber(destination, openings, closingSelector) {
            _super.call(this, destination), this.openings = openings, this.closingSelector = closingSelector, 
            this.contexts = [], this.add(this.openSubscription = subscribeToResult_1.subscribeToResult(this, openings, openings));
        }
        return __extends(WindowToggleSubscriber, _super), WindowToggleSubscriber.prototype._next = function(value) {
            var contexts = this.contexts;
            if (contexts) for (var len = contexts.length, i = 0; i < len; i++) contexts[i].window.next(value);
        }, WindowToggleSubscriber.prototype._error = function(err) {
            var contexts = this.contexts;
            if (this.contexts = null, contexts) for (var len = contexts.length, index = -1; ++index < len; ) {
                var context = contexts[index];
                context.window.error(err), context.subscription.unsubscribe();
            }
            _super.prototype._error.call(this, err);
        }, WindowToggleSubscriber.prototype._complete = function() {
            var contexts = this.contexts;
            if (this.contexts = null, contexts) for (var len = contexts.length, index = -1; ++index < len; ) {
                var context = contexts[index];
                context.window.complete(), context.subscription.unsubscribe();
            }
            _super.prototype._complete.call(this);
        }, WindowToggleSubscriber.prototype._unsubscribe = function() {
            var contexts = this.contexts;
            if (this.contexts = null, contexts) for (var len = contexts.length, index = -1; ++index < len; ) {
                var context = contexts[index];
                context.window.unsubscribe(), context.subscription.unsubscribe();
            }
        }, WindowToggleSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            if (outerValue === this.openings) {
                var closingSelector = this.closingSelector, closingNotifier = tryCatch_1.tryCatch(closingSelector)(innerValue);
                if (closingNotifier === errorObject_1.errorObject) return this.error(errorObject_1.errorObject.e);
                var window_1 = new Subject_1.Subject(), subscription = new Subscription_1.Subscription(), context = {
                    window: window_1,
                    subscription: subscription
                };
                this.contexts.push(context);
                var innerSubscription = subscribeToResult_1.subscribeToResult(this, closingNotifier, context);
                innerSubscription.closed ? this.closeWindow(this.contexts.length - 1) : (innerSubscription.context = context, 
                subscription.add(innerSubscription)), this.destination.next(window_1);
            } else this.closeWindow(this.contexts.indexOf(outerValue));
        }, WindowToggleSubscriber.prototype.notifyError = function(err) {
            this.error(err);
        }, WindowToggleSubscriber.prototype.notifyComplete = function(inner) {
            inner !== this.openSubscription && this.closeWindow(this.contexts.indexOf(inner.context));
        }, WindowToggleSubscriber.prototype.closeWindow = function(index) {
            if (-1 !== index) {
                var contexts = this.contexts, context = contexts[index], window = context.window, subscription = context.subscription;
                contexts.splice(index, 1), window.complete(), subscription.unsubscribe();
            }
        }, WindowToggleSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subject_1 = __webpack_require__(27), tryCatch_1 = __webpack_require__(44), errorObject_1 = __webpack_require__(37), OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.windowWhen = function(closingSelector) {
        return function(source) {
            return source.lift(new WindowOperator(closingSelector));
        };
    };
    var WindowOperator = function() {
        function WindowOperator(closingSelector) {
            this.closingSelector = closingSelector;
        }
        return WindowOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new WindowSubscriber(subscriber, this.closingSelector));
        }, WindowOperator;
    }(), WindowSubscriber = function(_super) {
        function WindowSubscriber(destination, closingSelector) {
            _super.call(this, destination), this.destination = destination, this.closingSelector = closingSelector, 
            this.openWindow();
        }
        return __extends(WindowSubscriber, _super), WindowSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.openWindow(innerSub);
        }, WindowSubscriber.prototype.notifyError = function(error, innerSub) {
            this._error(error);
        }, WindowSubscriber.prototype.notifyComplete = function(innerSub) {
            this.openWindow(innerSub);
        }, WindowSubscriber.prototype._next = function(value) {
            this.window.next(value);
        }, WindowSubscriber.prototype._error = function(err) {
            this.window.error(err), this.destination.error(err), this.unsubscribeClosingNotification();
        }, WindowSubscriber.prototype._complete = function() {
            this.window.complete(), this.destination.complete(), this.unsubscribeClosingNotification();
        }, WindowSubscriber.prototype.unsubscribeClosingNotification = function() {
            this.closingNotification && this.closingNotification.unsubscribe();
        }, WindowSubscriber.prototype.openWindow = function(innerSub) {
            void 0 === innerSub && (innerSub = null), innerSub && (this.remove(innerSub), innerSub.unsubscribe());
            var prevWindow = this.window;
            prevWindow && prevWindow.complete();
            var window = this.window = new Subject_1.Subject();
            this.destination.next(window);
            var closingNotifier = tryCatch_1.tryCatch(this.closingSelector)();
            if (closingNotifier === errorObject_1.errorObject) {
                var err = errorObject_1.errorObject.e;
                this.destination.error(err), this.window.error(err);
            } else this.add(this.closingNotification = subscribeToResult_1.subscribeToResult(this, closingNotifier));
        }, WindowSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, OuterSubscriber_1 = __webpack_require__(14), subscribeToResult_1 = __webpack_require__(13);
    exports.withLatestFrom = function() {
        for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i - 0] = arguments[_i];
        return function(source) {
            var project;
            "function" == typeof args[args.length - 1] && (project = args.pop());
            var observables = args;
            return source.lift(new WithLatestFromOperator(observables, project));
        };
    };
    var WithLatestFromOperator = function() {
        function WithLatestFromOperator(observables, project) {
            this.observables = observables, this.project = project;
        }
        return WithLatestFromOperator.prototype.call = function(subscriber, source) {
            return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));
        }, WithLatestFromOperator;
    }(), WithLatestFromSubscriber = function(_super) {
        function WithLatestFromSubscriber(destination, observables, project) {
            _super.call(this, destination), this.observables = observables, this.project = project, 
            this.toRespond = [];
            var len = observables.length;
            this.values = new Array(len);
            for (var i = 0; i < len; i++) this.toRespond.push(i);
            for (i = 0; i < len; i++) {
                var observable = observables[i];
                this.add(subscribeToResult_1.subscribeToResult(this, observable, observable, i));
            }
        }
        return __extends(WithLatestFromSubscriber, _super), WithLatestFromSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.values[outerIndex] = innerValue;
            var toRespond = this.toRespond;
            if (toRespond.length > 0) {
                var found = toRespond.indexOf(outerIndex);
                -1 !== found && toRespond.splice(found, 1);
            }
        }, WithLatestFromSubscriber.prototype.notifyComplete = function() {}, WithLatestFromSubscriber.prototype._next = function(value) {
            if (0 === this.toRespond.length) {
                var args = [ value ].concat(this.values);
                this.project ? this._tryProject(args) : this.destination.next(args);
            }
        }, WithLatestFromSubscriber.prototype._tryProject = function(args) {
            var result;
            try {
                result = this.project.apply(this, args);
            } catch (err) {
                return void this.destination.error(err);
            }
            this.destination.next(result);
        }, WithLatestFromSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var zip_1 = __webpack_require__(363);
    exports.zipAll = function(project) {
        return function(source) {
            return source.lift(new zip_1.ZipOperator(project));
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var SubscriptionLog_1 = __webpack_require__(597), SubscriptionLoggable = function() {
        function SubscriptionLoggable() {
            this.subscriptions = [];
        }
        return SubscriptionLoggable.prototype.logSubscribedFrame = function() {
            return this.subscriptions.push(new SubscriptionLog_1.SubscriptionLog(this.scheduler.now())), 
            this.subscriptions.length - 1;
        }, SubscriptionLoggable.prototype.logUnsubscribedFrame = function(index) {
            var subscriptionLogs = this.subscriptions, oldSubscriptionLog = subscriptionLogs[index];
            subscriptionLogs[index] = new SubscriptionLog_1.SubscriptionLog(oldSubscriptionLog.subscribedFrame, this.scheduler.now());
        }, SubscriptionLoggable;
    }();
    exports.SubscriptionLoggable = SubscriptionLoggable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var SubscriptionLog = function() {
        return function(subscribedFrame, unsubscribedFrame) {
            void 0 === unsubscribedFrame && (unsubscribedFrame = Number.POSITIVE_INFINITY), 
            this.subscribedFrame = subscribedFrame, this.unsubscribedFrame = unsubscribedFrame;
        };
    }();
    exports.SubscriptionLog = SubscriptionLog;
}, function(module, exports, __webpack_require__) {
    "use strict";
    exports.applyMixins = function(derivedCtor, baseCtors) {
        for (var i = 0, len = baseCtors.length; i < len; i++) for (var baseCtor = baseCtors[i], propertyKeys = Object.getOwnPropertyNames(baseCtor.prototype), j = 0, len2 = propertyKeys.length; j < len2; j++) {
            var name_1 = propertyKeys[j];
            derivedCtor.prototype[name_1] = baseCtor.prototype[name_1];
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, AsyncAction_1 = __webpack_require__(330), VirtualTimeScheduler = function(_super) {
        function VirtualTimeScheduler(SchedulerAction, maxFrames) {
            var _this = this;
            void 0 === SchedulerAction && (SchedulerAction = VirtualAction), void 0 === maxFrames && (maxFrames = Number.POSITIVE_INFINITY), 
            _super.call(this, SchedulerAction, function() {
                return _this.frame;
            }), this.maxFrames = maxFrames, this.frame = 0, this.index = -1;
        }
        return __extends(VirtualTimeScheduler, _super), VirtualTimeScheduler.prototype.flush = function() {
            for (var error, action, actions = this.actions, maxFrames = this.maxFrames; (action = actions.shift()) && (this.frame = action.delay) <= maxFrames && !(error = action.execute(action.state, action.delay)); ) ;
            if (error) {
                for (;action = actions.shift(); ) action.unsubscribe();
                throw error;
            }
        }, VirtualTimeScheduler.frameTimeFactor = 10, VirtualTimeScheduler;
    }(__webpack_require__(331).AsyncScheduler);
    exports.VirtualTimeScheduler = VirtualTimeScheduler;
    var VirtualAction = function(_super) {
        function VirtualAction(scheduler, work, index) {
            void 0 === index && (index = scheduler.index += 1), _super.call(this, scheduler, work), 
            this.scheduler = scheduler, this.work = work, this.index = index, this.active = !0, 
            this.index = scheduler.index = index;
        }
        return __extends(VirtualAction, _super), VirtualAction.prototype.schedule = function(state, delay) {
            if (void 0 === delay && (delay = 0), !this.id) return _super.prototype.schedule.call(this, state, delay);
            this.active = !1;
            var action = new VirtualAction(this.scheduler, this.work);
            return this.add(action), action.schedule(state, delay);
        }, VirtualAction.prototype.requestAsyncId = function(scheduler, id, delay) {
            void 0 === delay && (delay = 0), this.delay = scheduler.frame + delay;
            var actions = scheduler.actions;
            return actions.push(this), actions.sort(VirtualAction.sortActions), !0;
        }, VirtualAction.prototype.recycleAsyncId = function(scheduler, id, delay) {
            void 0 === delay && (delay = 0);
        }, VirtualAction.prototype._execute = function(state, delay) {
            if (!0 === this.active) return _super.prototype._execute.call(this, state, delay);
        }, VirtualAction.sortActions = function(a, b) {
            return a.delay === b.delay ? a.index === b.index ? 0 : a.index > b.index ? 1 : -1 : a.delay > b.delay ? 1 : -1;
        }, VirtualAction;
    }(AsyncAction_1.AsyncAction);
    exports.VirtualAction = VirtualAction;
}, function(module, exports, __webpack_require__) {
    var baseGetTag = __webpack_require__(23), isObjectLike = __webpack_require__(17), isPlainObject = __webpack_require__(175), domExcTag = "[object DOMException]", errorTag = "[object Error]";
    module.exports = function(value) {
        if (!isObjectLike(value)) return !1;
        var tag = baseGetTag(value);
        return tag == errorTag || tag == domExcTag || "string" == typeof value.message && "string" == typeof value.name && !isPlainObject(value);
    };
}, function(module, exports) {
    module.exports = /<%=([\s\S]+?)%>/g;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var extend = __webpack_require__(38), Changesets = __webpack_require__(423), capi_1 = __webpack_require__(438), logger_1 = __webpack_require__(1), util_1 = __webpack_require__(2), flatMap = __webpack_require__(1026), removeFromArray = __webpack_require__(1027), log = logger_1.Logger.create("lib.grammarly-editor.text-api"), MESSAGE_LIMIT_KB = 100, MESSAGE_PADDING = 100;
    function updateMatches(matches, changes) {
        for (var i = 0; i < matches.length; i++) {
            var match = matches[i];
            match.begin = match.s, match.end = match.e, match.highlightBegin = match._s, match.highlightEnd = match._e, 
            updateMatch(match, changes), match.s = match.begin, match.e = match.end, match._s = match.highlightBegin, 
            match._e = match.highlightEnd;
        }
    }
    function updateMatch(match, changes) {
        for (var temp = match.begin, i = match.rev + 1; i < changes.length; i++) applyCsToMatch(changes[i], match);
        match.rev = changes.length - 1, match.begin !== temp && log.trace("DIFF", match);
    }
    function applyCsToMatch(cs, match) {
        cs.sequencify().forEach(function(op) {
            applyMatchOffset(op, match, "begin", "end"), applyMatchOffset(op, match, "highlightBegin", "highlightEnd");
        });
    }
    function applyMatchOffset(op, match, keyBegin, keyEnd) {
        "+" === op.type ? (match[keyBegin] < 0 || op.pos <= match[keyBegin]) && (match[keyBegin] += op.len, 
        match[keyEnd] += op.len) : "-" === op.type && op.pos < match[keyBegin] && (match[keyBegin] -= op.len, 
        match[keyEnd] -= op.len);
    }
    function kbytes(message) {
        return util_1.bytes(message) / 1e3;
    }
    function capiChunksCount(message, messageLimitKb) {
        return void 0 === messageLimitKb && (messageLimitKb = MESSAGE_LIMIT_KB), Math.ceil(util_1.bytes(message) / 1e3 / messageLimitKb);
    }
    function capiChunkSize(message, messageLimitKb, padding) {
        return void 0 === messageLimitKb && (messageLimitKb = MESSAGE_LIMIT_KB), void 0 === padding && (padding = MESSAGE_PADDING), 
        Math.floor(message.length / capiChunksCount(message, messageLimitKb)) - padding;
    }
    function splitChangeset(changesForRev, chunkMaxSize) {
        return flatMap(changesForRev, function(x) {
            return flatMap(x, function(y) {
                var currentPos = y.pos, currentTlen = y.tlen;
                return y.text.length > chunkMaxSize ? util_1.chunks(y.text, chunkMaxSize).map(function(t) {
                    var result = y.extend({
                        text: t,
                        tlen: "+" === y.type ? currentPos : currentTlen,
                        type: y.type,
                        pos: "+" === y.type ? currentPos : y.pos,
                        accessory: y.accessory
                    });
                    return currentPos += t.length, currentTlen -= t.length, result;
                }) : [ y ];
            });
        });
    }
    function getChunkedChanges(flatSplitOperations, chunkMaxSize) {
        var chunkedChanges = [], currentChunkSize = 0;
        return flatSplitOperations.forEach(function(x, i) {
            0 === i && chunkedChanges.push([]), x.text.length + currentChunkSize > chunkMaxSize && (chunkedChanges.push([]), 
            currentChunkSize = 0), chunkedChanges[chunkedChanges.length - 1].push(x), currentChunkSize += x.text.length;
        }), chunkedChanges;
    }
    function getSplitChanges(changesForRev, messageLimitKb, messagePadding) {
        void 0 === messageLimitKb && (messageLimitKb = MESSAGE_LIMIT_KB), void 0 === messagePadding && (messagePadding = MESSAGE_PADDING);
        var message = changesForRev.map(function(cs) {
            return cs.pack();
        }).join("");
        if (!changesForRev.length) return [];
        if (kbytes(message) < messageLimitKb) return [ changesForRev ];
        var chunkMaxSize = capiChunkSize(message, messageLimitKb, messagePadding);
        return getChunkedChanges(splitChangeset(changesForRev, chunkMaxSize), chunkMaxSize).map(function(x) {
            return [ Changesets.cs(x) ];
        });
    }
    function splitSend(allChanges, startRev, isReconnectMode, sendChanges, messageLimitKb, messagePadding) {
        void 0 === messageLimitKb && (messageLimitKb = MESSAGE_LIMIT_KB), void 0 === messagePadding && (messagePadding = MESSAGE_PADDING);
        var chunkedChanges = getSplitChanges(allChanges.slice(startRev), messageLimitKb, messagePadding);
        0 !== chunkedChanges.length && (1 === chunkedChanges.length ? sendChanges(chunkedChanges[0].map(function(cs) {
            return cs.pack();
        }), allChanges.length - 1, isReconnectMode) : (removeFromArray(allChanges, function(x, i) {
            return i >= startRev && !chunkedChanges.find(function(y) {
                return x === y[0];
            });
        }), chunkedChanges.forEach(function(x) {
            allChanges.push(x[0]), sendChanges([ x[0].pack() ], allChanges.length - 1, isReconnectMode);
        })));
    }
    exports.createTextApi = function(config) {
        var DEBUG = !config.silentLogs, Capi = config.capi || capi_1.capi.createClient, getContainerId = config.getContainerId, capiClient = Capi({
            sid: config.sid,
            docid: config.docid,
            createWs: config.createWs,
            url: config.capiUrl,
            dialect: config.dialect,
            silentLogs: config.silentLogs
        });
        capiClient.on("alert", onadd.bind(null, "error")), capiClient.on("synonyms", onadd.bind(null, "syn")), 
        capiClient.on("disconnect", reset), capiClient.on("socketStart", function() {
            getContainerId().then(function(containerId) {
                capiClient.sendContainerId(containerId);
            }).catch(function(error) {
                DEBUG && log.error("Cannot send containerId", error);
            });
        });
        var me = extend({
            text: "",
            changes: [],
            sentRev: 0,
            isReconnectMode: !1,
            send: send,
            update: update,
            updateMatchesToCurrentRevision: function(matches) {
                updateMatches(matches, me.changes);
            },
            updateMatchToCurrentRevision: function(match) {
                updateMatch(match, me.changes);
            },
            getShiftedMatches: function(matches, text) {
                if (text === me.text) return matches;
                var cs = Changesets.diff(me.text, text);
                if (!cs.length) return matches;
                var changes = __spread(me.changes, [ cs ]), clonedMatches = matches.map(function(x) {
                    return {
                        id: x.id,
                        value: x.value,
                        _value: x._value,
                        s: x.s,
                        e: x.e,
                        _s: x._s,
                        _e: x._e,
                        rev: x.rev
                    };
                });
                return updateMatches(clonedMatches, changes), clonedMatches.filter(function(x) {
                    return x._s >= 0 && x._e >= 0 && x.s >= 0 && x.e >= 0;
                });
            },
            restart: function() {
                var text = me.text;
                reset(), update(text), send();
            },
            reset: reset,
            checkPlagiarism: function(text) {
                me.emit("sending"), capiClient.plagiarism(text, function() {
                    return me.emit("plagiarismChecked");
                });
            },
            getState: function() {
                return {
                    changes: me.changes.map(function(cs) {
                        return cs.pack();
                    }),
                    text: me.text,
                    sentRev: me.sentRev
                };
            },
            setState: function(state) {
                me.text = state.text, me.changes = state.changes.map(function(cs) {
                    return Changesets.unpack(cs);
                }), me.sentRev = state.sentRev, capiClient.rev = state.sentRev;
            },
            onadd: onadd,
            onfinish: onfinish
        }, capiClient);
        return me;
        function update(text) {
            if (text !== me.text) {
                var cs = Changesets.diff(me.text, text);
                me.text = text, cs.length && me.changes.push(cs);
            }
        }
        function reset() {
            me.changes = [], me.text = "", me.sentRev = 0, capiClient.rev = 0;
        }
        function onfinish(msg) {
            DEBUG && log.trace("MIDDLE LOG: finished: " + JSON.stringify(msg)), (msg.removed || []).forEach(function(sid) {
                return me.emit("remove", sid);
            }), me.emit("finish", msg);
        }
        function onadd(type, match) {
            DEBUG && log.trace("MIDDLE LOG: received match: " + JSON.stringify(match) + type + me.changes.length), 
            updateMatch(match, me.changes), match.type = type, me.emit("add", match);
        }
        function send() {
            splitSend(me.changes, me.sentRev, me.isReconnectMode, sendChanges), me.changes.length && (me.isReconnectMode = !1);
        }
        function sendChanges(changesForRev, rev, isReconnectMode) {
            var params = {};
            me.emit("sending"), config.extendParams && config.extendParams(params), isReconnectMode && Object.assign(params, {
                type: "reconnect"
            }), capiClient.submitOt(changesForRev, rev, params, onfinish), me.sentRev = me.changes.length;
        }
    }, exports.kbytes = kbytes, exports.capiChunksCount = capiChunksCount, exports.capiChunkSize = capiChunkSize, 
    exports.splitChangeset = splitChangeset, exports.getChunkedChanges = getChunkedChanges, 
    exports.getSplitChanges = getSplitChanges, exports.splitSend = splitSend;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var emitter = __webpack_require__(18), Emitter = function() {
        return function(obj) {
            void 0 === obj && (obj = {});
            var _this = this;
            this.on = function(event, callback) {
                return _this._internalEmitter.on(event, callback);
            }, this.one = function(event, callback) {
                return _this._internalEmitter.one(event, callback);
            }, this.off = function(event, callback) {
                return _this._internalEmitter.off(event, callback);
            }, this.emit = function(event, data) {
                return _this._internalEmitter.emit(event, data);
            }, this.delegate = function(obj, event, delegateEvent) {
                return _this._internalEmitter.delegate(obj, event, delegateEvent);
            }, this._internalEmitter = emitter(obj);
        };
    }();
    exports.Emitter = Emitter;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), dom_1 = __webpack_require__(3), button_1 = __webpack_require__(202), tracking_1 = __webpack_require__(8), tracking_2 = __webpack_require__(20), react_1 = __webpack_require__(22), style = __webpack_require__(206), OnboardingPopup = function(_super) {
        function OnboardingPopup(props) {
            var _this = _super.call(this, props) || this;
            return _this.cancel = function() {
                _this.props.remove();
            }, _this.state = {
                styles: {}
            }, _this;
        }
        return __extends(OnboardingPopup, _super), OnboardingPopup.prototype.componentDidMount = function() {
            var _this = this, node = ReactDOM.findDOMNode(this.refs.gButtonPopup);
            this._requestAnimationFrame = requestAnimationFrame(function() {
                if (node.style.opacity = "1", node.style.transform) {
                    var transforms = node.style.transform.split(" ");
                    transforms[2] = "scale(1)", node.style.transform = transforms.join(" ");
                }
            }), this.setState(function() {
                return {
                    styles: _this.props.styles
                };
            }), tracking_2.gnar.onboardingPopupShow(), tracking_1.felog.onboardingPopupShow();
        }, OnboardingPopup.prototype.componentWillUnmount = function() {
            cancelAnimationFrame(this._requestAnimationFrame);
        }, OnboardingPopup.prototype.render = function() {
            var _this = this;
            return React.createElement("div", {
                ref: "gButtonPopup",
                className: dom_1.cs(style.gButtonPopup, style.onboarding),
                style: this.state.styles
            }, React.createElement("p", {
                className: style.title
            }, "Grammarly is Now Active"), React.createElement("p", {
                className: style.text
            }, "Want to see how it works?"), React.createElement(button_1.Button, {
                cls: "onboarding",
                styles: {
                    width: "180px"
                },
                text: "take a quick tour",
                onClick: function() {
                    return _this.props.openOnboardingDialog();
                }
            }), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    tracking_2.gnar.onboardingPopupCloseButtonClick("onboardingPopup"), tracking_1.felog.onboardingPopupCancel(), 
                    _this.cancel();
                }
            }, React.createElement("button", {
                className: style.link
            }, "No, thanks")), React.createElement("div", {
                className: dom_1.cs(style.popupFooter, this.props.isFlipped && style.isFlipped)
            }, ""));
        }, OnboardingPopup;
    }(React.Component);
    exports.OnboardingPopup = OnboardingPopup;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), dom_1 = __webpack_require__(3), button_1 = __webpack_require__(202), react_1 = __webpack_require__(22), tracking_1 = __webpack_require__(20), tracking_2 = __webpack_require__(8), style = __webpack_require__(206), LoginReminderPopup = function(_super) {
        function LoginReminderPopup(props) {
            var _this = _super.call(this, props) || this;
            return _this.cancel = function() {
                _this.props.remove();
            }, _this.state = {
                styles: {}
            }, _this;
        }
        return __extends(LoginReminderPopup, _super), LoginReminderPopup.prototype.componentDidMount = function() {
            var _this = this, node = ReactDOM.findDOMNode(this.refs.gButtonPopup);
            this._requestAnimationFrame = requestAnimationFrame(function() {
                if (node.style.opacity = "1", node.style.transform) {
                    var transforms = node.style.transform.split(" ");
                    transforms[2] = "scale(1)", node.style.transform = transforms.join(" ");
                }
            }), this.setState(function() {
                return {
                    styles: _this.props.styles
                };
            }), tracking_1.gnar.loginReminderPopupShow(), tracking_2.felog.loginReminderPopupShow();
        }, LoginReminderPopup.prototype.componentWillUnmount = function() {
            cancelAnimationFrame(this._requestAnimationFrame);
        }, LoginReminderPopup.prototype.renderFreeLayout = function() {
            return React.createElement("div", null, React.createElement("div", {
                className: style.title
            }, "Looks like you got signed out!"), React.createElement("div", {
                className: style.text
            }, "In order to continue receiving", React.createElement("br", null), " your personalized Grammarly", React.createElement("br", null), " suggestions, please sign back in."));
        }, LoginReminderPopup.prototype.renderPremiumLayout = function() {
            return React.createElement("div", null, React.createElement("div", {
                className: style.title
            }, "Youre missing out on your", React.createElement("br", null), " Grammarly Premium features."), React.createElement("div", {
                className: dom_1.cs(style.text, style.subtitle)
            }, "Sign back in to receive"), React.createElement("ul", {
                className: style.list
            }, React.createElement("li", {
                className: style.listItem
            }, "Advanced grammar checks"), React.createElement("li", {
                className: style.listItem
            }, "Vocabulary enhancements")));
        }, LoginReminderPopup.prototype.render = function() {
            var _this = this, _a = this.props, isFlipped = _a.isFlipped, reminderType = _a.reminderType, cls = dom_1.cs(style.gButtonPopup, style.loginReminder, style[reminderType], isFlipped && style.isFlipped);
            return React.createElement("div", {
                ref: "gButtonPopup",
                className: cls,
                style: this.state.styles
            }, "free" === this.props.reminderType ? this.renderFreeLayout() : this.renderPremiumLayout(), React.createElement(button_1.Button, {
                styles: {
                    width: 208,
                    color: "#15C39A"
                },
                text: "Sign back in",
                onClick: this.props.openSignInDialog
            }), React.createElement(react_1.GenericButton, {
                clickHandler: this.props.disableLoginReminder
            }, React.createElement("button", {
                className: dom_1.cs(style.secondary)
            }, "Dont show this again")), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    _this.cancel(), tracking_1.gnar.loginReminderCloseButtonClick("loginReminder");
                }
            }, React.createElement("button", {
                className: style.close
            })), React.createElement("div", {
                className: dom_1.cs(style.popupFooter, isFlipped && style.isFlipped)
            }, ""));
        }, LoginReminderPopup;
    }(React.Component);
    exports.LoginReminderPopup = LoginReminderPopup;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), dom_1 = __webpack_require__(3), button_1 = __webpack_require__(202), react_1 = __webpack_require__(22), style = __webpack_require__(206), DisablePopup = function(_super) {
        function DisablePopup(props) {
            var _this = _super.call(this, props) || this;
            return _this.cancel = function() {
                _this._node ? (_this._node.style.opacity = "0", _this._node.addEventListener("transitionend", function() {
                    _this.props.remove();
                }, !1)) : _this.props.remove();
            }, _this.state = {
                styles: {}
            }, _this;
        }
        return __extends(DisablePopup, _super), DisablePopup.prototype.componentDidMount = function() {
            var _this = this, node = ReactDOM.findDOMNode(this.refs.gButtonPopup);
            this._requestAnimationFrame = requestAnimationFrame(function() {
                requestAnimationFrame(function() {
                    if (node.style.setProperty("transition", "opacity 0.18s cubic-bezier(0.255,0.89,0.25,1.135),transform 0.18s cubic-bezier(0.255,0.89,0.25,1.135)", "important"), 
                    node.style.opacity = "1", node.style.transform) {
                        var transforms = node.style.transform.split(" ");
                        transforms[2] = "scale(1)", node.style.transform = transforms.join(" ");
                    }
                });
            }), this._node = node, this.setState(function() {
                return {
                    styles: _this.props.styles
                };
            });
        }, DisablePopup.prototype.componentWillUnmount = function() {
            cancelAnimationFrame(this._requestAnimationFrame);
        }, DisablePopup.prototype.render = function() {
            var _this = this, styles = Object.assign({}, this.props.styles, {
                transition: "none !important"
            });
            return React.createElement("div", {
                ref: "gButtonPopup",
                className: dom_1.cs(style.gButtonPopup, style.disable),
                style: styles
            }, React.createElement("p", {
                className: style.text
            }, "Disable Grammarly ", React.createElement("br", null), " on ", React.createElement("span", {
                className: style.bold
            }, this.props.domain), "?"), React.createElement(button_1.Button, {
                cls: "disable",
                styles: {
                    width: 208
                },
                text: "Disable until next visit",
                onClick: function() {
                    return _this.props.disableOnTab();
                }
            }), React.createElement(button_1.Button, {
                cls: "disable",
                styles: {
                    width: 208
                },
                text: "Disable Forever",
                onClick: function() {
                    return _this.props.disableSite();
                }
            }), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    return _this.cancel();
                }
            }, React.createElement("button", {
                className: style.close
            })), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    return _this.cancel();
                }
            }, React.createElement("button", {
                className: style.link
            }, "keep it working")));
        }, DisablePopup;
    }(React.Component);
    exports.DisablePopup = DisablePopup;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), dom_1 = __webpack_require__(3), react_1 = __webpack_require__(22), Observable_1 = __webpack_require__(0), tracking_1 = __webpack_require__(20), style = __webpack_require__(206), SummarizePopup = function(_super) {
        function SummarizePopup(props) {
            var _this = _super.call(this, props) || this;
            return _this.cancel = function() {
                _this._node ? (_this._node.style.opacity = "0", _this._node.addEventListener("transitionend", function() {
                    _this.props.remove();
                }, !1)) : _this.props.remove(), _this.props.changeView("default"), _this._docClickObservable.unsubscribe();
            }, _this.state = {
                styles: {}
            }, _this;
        }
        return __extends(SummarizePopup, _super), SummarizePopup.prototype.componentDidMount = function() {
            var _this = this, node = ReactDOM.findDOMNode(this.refs.gButtonPopup);
            this._requestAnimationFrame = requestAnimationFrame(function() {
                requestAnimationFrame(function() {
                    if (node.style.setProperty("transition", "opacity 0.18s cubic-bezier(0.19, 0.7, 0.45, 1.1), transform 0.18s ease-in-out", "important"), 
                    node.style.opacity = "1", node.style.transform) {
                        var transforms = node.style.transform.split(" ");
                        transforms[2] = "scale(1)", node.style.transform = transforms.join(" ");
                    }
                });
            }), this._node = node, this._docClickObservable = Observable_1.Observable.fromEvent(this._node.ownerDocument, "click").subscribe(function(x) {
                !1 === _this._node.contains(x.target) && _this.cancel();
            }), this.setState(function() {
                return {
                    styles: _this.props.styles
                };
            });
        }, SummarizePopup.prototype.componentWillUnmount = function() {
            cancelAnimationFrame(this._requestAnimationFrame);
        }, SummarizePopup.prototype.renderExpandedView = function() {
            var _this = this, cls = dom_1.cs(style.gButtonPopup, style.summarize, style.expanded), styles = Object.assign({}, this.props.styles, {
                transition: "none !important"
            });
            return React.createElement("div", {
                ref: "gButtonPopup",
                className: cls,
                style: styles
            }, React.createElement("div", {
                className: style.title
            }, "State the key point first"), React.createElement("div", {
                className: style.text
            }, "People tend to skim long emails. If your main point is buried, your readers may miss it. Your first line should answer the question that was asked, state the main takeaway, or highlight your main request."), React.createElement("div", {
                className: dom_1.cs(style.text, style.additional)
            }, "While you might feel that you need to build up to your main point or request, it is often better to open with it. Starting with the key point tells your readers what your message is about and how the rest of the email relates to it."), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    return _this.props.changeView("default");
                }
            }, React.createElement("div", {
                className: style.collapseButton
            })), React.createElement("div", {
                className: style.example
            }, React.createElement("span", {
                className: style.unclear
            }, "Unclear"), React.createElement("span", {
                className: style.exampleText
            }, "As you know, were planning a small party to celebrate Pams birthday . . . [several sentences later] . . . It would be great if you could let me know what kind of food youre planning to bring.")), React.createElement("div", {
                className: style.example
            }, React.createElement("span", {
                className: style.clear
            }, "lear"), React.createElement("span", {
                className: style.exampleText
            }, "Can you let me know today what kind of food youre bringing to Pams birthday party on Saturday? Thanks so much for volunteering.")), React.createElement("div", {
                className: style.example
            }, React.createElement("span", {
                className: style.unclear
            }, "Unclear"), React.createElement("span", {
                className: style.exampleText
            }, "I was thinking about our meeting and the plan to renovate the site so I called [several sentences later] ...therefore we should go with Option B.")), React.createElement("div", {
                className: style.example
            }, React.createElement("span", {
                className: style.clear
            }, "Clear"), React.createElement("span", {
                className: style.exampleText
            }, "We should go with Option B. Here is why:")), React.createElement("div", {
                className: style.line
            }), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    _this.props.actions.accept(), _this.cancel();
                }
            }, React.createElement("div", {
                className: dom_1.cs(style.button, style.acceptButton)
            }, "Ill address this")), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    _this.props.actions.ignore(), _this.cancel();
                }
            }, React.createElement("div", {
                className: dom_1.cs(style.button, style.ignoreButton)
            }, "Not Helpful")), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    _this.props.actions.disable(), _this.cancel();
                }
            }, React.createElement("div", {
                className: dom_1.cs(style.button, style.disableButton)
            })));
        }, SummarizePopup.prototype.renderDefaultView = function() {
            var _this = this, cls = dom_1.cs(style.gButtonPopup, style.summarize), styles = Object.assign({}, this.props.styles, {
                transition: "none !important"
            });
            return React.createElement("div", {
                ref: "gButtonPopup",
                className: cls,
                style: styles
            }, React.createElement("div", {
                className: style.title
            }, "State the key point first"), React.createElement("div", {
                className: style.text
            }, "Put the most important information in the first sentence of your email to make sure readers don't miss it."), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    tracking_1.gnar.emailSummarizationExpandButtonClick(_this.props.editorId, "emailSummarizationPopup"), 
                    _this.props.changeView("expanded");
                }
            }, React.createElement("div", {
                className: style.moreButton
            }, React.createElement("span", {
                className: style.round
            }), React.createElement("span", {
                className: style.round
            }), React.createElement("span", {
                className: style.round
            }))), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    _this.props.actions.accept(), _this.cancel();
                }
            }, React.createElement("div", {
                className: dom_1.cs(style.button, style.acceptButton)
            }, "Ill address this")), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    _this.props.actions.ignore(), _this.cancel();
                }
            }, React.createElement("div", {
                className: dom_1.cs(style.button, style.ignoreButton)
            }, "Not Helpful")), React.createElement("div", {
                className: style.line
            }), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    _this.props.actions.disable(), _this.cancel();
                }
            }, React.createElement("div", {
                className: dom_1.cs(style.button, style.disableButton)
            }, "Disable clarity tips")));
        }, SummarizePopup.prototype.render = function() {
            return "expanded" === this.props.view ? this.renderExpandedView() : this.renderDefaultView();
        }, SummarizePopup;
    }(React.Component);
    exports.SummarizePopup = SummarizePopup;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), dom_1 = __webpack_require__(3), styl = __webpack_require__(358), style = __webpack_require__(206), react_1 = __webpack_require__(22), tracking_1 = __webpack_require__(20), GdocsPopupEditorUnavailable = function(_super) {
        function GdocsPopupEditorUnavailable(props) {
            var _this = _super.call(this, props) || this;
            return _this.close = function() {
                _this._node ? (_this._node.style.opacity = "0", _this._node.addEventListener("transitionend", function() {
                    return _this.props.close();
                }, !1)) : _this.props.close();
            }, _this.openOnGrammarly = function() {
                _this.props.onClick(), tracking_1.gnar.gdocsOpenEditorButtonClick("gButtonPopup");
            }, _this;
        }
        return __extends(GdocsPopupEditorUnavailable, _super), GdocsPopupEditorUnavailable.prototype.componentDidMount = function() {
            var node = ReactDOM.findDOMNode(this.refs.gButtonPopup);
            this._requestAnimationFrame = requestAnimationFrame(function() {
                requestAnimationFrame(function() {
                    if (node.style.setProperty("transition", "opacity 0.18s cubic-bezier(0.255,0.89,0.25,1.135),transform 0.18s cubic-bezier(0.255,0.89,0.25,1.135)", "important"), 
                    node.style.opacity = "1", node.style.transform) {
                        var transforms = node.style.transform.split(" ");
                        transforms[2] = "scale(1)", node.style.transform = transforms.join(" ");
                    }
                });
            }), this._node = node;
            var _a = this.props, docId = _a.docId, errorData = _a.errorData;
            tracking_1.gnar.gButtonClick(docId, errorData.plus, errorData.critical, "gdocs");
        }, GdocsPopupEditorUnavailable.prototype.componentWillUnmount = function() {
            cancelAnimationFrame(this._requestAnimationFrame);
        }, GdocsPopupEditorUnavailable.prototype.render = function() {
            var styles = Object.assign({}, this.props.styles, {
                transition: "none !important"
            });
            return React.createElement("div", {
                ref: "gButtonPopup",
                className: dom_1.cs(style.gButtonPopup, style.gdocsBeta),
                style: styles
            }, React.createElement(react_1.GenericButton, {
                clickHandler: this.close
            }, React.createElement("button", {
                className: style.close
            })), React.createElement("div", {
                className: style.header
            }, "Sorry! Grammarlys", React.createElement("br", null), "popup editor isnt available", React.createElement("br", null), "as part of the beta."), React.createElement(react_1.GenericButton, {
                clickHandler: this.openOnGrammarly
            }, React.createElement("div", {
                className: dom_1.cs(styl.button, styl.large, styl.optIn)
            }, "Open on grammarly.com")), React.createElement("div", {
                className: dom_1.cs(style.bubbleArrow)
            }, ""));
        }, GdocsPopupEditorUnavailable;
    }(React.Component);
    exports.GdocsPopupEditorUnavailable = GdocsPopupEditorUnavailable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Score, View, React = __webpack_require__(5), ReactDOM = __webpack_require__(19), dom_1 = __webpack_require__(3), style = __webpack_require__(206), react_1 = __webpack_require__(22), tracking_1 = __webpack_require__(20);
    !function(Score) {
        Score.good = "good", Score.bad = "bad", Score.ok = "ok";
    }(Score || (Score = {})), function(View) {
        View.form = "form", View.feedbackSent = "sent";
    }(View || (View = {}));
    var GdocsFeedbackUI = function(_super) {
        function GdocsFeedbackUI(props) {
            var _this = _super.call(this, props) || this;
            return _this.state = {
                activeScore: null,
                feedback: "",
                view: View.form
            }, _this.close = function() {
                _this._node ? (_this._node.style.opacity = "0", _this._node.addEventListener("transitionend", function() {
                    _this.props.close();
                }, !1)) : _this.props.close();
            }, _this.submitFeedback = function() {
                _this.setState({
                    view: View.feedbackSent
                }), tracking_1.gnar.feedbackSentButtonClick(_this.state.feedback, "gdocs", _this.state.activeScore);
            }, _this.setActiveScore = function(score) {
                _this.setState({
                    activeScore: _this.state.activeScore === score ? null : score
                });
            }, _this.handleChange = function(event) {
                _this.setState({
                    feedback: event.target.value
                });
            }, _this;
        }
        return __extends(GdocsFeedbackUI, _super), GdocsFeedbackUI.prototype.componentDidMount = function() {
            var node = ReactDOM.findDOMNode(this.refs.gButtonPopup);
            this._requestAnimationFrame = requestAnimationFrame(function() {
                requestAnimationFrame(function() {
                    if (node.style.setProperty("transition", "opacity 0.18s cubic-bezier(0.255,0.89,0.25,1.135),transform 0.18s cubic-bezier(0.255,0.89,0.25,1.135)", "important"), 
                    node.style.opacity = "1", node.style.transform) {
                        var transforms = node.style.transform.split(" ");
                        transforms[2] = "scale(1)", node.style.transform = transforms.join(" ");
                    }
                });
            }), this._node = node;
        }, GdocsFeedbackUI.prototype.componentWillUnmount = function() {
            cancelAnimationFrame(this._requestAnimationFrame);
        }, GdocsFeedbackUI.prototype.render = function() {
            var _this = this, styles = this.props.styles, formView = React.createElement("div", {
                className: style.feedbackForm
            }, React.createElement("div", {
                className: style.header
            }, "How do you like", React.createElement("br", null), " Grammarly for Google Docs?"), React.createElement("div", {
                className: style.scoreList
            }, React.createElement("div", {
                className: style.scoreListCell
            }, React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    return _this.setActiveScore(Score.bad);
                }
            }, React.createElement("div", {
                className: dom_1.cs(style.score, style.scoreBad, this.state.activeScore === Score.bad && style.active)
            }, "Its not", React.createElement("br", null), "for me"))), React.createElement("div", {
                className: style.scoreListCell
            }, React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    return _this.setActiveScore(Score.ok);
                }
            }, React.createElement("div", {
                className: dom_1.cs(style.score, style.scoreOk, this.state.activeScore === Score.ok && style.active)
            }, "Its OK"))), React.createElement("div", {
                className: style.scoreListCell
            }, React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    return _this.setActiveScore(Score.good);
                }
            }, React.createElement("div", {
                className: dom_1.cs(style.score, style.scoreGood, this.state.activeScore === Score.good && style.active)
            }, "I love it!")))), React.createElement("div", {
                className: style.subHeader
            }, "How can we improve?"), React.createElement("textarea", {
                "data-gramm": "true",
                className: style.feedbackField,
                placeholder: "Tell us what you think!",
                value: this.state.feedback,
                onChange: this.handleChange
            }), React.createElement(react_1.GenericButton, {
                clickHandler: this.submitFeedback
            }, React.createElement("div", {
                className: dom_1.cs(style.button, !this.state.activeScore && style.disabled)
            }, "Submit"))), feedbackSentView = React.createElement("div", null, React.createElement("div", {
                className: style.feedbackSentViewHeader
            }, "Thank you! ", React.createElement("br", null), "Your feedback helps us improve."), React.createElement(react_1.GenericButton, {
                clickHandler: this.close
            }, React.createElement("div", {
                className: dom_1.cs(style.button)
            }, "Done")));
            return React.createElement("div", {
                ref: "gButtonPopup",
                className: dom_1.cs(style.gButtonPopup, style.feedbackPopup),
                style: styles
            }, React.createElement(react_1.GenericButton, {
                clickHandler: this.close
            }, React.createElement("button", {
                className: style.close
            })), this.state.view === View.form ? formView : feedbackSentView);
        }, GdocsFeedbackUI;
    }(React.Component);
    exports.GdocsFeedbackUI = GdocsFeedbackUI;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), function(Offsets) {
        Offsets.zero = {
            height: 0,
            left: 0,
            top: 0,
            topFlip: 0
        };
    }(exports.Offsets || (exports.Offsets = {})), exports.offsetFromGbuttonTopLeft = {
        onboarding: {
            height: 170,
            left: 329,
            top: 162,
            topFlip: 35
        },
        "loginReminder-free": {
            height: 292,
            left: 290,
            top: 265,
            topFlip: -25
        },
        "loginReminder-premium": {
            height: 292,
            left: 290,
            top: 310,
            topFlip: -25
        },
        disable: {
            height: 232,
            left: 248,
            top: 209,
            topFlip: -1
        },
        "summarize-default": {
            height: 232,
            left: 227,
            top: 188,
            topFlip: -1
        },
        "summarize-expanded": {
            height: 232,
            left: 373,
            top: 482,
            topFlip: -1
        },
        gdocsPopupUnavailable: {
            height: 232,
            left: 226,
            top: 274,
            topFlip: -1
        },
        gdocsFeedbackUI: {
            height: 485,
            left: 255,
            top: 450,
            topFlip: -1
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), stdlib_1 = __webpack_require__(4), ViewLoader = function() {
        function ViewLoader(_target, _view, _mode, _elementTagName) {
            void 0 === _mode && (_mode = "insertAfter"), void 0 === _elementTagName && (_elementTagName = ViewLoader.defaultCustomTagName), 
            this._target = _target, this._view = _view, this._mode = _mode, this._elementTagName = _elementTagName, 
            this._targetDoc = this._target.ownerDocument, this._root = null, this._init();
        }
        return ViewLoader.prototype._init = function() {
            this._root = this._targetDoc.createElement(this._elementTagName), "appendChild" === this._mode ? this._target.appendChild(this._root) : "insertAfter" === this._mode ? this._target.insertAdjacentElement("afterend", this._root) : stdlib_1.assertNever(this._mode), 
            ReactDOM.render(React.createElement(this._view, {}), this._root);
        }, ViewLoader.prototype.dispose = function() {
            this._root && (ReactDOM.unmountComponentAtNode(this._root), this._root.parentNode ? this._root.parentNode.removeChild(this._root) : this._root.remove(), 
            this._root = null);
        }, ViewLoader.defaultCustomTagName = "grammarly-extension", ViewLoader;
    }();
    exports.ViewLoader = ViewLoader;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var socket_1 = __webpack_require__(354), util_1 = __webpack_require__(2), emitter = __webpack_require__(18), socket_2 = __webpack_require__(1060), log = __webpack_require__(1).Logger.create("universal.bg.state.tabs"), ContentScriptSocketManager = function() {
        return function(_telemetry, _message) {
            var _this = this;
            this._telemetry = _telemetry, this._message = _message, this._sockets = {}, this.createSocket = function(config) {
                var socketId = config.socketId || util_1.guid(), msg = {
                    socketId: socketId,
                    useStandBy: config.useStandBy,
                    url: config.url
                }, onDisconnect = function() {};
                _this._sockets[socketId] || (_this._sockets[socketId] = new socket_2.ContentScriptSocket(socketId, function(method, arg) {
                    _this._message.emitBackground(socket_1.MessageTypes.client, Object.assign({}, msg, {
                        method: method,
                        arg: arg
                    }));
                }));
                var socket = _this._sockets[socketId];
                return socket.one("disconnect", onDisconnect), socket.one("cleanup-socket-on-editor-remove", function() {
                    delete _this._sockets[socketId];
                }), socket.on("error", _this._onError), socket;
            }, this._onError = function(e) {
                if ("disconnected" !== e) {
                    var data = {};
                    "string" == typeof e ? data.msg = e : e.error && (data.readyState = e.error.currentTarget && e.error.currentTarget.readyState, 
                    data.returnValue = e.error.returnValue), _this._telemetry.socketCsError(), log.error("capi error", e), 
                    window.emit || emitter(window), window.emit("bgerror", e || "when send message to the socket");
                }
            }, this._onMessage = function(data, cb) {
                var socket = _this._sockets[data.socketId];
                if (socket) {
                    var msg = data.msg || {};
                    msg.action && "error" === msg.action.toLowerCase() && _this._telemetry.soketCsErrorMsg(msg), 
                    cb("ok"), socket.emit(data.event, data.msg);
                }
            }, _message.on(socket_1.MessageTypes.server, this._onMessage);
        };
    }();
    exports.ContentScriptSocketManager = ContentScriptSocketManager;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var isNumber = __webpack_require__(504), dom_1 = __webpack_require__(3), ValidatorUtil = function() {
        function ValidatorUtil(_page) {
            this._page = _page, this.MIN_INIT_REQUIRED_FIELD_HEIGHT = 35, this.MIN_INIT_REQUIRED_FIELD_WIDTH = 300, 
            _page && (this.MIN_INIT_REQUIRED_FIELD_HEIGHT = isNumber(_page.minFieldHeight) ? _page.minFieldHeight : this.MIN_INIT_REQUIRED_FIELD_HEIGHT, 
            this.MIN_INIT_REQUIRED_FIELD_WIDTH = isNumber(_page.minFieldWidth) ? _page.minFieldWidth : this.MIN_INIT_REQUIRED_FIELD_WIDTH);
        }
        return ValidatorUtil.prototype.isFieldIsSmall = function(el) {
            var clientHeight = el.clientHeight, clientWidth = el.clientWidth;
            return clientHeight < this.MIN_INIT_REQUIRED_FIELD_HEIGHT || clientWidth < this.MIN_INIT_REQUIRED_FIELD_WIDTH;
        }, ValidatorUtil.prototype.isFieldEnabled = function(el) {
            if (!this._page) return !0;
            if (!1 === this._page.enabled) return !1;
            if (!this._page.fields && !0 === this._page.enabled) return !0;
            var fields = this._page.fields;
            return !(fields && fields.some(function(_a) {
                var name = _a.name, id = _a.id, className = _a.className, attr = _a.attr;
                return !!(name && name === el.name || id && id === el.id || className && dom_1.hasClass(el, className) || attr && Array.isArray(attr) && function(_a) {
                    var _b = __read(_a, 2), attr = _b[0], value = _b[1];
                    return el.getAttribute(attr) === value;
                }(attr));
            }));
        }, ValidatorUtil;
    }();
    exports.ValidatorUtil = ValidatorUtil;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var base_1 = __webpack_require__(615);
    exports.CheckingAlert = base_1.CheckingAlert, exports.CheckingServiceMessage = base_1.CheckingServiceMessage, 
    exports.TextRange = base_1.TextRange;
    var oldCapi_1 = __webpack_require__(1078);
    exports.LegacyCheckingService = oldCapi_1.LegacyCheckingService;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var stdlib_1 = __webpack_require__(4);
    __webpack_require__(339);
    !function(TextRange) {
        TextRange.transform = function(r, offset) {
            return 0 === offset ? r : {
                start: r.start + offset,
                end: r.end + offset
            };
        }, TextRange.onRange = function(r, x) {
            return x >= r.start && x < r.end;
        }, TextRange.contains = function(a, b) {
            return b.start >= a.start && b.start < a.end && b.end >= a.start && b.end <= a.end;
        }, TextRange.intersects = function(a, b) {
            return a.start >= b.start && a.start < b.end || b.start >= a.start && b.start < a.end;
        }, TextRange.equals = function(a, b) {
            return a.start === b.start && a.end === b.end;
        }, TextRange.toString = function(r) {
            return "[" + r.start + ", " + r.end + "]";
        }, TextRange.ofTextChange = function(c) {
            return {
                start: c.pos,
                end: c.pos + ("ins" === c._tag ? c.text.length : "del" === c._tag ? c.length : stdlib_1.assertNever(c))
            };
        };
    }(exports.TextRange || (exports.TextRange = {})), function(CheckingAlert) {
        CheckingAlert.isConsistentWithText = function(a, text) {
            return text.slice(a.transformRange.start, a.transformRange.end) === a.transformText && text.slice(a.highlightRange.start, a.highlightRange.end) === a.highlightText;
        };
    }(exports.CheckingAlert || (exports.CheckingAlert = {})), function(CheckingServiceMessage) {
        CheckingServiceMessage.add = function(alert) {
            return {
                _tag: "add",
                alert: alert
            };
        }, CheckingServiceMessage.remove = function(removedId) {
            return {
                _tag: "remove",
                removedId: removedId
            };
        };
    }(exports.CheckingServiceMessage || (exports.CheckingServiceMessage = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var stdlib_1 = __webpack_require__(4);
    !function(TextChange) {
        TextChange.ins = function(pos, text) {
            return {
                _tag: "ins",
                pos: pos,
                text: text
            };
        }, TextChange.del = function(pos, length) {
            return {
                _tag: "del",
                pos: pos,
                length: length
            };
        }, TextChange.applyChanges = function(text, changes) {
            return changes.reduce(function(t, c) {
                return "ins" === c._tag ? t.slice(0, c.pos) + c.text + t.slice(c.pos) : "del" === c._tag ? t.slice(0, c.pos) + t.slice(c.pos + c.length) : stdlib_1.assertNever(c);
            }, text);
        };
    }(exports.TextChange || (exports.TextChange = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Observable_1 = __webpack_require__(0), mutationObservable_1 = __webpack_require__(336), base_1 = __webpack_require__(446), clientRectObservable_1 = __webpack_require__(1079);
    function getHighlightRectForTextField(target, targetOwnerWindow) {
        var clientRect = target.getBoundingClientRect(), windowScrollX = targetOwnerWindow.scrollX, windowScrollY = targetOwnerWindow.scrollY, clientTop = target.clientTop, clientLeft = target.clientLeft;
        return {
            pageTop: clientRect.top + clientTop + windowScrollY,
            pageLeft: clientRect.left + clientLeft + windowScrollX,
            clientTop: clientRect.top + clientTop,
            clientLeft: clientRect.left + clientLeft,
            height: target.clientHeight,
            width: target.clientWidth,
            padding: base_1.getPadding(target)
        };
    }
    exports.getHighlightRectForTextField = getHighlightRectForTextField, exports.create = function(target, getHighlightRect, highlightHeightOffset) {
        void 0 === getHighlightRect && (getHighlightRect = getHighlightRectForTextField), 
        void 0 === highlightHeightOffset && (highlightHeightOffset = 0);
        var targetOwnerWindow = target.ownerDocument.defaultView, clientRectObservable = clientRectObservable_1.ClientRectObservable.create(target), highlightsLayout = {
            rect: base_1.ApproximateValue.create(function() {
                return getHighlightRect(target, targetOwnerWindow);
            }, Observable_1.Observable.merge(clientRectObservable || Observable_1.Observable.empty(), Observable_1.Observable.interval(clientRectObservable ? base_1.slowIdleRecalcIntervalMs : base_1.idleRecalcIntervalMs), Observable_1.Observable.fromEvent(targetOwnerWindow, "resize"), Observable_1.Observable.fromEvent(targetOwnerWindow, "keydown"), Observable_1.Observable.fromEvent(targetOwnerWindow, "mousedown"), mutationObservable_1.MutationObservable.create(target, {
                attributes: !1,
                childList: !0,
                subtree: !0,
                characterData: !0
            }), Observable_1.Observable.fromEvent(target, "keydown"), Observable_1.Observable.fromEvent(target, "keyup")).bufferTime(base_1.recalcThrottleIntervalMs).filter(function(x) {
                return x.length > 0;
            }), base_1.equals),
            scroll: base_1.ApproximateValue.create(function() {
                return {
                    top: target.scrollTop,
                    left: target.scrollLeft,
                    width: target.scrollWidth,
                    height: target.scrollHeight
                };
            }, base_1.getPossibleScrollChange(target), base_1.equals),
            zIndex: base_1.genericHighlightZIndex(target),
            getHighlightTranslation: function() {
                return {
                    x: 0,
                    y: 0
                };
            },
            highlightHeightOffset: highlightHeightOffset
        };
        return {
            highlights: highlightsLayout,
            gbutton: base_1.genericGbuttonLayout(highlightsLayout),
            mousePosition: Observable_1.Observable.fromEvent(target.ownerDocument.defaultView, "mousemove", {}).sampleTime(base_1.mouseMoveSampleTimeMs).map(function(x) {
                return {
                    left: x.clientX,
                    top: x.clientY
                };
            }).share()
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), function(FluidPopupState) {
        FluidPopupState.initial = {
            type: "none"
        };
    }(exports.FluidPopupState || (exports.FluidPopupState = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    var RangeUtils;
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), function(RangeUtils) {
        function getRangeParams(textMap, startOffset, endOffset) {
            var startNode = textMap.getFragmentAtOrBeforeOffset(startOffset), endNode = textMap.getFragmentAtOrBeforeOffset(endOffset);
            return startNode && endNode && startNode.node.ownerDocument === endNode.node.ownerDocument ? {
                start: {
                    node: startNode.node,
                    offset: startOffset - startNode.startOffset + startNode.startOffsetInNode
                },
                end: {
                    node: endNode.node,
                    offset: endOffset - endNode.startOffset + endNode.startOffsetInNode
                }
            } : null;
        }
        RangeUtils.getRangeParams = getRangeParams, RangeUtils.createRange = function(textMap, startOffset, endOffset, allowCollapsed) {
            void 0 === allowCollapsed && (allowCollapsed = !1);
            var p = getRangeParams(textMap, startOffset, endOffset);
            if (p) {
                var alertRange = p.start.node.ownerDocument.createRange();
                return alertRange.setStart(p.start.node, p.start.offset), alertRange.setEnd(p.end.node, p.end.offset), 
                allowCollapsed || !alertRange.collapsed ? alertRange : null;
            }
            return null;
        };
    }(RangeUtils = exports.RangeUtils || (exports.RangeUtils = {})), function(RangeHighlightGeometry) {
        function collateRects(rs, adjEps) {
            if (void 0 === adjEps && (adjEps = 1.5), rs.length <= 1) return rs;
            for (var res = [], prevR = null, collatedR = null, i = 0; i < rs.length; i++) {
                var nextR = rs[i];
                prevR && collatedR ? collatedR.left + collatedR.width - nextR.left >= -adjEps && collatedR.left + collatedR.width - nextR.left - nextR.width <= adjEps && Math.max(prevR.top + prevR.height, nextR.top + nextR.height) - Math.min(prevR.top, nextR.top) <= prevR.height + nextR.height ? collatedR = {
                    top: Math.min(collatedR.top, nextR.top),
                    left: Math.min(collatedR.left, nextR.left),
                    height: Math.max(collatedR.height, collatedR.height + collatedR.top - nextR.top, nextR.height, nextR.height + nextR.top - collatedR.top),
                    width: Math.max(collatedR.left + collatedR.width, nextR.left + nextR.width) - collatedR.left
                } : (res.push(collatedR), collatedR = nextR) : collatedR = nextR, prevR = nextR;
            }
            return collatedR && res.push(collatedR), res;
        }
        RangeHighlightGeometry.collateRects = collateRects, RangeHighlightGeometry.provider = {
            create: function(textRange, textMap) {
                return RangeUtils.createRange(textMap, textRange.start, textRange.end);
            },
            dispose: function(range) {
                range.detach();
            },
            getClientRects: function(r) {
                return r.collapsed ? null : collateRects(r.getClientRects());
            },
            getIsConsistent: function(range, textRange, textMap) {
                var p = RangeUtils.getRangeParams(textMap, textRange.start, textRange.end);
                return null !== p && range.startContainer === p.start.node && range.startOffset === p.start.offset && range.endContainer === p.end.node && range.endOffset === p.end.offset;
            },
            getIsInvalid: function(r) {
                return r.collapsed;
            }
        };
    }(exports.RangeHighlightGeometry || (exports.RangeHighlightGeometry = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __values = this && this.__values || function(o) {
        var m = "function" == typeof Symbol && o[Symbol.iterator], i = 0;
        return m ? m.call(o) : {
            next: function() {
                return o && i >= o.length && (o = void 0), {
                    value: o && o[i++],
                    done: !o
                };
            }
        };
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var stdlib_1 = __webpack_require__(4), ArtisanalTrim = (__webpack_require__(621), 
    function() {
        function ArtisanalTrim(_whitespaceChars) {
            this._whitespaceChars = _whitespaceChars, this._trimRe = new RegExp("^[" + this._whitespaceChars + "]+|[" + this._whitespaceChars + "]+$", "g"), 
            this._trimLeftRe = new RegExp("^[" + this._whitespaceChars + "]+", "g"), this._trimRightRe = new RegExp("[" + this._whitespaceChars + "]+$", "g");
        }
        return ArtisanalTrim.prototype.trimLeft = function(str) {
            var r = str.replace(this._trimLeftRe, "");
            return {
                result: r,
                removedLeft: str.length - r.length
            };
        }, ArtisanalTrim.prototype.trimRight = function(x) {
            return x.replace(this._trimRightRe, "");
        }, ArtisanalTrim.prototype.trim = function(str) {
            var removedLeft = null;
            return {
                result: str.replace(this._trimRe, function(match, offset) {
                    return 0 === offset && (removedLeft = match.length), "";
                }),
                removedLeft: null !== removedLeft ? removedLeft : 0
            };
        }, ArtisanalTrim;
    }());
    exports.commonWhitespaceChars = [ 10, 8, 32, 8194, 8195, 8196, 8197, 8198, 8199, 8200, 8201, 8202, 8203, 8287, 12288, 3 ].map(function(s) {
        return String.fromCharCode(s);
    }).join(""), exports.commonWhitespaceCharsWithNbsp = exports.commonWhitespaceChars + String.fromCharCode(160), 
    exports.buildFragmentGroupMap = function(blocks, fragmentSeparator, blockSeparator, newLineChar, trim) {
        void 0 === trim && (trim = new ArtisanalTrim(exports.commonWhitespaceChars));
        var e_1, _a, groups = [], curPos = 0, _loop_1 = function(block) {
            for (var currentGroup = [], appendToCurrentGroup = function(f) {
                currentGroup.push(f), curPos += f.text.length + fragmentSeparator.length;
            }, k = 0; k < block.length; k++) {
                var fragment = block[k];
                if ("text" === fragment._tag) {
                    var firstPart = 0 === k, lastPart = k === block.length - 1, trimmed = fragment.preserveWhiteSpace ? {
                        result: fragment.text,
                        removedLeft: 0
                    } : firstPart && lastPart ? trim.trim(fragment.text) : firstPart ? trim.trimLeft(fragment.text) : lastPart ? {
                        result: trim.trimRight(fragment.text),
                        removedLeft: 0
                    } : {
                        result: fragment.text,
                        removedLeft: 0
                    };
                    trimmed.result.length > 0 && appendToCurrentGroup({
                        text: trimmed.result,
                        node: fragment.node,
                        startOffsetInNode: trimmed.removedLeft,
                        startOffset: curPos,
                        endOffset: curPos + trimmed.result.length
                    });
                } else "br" === fragment._tag ? appendToCurrentGroup({
                    text: newLineChar,
                    node: fragment.node,
                    startOffsetInNode: 0,
                    startOffset: curPos,
                    endOffset: curPos + newLineChar.length
                }) : stdlib_1.assertNever(fragment);
            }
            currentGroup.length > 0 && (groups.push(currentGroup), curPos += blockSeparator.length);
        };
        try {
            for (var blocks_1 = __values(blocks), blocks_1_1 = blocks_1.next(); !blocks_1_1.done; blocks_1_1 = blocks_1.next()) _loop_1(blocks_1_1.value);
        } catch (e_1_1) {
            e_1 = {
                error: e_1_1
            };
        } finally {
            try {
                blocks_1_1 && !blocks_1_1.done && (_a = blocks_1.return) && _a.call(blocks_1);
            } finally {
                if (e_1) throw e_1.error;
            }
        }
        return groups;
    }, exports.buildCharMap = function(groups, fragmentSeparator, blockSeparator) {
        for (var charMap = [], pos = 0, fill = function(len, fragment) {
            for (var k = 0; k < len; k++) charMap[pos + k] = fragment;
            pos += len;
        }, gi = 0; gi < groups.length; gi++) {
            for (var fragments = groups[gi], fi = 0; fi < fragments.length; fi++) fill(fragments[fi].text.length, fragments[fi]), 
            fi < fragments.length - 1 && fill(fragmentSeparator.length, null);
            gi < groups.length - 1 && fill(blockSeparator.length, null);
        }
        return charMap;
    }, exports.buildPlainText = function(groups, fragmentSeparator, blockSeparator) {
        return groups.map(function(fs) {
            return fs.map(function(f) {
                return f.text;
            }).join(fragmentSeparator);
        }).join(blockSeparator);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Fragment, DOMTokenList, logger_1 = __webpack_require__(1);
    !function(Fragment) {
        Fragment.text = function(node, preserveWhiteSpace) {
            return {
                _tag: "text",
                node: node,
                text: null !== node.nodeValue ? node.nodeValue : "",
                preserveWhiteSpace: preserveWhiteSpace
            };
        }, Fragment.br = function(node) {
            return {
                _tag: "br",
                node: node
            };
        };
    }(Fragment = exports.Fragment || (exports.Fragment = {})), function(DOMTokenList) {
        DOMTokenList.some = function(self, p) {
            for (var k = 0; k < self.length; k++) if (p(self[k])) return !0;
            return !1;
        };
    }(DOMTokenList || (DOMTokenList = {}));
    var BlockMap = function() {
        function BlockMap(_root, _ignoredClasses, _ignoredTags, _blockTags, _log) {
            void 0 === _ignoredClasses && (_ignoredClasses = BlockMap.defaultIgnoredClasses), 
            void 0 === _ignoredTags && (_ignoredTags = BlockMap.defaultIgnoredTags), void 0 === _blockTags && (_blockTags = BlockMap.defaultBlockTags), 
            void 0 === _log && (_log = logger_1.Logger.create(BlockMap.name)), this._root = _root, 
            this._ignoredClasses = _ignoredClasses, this._ignoredTags = _ignoredTags, this._blockTags = _blockTags, 
            this._log = _log, this.blocks = this._buildBlockMap(this._root);
        }
        return BlockMap.prototype._shouldMapNode = function(node) {
            var _this = this;
            return !this._ignoredTags.has(node.tagName) && !DOMTokenList.some(node.classList, function(c) {
                return _this._ignoredClasses.has(c);
            });
        }, BlockMap.prototype._getIsBlockNode = function(node) {
            return this._blockTags.has(node.tagName) || node.style && "block" === node.style.display;
        }, BlockMap.prototype._buildBlockMap = function(root) {
            var _this = this, blocks = [], currentBlock = [], flushCurrentBlock = function(lastBlock) {
                void 0 === lastBlock && (lastBlock = !1), currentBlock.length > 0 && (lastBlock || currentBlock.length > 1 || "br" !== currentBlock[0]._tag) && (blocks.push(currentBlock), 
                currentBlock = []);
            }, walkContentTree = function(root, alreadyPreservingWhiteSpace) {
                if (_this._shouldMapNode(root)) for (var preserveWhiteSpace = alreadyPreservingWhiteSpace || "pre-wrap" === getComputedStyle(root).whiteSpace, i = 0; i < root.childNodes.length; i++) {
                    var child = root.childNodes[i];
                    child.nodeType === Node.TEXT_NODE ? currentBlock.push(Fragment.text(child, preserveWhiteSpace)) : child.nodeType === Node.ELEMENT_NODE ? "BR" === child.tagName ? currentBlock.push(Fragment.br(child)) : _this._getIsBlockNode(child) ? (flushCurrentBlock(), 
                    walkContentTree(child, preserveWhiteSpace), flushCurrentBlock()) : walkContentTree(child, preserveWhiteSpace) : child.nodeType === Node.COMMENT_NODE || _this._log.warn("don't know how to handle nodeType=" + child.nodeType, child);
                }
            };
            return walkContentTree(root, !1), flushCurrentBlock(!0), blocks;
        }, BlockMap.defaultBlockTags = new Set([ "TABLE", "DIV", "P", "BLOCKQUOTE", "BODY", "TR", "TH", "TD", "OL", "UL", "LI", "H1", "H2", "H3", "H4", "H5", "H6" ]), 
        BlockMap.defaultIgnoredTags = new Set([ "PRE", "CODE", "BLOCKQUOTE" ]), BlockMap.defaultIgnoredClasses = new Set([]), 
        BlockMap;
    }();
    exports.BlockMap = BlockMap;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), function(FluidGButtonState) {
        FluidGButtonState.initial = {
            offline: !1,
            checking: !1,
            userType: "anonymous",
            wasMinimized: !1,
            errors: {
                critical: 0,
                plus: 0
            }
        };
    }(exports.FluidGButtonState || (exports.FluidGButtonState = {}));
}, function(module, exports) {
    module.exports = {
        hoverMenu: "yOJFj",
        btn: "xAk0M",
        line: "_21g8i",
        panel: "_27AQl",
        premium: "_1HRqP",
        btn_premium: "_15uUd",
        anonymous: "_1Bvg_",
        btn_grammarly: "_9kE_B",
        panelText: "xklOx",
        critical: "_2pT_a",
        btn_nopopup: "_1seWy",
        checking: "_1JvG2",
        gr__spin: "_1fRvu",
        counter: "_3nKjd",
        counter100: "_13YuZ",
        btn_disable: "_2OEJd",
        buttonArea: "MYn9Y",
        feedback: "_3mo6E",
        tooltip: "_1vKsZ",
        tooltip_grammarly: "_3mseH",
        tooltip_premium: "_1CTns",
        tooltip_disable: "_3SxYg",
        plus: "_1HRKM",
        tooltip_visible: "_1PdqV",
        gr__fade_in: "_31PJI",
        tooltip_hidden: "_2b_4i"
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var model_1 = __webpack_require__(1104);
    exports.InlineCardModelImpl = model_1.InlineCardModelImpl;
    var view_1 = __webpack_require__(1105);
    exports.LegacyInlineCardView = view_1.LegacyInlineCardView;
    var controller_1 = __webpack_require__(1106);
    exports.InlineCardControllerImpl = controller_1.InlineCardControllerImpl;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), function(PageIntegrationContext) {
        PageIntegrationContext.create = function(win) {
            return {
                url: win.location.href,
                domain: win.location.hostname.replace(/^(www\.)/, ""),
                doc: win.document
            };
        };
    }(exports.PageIntegrationContext || (exports.PageIntegrationContext = {}));
}, , , , , , , , , , , , , , , , function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), __webpack_require__(209);
    var Config = __webpack_require__(11);
    Config.initGlobal("chrome", "cs"), __webpack_require__(1).LogConfig.configure({
        edge: !1,
        prodCs: "prod" === Config.getGlobal().bundleInfo.env
    });
    var chrome_1 = __webpack_require__(210), extension_api_1 = __webpack_require__(65);
    __webpack_require__(108).runCompatibilityFixes(), extension_api_1.initGlobalExtensionApi(chrome_1.createApi()), 
    __webpack_require__(642);
    __webpack_require__(1112);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    __webpack_require__(372);
    var Config = __webpack_require__(11), location_1 = __webpack_require__(15);
    (__webpack_require__(643), "qa" === Config.getGlobal().bundleInfo.env) && (0, __webpack_require__(484).setSeleniumCompatibility)();
    var failover_1 = __webpack_require__(485), client_script_1 = __webpack_require__(293);
    new (function() {
        function ContentScriptApp() {
            this.libApp = null;
        }
        return ContentScriptApp.prototype.load = function() {
            var ffWindowCopy, _this = this;
            client_script_1.injectClientScriptIfNeeded(), failover_1.failover.startPageLoadTimer(), 
            "firefox" === Config.getGlobal().bundleInfo.browser && location_1.isFacebookSite() && (ffWindowCopy = __assign({}, window));
            var start = function() {
                if (void 0 !== ffWindowCopy && (window.extensionApi = ffWindowCopy.extensionApi), 
                "about:" === document.location.protocol) return failover_1.failover.success("index_load");
                document.body.dataset.grCSLoaded = !0, failover_1.failover.startAppLoadTimer(), 
                _this.libApp = __webpack_require__(670);
            };
            "loading" === document.readyState ? document.addEventListener("DOMContentLoaded", start, !1) : start();
        }, ContentScriptApp.prototype.unload = function() {
            this.libApp && (failover_1.failover.success("index_load"), failover_1.failover.success("app_load"), 
            this.libApp.stop(), this.libApp = null);
        }, ContentScriptApp;
    }())().load();
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), __webpack_require__(452), __webpack_require__(456), __webpack_require__(457), 
    __webpack_require__(463), __webpack_require__(465), __webpack_require__(466), __webpack_require__(378), 
    __webpack_require__(470), __webpack_require__(471), __webpack_require__(474), __webpack_require__(476), 
    __webpack_require__(477), __webpack_require__(478), __webpack_require__(479), __webpack_require__(481), 
    __webpack_require__(483);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Subscriber_1 = __webpack_require__(6), rxSubscriber_1 = __webpack_require__(342), Observer_1 = __webpack_require__(455);
    exports.toSubscriber = function(nextOrObserver, error, complete) {
        if (nextOrObserver) {
            if (nextOrObserver instanceof Subscriber_1.Subscriber) return nextOrObserver;
            if (nextOrObserver[rxSubscriber_1.rxSubscriber]) return nextOrObserver[rxSubscriber_1.rxSubscriber]();
        }
        return nextOrObserver || error || complete ? new Subscriber_1.Subscriber(nextOrObserver, error, complete) : new Subscriber_1.Subscriber(Observer_1.empty);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var FromEventObservable_1 = __webpack_require__(646);
    exports.fromEvent = FromEventObservable_1.FromEventObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Observable_1 = __webpack_require__(0), tryCatch_1 = __webpack_require__(44), isFunction_1 = __webpack_require__(341), errorObject_1 = __webpack_require__(37), Subscription_1 = __webpack_require__(30), toString = Object.prototype.toString;
    var FromEventObservable = function(_super) {
        function FromEventObservable(sourceObj, eventName, selector, options) {
            _super.call(this), this.sourceObj = sourceObj, this.eventName = eventName, this.selector = selector, 
            this.options = options;
        }
        return __extends(FromEventObservable, _super), FromEventObservable.create = function(target, eventName, options, selector) {
            return isFunction_1.isFunction(options) && (selector = options, options = void 0), 
            new FromEventObservable(target, eventName, selector, options);
        }, FromEventObservable.setupSubscription = function(sourceObj, eventName, handler, subscriber, options) {
            var unsubscribe;
            if (function(sourceObj) {
                return !!sourceObj && "[object NodeList]" === toString.call(sourceObj);
            }(sourceObj) || function(sourceObj) {
                return !!sourceObj && "[object HTMLCollection]" === toString.call(sourceObj);
            }(sourceObj)) for (var i = 0, len = sourceObj.length; i < len; i++) FromEventObservable.setupSubscription(sourceObj[i], eventName, handler, subscriber, options); else if (function(sourceObj) {
                return !!sourceObj && "function" == typeof sourceObj.addEventListener && "function" == typeof sourceObj.removeEventListener;
            }(sourceObj)) {
                var source_1 = sourceObj;
                sourceObj.addEventListener(eventName, handler, options), unsubscribe = function() {
                    return source_1.removeEventListener(eventName, handler);
                };
            } else if (function(sourceObj) {
                return !!sourceObj && "function" == typeof sourceObj.on && "function" == typeof sourceObj.off;
            }(sourceObj)) {
                var source_2 = sourceObj;
                sourceObj.on(eventName, handler), unsubscribe = function() {
                    return source_2.off(eventName, handler);
                };
            } else {
                if (!function(sourceObj) {
                    return !!sourceObj && "function" == typeof sourceObj.addListener && "function" == typeof sourceObj.removeListener;
                }(sourceObj)) throw new TypeError("Invalid event target");
                var source_3 = sourceObj;
                sourceObj.addListener(eventName, handler), unsubscribe = function() {
                    return source_3.removeListener(eventName, handler);
                };
            }
            subscriber.add(new Subscription_1.Subscription(unsubscribe));
        }, FromEventObservable.prototype._subscribe = function(subscriber) {
            var sourceObj = this.sourceObj, eventName = this.eventName, options = this.options, selector = this.selector, handler = selector ? function() {
                for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i - 0] = arguments[_i];
                var result = tryCatch_1.tryCatch(selector).apply(void 0, args);
                result === errorObject_1.errorObject ? subscriber.error(errorObject_1.errorObject.e) : subscriber.next(result);
            } : function(e) {
                return subscriber.next(e);
            };
            FromEventObservable.setupSubscription(sourceObj, eventName, handler, subscriber, options);
        }, FromEventObservable;
    }(Observable_1.Observable);
    exports.FromEventObservable = FromEventObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var FromEventPatternObservable_1 = __webpack_require__(648);
    exports.fromEventPattern = FromEventPatternObservable_1.FromEventPatternObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, isFunction_1 = __webpack_require__(341), Observable_1 = __webpack_require__(0), Subscription_1 = __webpack_require__(30), FromEventPatternObservable = function(_super) {
        function FromEventPatternObservable(addHandler, removeHandler, selector) {
            _super.call(this), this.addHandler = addHandler, this.removeHandler = removeHandler, 
            this.selector = selector;
        }
        return __extends(FromEventPatternObservable, _super), FromEventPatternObservable.create = function(addHandler, removeHandler, selector) {
            return new FromEventPatternObservable(addHandler, removeHandler, selector);
        }, FromEventPatternObservable.prototype._subscribe = function(subscriber) {
            var _this = this, removeHandler = this.removeHandler, handler = this.selector ? function() {
                for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i - 0] = arguments[_i];
                _this._callSelector(subscriber, args);
            } : function(e) {
                subscriber.next(e);
            }, retValue = this._callAddHandler(handler, subscriber);
            isFunction_1.isFunction(removeHandler) && subscriber.add(new Subscription_1.Subscription(function() {
                removeHandler(handler, retValue);
            }));
        }, FromEventPatternObservable.prototype._callSelector = function(subscriber, args) {
            try {
                var result = this.selector.apply(this, args);
                subscriber.next(result);
            } catch (e) {
                subscriber.error(e);
            }
        }, FromEventPatternObservable.prototype._callAddHandler = function(handler, errorSubscriber) {
            try {
                return this.addHandler(handler) || null;
            } catch (e) {
                errorSubscriber.error(e);
            }
        }, FromEventPatternObservable;
    }(Observable_1.Observable);
    exports.FromEventPatternObservable = FromEventPatternObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, root_1 = __webpack_require__(46), Observable_1 = __webpack_require__(0), iterator_1 = __webpack_require__(282), IteratorObservable = function(_super) {
        function IteratorObservable(iterator, scheduler) {
            if (_super.call(this), this.scheduler = scheduler, null == iterator) throw new Error("iterator cannot be null.");
            this.iterator = function(obj) {
                var i = obj[iterator_1.iterator];
                if (!i && "string" == typeof obj) return new StringIterator(obj);
                if (!i && void 0 !== obj.length) return new ArrayIterator(obj);
                if (!i) throw new TypeError("object is not iterable");
                return obj[iterator_1.iterator]();
            }(iterator);
        }
        return __extends(IteratorObservable, _super), IteratorObservable.create = function(iterator, scheduler) {
            return new IteratorObservable(iterator, scheduler);
        }, IteratorObservable.dispatch = function(state) {
            var index = state.index, hasError = state.hasError, iterator = state.iterator, subscriber = state.subscriber;
            if (hasError) subscriber.error(state.error); else {
                var result = iterator.next();
                result.done ? subscriber.complete() : (subscriber.next(result.value), state.index = index + 1, 
                subscriber.closed ? "function" == typeof iterator.return && iterator.return() : this.schedule(state));
            }
        }, IteratorObservable.prototype._subscribe = function(subscriber) {
            var iterator = this.iterator, scheduler = this.scheduler;
            if (scheduler) return scheduler.schedule(IteratorObservable.dispatch, 0, {
                index: 0,
                iterator: iterator,
                subscriber: subscriber
            });
            for (;;) {
                var result = iterator.next();
                if (result.done) {
                    subscriber.complete();
                    break;
                }
                if (subscriber.next(result.value), subscriber.closed) {
                    "function" == typeof iterator.return && iterator.return();
                    break;
                }
            }
        }, IteratorObservable;
    }(Observable_1.Observable);
    exports.IteratorObservable = IteratorObservable;
    var StringIterator = function() {
        function StringIterator(str, idx, len) {
            void 0 === idx && (idx = 0), void 0 === len && (len = str.length), this.str = str, 
            this.idx = idx, this.len = len;
        }
        return StringIterator.prototype[iterator_1.iterator] = function() {
            return this;
        }, StringIterator.prototype.next = function() {
            return this.idx < this.len ? {
                done: !1,
                value: this.str.charAt(this.idx++)
            } : {
                done: !0,
                value: void 0
            };
        }, StringIterator;
    }(), ArrayIterator = function() {
        function ArrayIterator(arr, idx, len) {
            void 0 === idx && (idx = 0), void 0 === len && (len = function(o) {
                var len = +o.length;
                if (isNaN(len)) return 0;
                if (0 === len || (value = len, "number" != typeof value || !root_1.root.isFinite(value))) return len;
                var value;
                if ((len = function(value) {
                    var valueAsNumber = +value;
                    return 0 === valueAsNumber ? valueAsNumber : isNaN(valueAsNumber) ? valueAsNumber : valueAsNumber < 0 ? -1 : 1;
                }(len) * Math.floor(Math.abs(len))) <= 0) return 0;
                if (len > maxSafeInteger) return maxSafeInteger;
                return len;
            }(arr)), this.arr = arr, this.idx = idx, this.len = len;
        }
        return ArrayIterator.prototype[iterator_1.iterator] = function() {
            return this;
        }, ArrayIterator.prototype.next = function() {
            return this.idx < this.len ? {
                done: !1,
                value: this.arr[this.idx++]
            } : {
                done: !0,
                value: void 0
            };
        }, ArrayIterator;
    }();
    var maxSafeInteger = Math.pow(2, 53) - 1;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Observable_1 = __webpack_require__(0), ScalarObservable_1 = __webpack_require__(376), EmptyObservable_1 = __webpack_require__(137), ArrayLikeObservable = function(_super) {
        function ArrayLikeObservable(arrayLike, scheduler) {
            _super.call(this), this.arrayLike = arrayLike, this.scheduler = scheduler, scheduler || 1 !== arrayLike.length || (this._isScalar = !0, 
            this.value = arrayLike[0]);
        }
        return __extends(ArrayLikeObservable, _super), ArrayLikeObservable.create = function(arrayLike, scheduler) {
            var length = arrayLike.length;
            return 0 === length ? new EmptyObservable_1.EmptyObservable() : 1 === length ? new ScalarObservable_1.ScalarObservable(arrayLike[0], scheduler) : new ArrayLikeObservable(arrayLike, scheduler);
        }, ArrayLikeObservable.dispatch = function(state) {
            var arrayLike = state.arrayLike, index = state.index, length = state.length, subscriber = state.subscriber;
            subscriber.closed || (index >= length ? subscriber.complete() : (subscriber.next(arrayLike[index]), 
            state.index = index + 1, this.schedule(state)));
        }, ArrayLikeObservable.prototype._subscribe = function(subscriber) {
            var arrayLike = this.arrayLike, scheduler = this.scheduler, length = arrayLike.length;
            if (scheduler) return scheduler.schedule(ArrayLikeObservable.dispatch, 0, {
                arrayLike: arrayLike,
                index: 0,
                length: length,
                subscriber: subscriber
            });
            for (var i = 0; i < length && !subscriber.closed; i++) subscriber.next(arrayLike[i]);
            subscriber.complete();
        }, ArrayLikeObservable;
    }(Observable_1.Observable);
    exports.ArrayLikeObservable = ArrayLikeObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var DeferObservable_1 = __webpack_require__(652);
    exports.defer = DeferObservable_1.DeferObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Observable_1 = __webpack_require__(0), subscribeToResult_1 = __webpack_require__(13), OuterSubscriber_1 = __webpack_require__(14), DeferObservable = function(_super) {
        function DeferObservable(observableFactory) {
            _super.call(this), this.observableFactory = observableFactory;
        }
        return __extends(DeferObservable, _super), DeferObservable.create = function(observableFactory) {
            return new DeferObservable(observableFactory);
        }, DeferObservable.prototype._subscribe = function(subscriber) {
            return new DeferSubscriber(subscriber, this.observableFactory);
        }, DeferObservable;
    }(Observable_1.Observable);
    exports.DeferObservable = DeferObservable;
    var DeferSubscriber = function(_super) {
        function DeferSubscriber(destination, factory) {
            _super.call(this, destination), this.factory = factory, this.tryDefer();
        }
        return __extends(DeferSubscriber, _super), DeferSubscriber.prototype.tryDefer = function() {
            try {
                this._callFactory();
            } catch (err) {
                this._error(err);
            }
        }, DeferSubscriber.prototype._callFactory = function() {
            var result = this.factory();
            result && this.add(subscribeToResult_1.subscribeToResult(this, result));
        }, DeferSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, InnerSubscriber = function(_super) {
        function InnerSubscriber(parent, outerValue, outerIndex) {
            _super.call(this), this.parent = parent, this.outerValue = outerValue, this.outerIndex = outerIndex, 
            this.index = 0;
        }
        return __extends(InnerSubscriber, _super), InnerSubscriber.prototype._next = function(value) {
            this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);
        }, InnerSubscriber.prototype._error = function(error) {
            this.parent.notifyError(error, this), this.unsubscribe();
        }, InnerSubscriber.prototype._complete = function() {
            this.parent.notifyComplete(this), this.unsubscribe();
        }, InnerSubscriber;
    }(__webpack_require__(6).Subscriber);
    exports.InnerSubscriber = InnerSubscriber;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var publish_1 = __webpack_require__(467);
    exports.publish = function(selector) {
        return publish_1.publish(selector)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var map_1 = __webpack_require__(284);
    exports.map = function(project, thisArg) {
        return map_1.map(project, thisArg)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var filter_1 = __webpack_require__(379);
    exports.filter = function(predicate, thisArg) {
        return filter_1.filter(predicate, thisArg)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var concat_1 = __webpack_require__(472), concat_2 = __webpack_require__(285);
    exports.concatStatic = concat_2.concat, exports.concat = function() {
        for (var observables = [], _i = 0; _i < arguments.length; _i++) observables[_i - 0] = arguments[_i];
        return concat_1.concat.apply(void 0, observables)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var distinct_1 = __webpack_require__(475);
    exports.distinct = function(keySelector, flushes) {
        return distinct_1.distinct(keySelector, flushes)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var root_1 = __webpack_require__(46);
    function minimalSetImpl() {
        return function() {
            function MinimalSet() {
                this._values = [];
            }
            return MinimalSet.prototype.add = function(value) {
                this.has(value) || this._values.push(value);
            }, MinimalSet.prototype.has = function(value) {
                return -1 !== this._values.indexOf(value);
            }, Object.defineProperty(MinimalSet.prototype, "size", {
                get: function() {
                    return this._values.length;
                },
                enumerable: !0,
                configurable: !0
            }), MinimalSet.prototype.clear = function() {
                this._values.length = 0;
            }, MinimalSet;
        }();
    }
    exports.minimalSetImpl = minimalSetImpl, exports.Set = root_1.root.Set || minimalSetImpl();
}, function(module, exports, __webpack_require__) {
    "use strict";
    var multicast_1 = __webpack_require__(177);
    exports.multicast = function(subjectOrSubjectFactory, selector) {
        return multicast_1.multicast(subjectOrSubjectFactory, selector)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var mergeMap_1 = __webpack_require__(286);
    exports.mergeMap = function(project, resultSelector, concurrent) {
        return void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY), mergeMap_1.mergeMap(project, resultSelector, concurrent)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var concatMap_1 = __webpack_require__(381);
    exports.concatMap = function(project, resultSelector) {
        return concatMap_1.concatMap(project, resultSelector)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var startWith_1 = __webpack_require__(480);
    exports.startWith = function() {
        for (var array = [], _i = 0; _i < arguments.length; _i++) array[_i - 0] = arguments[_i];
        return startWith_1.startWith.apply(void 0, array)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var share_1 = __webpack_require__(482);
    exports.share = function() {
        return share_1.share()(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var observeOn_1 = __webpack_require__(344);
    exports.observeOn = function(scheduler, delay) {
        return void 0 === delay && (delay = 0), observeOn_1.observeOn(scheduler, delay)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.facebookRewriteFunction = function() {
        var listeners = {};
        function getEvent(data) {
            var result = {
                target: document.activeElement,
                _inherits_from_prototype: !0,
                defaultPrevented: !1,
                preventDefault: function() {}
            };
            for (var key in data) result[key] = data[key];
            return result;
        }
        function runEvent(type, event) {
            var eventListeners = listeners[type];
            eventListeners && eventListeners.forEach(function(listener) {
                listener(event);
            });
        }
        document.addEventListener("document-paste-activeElement-gr", function(e) {
            runEvent("paste", getEvent({
                clipboardData: {
                    getData: function() {
                        return e.detail || "";
                    },
                    items: [ "text/plain" ]
                }
            }));
        }), document.addEventListener("document-mousedown-mouseup-activeElement-gr", function() {
            runEvent("mousedown", getEvent({
                type: "mousedown"
            })), runEvent("mouseup", getEvent({
                type: "mouseup"
            }));
        }), document.addEventListener("document-backspace-activeElement-gr", function() {
            runEvent("keydown", getEvent({
                keyCode: 8,
                which: 8,
                charCode: 0,
                type: "keydown"
            }));
        });
        var originalListener = document.addEventListener.bind(document);
        document.addEventListener = function(type, cb, buble) {
            var eventListeners = listeners[type] || [];
            eventListeners.push(cb), listeners[type] = eventListeners, originalListener(type, cb, buble);
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.jiraRewriteFunction = function() {
        function emitDomEvent(key, data) {
            void 0 === data && (data = {});
            var e = document.createEvent("CustomEvent");
            e.initCustomEvent(key + "-gr", !0, !0, data), document.dispatchEvent(e);
        }
        function isJiraInlineEditField(el) {
            return function(el, cb, deep) {
                if (void 0 === deep && (deep = 10), el) {
                    for (;el && el !== document.body && !cb(el) && deep > 0; ) el = el.parentElement, 
                    deep--;
                    return el && cb(el);
                }
            }(el, function(el) {
                return el.classList && (el.classList.contains("inline-edit-fields") || el.classList.contains("editable-field"));
            });
        }
        var clientX = 0, clientY = 0;
        function blurListener(e) {
            var el = e.target, relatedTarget = e.relatedTarget || e.explicitOriginalTarget || document.elementFromPoint(clientX, clientY);
            relatedTarget && el && isJiraInlineEditField(el) && function(el) {
                return "function" == typeof el.matches && el.matches("grammarly-card, grammarly-card *,.gr-top-zero, .gr-top-zero *,[class*=-gButtonPopup], [class*=-gButtonPopup] *,[class*=-onboardingDialog], [class*=-onboardingDialog] *");
            }(relatedTarget) && (e.stopImmediatePropagation(), function(el, relatedTarget) {
                var action = relatedTarget && relatedTarget.getAttribute("data-action");
                "editor" !== action && "login" !== action && el.focus();
            }(el, relatedTarget));
        }
        document.addEventListener("blur", blurListener, !0), document.addEventListener("DOMContentLoaded", function() {
            "jira" === document.body.id && document.body.getAttribute("data-version") || document.querySelector("input[type=hidden][title=JiraVersion]") ? (emitDomEvent("jira-inline-support", {
                activated: !0
            }), document.addEventListener("mousemove", function(e) {
                clientX = e.clientX, clientY = e.clientY;
            }, !0)) : (emitDomEvent("jira-inline-support", {
                activated: !1
            }), document.removeEventListener("blur", blurListener, !0));
        });
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.blackboardRewriteFunction = function() {
        function isInlineEditField(el) {
            return function(el, cb, deep) {
                if (void 0 === deep && (deep = 10), el) {
                    for (;el && el !== document.body && !cb(el) && deep > 0; ) el = el.parentElement, 
                    deep--;
                    return el && cb(el);
                }
            }(el, function(el) {
                return el.classList && el.classList.contains("editor-element");
            });
        }
        var clientX = 0, clientY = 0;
        document.addEventListener("blur", function(e) {
            var el = e.target, relatedTarget = e.relatedTarget || e.explicitOriginalTarget || document.elementFromPoint(clientX, clientY);
            relatedTarget && el && isInlineEditField(el) && function(el) {
                return "function" == typeof el.matches && el.matches("grammarly-card, grammarly-card *, .gr-top-zero, .gr-top-zero *");
            }(relatedTarget) && (e.stopImmediatePropagation(), function(el, relatedTarget) {
                var action = relatedTarget && relatedTarget.getAttribute("data-action");
                "editor" !== action && "login" !== action && el.focus();
            }(el, relatedTarget));
        }, !0), document.addEventListener("DOMContentLoaded", function() {
            document.addEventListener("mousemove", function(e) {
                clientX = e.clientX, clientY = e.clientY;
            }, !0);
        });
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.gdocsAdapterFunction = function() {
        var htmlElementNativeProps = [ "version", "title", "lang", "translate", "dir", "dataset", "hidden", "tabIndex", "accessKey", "draggable", "spellcheck", "contentEditable", "isContentEditable", "offsetParent", "offsetTop", "offsetLeft", "offsetWidth", "offsetHeight", "style", "innerText", "outerText", "onabort", "onblur", "oncancel", "oncanplay", "oncanplaythrough", "onchange", "onclick", "onclose", "oncontextmenu", "oncuechange", "ondblclick", "ondrag", "ondragend", "ondragenter", "ondragleave", "ondragover", "ondragstart", "ondrop", "ondurationchange", "onemptied", "onended", "onerror", "onfocus", "oninput", "oninvalid", "onkeydown", "onkeypress", "onkeyup", "onload", "onloadeddata", "onloadedmetadata", "onloadstart", "onmousedown", "onmouseenter", "onmouseleave", "onmousemove", "onmouseout", "onmouseover", "onmouseup", "onmousewheel", "onpause", "onplay", "onplaying", "onprogress", "onratechange", "onreset", "onresize", "onscroll", "onseeked", "onseeking", "onselect", "onstalled", "onsubmit", "onsuspend", "ontimeupdate", "ontoggle", "onvolumechange", "onwaiting", "onwheel", "ongotpointercapture", "onlostpointercapture", "onpointerdown", "onpointermove", "onpointerup", "onpointercancel", "onpointerover", "onpointerout", "onpointerenter", "onpointerleave", "click", "focus", "blur", "onauxclick", "nonce", "namespaceURI", "prefix", "localName", "tagName", "id", "className", "classList", "slot", "attributes", "shadowRoot", "assignedSlot", "innerHTML", "outerHTML", "scrollTop", "scrollLeft", "scrollWidth", "scrollHeight", "clientTop", "clientLeft", "clientWidth", "clientHeight", "onbeforecopy", "onbeforecut", "onbeforepaste", "oncopy", "oncut", "onpaste", "onsearch", "onselectstart", "previousElementSibling", "nextElementSibling", "children", "firstElementChild", "lastElementChild", "childElementCount", "onwebkitfullscreenchange", "onwebkitfullscreenerror", "setPointerCapture", "releasePointerCapture", "hasPointerCapture", "hasAttributes", "getAttributeNames", "getAttribute", "getAttributeNS", "setAttribute", "setAttributeNS", "removeAttribute", "removeAttributeNS", "hasAttribute", "hasAttributeNS", "getAttributeNode", "getAttributeNodeNS", "setAttributeNode", "setAttributeNodeNS", "removeAttributeNode", "closest", "matches", "webkitMatchesSelector", "attachShadow", "getElementsByTagName", "getElementsByTagNameNS", "getElementsByClassName", "insertAdjacentElement", "insertAdjacentText", "insertAdjacentHTML", "requestPointerLock", "getClientRects", "getBoundingClientRect", "scrollIntoView", "scrollIntoViewIfNeeded", "createShadowRoot", "getDestinationInsertionPoints", "animate", "remove", "querySelector", "querySelectorAll", "webkitRequestFullScreen", "webkitRequestFullscreen", "scroll", "scrollTo", "scrollBy", "before", "after", "replaceWith", "prepend", "append", "ELEMENT_NODE", "ATTRIBUTE_NODE", "TEXT_NODE", "CDATA_SECTION_NODE", "ENTITY_REFERENCE_NODE", "ENTITY_NODE", "PROCESSING_INSTRUCTION_NODE", "COMMENT_NODE", "DOCUMENT_NODE", "DOCUMENT_TYPE_NODE", "DOCUMENT_FRAGMENT_NODE", "NOTATION_NODE", "DOCUMENT_POSITION_DISCONNECTED", "DOCUMENT_POSITION_PRECEDING", "DOCUMENT_POSITION_FOLLOWING", "DOCUMENT_POSITION_CONTAINS", "DOCUMENT_POSITION_CONTAINED_BY", "DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC", "nodeType", "nodeName", "baseURI", "isConnected", "ownerDocument", "parentNode", "parentElement", "childNodes", "firstChild", "lastChild", "previousSibling", "nextSibling", "nodeValue", "textContent", "hasChildNodes", "getRootNode", "normalize", "cloneNode", "isEqualNode", "isSameNode", "compareDocumentPosition", "contains", "lookupPrefix", "lookupNamespaceURI", "isDefaultNamespace", "insertBefore", "appendChild", "replaceChild", "removeChild", "addEventListener", "removeEventListener", "dispatchEvent" ];
        function emitDomEvent(key, data) {
            void 0 === data && (data = {});
            var e = document.createEvent("CustomEvent");
            e.initCustomEvent(key, !0, !0, data), document.dispatchEvent(e);
        }
        var filter = function(obj, props) {
            return getOwnPropertyNames(obj).filter(function(x) {
                return -1 === props.indexOf(x);
            });
        };
        function getOwnPropertyNames(object) {
            return Object.getOwnPropertyNames(object);
        }
        function lookup(obj, lookupProps, validateKeyValueFn, maxDepth) {
            void 0 === maxDepth && (maxDepth = 100), lookupProps = lookupProps || getOwnPropertyNames(obj);
            var visited = [], result = [], fn = function(key, value, path) {
                if (!((path = path ? path + "." + key : key).split(".").length > maxDepth)) {
                    var o, isValid = !1;
                    try {
                        isValid = validateKeyValueFn(key, value);
                    } catch (_) {}
                    isValid ? result.push({
                        path: path,
                        value: value
                    }) : null != value && -1 === visited.indexOf(value) && (visited.push(value), Array.isArray(value) ? value.forEach(function(x, i) {
                        try {
                            fn(i.toString(), x, path);
                        } catch (e) {}
                    }) : value instanceof Object && ((o = value) && null !== o && 1 === o.nodeType && "string" == typeof o.nodeName ? filter(value, htmlElementNativeProps) : getOwnPropertyNames(value)).forEach(function(x) {
                        try {
                            fn(x, value[x], path);
                        } catch (e) {}
                    }));
                }
            };
            return lookupProps.forEach(function(prop) {
                try {
                    fn(prop, obj[prop]);
                } catch (e) {}
            }), result;
        }
        var FailureMessages, ApplicationIntegrationState, keysFunction = Object.keys, lookupInAlert = function(o, cb) {
            return keysFunction(o).filter(function(x) {
                return cb(x, o[x]);
            });
        }, getUniqueLookupResults = function(xs, g) {
            var s = new Set();
            return xs.filter(function(x) {
                var k = g(x), r = !s.has(k);
                return s.add(k), r;
            });
        }, objectDefineProperty = function(o, propertyKey, attributes) {
            return Object.defineProperty(o, propertyKey, attributes);
        };
        function integrateAbstract(applyInternal, revertInternal) {
            var applied = ApplicationIntegrationState.notApplied;
            return {
                isApplied: function() {
                    return applied === ApplicationIntegrationState.applied;
                },
                apply: function() {
                    applied !== ApplicationIntegrationState.applied && (applied = applyInternal());
                },
                revert: function() {
                    applied !== ApplicationIntegrationState.notApplied && (applied = revertInternal());
                }
            };
        }
        !function(FailureMessages) {
            FailureMessages.editorElementNotFound = "Kix App element not found in DOM", FailureMessages.kixAppReferenceNotFound = "Kix App reference not found in window object", 
            FailureMessages.textObjectReferenceNotFound = "Property where text state is stored was not found", 
            FailureMessages.foundMoreThanOneTextObjectReferences = "More than one property where text state is stored was found", 
            FailureMessages.underlineFunctionNotFound = "Underline rendering function not found in window object", 
            FailureMessages.alertGetIdReferenceNotFound = "GDocs alert getId method reference not found", 
            FailureMessages.underlineRewriteFailed = "Failed to rewrite underline result function", 
            FailureMessages.communicationIframeNotFound = "Failed to find a communication Iframe", 
            FailureMessages.foundMoreThanOneGetIdReferences = "More than one getId functions found";
        }(FailureMessages || (FailureMessages = {})), function(ApplicationIntegrationState) {
            ApplicationIntegrationState.notApplied = "not_applied", ApplicationIntegrationState.applied = "applied";
        }(ApplicationIntegrationState || (ApplicationIntegrationState = {}));
        var svgUnderline, getId, iframeDocument, head, style, gdocsCustomEvents = {
            injectFailed: "gdocsInjectFailed-gr",
            textUpdated: "gdocsText-gr",
            underlineRendered: "gdocsUnderline-gr",
            gdocsSave: "gdocsSave-gr",
            gdocsSaveReply: "gdocsSaveReply-gr",
            gdocsReply: "gdocsReply-gr",
            gdocsResponse: "gdocs-response-gr",
            gdocsFailedBindRequest: "gdocsFailedBindRequest-gr",
            rollbackIntegration: "gdocs-rollbackIntegration-gr",
            moveCursor: "gdocs-moveCursor-gr",
            sendKey: "gdocs-sendKey-gr",
            gdocsReady: "gdocs-ready-gr"
        }, getTextIntegration = function(sendText) {
            var cachedTextKey, cachedObjWithTextProp, cachedTextParentKey, cachedObjWithTextPropParent, _value, minTextLength = 20;
            return integrateAbstract(function() {
                var subtext = getSubText();
                if (!subtext) return ApplicationIntegrationState.notApplied;
                var getTextPath = function(w, text) {
                    var kxAppReference = lookup(w, null, function(key, _) {
                        return -1 !== key.toString().indexOf("_kixApp");
                    }, 1);
                    if (!kxAppReference.length) throw new Error(FailureMessages.kixAppReferenceNotFound);
                    var trimSpaces = function(text) {
                        return text.replace(/\s|/g, "");
                    }, kxAppPath = kxAppReference[0].path, result = lookup(kxAppReference[0].value, null, function(_, value) {
                        return value && -1 !== trimSpaces(value.toString()).indexOf(trimSpaces(text.substring(0, minTextLength)));
                    }, 5), txtTitle = document.querySelector(".docs-title-input-label-inner"), documentTitle = "";
                    txtTitle && txtTitle.innerText && (documentTitle = txtTitle.innerText);
                    var unique = getUniqueLookupResults(result, function(a) {
                        return a.value;
                    }).filter(function(x) {
                        return x.value !== documentTitle;
                    });
                    if (unique.length) {
                        if (unique.length > 1) throw new Error(FailureMessages.foundMoreThanOneTextObjectReferences);
                        return kxAppPath + "." + unique[0].path;
                    }
                    return null;
                }(window, subtext);
                if (!getTextPath) return ApplicationIntegrationState.notApplied;
                var objPath = getTextPath.split(".");
                if (cachedTextKey = objPath.pop(), cachedObjWithTextProp = objPath.reduce(function(obj, el) {
                    return obj[el] ? obj[el] : {};
                }, window), cachedTextParentKey = objPath.pop(), cachedObjWithTextPropParent = objPath.reduce(function(obj, el) {
                    return obj[el] ? obj[el] : {};
                }, window), !cachedObjWithTextProp[cachedTextKey]) throw new Error(FailureMessages.textObjectReferenceNotFound);
                function defineProperty() {
                    objectDefineProperty(cachedObjWithTextProp, cachedTextKey, {
                        get: function() {
                            return _value;
                        },
                        set: function(newValue) {
                            _value = newValue, sendText(newValue);
                        }
                    });
                }
                return _value = cachedObjWithTextProp[cachedTextKey], defineProperty(), objectDefineProperty(cachedObjWithTextPropParent, cachedTextParentKey, {
                    get: function() {
                        return cachedObjWithTextProp;
                    },
                    set: function(newValue) {
                        _value = (cachedObjWithTextProp = newValue)[cachedTextKey], sendText(_value), defineProperty();
                    }
                }), sendText(_value), ApplicationIntegrationState.applied;
            }, function() {
                return objectDefineProperty(cachedObjWithTextProp, cachedTextKey, {
                    get: function() {
                        return _value;
                    },
                    set: function(newValue) {
                        _value = newValue;
                    }
                }), ApplicationIntegrationState.notApplied;
            });
        }(function(text) {
            return emitDomEvent(gdocsCustomEvents.textUpdated, {
                text: text
            });
        }), underlineRewriteIntegation = (svgUnderline = function() {
            var initialUnderlineFnBody, kixOverlayContainerSelector = "kix-spelling-error-overlay-container", kixOverlaySelector = "kix-spelling-error-overlay-container", grammarlyUnderlines = '<g class="gr_ gr-alert gr_spell gr_inline_cards gr_disable_anim_appear"></g>';
            function isSVGFunction(fn) {
                return fn.length < 600 && fn.length > 200 && fn.includes("svg") && fn.includes("rect") && fn.includes(kixOverlayContainerSelector) && fn.includes(kixOverlaySelector);
            }
            return integrateAbstract(function() {
                var w = window, underlineFnBody = function(w) {
                    for (var x in window) if (w.hasOwnProperty(x)) {
                        var fn = w[x];
                        if ("function" == typeof fn) {
                            var fnStr = fn.toString();
                            if (isSVGFunction(fnStr)) return fnStr;
                        }
                    }
                    return null;
                }(w), svgRegexp = /<svg.*<\/svg>/gi;
                if (underlineFnBody && underlineFnBody.match(svgRegexp)) {
                    initialUnderlineFnBody = underlineFnBody;
                    var replacedFnBody = underlineFnBody.replace(svgRegexp, grammarlyUnderlines);
                    return w.eval(replacedFnBody), ApplicationIntegrationState.applied;
                }
                return ApplicationIntegrationState.notApplied;
            }, function() {
                if (initialUnderlineFnBody) {
                    var w = window;
                    w.eval(initialUnderlineFnBody);
                }
                var underlines = document.querySelectorAll("div." + kixOverlaySelector + " > svg");
                return Array.from(underlines).forEach(function(x) {
                    return x.style && (x.style.height = "");
                }), ApplicationIntegrationState.notApplied;
            });
        }(), svgRewrite = svgUnderline, getId = integrateAbstract(function() {
            var cachedRangeKey, cachedElKey1, cachedElKey2, w = window, idKeysLookupResult = lookup(w, null, function(_, value) {
                return value && value.prototype && value.prototype.getId && -1 !== value.prototype.getId.toString().indexOf("kix-o-");
            }, 1), uniqueGetIdResults = getUniqueLookupResults(idKeysLookupResult, function(a) {
                return a.value.prototype.getId;
            });
            if (!uniqueGetIdResults.length) return ApplicationIntegrationState.notApplied;
            if (uniqueGetIdResults.length > 1) throw new Error(FailureMessages.foundMoreThanOneGetIdReferences);
            var ranges = [];
            return getIdKey = uniqueGetIdResults[0].path, originalGetId = w[getIdKey].prototype.getId, 
            new MutationObserver(function(mutations) {
                var errors = [];
                mutations.forEach(function(m) {
                    Array.from(m.addedNodes).forEach(function(node) {
                        node.className && node.className.includes && node.className.includes("kix-spelling-error-overlay-container") && !node.className.includes("kix-selection-overlay") && errors.push(node);
                    });
                }), errors.length > 0 && errors.forEach(function(el) {
                    el.clientWidth < 5 && el.firstElementChild && el.firstElementChild.classList.add("gr_tiny");
                    var suggestions = el.parentNode && el.parentNode.querySelectorAll(".kix-lineview-decorations *, .suggestion-text-green");
                    if (suggestions && suggestions.length) {
                        var suggestionRects = Array.from(suggestions).map(function(x) {
                            return x.getBoundingClientRect();
                        }), targetRect_1 = el.getBoundingClientRect();
                        suggestionRects.some(function(x) {
                            return a = x, b = targetRect_1, Math.min(a.right, b.right) - Math.max(a.left, b.left) >= 0 && Math.min(a.bottom, b.bottom) - Math.max(a.top, b.top) >= 0;
                            var a, b;
                        }) && (el.style.display = "none");
                    }
                    var rangeIndex = ranges.findIndex(function(x) {
                        return x.getEl() === el;
                    });
                    if (-1 !== rangeIndex) {
                        var range = ranges[rangeIndex].range;
                        ranges.splice(rangeIndex, 1), el.dataset.grStart = range.start.toString(), el.dataset.grEnd = range.end.toString();
                        var id = range.start.toString() + "-" + range.end.toString();
                        el.dataset.grId = id, el.firstChild && svgRewrite.isApplied() && (el.firstChild.style.height = el.clientHeight + "px"), 
                        emitDomEvent(gdocsCustomEvents.underlineRendered, id);
                    }
                });
            }).observe(document.querySelector(".kix-appview-editor"), {
                childList: !0,
                subtree: !0
            }), w[getIdKey].prototype.getId = function() {
                var _this = this, id = originalGetId.call(this), rangeKeys = lookupInAlert(this, function(_, value) {
                    return value && value.start && value.end;
                }), rangeKey = cachedRangeKey || rangeKeys.length ? rangeKeys[0] : void 0;
                if (cachedRangeKey = rangeKey) {
                    var range = this[cachedRangeKey];
                    ranges.push({
                        getEl: function() {
                            var el;
                            return cachedElKey1 && cachedElKey2 && _this[cachedElKey1][cachedElKey2] ? el = _this[cachedElKey1][cachedElKey2][0] : keysFunction(_this).forEach(function(x) {
                                "[object Object]" === String(_this[x]) && keysFunction(_this[x]).forEach(function(y) {
                                    _this[x][y] && Array.isArray(_this[x][y]) && _this[x][y][0] instanceof HTMLDivElement && (cachedElKey1 = x, 
                                    cachedElKey2 = y, el = _this[x][y][0]);
                                });
                            }), el;
                        },
                        range: range
                    });
                }
                return id;
            }, ApplicationIntegrationState.applied;
        }, function() {
            var w = window;
            return getIdKey && (w[getIdKey].prototype.getId = function() {
                return originalGetId.call(this);
            }), ApplicationIntegrationState.notApplied;
        }), integrateAbstract(function() {
            return svgUnderline.apply(), getId.apply(), getId.isApplied() && svgUnderline.isApplied() ? ApplicationIntegrationState.applied : ApplicationIntegrationState.notApplied;
        }, function() {
            return svgUnderline.revert(), getId.revert(), getId.isApplied() || getId.isApplied() ? ApplicationIntegrationState.applied : ApplicationIntegrationState.notApplied;
        })), underlineRewriteRetryCount = 0, getTextRetryCount = 0, injectionFailedFiredToCs = !1, rollbackListenerCb = function() {
            return rollbackIntegration();
        };
        var svgRewrite, originalGetId, getIdKey;
        function rollbackIntegration(message) {
            getTextIntegration.revert(), underlineRewriteIntegation.revert(), injectionFailedFiredToCs || (emitDomEvent(gdocsCustomEvents.injectFailed, {
                message: message
            }), injectionFailedFiredToCs = !0), document.removeEventListener(gdocsCustomEvents.rollbackIntegration, rollbackListenerCb);
        }
        function gDocsMoveCursorOneStep(isRight, isSelect) {
            void 0 === isSelect && (isSelect = !1);
            var keyCode = isRight ? 39 : 37;
            dispatchKeyDownEvent(new KeyboardEvent("keydown", {
                altKey: !1,
                charCode: 0,
                code: isRight ? "ArrowRight" : "ArrowLeft",
                key: isRight ? "ArrowRight" : "ArrowLeft",
                ctrlKey: !1,
                keyCode: keyCode,
                shiftKey: isSelect,
                which: keyCode,
                isComposing: !1,
                repeat: !1,
                metaKey: !1
            }), keyCode);
        }
        function dispatchKeyDownEvent(keyDownEvent, keyCode) {
            var doc = function() {
                if (iframeDocument) return iframeDocument;
                var iframe = document.querySelector(".docs-texteventtarget-iframe");
                return iframe && iframe.nodeType === Node.ELEMENT_NODE && "IFRAME" === iframe.tagName ? iframeDocument = iframe.contentDocument : null;
            }();
            doc ? (Object.defineProperty(keyDownEvent, "keyCode", {
                value: keyCode
            }), Object.defineProperty(keyDownEvent, "which", {
                value: keyCode
            }), doc.dispatchEvent(keyDownEvent)) : rollbackIntegration(FailureMessages.communicationIframeNotFound);
        }
        function gracefulInitialization() {
            if (!getTextIntegration.isApplied() || !underlineRewriteIntegation.isApplied()) {
                try {
                    if (!getTextIntegration.isApplied()) {
                        if (getTextRetryCount > 10) throw new Error(FailureMessages.textObjectReferenceNotFound);
                        getSubText() && (getTextRetryCount++, getTextIntegration.apply());
                    }
                    if (!underlineRewriteIntegation.isApplied()) {
                        if (underlineRewriteRetryCount > 10) throw new Error(FailureMessages.underlineRewriteFailed);
                        underlineRewriteRetryCount++, underlineRewriteIntegation.apply();
                    }
                } catch (e) {
                    return void rollbackIntegration(e.message);
                }
                underlineRewriteIntegation.isApplied() && getTextIntegration.isApplied() || setTimeout(gracefulInitialization, 1500);
            }
        }
        document.addEventListener(gdocsCustomEvents.rollbackIntegration, rollbackListenerCb), 
        document.addEventListener(gdocsCustomEvents.gdocsResponse, function firstGdocsResponseListener() {
            gracefulInitialization(), document.removeEventListener(gdocsCustomEvents.gdocsResponse, firstGdocsResponseListener);
        }), document.addEventListener(gdocsCustomEvents.moveCursor, function(e) {
            for (var _a = e.detail, steps = _a.steps, isSelect = _a.isSelect, isRight = steps > 0, i = 0; i < Math.abs(steps); i++) gDocsMoveCursorOneStep(isRight, isSelect);
        }), document.addEventListener(gdocsCustomEvents.sendKey, function(e) {
            var keyCode, key = e.detail.key;
            keyCode = key, dispatchKeyDownEvent(new KeyboardEvent("keydown", {
                altKey: !1,
                charCode: 0,
                ctrlKey: !1,
                keyCode: keyCode,
                shiftKey: !1,
                which: keyCode,
                isComposing: !1,
                repeat: !1,
                metaKey: !1
            }), keyCode);
        }), head = document.head || document.querySelector("head"), (style = document.createElement("style")).type = "text/css", 
        style.appendChild(document.createTextNode("\n      @media print {\n        grammarly-btn, .gr-top-z-index {\n          display: none !important;\n        }\n      }")), 
        head.appendChild(style);
        var minTextLength = 20;
        function getSubText() {
            return function() {
                var nl, selectors = {
                    editorEl: "#docs-editor",
                    wordNode: ".kix-wordhtmlgenerator-word-node"
                }, editorEl = document.querySelector(selectors.editorEl), wordNodes = editorEl && editorEl.querySelectorAll(selectors.wordNode);
                if (!editorEl || !wordNodes || !wordNodes.length) throw new Error(FailureMessages.editorElementNotFound);
                return (nl = wordNodes, Array.prototype.slice.call(nl)).map(function(x) {
                    return x.innerText;
                });
            }().find(function(x) {
                return x.length > minTextLength;
            }) || !1;
        }
        var currentResponse, triggerUpdate, bindUrlRegExp = /\/document.*?\/bind/, saveUrlRegExp = /\/document.*?\/save/, _XMLHttpRequest = XMLHttpRequest;
        function isBindUrl(url) {
            return Boolean(url.match(bindUrlRegExp));
        }
        var isIgnoredFirstError = !1;
        XMLHttpRequest = new Proxy(_XMLHttpRequest, {
            construct: function() {
                var requestData, requestMethod, instance = new _XMLHttpRequest(), currentUrl = "", isBindNotWorking = !1;
                return new Proxy(instance, {
                    set: function(_target, prop, value, _receiver) {
                        return instance[prop] = "onreadystatechange" === prop ? function() {
                            return requestData && emitDomEvent(gdocsCustomEvents.gdocsSaveReply, {
                                params: decodeURIComponent(requestData),
                                reply: instance.responseText
                            }), isBindUrl(currentUrl) ? instance.readyState !== XMLHttpRequest.DONE && instance.readyState !== XMLHttpRequest.LOADING || 200 === instance.status || instance.responseText ? (isBindNotWorking = !1, 
                            void (instance.responseText && (triggerUpdate = value, emitDomEvent(gdocsCustomEvents.gdocsReply, {
                                text: instance.responseText,
                                method: requestMethod
                            })))) : isIgnoredFirstError ? (isBindNotWorking || (emitDomEvent(gdocsCustomEvents.gdocsFailedBindRequest), 
                            document.body.classList.add("grDocs-hide-errors")), isBindNotWorking = !0, value()) : (isIgnoredFirstError = !0, 
                            value()) : value();
                        } : value, !0;
                    },
                    get: function(_target, property, _receiver) {
                        var result = instance[property];
                        return "responseText" === property && isBindUrl(instance.responseURL) ? currentResponse : "open" === property ? function(method, url, async, user, password) {
                            currentUrl = url, requestMethod = method.toLowerCase(), instance.open(method, url, async, user, password);
                        } : "send" === property ? function(data) {
                            "string" == typeof data && Boolean(currentUrl.match(saveUrlRegExp)) && (requestData = data, 
                            emitDomEvent(gdocsCustomEvents.gdocsSave, {
                                params: data
                            })), instance.send(data);
                        } : result.bind ? result.bind(instance) : result;
                    }
                });
            }
        }), document.addEventListener(gdocsCustomEvents.gdocsReady, function() {
            document.body.classList.contains("grDocs-hide-errors") && document.body.classList.remove("grDocs-hide-errors");
        }), document.addEventListener(gdocsCustomEvents.gdocsResponse, function(e) {
            triggerUpdate && (currentResponse = e.detail, triggerUpdate());
        });
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var entities, defs, inited, stdlib_1 = __webpack_require__(4), console_1 = __webpack_require__(484), state_1 = __webpack_require__(671), util_1 = __webpack_require__(2), sites_1 = __webpack_require__(67), external_1 = __webpack_require__(487), failover_1 = __webpack_require__(485), tracking_1 = __webpack_require__(8), location_1 = __webpack_require__(15), dictionary_1 = __webpack_require__(677), message = __webpack_require__(16), timers_1 = __webpack_require__(102), notifications_1 = __webpack_require__(496), elements_1 = __webpack_require__(415), config_1 = __webpack_require__(10), integration_1 = __webpack_require__(724), types_1 = __webpack_require__(625), bgConnectionTracking_1 = __webpack_require__(1111), dialog_1 = __webpack_require__(424), log = __webpack_require__(1).Logger.create("lib.app"), DISABLE_REMINDER_NOTIFICATION_TIMEOUT = stdlib_1.Ms.week, STATE_GET_TIMEOUT = stdlib_1.Ms.seconds(30), INIT_WITHOUT_BG_CONNECTION_ID = "init_without_bg_connection", domain = location_1.getDomain(), csTracking = new bgConnectionTracking_1.BGConnectionTracking(), bgLiveTimeout = setTimeout(function() {
        var defaultPartialPage = {
            enabled: !0,
            enabledDefs: !1,
            domain: domain
        };
        update({
            connection: {
                networkOffline: !window.navigator.onLine,
                online: !1,
                bgNotConnected: !0,
                cookiesDisabled: !1 === navigator.cookieEnabled
            },
            user: {
                anonymous: !0,
                premium: !1,
                settings: {}
            },
            page: defaultPartialPage
        });
    }, STATE_GET_TIMEOUT), appElements = elements_1.AppElements.empty();
    var actions = state_1.createAndObserve(update).actions;
    function update(state) {
        if (state.page.domain === domain) {
            var cookiesDisabled = !1 === navigator.cookieEnabled;
            state.connection.cookiesDisabled !== cookiesDisabled && actions.updateConnection({
                cookiesDisabled: cookiesDisabled
            });
            var time = timers_1.timers.stop(INIT_WITHOUT_BG_CONNECTION_ID);
            time && !state.connection.bgNotConnected && !1 === util_1.isSafari() && tracking_1.felog.restoredBgConnection(time), 
            bgLiveTimeout && (clearTimeout(bgLiveTimeout), bgLiveTimeout = null), inited || function(state) {
                var page = state.page, connection = state.connection;
                domain = page.domain, domain.includes(config_1.GRAMMARLY_DOMAIN) && external_1.addExternalEventListeners(), 
                function(state) {
                    dialog_1.renderGdocsOptInIfneeded(state, function() {
                        actions.toggleSite(!0, state.page.domain), actions.seenGdocsOptIn();
                    }, function() {
                        return actions.seenGdocsOptIn();
                    }, function() {
                        actions.toggleSite(!1, state.page.domain), actions.gdocsDisabledInitially();
                    });
                }(state);
                var domain;
                var styles = sites_1.pageStyles(document);
                styles.customizeElements(), styles.addDomainClass(), failover_1.failover.success("index_load"), 
                message.one("disable-on-tab", function() {
                    stop(), defs && defs.clear(), defs = null;
                }), connection.bgNotConnected && (timers_1.timers.start(INIT_WITHOUT_BG_CONNECTION_ID), 
                !1 === util_1.isSafari() && tracking_1.felog.initWithoutBgConnection());
                log.trace("App initialized on " + page.domain);
            }(state), state.page.enabled ? (!1 === util_1.isSafari() && csTracking.trackBgConnectionError(state.connection.bgNotConnected), 
            function(state) {
                var user = state.user;
                enabledDefs = state.page.enabledDefs, __user = user, void 0 === __user && (__user = {}), 
                enabledDefs && !defs ? defs = dictionary_1.dictionary(document) : (defs && defs.clear(), 
                defs = null), entities ? (entities.updateState(state), appElements.initialized && appElements.updateState(state)) : entities = function(state) {
                    var integrationRules = integration_1.getPageIntegrationRules(state, actions, appElements);
                    return new integration_1.PageIntegrationController(types_1.PageIntegrationContext.create(window), integrationRules).legacyAdapter;
                }(state);
                var enabledDefs, __user;
            }(state)) : stop(), inited || failover_1.failover.success("app_load"), inited || !1 !== state.page.enabled || function(state) {
                if (!0 === state.page.disableReminderNotification) return;
                if (null != state.page.disabledDate) {
                    var diff = Date.now() - state.page.disabledDate;
                    diff > DISABLE_REMINDER_NOTIFICATION_TIMEOUT && (new notifications_1.Notifications({
                        actions: actions,
                        doc: document
                    }).showReminder(), actions.showDisableReminder(domain));
                }
            }(state), inited = !0, log.trace("App state was updated on " + domain);
        } else tracking_1.felog.differentStateDomain(state.page.domain);
    }
    function stop() {
        entities && (appElements.initialized && appElements.clear(), appElements = elements_1.AppElements.empty(), 
        entities.clear(), entities = null, log.trace("App stopped on " + domain));
    }
    console_1.disableConsoleLog(), (util_1.isEdge() || util_1.isSafari()) && message.emitBackground("content-script-inited", {}), 
    exports.update = update, exports.stop = stop;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var message = __webpack_require__(16), store_mirror_1 = __webpack_require__(382), reducer_1 = __webpack_require__(672), actions_1 = __webpack_require__(486);
    exports.createAndObserve = function(cb) {
        var _a = store_mirror_1.createMirrorStore(cb, {
            bgPageDown: actions_1.bgPageDown
        }, reducer_1.reducer), store = _a.store, actions = _a.actions;
        return message.on("__bgerror", actions.bgPageDown), {
            store: store,
            actions: actions
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var actions_1 = __webpack_require__(486);
    exports.reducer = function(state, _a) {
        void 0 === state && (state = {});
        var type = _a.type, data = _a.data;
        switch (type) {
          case actions_1.UPDATE_CONNECTION:
            return Object.assign({}, state, {
                connection: Object.assign({}, state.connection, data)
            });

          default:
            return state;
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    }), __values = this && this.__values || function(o) {
        var m = "function" == typeof Symbol && o[Symbol.iterator], i = 0;
        return m ? m.call(o) : {
            next: function() {
                return o && i >= o.length && (o = void 0), {
                    value: o && o[i++],
                    done: !o
                };
            }
        };
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var CustomError = function() {
        return function(message) {
            var error = new Error(message);
            this.message = error.message, this.stack = error.stack;
        };
    }();
    exports.CustomError = CustomError;
    var Change = function() {
        return function(type, pos, text, len) {
            if (void 0 === text && (text = ""), this.type = type, this.pos = pos, this.text = text, 
            this.len = len, pos < 0) throw new Error("Negative position is prohibited: " + pos);
            if (len < 0) throw new Error("Negative array size if prohibited: " + len);
        };
    }();
    exports.Change = Change;
    var Operation = function() {
        function Operation(type, pos, text, tlen) {
            void 0 === pos && (pos = 0), void 0 === text && (text = ""), void 0 === tlen && (tlen = 0), 
            this._type = type, this._pos = pos, this._text = text, this._tlen = tlen, this._len = text.length;
        }
        return Operation.prototype.extend = function(tlen, pos, text) {
            return new Operation(this._type, null == pos ? this._pos : pos, null == text ? this._text : text, tlen);
        }, Object.defineProperty(Operation.prototype, "begin", {
            get: function() {
                return this._pos;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Operation.prototype, "length", {
            get: function() {
                return this._len;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Operation.prototype, "textLength", {
            get: function() {
                return this._tlen;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Operation.prototype, "text", {
            get: function() {
                return this._text;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Operation.prototype, "type", {
            get: function() {
                return this._type;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Operation.prototype, "end", {
            get: function() {
                return this._pos + this._len;
            },
            enumerable: !0,
            configurable: !0
        }), Operation.prototype.toString = function() {
            return this._type + this._pos + ":" + this._text;
        }, Operation.prototype.pack = function(rev) {
            if ("=" === this._type) return "";
            var text = this._text.replace(/%/g, "%25").replace(/:/g, "%3A"), pos = this._pos.toString(36), tlen = this._tlen.toString(36), r = (rev || 0).toString(36);
            return this._type + pos + ":" + tlen + ":" + text + ":" + r;
        }, Operation.prototype.apply = function(text) {
            if ("+" === this.type) return text.slice(0, this._pos) + this._text + text.slice(this._pos);
            if ("-" === this._type) {
                if (text.length !== this._tlen) throw new Error("Text length doesn't match expected length during delete. It's most likely you have missed a transformation: expected:" + this._tlen + ", actual:" + text.length);
                if (text.substr(this._pos, this._len) !== this._text) throw new Error("Applying delete operation: Passed context doesn't match assumed context: " + JSON.stringify(this) + ', actual context: "' + text.substr(this._pos, this._len) + '"');
                return text.slice(0, this._pos) + text.slice(this._pos + this._len);
            }
            if ("=" === this._type) return text;
            throw new Error("Operation type isn't known or undefined: '" + this.type + "'");
        }, Operation.prototype.transformAgainst = function(that, thisRev, thatRev) {
            var tlen = 0;
            if ("+" === this._type && "+" === that._type) {
                if (tlen = this._tlen + that._len, this._pos < that._pos) return [ this.extend(tlen) ];
                if (this._pos === that._pos && thisRev < thatRev) return [ this.extend(tlen) ];
                if (that._pos <= this._pos) return [ this.extend(tlen, this._pos + that._len) ];
            } else if ("+" === this._type && "-" === that._type) {
                if (tlen = this._tlen - that._len, this._pos < that._pos) return [ this.extend(tlen) ];
                if (this._pos === that._pos) return [ this.extend(tlen) ];
                if (that._pos < this._pos) return [ this.extend(tlen, Math.max(this._pos - that._len, that._pos)) ];
            } else if ("-" === this._type && "-" === that._type) {
                if (tlen = this._tlen - that._len, this._pos < that._pos) {
                    var startOfOther = Math.min(that._pos - this._pos, this._len);
                    return [ this.extend(tlen, this._pos, this._text.substr(0, startOfOther) + this._text.substr(startOfOther + that._len)) ];
                }
                if (this._pos === that._pos) return this._len <= that._len ? [ new Operation("=") ] : [ this.extend(tlen, this._pos, this._text.substr(that._len)) ];
                if (that._pos < this._pos) {
                    var overlap = that._pos + that._len - this._pos;
                    return overlap >= this._len ? [ new Operation("=") ] : overlap > 0 ? [ this.extend(tlen, that._pos, this._text.substr(overlap)) ] : [ this.extend(tlen, this._pos - that._len) ];
                }
            } else if ("-" === this._type && "+" === that._type) {
                if (tlen = this._tlen + that._len, this._pos < that._pos) {
                    if (this._pos + this._len > that._pos) {
                        var firstHalfLength = that._pos - this._pos;
                        return thisRev > thatRev ? [ this.extend(tlen + that._tlen, this._pos, this._text + that.text) ] : [ this.extend(tlen, this._pos, this._text.substr(0, firstHalfLength)), this.extend(tlen, that._pos + that._len, this._text.substr(firstHalfLength)) ];
                    }
                    return [ this.extend(tlen) ];
                }
                if (this._pos === that._pos) return [ this.extend(tlen, this._pos + that._len) ];
                if (that._pos < this._pos) return [ this.extend(tlen, this._pos + that._len) ];
            }
            return [ this ];
        }, Operation;
    }();
    exports.Operation = Operation;
    var Changesets = function() {
        function Changesets(_operations, rev) {
            void 0 === rev && (rev = 0), this._operations = _operations, this.rev = rev;
        }
        return Changesets.prototype.toString = function() {
            return this._operations.map(function(op) {
                return op.toString();
            }).join(" ");
        }, Changesets.prototype.withRevision = function(rev) {
            return new Changesets(this._operations, rev);
        }, Object.defineProperty(Changesets.prototype, "revision", {
            get: function() {
                return this.rev;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Changesets.prototype, "operations", {
            get: function() {
                return this._operations;
            },
            enumerable: !0,
            configurable: !0
        }), Changesets.prototype.apply = function(text) {
            var e_1, _c, cs = this.sequencify();
            try {
                for (var _a = __values(cs._operations), _b = _a.next(); !_b.done; _b = _a.next()) {
                    text = _b.value.apply(text);
                }
            } catch (e_1_1) {
                e_1 = {
                    error: e_1_1
                };
            } finally {
                try {
                    _b && !_b.done && (_c = _a.return) && _c.call(_a);
                } finally {
                    if (e_1) throw e_1.error;
                }
            }
            return text;
        }, Changesets.prototype.sequencify = function() {
            var _this = this, ops = [];
            return this._operations.forEach(function(op) {
                if ("=" !== op.type) {
                    var tmp = [ op ];
                    ops.forEach(function(o) {
                        tmp = tmp.map(function(t) {
                            return t.transformAgainst(o, _this.rev, _this.rev);
                        }).reduce(function(ys, x) {
                            return ys.concat(x);
                        }, []);
                    }), ops = ops.concat(tmp);
                }
            }), new Changesets(ops, this.rev);
        }, Changesets.prototype.transformAgainst = function(that) {
            var _this = this;
            if (that instanceof Changesets) {
                var newCs_1 = [], thatCs_1 = that;
                return thatCs_1 = thatCs_1.sequencify(), this._operations.forEach(function(op) {
                    var tmp = [ op ];
                    thatCs_1._operations.forEach(function(o) {
                        tmp = tmp.map(function(t) {
                            return t.transformAgainst(o, _this.rev, thatCs_1.rev);
                        }).reduce(function(ys, x) {
                            return ys.concat(x);
                        }, []);
                    }), newCs_1 = newCs_1.concat(tmp);
                }), new Changesets(newCs_1, this.rev);
            }
            throw new Error("Should be transformed only against Changesets");
        }, Changesets.prototype.pack = function(rev) {
            var _this = this;
            return this._operations.map(function(op) {
                return op.pack(rev || _this.rev);
            }).join("");
        }, Changesets.unpack = function(packed) {
            if ("" === packed) return new Changesets([]);
            var matches = packed.match(/(\+|-|=)\w+?:\w+?:[^:]*?:\w+/g);
            if (!matches) throw new Error("Cannot unpack invalid serialized changeset string");
            var rev = 0;
            return new Changesets(matches.filter(function(s) {
                return !s.startsWith("=");
            }).map(function(s) {
                var props = s.substr(1).split(":");
                rev = parseInt(props[3], 36);
                var type = s.substr(0, 1);
                return new Operation(type, parseInt(props[0], 36), props[2].replace(/%3A/gi, ":").replace(/%25/g, "%"), parseInt(props[1], 36));
            }), rev);
        }, Changesets;
    }();
    exports.Changesets = Changesets;
    var OTError = function(_super) {
        function OTError(reason) {
            void 0 === reason && (reason = "Unknown reason");
            var _this = _super.call(this, reason) || this;
            return _this.name = "OTError", _this.reason = reason, _this;
        }
        return __extends(OTError, _super), OTError;
    }(CustomError);
    exports.OTError = OTError;
    var OTRemoveError = function(_super) {
        function OTRemoveError(reason) {
            void 0 === reason && (reason = "removed");
            var _this = _super.call(this, reason) || this;
            return _this.name = "OTRemoveError", _this;
        }
        return __extends(OTRemoveError, _super), OTRemoveError;
    }(OTError);
    exports.OTRemoveError = OTRemoveError;
    var Revision = function() {
        function Revision(changes, revision, successCallbacks, failureCallback) {
            this.changes = changes, this.revision = revision, this.successCallbacks = successCallbacks, 
            this.failureCallback = failureCallback, this._cs = new Changesets(this.changes, this.revision);
        }
        return Revision.prototype.apply = function(txt) {
            return this._cs.apply(txt);
        }, Revision.prototype.pack = function() {
            return this._cs.pack();
        }, Revision;
    }();
    exports.Revision = Revision;
    var OperationsSet = function(_super) {
        function OperationsSet(operations, rev) {
            return void 0 === rev && (rev = 0), _super.call(this, operations, rev) || this;
        }
        return __extends(OperationsSet, _super), OperationsSet.prototype.sequencify = function() {
            return this;
        }, OperationsSet;
    }(Changesets);
    exports.OperationsSet = OperationsSet;
    var ChangesetsQueue = function() {
        function ChangesetsQueue(revision) {
            void 0 === revision && (revision = 0), this.operations = [], this.staging = !1, 
            this.revision = revision;
        }
        return ChangesetsQueue.prototype.push = function(op, onDone, onFail) {
            this.pushAll([ op ], onDone, onFail);
        }, ChangesetsQueue.prototype.pushAll = function(op, onDone, onFail) {
            var revision = new Revision(op, ++this.revision, onDone, onFail);
            this.operations.push(revision);
        }, ChangesetsQueue.prototype.clear = function(reason, newRevision) {
            void 0 === newRevision && (newRevision = 0);
            var message = "string" == typeof reason ? reason : reason.message;
            this.operations.forEach(function(rev) {
                return rev.failureCallback && rev.failureCallback(new OTError(message));
            }), this.operations = [], this.revision = newRevision, this.staging = !1;
        }, ChangesetsQueue.prototype.acknowledge = function(args) {
            if (this.staging) {
                this.staging = !1;
                var rev = this.operations.shift();
                rev && rev.successCallbacks && rev.successCallbacks(args);
            }
        }, ChangesetsQueue.prototype.forEach = function(func) {
            this.operations.forEach(function(cs) {
                return func(new Changesets(cs.changes, cs.revision));
            });
        }, ChangesetsQueue.prototype.remove = function() {
            var rev = this.operations.shift();
            return rev && (this.staging = !1, rev.failureCallback && rev.failureCallback(new OTRemoveError())), 
            void 0 !== rev;
        }, ChangesetsQueue.prototype.poll = function() {
            var rev = this.operations.slice(0, 1);
            return 0 === rev.length ? null : (this.staging = !0, rev[0]);
        }, ChangesetsQueue.prototype.pop = function() {
            var res = this.poll();
            return res && (this.operations.shift(), this.staging = !1), res;
        }, ChangesetsQueue.prototype.popAll = function() {
            var operations = this.operations;
            return this.operations = [], operations;
        }, ChangesetsQueue.prototype.reload = function(to, text) {
            if (this.staging) {
                var rev = this.operations.slice(0, 1);
                if (0 !== rev.length) {
                    try {
                        var stagingCh = rev[0];
                        text = new Changesets(stagingCh.changes, to.revision).apply(text), to.pushAll(stagingCh.changes, stagingCh.successCallbacks, stagingCh.failureCallback), 
                        to.staging = !0;
                    } catch (e) {}
                    this.remove();
                }
            }
            try {
                var tmp = text;
                try {
                    for (var _a = __values(this.operations), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var r = _b.value;
                        tmp = new Changesets(r.changes, to.revision).apply(tmp);
                    }
                } catch (e_2_1) {
                    e_2 = {
                        error: e_2_1
                    };
                } finally {
                    try {
                        _b && !_b.done && (_c = _a.return) && _c.call(_a);
                    } finally {
                        if (e_2) throw e_2.error;
                    }
                }
                text = tmp;
                try {
                    for (var _d = __values(this.operations), _e = _d.next(); !_e.done; _e = _d.next()) {
                        r = _e.value;
                        to.pushAll(r.changes, r.successCallbacks, r.failureCallback);
                    }
                } catch (e_3_1) {
                    e_3 = {
                        error: e_3_1
                    };
                } finally {
                    try {
                        _e && !_e.done && (_f = _d.return) && _f.call(_d);
                    } finally {
                        if (e_3) throw e_3.error;
                    }
                }
            } catch (e) {
                try {
                    for (var _g = __values(this.operations), _h = _g.next(); !_h.done; _h = _g.next()) {
                        (r = _h.value).failureCallback && r.failureCallback(new OTError("cannot be applied"));
                    }
                } catch (e_4_1) {
                    e_4 = {
                        error: e_4_1
                    };
                } finally {
                    try {
                        _h && !_h.done && (_j = _g.return) && _j.call(_g);
                    } finally {
                        if (e_4) throw e_4.error;
                    }
                }
            }
            return text;
            var e_2, _c, e_3, _f, e_4, _j;
        }, ChangesetsQueue.prototype.length = function() {
            return this.operations.length;
        }, ChangesetsQueue.prototype.isStaging = function() {
            return this.staging;
        }, ChangesetsQueue.prototype.isEmpty = function() {
            return 0 === this.length();
        }, ChangesetsQueue.prototype.transformAgainst = function(changesets, newRevision) {
            void 0 === newRevision && (newRevision = changesets.revision);
            var localRev = newRevision + 1;
            return this.operations = this.operations.map(function(op) {
                var localChange = new Changesets(op.changes, localRev), remoteChange = changesets.transformAgainst(localChange), transLocal = localChange.transformAgainst(changesets);
                return changesets = remoteChange, new Revision(transLocal.operations, transLocal.revision, op.successCallbacks, op.failureCallback);
            }), this.revision = this.isEmpty() ? newRevision : this.operations[this.length() - 1].revision, 
            changesets.withRevision(changesets.revision);
        }, ChangesetsQueue.prototype.getChangesSince = function(revision) {
            return this.operations.filter(function(rev) {
                return rev.revision > revision;
            }).map(function(rev) {
                return new Changesets(rev.changes, rev.revision);
            });
        }, ChangesetsQueue;
    }();
    exports.ChangesetsQueue = ChangesetsQueue;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var ot = __webpack_require__(347), logger_1 = __webpack_require__(1), cloneDeep = __webpack_require__(386), dom_1 = __webpack_require__(3), ot_1 = __webpack_require__(347), integration_1 = __webpack_require__(183), log = logger_1.Logger.create("document-state"), DocumentState = function() {
        function DocumentState(text, revision, onRevert) {
            this.text = text, this.revision = revision, this.onRevert = onRevert, this.lastId = 0, 
            this.lastTimestampId = 0, this.firstTimestampIdForCurrentConnection = 0, this.firstIdForCurrentConnection = 0, 
            this._lastIdForTextUpdate = 0, this.currentResponse = "", this.currentMessageStartChunk = "", 
            this.isReady = !1, this.injectionState = {}, this._pendingServerOperations = [], 
            this._serverOperations = [], this._isPendingSave = !1, this._clientOperations = [], 
            this.operationsLog = [], this._prevRevisionReply = "", this._log = {
                initialText: text,
                initialRevision: revision,
                events: []
            };
        }
        return DocumentState.prototype.resetState = function(newState) {
            this.text = newState.text, this.revision = newState.revision, this._isPendingSave = !1, 
            this._clientOperations = [], this._serverOperations = [], this._pendingServerOperations = [];
        }, DocumentState.prototype.getFullLog = function() {
            return this._log.text = this.text, this._log.revision = this.revision, this._log;
        }, DocumentState.prototype.getLog = function() {
            return this._log.text = this.text, this._log.revision = this.revision, {
                text: this.text,
                revision: this.revision,
                initialText: this._log.initialText,
                initialRevision: this._log.initialRevision,
                events: this.operationsLog
            };
        }, DocumentState.prototype.onSaveReply = function(reply) {
            var _this = this, cleanReply = reply.split("\n")[1];
            try {
                var revision_1 = ot.getRevisionFromSaveReply(cleanReply);
                if (this._prevRevisionReply === cleanReply) return;
                if (this._prevRevisionReply = cleanReply, this.operationsLog.push({
                    type: "saveReply",
                    value: cleanReply
                }), revision_1) {
                    if (revision_1 > this.revision && (this.revision = revision_1), !this._isPendingSave) return;
                    var stagingOperation = this._clientOperations[this._clientOperations.length - 1];
                    if (stagingOperation && revision_1) {
                        stagingOperation.rev = revision_1;
                        var transformClientAgainst = this._pendingServerOperations.filter(function(s) {
                            return s.rev < revision_1;
                        });
                        if (transformClientAgainst.length) {
                            this._pendingServerOperations.filter(function(s) {
                                return s.rev < revision_1;
                            }).forEach(function(x) {
                                _this.text = ot.apply(_this.text, x.operations);
                            });
                            var transformedOperations = ot.transformAgainst(transformClientAgainst, stagingOperation.operations);
                            this.text = ot.apply(this.text, transformedOperations), stagingOperation.operations = transformedOperations, 
                            log.debug("Text changed by ot from external and local (resolved conflict)", {
                                text: this.text,
                                revision: this.revision
                            });
                        } else this.text = ot.apply(this.text, stagingOperation.operations), log.debug("Text changed by ot local", {
                            text: this.text,
                            revision: this.revision
                        });
                        this._pendingServerOperations.filter(function(s) {
                            return s.rev > revision_1;
                        }).forEach(function(s) {
                            _this.text = ot.apply(_this.text, s.operations), _this.revision = s.rev, log.debug("Text changed by ot from external", {
                                text: _this.text,
                                revision: _this.revision
                            });
                        }), this._pendingServerOperations = [];
                    }
                    this._isPendingSave = !1;
                } else log.warn("Can't parse revision from " + reply);
            } catch (e) {
                return;
            }
        }, DocumentState.prototype.addToServerHistory = function(data) {
            this._serverOperations = __spread([ data ], this._serverOperations.slice(0, 29));
        }, DocumentState.prototype.updateFromSaveRequest = function(requestText) {
            var data = ot.getModifyOperationsFromSaveRequest(requestText);
            if (data && 0 !== data.operations.length && !data.operations.find(function(x) {
                return x.ty === ot_1.OperationType.Revert;
            })) {
                this.operationsLog.push({
                    type: "save",
                    value: cloneDeep(data)
                }), this._isPendingSave = !0;
                var transformClientAgainst = this._serverOperations.filter(function(s) {
                    return s.rev > data.rev;
                });
                transformClientAgainst.length && (data.operations = ot.transformAgainst(transformClientAgainst, data.operations)), 
                this._clientOperations.push(data);
            }
        }, DocumentState.prototype.addResponse = function(responseText, isExtensionEnabled) {
            var messages;
            try {
                messages = ot.parseChangesets(responseText);
            } catch (e) {
                return void dom_1.emitDomEvent(integration_1.gdocsCustomEvents.rollbackIntegration, e.message);
            }
            var isNewConnection = this.currentMessageStartChunk !== responseText.substr(0, 16);
            if (isNewConnection && (this.injectionState = {}, this.firstIdForCurrentConnection = this.lastId, 
            this.firstTimestampIdForCurrentConnection = this.lastTimestampId, this.currentMessageStartChunk = responseText.substr(0, 16)), 
            0 === messages.length && isNewConnection) this.currentResponse = responseText; else {
                var messageT = ot.parseGdocsT(responseText);
                messageT && (this.messageT = messageT);
                var startId = this.firstIdForCurrentConnection || ot.getId(messages[0]), startTimestampId = this.firstTimestampIdForCurrentConnection, _a = ot.transformResponse(messages, this.injectionState, startId, startTimestampId, isExtensionEnabled), response = _a.response, newLastId = _a.newLastId, newLastTimestampId = _a.newLastTimestampId;
                this.lastTimestampId = newLastTimestampId, this.updateText(messages, this._lastIdForTextUpdate), 
                this._lastIdForTextUpdate = ot.getId(messages[messages.length - 1]), newLastId > this.lastId && (this.lastId = newLastId), 
                this.currentResponse = response;
            }
        }, DocumentState.prototype.updateText = function(messages, fromId) {
            var _this = this;
            ot.getModifyOperationsFromMessages(messages, fromId).forEach(function(x) {
                if (_this.operationsLog.push({
                    type: "bind",
                    value: cloneDeep(x)
                }), _this._isPendingSave) _this._pendingServerOperations.push(x), _this.addToServerHistory(x); else {
                    var operations = x.operations, transformServerAgainst = _this._clientOperations.filter(function(y) {
                        return y.rev >= x.rev;
                    });
                    transformServerAgainst.length ? (operations = ot.transformAgainst(transformServerAgainst, operations), 
                    _this.revision = transformServerAgainst[transformServerAgainst.length - 1].rev) : _this.revision = x.rev, 
                    x.operations = operations, _this.addToServerHistory(x), _this.text = ot.apply(_this.text, operations), 
                    x.operations.find(function(y) {
                        return y.ty === ot.OperationType.Revert;
                    }) && _this.onRevert();
                }
            });
        }, DocumentState.prototype.addRanges = function(ranges) {
            this.lastId += 2, this.lastTimestampId++;
            var message = ot.createChangesetMessage(ranges, this.revision, this.messageT, this.lastId, this.lastTimestampId), noopMsg = ot.noopMessage(this.lastId - 1), serializedMsg = ot.serialize(message);
            this.injectionState[this.lastId - 1] = noopMsg, this.injectionState[this.lastId] = serializedMsg, 
            this.currentResponse = this.currentResponse + noopMsg + serializedMsg;
        }, DocumentState;
    }();
    exports.DocumentState = DocumentState;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function(resolve, reject) {
            function fulfilled(value) {
                try {
                    step(generator.next(value));
                } catch (e) {
                    reject(e);
                }
            }
            function rejected(value) {
                try {
                    step(generator.throw(value));
                } catch (e) {
                    reject(e);
                }
            }
            function step(result) {
                result.done ? resolve(result.value) : new P(function(resolve) {
                    resolve(result.value);
                }).then(fulfilled, rejected);
            }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }, __generator = this && this.__generator || function(thisArg, body) {
        var f, y, t, g, _ = {
            label: 0,
            sent: function() {
                if (1 & t[0]) throw t[1];
                return t[1];
            },
            trys: [],
            ops: []
        };
        return g = {
            next: verb(0),
            throw: verb(1),
            return: verb(2)
        }, "function" == typeof Symbol && (g[Symbol.iterator] = function() {
            return this;
        }), g;
        function verb(n) {
            return function(v) {
                return function(op) {
                    if (f) throw new TypeError("Generator is already executing.");
                    for (;_; ) try {
                        if (f = 1, y && (t = y[2 & op[0] ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                        switch (y = 0, t && (op = [ 0, t.value ]), op[0]) {
                          case 0:
                          case 1:
                            t = op;
                            break;

                          case 4:
                            return _.label++, {
                                value: op[1],
                                done: !1
                            };

                          case 5:
                            _.label++, y = op[1], op = [ 0 ];
                            continue;

                          case 7:
                            op = _.ops.pop(), _.trys.pop();
                            continue;

                          default:
                            if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                                _ = 0;
                                continue;
                            }
                            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                                _.label = op[1];
                                break;
                            }
                            if (6 === op[0] && _.label < t[1]) {
                                _.label = t[1], t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2], _.ops.push(op);
                                break;
                            }
                            t[2] && _.ops.pop(), _.trys.pop();
                            continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [ 6, e ], y = 0;
                    } finally {
                        f = t = 0;
                    }
                    if (5 & op[0]) throw op[1];
                    return {
                        value: op[0] ? op[1] : void 0,
                        done: !0
                    };
                }([ n, v ]);
            };
        }
    }, __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var debounce = __webpack_require__(53), ot = __webpack_require__(347), log = __webpack_require__(1).Logger.create("consistency-verifier"), ConsistencyVerifier = function() {
        function ConsistencyVerifier(_document, onInconsistentState) {
            var _this = this;
            this._document = _document, this.onInconsistentState = onInconsistentState, this._textRevisions = [], 
            this.debouncedVerify = debounce(function() {
                return __awaiter(_this, void 0, void 0, function() {
                    var remoteState, currentState, e_1, localState;
                    return __generator(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            remoteState = void 0, currentState = this._textRevisions[0], _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, , 4 ]), [ 4, ot.getRemoteTextAndRevision() ];

                          case 2:
                            return remoteState = _a.sent(), [ 3, 4 ];

                          case 3:
                            return e_1 = _a.sent(), log.warn("Can't get remote state: " + e_1.message), [ 2 ];

                          case 4:
                            return currentState !== this._textRevisions[0] ? (log.warn("currentState changed try next time"), 
                            [ 2 ]) : (localState = this._textRevisions.find(function(x) {
                                return x.revision === remoteState.revision;
                            })) ? (localState.text !== remoteState.text && this.onInconsistentState(remoteState), 
                            [ 2 ]) : (log.warn("Can't get local state for revision: " + remoteState.revision + ", available states:\n " + JSON.stringify(this._textRevisions)), 
                            [ 2 ]);
                        }
                    });
                });
            }, 1e4), log.info(String(this._document), this._reportBrokenTest);
        }
        return ConsistencyVerifier.prototype.checkConsistency = function(value) {
            this._textRevisions = __spread([ value ], this._textRevisions.slice(0, 3)), this.debouncedVerify();
        }, ConsistencyVerifier.prototype._reportBrokenTest = function(localState, remoteState) {
            log.warn([ "Document has broken state", "local:", JSON.stringify(localState), "----", "remote:", JSON.stringify(remoteState), "-----", "Full log:", JSON.stringify(this._document.getFullLog()) ].join("\n"));
        }, ConsistencyVerifier;
    }();
    exports.ConsistencyVerifier = ConsistencyVerifier;
}, function(module, exports) {
    module.exports = {
        grGdocs: "_2vQZ3"
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function(resolve, reject) {
            function fulfilled(value) {
                try {
                    step(generator.next(value));
                } catch (e) {
                    reject(e);
                }
            }
            function rejected(value) {
                try {
                    step(generator.throw(value));
                } catch (e) {
                    reject(e);
                }
            }
            function step(result) {
                result.done ? resolve(result.value) : new P(function(resolve) {
                    resolve(result.value);
                }).then(fulfilled, rejected);
            }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }, __generator = this && this.__generator || function(thisArg, body) {
        var f, y, t, g, _ = {
            label: 0,
            sent: function() {
                if (1 & t[0]) throw t[1];
                return t[1];
            },
            trys: [],
            ops: []
        };
        return g = {
            next: verb(0),
            throw: verb(1),
            return: verb(2)
        }, "function" == typeof Symbol && (g[Symbol.iterator] = function() {
            return this;
        }), g;
        function verb(n) {
            return function(v) {
                return function(op) {
                    if (f) throw new TypeError("Generator is already executing.");
                    for (;_; ) try {
                        if (f = 1, y && (t = y[2 & op[0] ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                        switch (y = 0, t && (op = [ 0, t.value ]), op[0]) {
                          case 0:
                          case 1:
                            t = op;
                            break;

                          case 4:
                            return _.label++, {
                                value: op[1],
                                done: !1
                            };

                          case 5:
                            _.label++, y = op[1], op = [ 0 ];
                            continue;

                          case 7:
                            op = _.ops.pop(), _.trys.pop();
                            continue;

                          default:
                            if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                                _ = 0;
                                continue;
                            }
                            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                                _.label = op[1];
                                break;
                            }
                            if (6 === op[0] && _.label < t[1]) {
                                _.label = t[1], t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2], _.ops.push(op);
                                break;
                            }
                            t[2] && _.ops.pop(), _.trys.pop();
                            continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [ 6, e ], y = 0;
                    } finally {
                        f = t = 0;
                    }
                    if (5 & op[0]) throw op[1];
                    return {
                        value: op[0] ? op[1] : void 0,
                        done: !0
                    };
                }([ n, v ]);
            };
        }
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var emitter = __webpack_require__(18), tracking_1 = __webpack_require__(8), request_1 = __webpack_require__(200), selection_1 = __webpack_require__(678), dom_1 = __webpack_require__(3), config_1 = __webpack_require__(10), dictionary_card_1 = __webpack_require__(679), selection_animator_1 = __webpack_require__(687);
    __webpack_require__(688), __webpack_require__(689);
    exports.dictionary = function(doc) {
        var requesting, cls, animator = new selection_animator_1.SelectionAnimator(doc), card = dictionary_card_1.Card(doc), s = new selection_1.SelectionElement(doc, function(sel) {
            return __awaiter(this, void 0, void 0, function() {
                var grammarlyCard, data;
                return __generator(this, function(_a) {
                    switch (_a.label) {
                      case 0:
                        if (grammarlyCard = !!sel.el.startContainer && dom_1.matchesSelector(sel.el.startContainer.parentNode, ".gr-grammar-card, .gr-grammar-card *, .gr-dictionary-card, .gr-dictionary-card *")) return [ 2 ];
                        cls = "gr-selection-anim-dict " + config_1.nextVerClass, animator.animate(sel.el, cls), 
                        requesting = sel, data = {}, _a.label = 1;

                      case 1:
                        return _a.trys.push([ 1, 3, , 4 ]), [ 4, request_1.fetch(config_1.URLS.dictionary, {
                            method: "POST",
                            credentials: "include",
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded"
                            },
                            body: request_1.paramStr(sel.data)
                        }) ];

                      case 2:
                        return data = _a.sent(), requesting !== sel ? [ 2 ] : [ 3, 4 ];

                      case 3:
                        return _a.sent(), tracking_1.felog.fetchDefinitionsFail(), [ 3, 4 ];

                      case 4:
                        return animator.complete(), card.show(data, sel), grammarlyCard && animator.remove(), 
                        [ 2 ];
                    }
                });
            });
        }, animator.remove);
        return card.on("hide", animator.remove), emitter({
            clear: function() {
                s && s.release(), s = null, requesting = null;
            }
        });
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var config_1 = __webpack_require__(10), dom_1 = __webpack_require__(3);
    function isValidSelection(sel, doc) {
        var node = sel.anchorNode;
        if (!node) return !1;
        var attrSelector = config_1.restrictedAttrs.map(function(a) {
            return Array.isArray(a) ? "[" + a[0] + '="' + a[1] + '"]' : "[" + a + "]";
        }).join(","), activeEl = doc.activeElement, selectionIsNotEmpty = sel.toString().trim(), elementIsNotEditField = "TEXTAREA" !== node.tagName && "INPUT" !== node.tagName, activeElementIsNotEditField = !activeEl || "INPUT" !== activeEl.tagName && "TEXTAREA" !== activeEl.tagName, isNotContenteditable = !dom_1.isContentEditable(node), nodeAndParentWithoutRestrictedAttrs = !dom_1.getParentBySel(node, attrSelector) && !dom_1.matchesSelector(node, attrSelector), parentIsNotContenteditable = !dom_1.getParentBySel(node, "[contenteditable=true],[contenteditable=plaintext-only]") && !dom_1.parentIsContentEditable(node);
        return !!(selectionIsNotEmpty && elementIsNotEditField && activeElementIsNotEditField && isNotContenteditable && nodeAndParentWithoutRestrictedAttrs && parentIsNotContenteditable);
    }
    exports.isValidSelection = isValidSelection;
    var SelectionElement = function() {
        return function(_doc, _selectHandler, _deselectHandler) {
            var _this = this;
            this._doc = _doc, this._selectHandler = _selectHandler, this._deselectHandler = _deselectHandler, 
            this._select = !1, this.release = function() {
                return dom_1.unlisten(_this._doc, "click", _this.check);
            }, this.check = function(_a) {
                if (2 === _a.detail) {
                    _this._select = !0;
                    var sel = _this._doc.getSelection();
                    if (isValidSelection(sel, _this._doc)) {
                        var nodeText = sel.anchorNode.textContent, val = sel.toString();
                        if (!val.match(/[0-9_!@#$%^&*:"|<>?~().,:}{=']/)) {
                            var sentence = {
                                v: val,
                                s: 0,
                                e: val.length
                            }, el = sel.getRangeAt(0);
                            if (el.ownerDocument = _this._doc, sel.anchorNode === sel.focusNode) {
                                var s = sel.anchorOffset;
                                sentence = function(text, s, e) {
                                    if (!text) return null;
                                    for (var sentences = text.split(/[.;!?]/g), pos = 0, newPos = 0, i = 0; i < sentences.length; i++) {
                                        if (newPos = pos + sentences[i].length, s >= pos && e <= newPos) return {
                                            v: sentences[i],
                                            s: s - pos,
                                            e: e - pos
                                        };
                                        pos = newPos + 1;
                                    }
                                    return null;
                                }(nodeText, s, s + val.length);
                            }
                            null !== sentence && _this._selectHandler({
                                data: {
                                    v: sentence.v,
                                    s: sentence.s,
                                    e: sentence.e,
                                    w: val
                                },
                                pos: function(sel) {
                                    return sel.getRangeAt(0).getBoundingClientRect();
                                }(sel),
                                el: el
                            });
                        }
                    }
                } else _this._select && (_this._deselectHandler(), _this._select = !1);
            }, dom_1.listen(_doc, "click", this.check);
        };
    }();
    exports.SelectionElement = SelectionElement;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var dom = __webpack_require__(3), util_1 = __webpack_require__(2), position = __webpack_require__(101), emitter = __webpack_require__(18), React = __webpack_require__(5), tracking_1 = __webpack_require__(8), tracking_2 = __webpack_require__(20), react_dom_1 = __webpack_require__(19), dompurify = __webpack_require__(100), events = __webpack_require__(352), tooltip_1 = __webpack_require__(412), icons_1 = __webpack_require__(490), style = __webpack_require__(413), card_1 = __webpack_require__(491), defaultProps = {
        pos: {
            rect: {
                top: 0,
                left: 0,
                width: 0
            },
            sourceRect: {
                width: 0
            },
            delta: {
                right: 0
            },
            className: "",
            visible: !1
        },
        data: void 0,
        visible: !1
    }, DictionaryCard = function(_super) {
        function DictionaryCard() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends(DictionaryCard, _super), DictionaryCard.prototype.render = function() {
            var inlineStyle = {}, pos = this.props.pos;
            inlineStyle.top = pos.rect.top, inlineStyle.left = pos.rect.left, inlineStyle.visibility = this.props.visible ? "" : "hidden";
            var data = this.props.data;
            return React.createElement("div", {
                className: style.container,
                style: inlineStyle
            }, React.createElement("div", {
                tabIndex: -1,
                className: dom.cs(style.card, style.dict, pos.rect.flip && style.flip)
            }, React.createElement("div", {
                className: style.dictContent
            }, data.defs.map(function(def, i) {
                var val = def.replace(/^([:,]\s)/, "");
                return val = val[0].toUpperCase() + val.substring(1, val.length), React.createElement("div", {
                    key: i,
                    className: dom.cs(1 === data.defs.length ? style.dictSingle : style.dictItem)
                }, data.defs.length > 1 && React.createElement("span", {
                    className: style.dictItemCounter
                }, i + 1, ". "), React.createElement("span", {
                    dangerouslySetInnerHTML: {
                        __html: dompurify.sanitize(val)
                    }
                }));
            })), React.createElement("div", {
                className: style.footer
            }, data.url && "wiki" === data.origin && React.createElement("div", {
                className: dom.cs(style.item, style.wiki)
            }, React.createElement("a", {
                href: encodeURI(data.url),
                target: "_blank",
                className: style.wikiLink
            }, React.createElement(icons_1.WikiIcon, {
                className: dom.cs(style.icon, style.wikiIcon)
            }), " More on Wikipedia")), React.createElement("div", {
                className: dom.cs(style.item, style.dictFooterItem)
            }, React.createElement(icons_1.LogoIcon, {
                className: dom.cs(style.icon, style.logoIcon)
            }), " Definitions by Grammarly"))));
        }, DictionaryCard.defaultProps = defaultProps, DictionaryCard;
    }(React.Component);
    exports.DictionaryCard = DictionaryCard;
    var card = Object.assign(function(doc) {
        void 0 === doc && (doc = document);
        var container, el, data, pos, cleaner = doc.createElement("div"), id = Symbol("DictionaryCard"), notfound = tooltip_1.createTooltip({
            cls: dom.cs("gr-notfound-tooltip", card_1.GR_TOOLTIP_EMPTY),
            enabled: !1,
            doc: doc
        }), windowEvents = {
            click: function(e) {
                if ("dictionary-card" === document.body.className) return;
                dom.inEl(e.target, el) || hide();
            },
            keydown: function(e) {
                27 === util_1.keyCode(e) && hide();
            },
            scroll: hide,
            resize: hide
        }, me = emitter({
            show: function(_data, sel) {
                var pseudoEl = {
                    ownerDocument: doc,
                    getBoundingClientRect: function() {
                        return sel.pos;
                    },
                    getClientRects: function() {
                        return [ sel.pos ];
                    }
                };
                if ((data = _data).defs && data.defs.length) {
                    var rect = position.getAbsRect(pseudoEl);
                    data.title = sel.el.toString(), data.defs = data.defs.splice(0, 3).map(removeBrackets).map(unescapeSuperscript), 
                    container = render(!1), el = react_dom_1.findDOMNode(container.component), pos = position.posToRect(el, rect), 
                    render();
                } else notfound.enable(), notfound.show({
                    posEl: sel.el,
                    text: "No definition found"
                });
                events.on(windowEvents, null, !0), tracking_2.gnar.definitionPopupShow(), tracking_1.felog.dictCardShowAction();
            },
            hide: hide,
            unescapeSuperscript: unescapeSuperscript
        });
        return me;
        function removeBrackets(val) {
            cleaner.innerHTML = dompurify.sanitize(val);
            var qualifier = cleaner.querySelector("span.qualifier");
            return qualifier ? (qualifier.innerHTML = qualifier.innerHTML.replace("(", "").replace(")", ""), 
            qualifier.className = style.qualifier, cleaner.innerHTML) : val;
        }
        function unescapeSuperscript(val) {
            return val.replace(/&lt;(sup|sub)&gt;(.*?)&lt;(\/sup|\/sub)&gt;/, "<$1>$2<$3>").replace(/&amp;(?=\w{1,8};)/, "&");
        }
        function render(visible) {
            return void 0 === visible && (visible = !0), dom.renderReactWithParent(React.createElement(DictionaryCard, {
                pos: pos,
                data: data,
                visible: visible
            }), doc.documentElement, id, "grammarly-card");
        }
        function hide() {
            container && container.remove(), events.off(windowEvents, null, !0), me.emit("hide"), 
            notfound.disable(), notfound.hide(), container = null, tracking_1.felog.dictCardHideAction();
        }
    }, {
        component: DictionaryCard
    });
    exports.Card = card;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    }), __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var config_1 = __webpack_require__(10), message = __webpack_require__(16), GrammarlyEditorAlert = __webpack_require__(681), React = __webpack_require__(5), react_1 = __webpack_require__(22), dom_1 = __webpack_require__(3), tracking_1 = __webpack_require__(8), tracking_2 = __webpack_require__(20), location_1 = __webpack_require__(15), stdlib_1 = __webpack_require__(4), card_1 = __webpack_require__(683), replacement_1 = __webpack_require__(684), icons_1 = __webpack_require__(490), style = __webpack_require__(413), Title = function(_a) {
        var title = _a.title, className = _a.className;
        return React.createElement("div", __assign({
            className: className
        }, react_1.setInnerHTML(title.toLowerCase(), [ "i", "b" ])));
    }, TextContent = function(_a) {
        var title = _a.title, explanation = _a.explanation;
        return React.createElement("div", null, React.createElement(Title, {
            className: style.bigTitle,
            title: title
        }), React.createElement("div", __assign({
            className: style.explanation
        }, react_1.setInnerHTML(explanation, [ "i", "b" ]))));
    };
    exports.FooterButton = function(_a) {
        var className = _a.className, onClick = _a.onClick, children = _a.children;
        return React.createElement(react_1.GenericButton, {
            clickHandler: onClick
        }, React.createElement("div", {
            className: dom_1.cs(style.footerButton, className),
            role: "button"
        }, children));
    };
    var AuthenticatedFooter = function(_a) {
        var onEditor = _a.onEditor;
        return React.createElement(exports.FooterButton, {
            className: dom_1.cs(style.item, style.btnLogo),
            onClick: onEditor
        }, React.createElement(icons_1.LogoIcon, {
            className: dom_1.cs(style.icon, style.logoIcon)
        }), " See more in Grammarly");
    }, AnonymousFooter = function(_a) {
        var onLogin = _a.onLogin;
        return React.createElement(exports.FooterButton, {
            className: dom_1.cs(style.btnPersonalize, style.item),
            onClick: onLogin
        }, React.createElement("div", {
            className: style.personalizeMessage
        }, React.createElement("span", {
            className: style.attn
        }, "ATTN:"), " Youre missing many ", React.createElement("br", null), " key Grammarly features."), React.createElement(icons_1.LogoIcon, {
            className: dom_1.cs(style.icon, style.logoIcon)
        }), " Personalize for free");
    }, NewCardFooter = function(_a) {
        var title = _a.title, blogLink = _a.blogLink;
        return React.createElement(exports.FooterButton, {
            className: dom_1.cs(style.btnNewBadge, style.item),
            onClick: function() {
                void 0 !== blogLink && (message.emitBackground("open-url", blogLink), tracking_2.gnar.newBadgeButtonClick("inline-card"));
            }
        }, React.createElement("div", null, React.createElement("span", {
            className: style.newLabel
        }, "NEW"), React.createElement("span", {
            className: style.newTitle
        }, title + " check")), void 0 !== blogLink && React.createElement("div", {
            className: style.newInfo
        }, "LEARN MORE"));
    };
    exports.CardCommonContent = function(_a) {
        var model = _a.model, onAddToDictionary = _a.onAddToDictionary, onIgnore = _a.onIgnore, onEditor = _a.onEditor, onLogin = _a.onLogin, footer = model.getFooterProps();
        return React.createElement("div", {
            className: dom_1.cs(style.card)
        }, model.isTextCard ? !model.isUnknowWord && React.createElement(TextContent, {
            title: model.title,
            explanation: model.explanation
        }) : React.createElement("div", {
            className: style.replacement
        }, React.createElement(replacement_1.Replacement, {
            itemClassName: style.item,
            replacement: model.getReplacements()
        })), React.createElement("div", {
            className: style.footer
        }, footer.hasAddToDictionary && React.createElement(exports.FooterButton, {
            className: dom_1.cs(style.btnDict, style.item),
            onClick: function() {
                return onAddToDictionary();
            }
        }, model.isUnknowWord && React.createElement(Title, {
            className: style.unknownWordTitle,
            title: model.title
        }), React.createElement("span", {
            className: dom_1.cs(style.btnDictLabelWithIcon)
        }, React.createElement(icons_1.DictionaryIcon, {
            className: dom_1.cs(style.icon, style.dictionaryIcon)
        }), " Add to dictionary")), React.createElement(exports.FooterButton, {
            className: dom_1.cs(style.btnIgnore, style.item),
            onClick: function() {
                return onIgnore();
            }
        }, React.createElement(icons_1.IgnoreIcon, {
            className: dom_1.cs(style.icon, style.ignoreIcon)
        }), " Ignore"), getCardFooter(model, onEditor, onLogin)));
    };
    var CardAddedToDictionary = function(_a) {
        var word = _a.word;
        return React.createElement("div", {
            className: dom_1.cs(style.card, style.cardAddedToDict)
        }, React.createElement("div", {
            className: style.addedToDictTitle
        }, React.createElement(icons_1.DictionaryAddedIcon, {
            className: style.dictionaryAddedIcon
        }), " ", word), React.createElement("div", {
            className: style.dictionaryDescription
        }, "is now in your", " ", React.createElement(react_1.GenericButton, {
            clickHandler: function() {
                message.emitBackground("open-url", config_1.URLS.appPersonalDictionary);
            }
        }, React.createElement("div", {
            className: style.dictLink
        }, "personal dictionary"))));
    }, CardCommon = function(_super) {
        function CardCommon() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.state = {
                isAddedToDictionary: _this.props.isAddedToDictionary
            }, _this;
        }
        return __extends(CardCommon, _super), CardCommon.prototype.render = function() {
            var _this = this, model = this.props.model;
            return this.state.isAddedToDictionary ? React.createElement(CardAddedToDictionary, {
                word: model.highlightText
            }) : React.createElement(exports.CardCommonContent, {
                onAddToDictionary: function() {
                    _this.setState({
                        isAddedToDictionary: !0
                    }), _this.props.onAddToDictionary();
                },
                onIgnore: this.props.onIgnore,
                onEditor: this.props.onEditor,
                onLogin: this.props.onLogin,
                model: model
            });
        }, CardCommon;
    }(React.Component);
    exports.CardCommon = CardCommon;
    var Meanings = function(_a) {
        var meanings = _a.meanings;
        switch (meanings.length) {
          case 0:
            return React.createElement("span", null);

          case 1:
            return React.createElement("div", {
                className: dom_1.cs(style.synList, style.synListSingle)
            }, React.createElement("div", {
                className: style.synSubitems
            }, React.createElement(replacement_1.Replacement, {
                replacement: meanings[0].list,
                itemClassName: style.synItem
            })));

          default:
            return React.createElement("div", {
                className: style.synList
            }, meanings.map(function(m, i) {
                return React.createElement("div", {
                    key: i,
                    className: style.synListItem
                }, React.createElement("div", {
                    className: style.synListTitle
                }, React.createElement("span", {
                    className: style.synListNumber
                }, i + 1, "."), m.title), React.createElement("div", {
                    className: style.synSubitems
                }, React.createElement(replacement_1.Replacement, {
                    replacement: m.list,
                    itemClassName: style.synItem
                })));
            }));
        }
    };
    function getCardFooter(model, onEditor, onLogin) {
        var getDefaultFooter = function() {
            return model.isUserAuthenticated ? location_1.isGdocsSite() ? null : React.createElement(AuthenticatedFooter, {
                onEditor: onEditor
            }) : React.createElement(AnonymousFooter, {
                onLogin: onLogin
            });
        };
        switch (model.kind) {
          case "common":
            var releaseDate = model.extraProperties.releaseDate, expireDate = void 0 !== releaseDate && releaseDate + 2 * stdlib_1.Ms.week, currentDate = Date.now();
            return expireDate && expireDate > currentDate ? React.createElement(NewCardFooter, {
                title: model.cardLayout.group,
                blogLink: model.extraProperties.blogLink
            }) : getDefaultFooter();

          case "synonyms":
            return getDefaultFooter();

          default:
            return null;
        }
    }
    exports.CardSynonyms = function(_a) {
        var model = _a.model, onEditor = _a.onEditor, onLogin = _a.onLogin;
        return React.createElement("div", {
            className: dom_1.cs(style.card, style.synCard)
        }, React.createElement("div", {
            className: style.synTitle
        }, "Synonyms:"), React.createElement(Meanings, {
            meanings: model.meanings
        }), React.createElement("div", {
            className: style.footer
        }, getCardFooter(model, onEditor, onLogin)));
    };
    var Card = function(_super) {
        function Card() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.state = {
                isMaxWidth: !1
            }, _this;
        }
        return __extends(Card, _super), Card.prototype.componentDidMount = function() {
            this.el && this.el.firstElementChild && 288 === this.el.firstElementChild.clientWidth && this.setState({
                isMaxWidth: !0
            });
        }, Card.prototype.render = function() {
            var _this = this, _a = this.props, model = _a.model, onIgnore = _a.onIgnore, onAddToDictionary = _a.onAddToDictionary, onEditor = _a.onEditor, onLogin = _a.onLogin, isAddedToDictionary = _a.isAddedToDictionary;
            return React.createElement("div", {
                onClick: function(e) {
                    return e.stopPropagation();
                },
                key: model.id,
                ref: function(el) {
                    return _this.el = el;
                },
                className: dom_1.cs(this.state.isMaxWidth && style.maxWidthReached)
            }, function(model, onIgnore, onAddToDictionary, onEditor, onLogin, isAddedToDictionary) {
                switch (model.kind) {
                  case "common":
                    return React.createElement(CardCommon, {
                        model: model,
                        onIgnore: onIgnore,
                        onAddToDictionary: onAddToDictionary,
                        onEditor: onEditor,
                        onLogin: onLogin,
                        isAddedToDictionary: isAddedToDictionary
                    });

                  case "synonyms":
                    return React.createElement(exports.CardSynonyms, {
                        model: model,
                        onEditor: onEditor,
                        onLogin: onLogin
                    });

                  default:
                    return null;
                }
            }(model, onIgnore, onAddToDictionary, onEditor, onLogin, isAddedToDictionary));
        }, Card;
    }(React.Component);
    exports.Card = Card;
    var PositionedCard = function(_super) {
        function PositionedCard() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.state = {
                pos: {
                    rect: {
                        top: 0,
                        left: 0,
                        width: 0,
                        height: 0,
                        flip: !1
                    },
                    sourceRect: {
                        width: 0
                    },
                    delta: {
                        right: 0,
                        left: 0,
                        bottom: 0,
                        top: 0
                    },
                    className: "",
                    visible: !1
                },
                addedToDict: !1,
                match: {},
                visible: !1
            }, _this._firstInteractionMap = {}, _this.handlers = function(action, replace, visibleReplace) {
                var match = _this.state.match, props = _this.props;
                if (!_this.state.addedToDict && action) {
                    switch (action) {
                      case "replace":
                        props.animateReplacement(String(match.id), replace, visibleReplace), match.replace(replace, !1), 
                        props.hide(), match.syn ? tracking_1.felog.synonymReplacementAction() : tracking_1.felog.cardReplacementAction();
                        break;

                      case "ignore":
                        match.ignore(), props.hide(), tracking_1.felog.cardIgnoreAction();
                        break;

                      case "hide":
                      case "anim-hide":
                        props.hide();
                        break;

                      case "editor":
                      case "login":
                        props.openEditor();
                        break;

                      case "add":
                        props.addToDict(), tracking_1.felog.cardAddToDictAction();
                    }
                    try {
                        switch (action) {
                          case "replace":
                          case "ignore":
                          case "add":
                          case "editor":
                            void 0 === _this._firstInteractionMap[match.editorId] && (tracking_1.felog.cardFirstInteraction(location_1.getDomain(), _this.props.getUserType(), _this.props.getEditorType()), 
                            _this._firstInteractionMap[match.editorId] = !0);
                        }
                    } catch (e) {}
                }
            }, _this;
        }
        return __extends(PositionedCard, _super), PositionedCard.prototype.createCardModel = function(alert, isUserAuthenticated) {
            var _this = this;
            switch (alert.kind) {
              case "common":
                return new card_1.CommonCardModelImpl(alert, function(value, visibleValue) {
                    return _this.handlers("replace", value, visibleValue);
                }, isUserAuthenticated);

              case "synonym":
                return new card_1.SynonymsCardModelImpl(alert, function(value) {
                    return _this.handlers("replace", value);
                }, isUserAuthenticated);

              default:
                return null;
            }
        }, PositionedCard.prototype.render = function() {
            var _this = this, _a = this.state, pos = _a.pos, match = _a.match, visible = _a.visible, addedToDict = _a.addedToDict, rect = pos.rect, isFlip = rect.flip, styles = {
                top: rect.top,
                left: rect.left,
                visibility: visible ? "" : "hidden"
            };
            if (!visible) return React.createElement("div", null);
            var alert = GrammarlyEditorAlert.createAlert(match.rawMatch);
            if (!alert) return React.createElement("div", null);
            var cardModel = this.createCardModel(alert, !this.props.isAnonymous());
            return React.createElement("div", {
                style: styles,
                className: dom_1.cs(style.container, isFlip && style.flip, isFlip && "synonyms" === cardModel.kind && style.flipSyn)
            }, React.createElement(Card, {
                model: cardModel,
                onIgnore: function() {
                    return _this.handlers("ignore");
                },
                onAddToDictionary: function() {
                    return _this.handlers("add");
                },
                isAddedToDictionary: addedToDict,
                onLogin: function() {
                    return _this.handlers("login");
                },
                onEditor: function() {
                    return _this.handlers("editor");
                }
            }));
        }, PositionedCard;
    }(React.Component);
    exports.PositionedCard = PositionedCard;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var stdlib_1 = __webpack_require__(4), alert_1 = __webpack_require__(492);
    function createCommonAlert(rawMatch) {
        var extra = rawMatch.extra_properties, basicFields = function(rawMatch) {
            stdlib_1.assert("synonym" !== rawMatch.action, "Do not use `getBasicAlertFields` for synonyms.");
            var group = alert_1.alertGroupFromString(rawMatch.group);
            return null !== group ? {
                id: rawMatch.id.toString(),
                hidden: rawMatch.hidden,
                category: rawMatch.category,
                isFree: rawMatch.free,
                highlightText: rawMatch.highlightText,
                range: {
                    start: rawMatch.begin,
                    end: rawMatch.end
                },
                group: group
            } : null;
        }(rawMatch);
        if (null !== basicFields) {
            var extraFields = {
                title: rawMatch.title || "",
                details: rawMatch.details,
                explanation: rawMatch.explanation
            }, baseAlert = Object.assign(basicFields, extraFields), commonAlertMode = {
                kind: "common",
                todo: rawMatch.todo || "",
                point: rawMatch.point,
                cardLayout: rawMatch.cardLayout,
                replacements: (rawMatch.transforms || []).map(function(transformHtml, i) {
                    return alert_1.createReplacement(transformHtml, rawMatch.replacements[i]);
                }),
                extraProperties: {
                    hasAddToDictionary: !!extra.add_to_dict,
                    isDidYouMean: !!extra.did_you_mean,
                    isShowTitle: !!extra.show_title,
                    isEnchancement: !!extra.enhancement,
                    blogLink: extra.blog_link,
                    releaseDate: function(value) {
                        try {
                            return value ? Date.parse(value) : void 0;
                        } catch (_) {
                            return;
                        }
                    }(extra.release_date),
                    plagiarismUrl: extra.url,
                    sentence: extra.sentence,
                    priority: extra.priority ? parseInt(extra.priority, 10) : 0
                }
            };
            return Object.assign(baseAlert, commonAlertMode);
        }
        return null;
    }
    function createSynonymAlert(rawMatch) {
        var basicFields = function(rawMatch) {
            var start = Number(rawMatch.synonyms.pos), highlight = rawMatch.synonyms.token, end = start + highlight.length;
            return {
                id: String(rawMatch.id),
                hidden: !1,
                category: rawMatch.category,
                isFree: !0,
                highlightText: highlight,
                range: {
                    start: start,
                    end: end
                },
                group: alert_1.AlertGroup.synonym
            };
        }(rawMatch), extraFields = {
            title: rawMatch.synonyms.token,
            details: "",
            explanation: ""
        }, baseAlert = Object.assign(basicFields, extraFields), synonymAlert = {
            kind: "synonym",
            meanings: rawMatch.synonyms.meanings.map(function(m) {
                return {
                    title: m.meaning,
                    replacements: m.synonyms.map(function(s) {
                        return alert_1.createSimpleReplacement(s.derived);
                    })
                };
            }),
            replacements: (rawMatch.replacements || []).map(alert_1.createSimpleReplacement)
        };
        return Object.assign(baseAlert, synonymAlert);
    }
    exports.createAlert = function(rawMatch) {
        return rawMatch.group || "synonyms" !== rawMatch.action ? createCommonAlert(rawMatch) : createSynonymAlert(rawMatch);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __values = this && this.__values || function(o) {
        var m = "function" == typeof Symbol && o[Symbol.iterator], i = 0;
        return m ? m.call(o) : {
            next: function() {
                return o && i >= o.length && (o = void 0), {
                    value: o && o[i++],
                    done: !o
                };
            }
        };
    }, __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var tracking_1 = __webpack_require__(8);
    function createTransformPartMatcher(regex, createResult) {
        return {
            re: new RegExp("^(" + regex + ")(.*)$"),
            createResult: createResult
        };
    }
    var transformPartMatchers = [ createTransformPartMatcher("(?:\\<span class='gr_grammar_del'\\>([\\S\\s]*?)\\</span\\>)", function(gs) {
        return {
            type: "delete",
            text: gs[2]
        };
    }), createTransformPartMatcher("(?:\\<span class='gr_grammar_ins'\\>([\\S\\s]*?)\\</span\\>)", function(gs) {
        return {
            type: "insert",
            text: gs[2]
        };
    }), createTransformPartMatcher("()", function(_) {
        return {
            type: "arrow"
        };
    }), createTransformPartMatcher("([^<>]+)", function(gs) {
        return {
            type: "text",
            text: gs[1]
        };
    }) ];
    function parseTransformHtml(transformHtml) {
        function step(input) {
            try {
                for (var transformPartMatchers_1 = __values(transformPartMatchers), transformPartMatchers_1_1 = transformPartMatchers_1.next(); !transformPartMatchers_1_1.done; transformPartMatchers_1_1 = transformPartMatchers_1.next()) {
                    var matcher = transformPartMatchers_1_1.value, match = input.match(matcher.re);
                    if (null !== match) return [ matcher.createResult(match), match[match.length - 1] ];
                }
            } catch (e_1_1) {
                e_1 = {
                    error: e_1_1
                };
            } finally {
                try {
                    transformPartMatchers_1_1 && !transformPartMatchers_1_1.done && (_a = transformPartMatchers_1.return) && _a.call(transformPartMatchers_1);
                } finally {
                    if (e_1) throw e_1.error;
                }
            }
            var e_1, _a;
        }
        function fallbackStep(input) {
            var nextPartIndexes = [ "<span class='gr_grammar_del'>", "<span class='gr_grammar_ins'>", "" ].map(function(str) {
                return input.indexOf(str);
            });
            if (nextPartIndexes.findIndex(function(x) {
                return 0 === x;
            }) > 0) throw tracking_1.felog.couldNotParseTransform(transformHtml, !1), new Error("Couldn't parse transform: " + transformHtml);
            if ((nextPartIndexes = nextPartIndexes.filter(function(x) {
                return x > 0;
            })).length > 0) {
                var idx = Math.min.apply(Math, __spread(nextPartIndexes));
                return [ {
                    type: "text",
                    text: input.substring(0, idx)
                }, input.substring(idx) ];
            }
            return [ {
                type: "text",
                text: input
            }, "" ];
        }
        for (var input = transformHtml, output = [], failToParse = !1; input.length > 0; ) {
            var parse = step(input);
            if (void 0 === parse && (failToParse = !0), void 0 !== (parse = parse || fallbackStep(input))) {
                if ("insert" === parse[0].type) {
                    var last = output[output.length - 1];
                    last && "delete" === last.type && output.push({
                        type: "arrow"
                    });
                }
                output.push(parse[0]), input = parse[1];
            }
            (failToParse || void 0 === parse) && tracking_1.felog.couldNotParseTransform(transformHtml, void 0 === parse);
        }
        return output;
    }
    exports.parseTransformHtml = parseTransformHtml, exports.createReplacement = function(transformHtml, replacementText) {
        return {
            newText: replacementText,
            transform: parseTransformHtml(transformHtml)
        };
    }, exports.createSimpleReplacement = function(replacementText) {
        return {
            newText: replacementText,
            transform: [ {
                type: "insert",
                text: replacementText
            } ]
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var alert_1 = __webpack_require__(492), card_replacement_1 = __webpack_require__(493), CardModelBaseImpl = function() {
        return function(alert, isUserAuthenticated) {
            this.isUserAuthenticated = isUserAuthenticated, this.id = alert.id, this.title = alert.title, 
            this.explanation = alert.explanation, this.details = alert.details;
        };
    }();
    exports.CardModelBaseImpl = CardModelBaseImpl;
    var CommonCardModelImpl = function(_super) {
        function CommonCardModelImpl(_alert, _replace, isUserAuthenticated) {
            var _this = _super.call(this, _alert, isUserAuthenticated) || this;
            return _this._alert = _alert, _this._replace = _replace, _this.isUserAuthenticated = isUserAuthenticated, 
            _this.kind = "common", _this.details = _this._alert.details, _this.todo = _this._alert.todo, 
            _this.isUnknowWord = "Unknown" === _this._alert.category, _this.highlightText = _this._alert.highlightText, 
            _this.extraProperties = _this._alert.extraProperties, _this.cardLayout = _this._alert.cardLayout, 
            _this.hasAcknowledgeButton = 0 === _this._alert.replacements.length && _this._alert.group !== alert_1.AlertGroup.contextualSpelling, 
            _this.hasAddToDictionary = !!_this._alert.extraProperties.hasAddToDictionary, _this.isTextCard = card_replacement_1.isNoReplacement(_this._alert.replacements), 
            _this.title = _this._getTitle(), _this;
        }
        return __extends(CommonCardModelImpl, _super), CommonCardModelImpl.prototype._getTitle = function() {
            return this.isUnknowWord ? "Unknown word" : "Misspelled" === this._alert.category && "General" === this._alert.point ? "" : this._alert.extraProperties.isDidYouMean || this.extraProperties.isShowTitle ? "Check word usage" : this._alert.todo;
        }, CommonCardModelImpl.prototype.getFooterProps = function() {
            return {
                hasAcknowledgeButton: this.hasAcknowledgeButton,
                hasAddToDictionary: this.hasAddToDictionary
            };
        }, CommonCardModelImpl.prototype.getReplacements = function() {
            var replacements = this._alert.replacements;
            return card_replacement_1.isNoReplacement(replacements) ? new card_replacement_1.EmptyReplacement() : new card_replacement_1.CardReplacementList(this.title, replacements, this._replace);
        }, CommonCardModelImpl;
    }(CardModelBaseImpl);
    exports.CommonCardModelImpl = CommonCardModelImpl;
    var SynonymsCardModelImpl = function() {
        return function(_alert, _replace, isUserAuthenticated) {
            var _this = this;
            this._alert = _alert, this._replace = _replace, this.isUserAuthenticated = isUserAuthenticated, 
            this.kind = "synonyms", this.meanings = this._alert.meanings.map(function(m) {
                return {
                    title: m.title,
                    list: new card_replacement_1.CardReplacementFlatList("", m.replacements, function(value) {
                        return _this._replace(value);
                    })
                };
            }), this.isActive = !1, this.isAnyMeanings = Boolean(this.meanings.length), this.id = this._alert.id, 
            this.title = this._alert.title, this.explanation = "", this.details = "";
        };
    }();
    exports.SynonymsCardModelImpl = SynonymsCardModelImpl;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), dom_1 = __webpack_require__(3), card_replacement_1 = __webpack_require__(493), utils_1 = __webpack_require__(685), react_1 = __webpack_require__(22), style = __webpack_require__(494);
    function renderTransform(transform, onReplace, key) {
        return React.createElement(react_1.GenericButton, {
            clickHandler: onReplace
        }, React.createElement("span", {
            key: key,
            className: style[function(transform) {
                var deleteInsertParts = transform.filter(function(part) {
                    return "insert" === part.type || "delete" === part.type;
                });
                return deleteInsertParts.length > 0 ? deleteInsertParts[deleteInsertParts.length - 1].type + "Replacement" : "";
            }(transform)]
        }, function(transform) {
            return transform.slice(transform.findIndex(function(t) {
                return "arrow" === t.type;
            }) + 1);
        }(transform).map(function(part, i) {
            switch (part.type) {
              case "delete":
                return text = part.text, nextInsert = function(transform, from) {
                    var filtered = transform.slice(from).filter(function(p) {
                        return "insert" === p.type;
                    });
                    return filtered.length > 0 ? filtered[0].text : "";
                }(transform, i), key = i, React.createElement("span", {
                    className: dom_1.cs(style.deletePart, utils_1.isQuoteWithPunctuation(text) && style.deleteQuoteWithPunctuation, utils_1.isPunctuation(text) && style.deletePunctuation, utils_1.isColonOrSemicolon(text) && style.deleteColonOrSemicolon, utils_1.isComma(text) && style.deleteComma, utils_1.isExclamation(text) && style.deleteExclamation, utils_1.isDash(text) && style.deleteDash, utils_1.isQuestion(text) && style.deleteQuestion, utils_1.isEllipsis(text) && style.deleteEllipsis, utils_1.isQuote(text) && style.deleteQuote, utils_1.isPeriod(text) && style.deletePeriod, utils_1.isParenthesis(text) && style.deleteParenthesis, utils_1.isDoubleComma(text) && style.deleteDoubleComma, utils_1.isAphostrophe(text) && style.deleteAphostrophe, utils_1.isLetter(text) && style.deleteLetter, utils_1.isPunctuationAndLetter(text) && style.deletePunctuationBeforeLetter),
                    key: key
                }, utils_1.highlightDiff(nextInsert, text));

              case "insert":
                return function(text, previousDelete, isInsertWithWord, insertBeforeWord, key) {
                    return React.createElement("span", {
                        className: dom_1.cs(style.insertPart, isInsertWithWord && style.insertWithWord, utils_1.isSinglePunctuation(text) && style.insertPunctuation, utils_1.isQuestion(text) && style.insertQuestion, insertBeforeWord && style.nextIsWord),
                        key: key
                    }, utils_1.highlightDiff(previousDelete, text));
                }(part.text, function(transform, before) {
                    var filtered = transform.slice(0, before).filter(function(p) {
                        return "delete" === p.type;
                    });
                    return filtered.length > 0 ? filtered[0].text : "";
                }(transform, i), function(transform) {
                    return 0 === transform.filter(function(p) {
                        return "insert" !== p.type && "text" !== p.type;
                    }).length;
                }(transform), function(transform, from) {
                    return !!transform[from + 1] && "text" === transform[from + 1].type;
                }(transform, i), i);

              case "text":
                return function(text, isNextDelete, isNextInsert, key) {
                    return React.createElement("span", {
                        className: dom_1.cs(style.wordPart, isNextDelete && style.wordBeforeDelete, isNextInsert && style.wordBeforeInsert),
                        key: key
                    }, text);
                }(part.text, function(transform, from) {
                    return !!transform[from + 1] && "delete" === transform[from + 1].type;
                }(transform, i), function(transform, from) {
                    return !!transform[from + 1] && "insert" === transform[from + 1].type;
                }(transform, i), i);

              default:
                throw new Error("Part " + part + " should not exist");
            }
            var text, nextInsert, key;
        })));
    }
    function renderList(replacementList, flatten, itemClassName) {
        return React.createElement("div", {
            className: style.listReplacement
        }, replacementList.replacements.map(function(r, i) {
            return React.createElement(react_1.GenericButton, {
                key: i + r.newText,
                clickHandler: replacementList.getOnReplace(r)
            }, React.createElement("div", {
                key: i + r.newText,
                className: dom_1.cs(style.listItemReplacementWrapper, itemClassName, flatten && style.flattenListItemReplacementWrapper, 0 === i && !replacementList.headerText && style.listItemReplacementNoHeader)
            }, 0 === i && replacementList.headerText && (text = replacementList.headerText, 
            onReplace = replacementList.getOnReplace(r), React.createElement(react_1.GenericButton, {
                clickHandler: onReplace
            }, React.createElement("div", __assign({
                className: style.title
            }, react_1.setInnerHTML(text))))), React.createElement("span", {
                className: style.listItemReplacement
            }, renderTransform(r.transform, replacementList.getOnReplace(r), i))));
            var text, onReplace;
        }));
    }
    function getReplaceContent(replacement, itemClassName) {
        switch (replacement.template) {
          case card_replacement_1.CardReplacementTemplate.single:
            return function(replacement, itemClassName) {
                return React.createElement("div", {
                    className: dom_1.cs(style.singleReplacement, itemClassName)
                }, React.createElement("div", null, renderTransform(replacement.transform, replacement.onReplace)));
            }(replacement, itemClassName);

          case card_replacement_1.CardReplacementTemplate.list:
            return renderList(replacement, !1, itemClassName);

          case card_replacement_1.CardReplacementTemplate.flatList:
            return renderList(replacement, !0, itemClassName);

          default:
            throw new Error("Replacement template " + card_replacement_1.CardReplacementTemplate[replacement.template] + " is not supported");
        }
    }
    exports.Replacement = function(props) {
        return React.createElement("div", {
            className: dom_1.cs(style.replacement)
        }, getReplaceContent(props.replacement, props.itemClassName));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), textdiff_1 = __webpack_require__(201), style = __webpack_require__(494), punctuationRe = /["'.,;:!?\\\/\-()]/;
    function isPunctuation(s) {
        return null !== s && s.replace(/\s/g, "").length < 3 && null !== s.match(punctuationRe);
    }
    exports.isPunctuation = isPunctuation, exports.isColonOrSemicolon = function(s) {
        return null !== s && s.replace(/\s/g, "").length < 3 && null !== s.match(/[;:]/);
    }, exports.isSinglePunctuation = function(s) {
        return null !== s && 1 === s.replace(/\s/g, "").length && isPunctuation(s);
    }, exports.isQuoteWithPunctuation = function(s) {
        return null !== s && null !== s.match(/["'][.,;]/);
    }, exports.isQuote = function(s) {
        return '"' === s || "" === s || "" === s;
    }, exports.isDoubleComma = function(s) {
        return null !== s && null !== s.match(/,,/);
    }, exports.isPunctuationAndLetter = function(s) {
        return null !== s && s.match(/[.,;:!?\\\/\-()]\s*[a-z]/i);
    }, exports.isAphostrophe = function(s) {
        return "" === s;
    }, exports.isComma = function(s) {
        return "," === s;
    }, exports.isExclamation = function(s) {
        return "!" === s;
    }, exports.isDash = function(s) {
        return "-" === s || "" === s;
    }, exports.isQuestion = function(s) {
        return "?" === s;
    }, exports.isPeriod = function(s) {
        return "." === s;
    }, exports.isEllipsis = function(s) {
        return "" === s;
    }, exports.isParenthesis = function(s) {
        return ")" === s || "(" === s;
    }, exports.isLetter = function(s) {
        return null !== s && 1 === s.length && null !== s.match(/[a-z]/i);
    }, exports.highlightDiff = function(oldText, newText) {
        if (oldText.length <= 4) return React.createElement("span", null, newText);
        var _a = textdiff_1.textdiff(oldText, newText), from = _a.from, to = _a.to, oldFragment = _a.oldFragment, newFragment = _a.newFragment, isCase1 = 1 === newFragment.length && from > 0 && oldText[from - 1] === newFragment, isCase2 = 1 === oldFragment.length && 0 === newFragment.length && newText[from - 1] === oldFragment, newFrom = from, fragment = newFragment;
        return (isCase1 || isCase2) && (newFrom = from - 1), isCase1 && (fragment = newFragment + newFragment), 
        isCase2 && (fragment = oldFragment), fragment.length > 3 ? React.createElement("span", null, newText) : React.createElement("span", null, oldText.substring(0, newFrom), React.createElement("span", {
            className: style.bold
        }, fragment), oldText.substring(to));
    };
}, function(module, exports, __webpack_require__) {
    !function() {
        function diffPos(oldText, newText) {
            var td = textdiff(oldText, newText);
            return null == td.from ? {
                s: -1,
                delta: 0
            } : {
                s: td.from,
                delta: td.newFragment.length - td.oldFragment.length
            };
        }
        function textdiff(oldText, newText) {
            if (oldText === newText) return {};
            var oL = oldText.length, nL = newText.length;
            if (nL > oL) {
                if (newText.substr(0, oL) === oldText) return {
                    from: oL,
                    to: oL,
                    oldFragment: "",
                    newFragment: newText.substr(oL)
                };
                if (newText.substr(nL - oL) === oldText) return {
                    from: 0,
                    to: 0,
                    oldFragment: "",
                    newFragment: newText.substr(0, nL - oL)
                };
            }
            if (nL < oL) {
                if (oldText.substr(oL - nL) === newText) return {
                    from: 0,
                    to: oL - nL,
                    oldFragment: oldText.substr(0, oL - nL),
                    newFragment: ""
                };
                if (oldText.substr(0, nL) === newText) return {
                    from: nL,
                    to: oL,
                    oldFragment: oldText.substr(nL),
                    newFragment: ""
                };
            }
            var minL = nL < oL ? nL : oL, front = function(oldText, newText, minL) {
                var front = 0;
                for (;oldText[front] === newText[front] && front < minL; ) front += 1;
                return front;
            }(oldText, newText, minL), back = function(oldText, newText, oL, nL, minL) {
                var back = 0;
                for (;oldText[oL - back - 1] === newText[nL - back - 1] && minL - back >= 0; ) back += 1;
                return back;
            }(oldText, newText, oL, nL, minL);
            return front + back > oL && (back -= front + back - oL), front + back > nL && (back -= front + back - nL), 
            {
                from: front,
                to: oL - back,
                oldFragment: oldText.substr(front, oL - back - front),
                newFragment: newText.substr(front, nL - back - front)
            };
        }
        try {
            module.exports = {
                diffPos: diffPos,
                textdiff: textdiff
            };
        } catch (e) {}
    }();
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), position_1 = __webpack_require__(101), dom_1 = __webpack_require__(3), AnimationLine = (__webpack_require__(495), 
    function(_a) {
        var style = _a.style, className = _a.className;
        return React.createElement("div", {
            style: style,
            className: "g-selection-anim " + className
        });
    }), SelectionAnimator = function() {
        function SelectionAnimator(_doc) {
            void 0 === _doc && (_doc = document);
            var _this = this;
            this._doc = _doc, this._id = Symbol("SelectionAnimator"), this._cls = "", this._width80 = 0, 
            this._width20 = 0, this._component = null, this.render = function() {
                _this._component = dom_1.renderReactWithParent(React.createElement(AnimationLine, {
                    style: Object.assign({}, _this._style),
                    className: _this._cls
                }), _this._doc.documentElement, _this._id);
            }, this.remove = function() {
                _this._component && (_this._component.remove(), _this._component = null);
            }, this.complete = function() {
                _this._style.WebkitTransitionDuration = "0.2s", _this._style.MozTransitionDuration = "0.2s", 
                _this._style.transitionDuration = "0.2s", _this._style.width = _this._width80 + _this._width20, 
                _this._component && _this.render();
            };
        }
        return SelectionAnimator.prototype.animate = function(posEl, _cls) {
            var _this = this;
            void 0 === _cls && (_cls = ""), this._cls = _cls;
            var pos = position_1.getAbsRect(posEl);
            this._style = {
                top: pos.top + pos.height + 1,
                left: pos.left,
                width: 0,
                height: 2
            }, this._width20 = Math.ceil(pos.width / 8), this._width80 = pos.width - this._width20, 
            setTimeout(function() {
                _this._style.width = _this._width80, _this.render();
            }, 10), setTimeout(function() {
                _this.complete();
            }, 500), this.render();
        }, SelectionAnimator;
    }();
    exports.SelectionAnimator = SelectionAnimator;
}, function(module, exports) {}, function(module, exports) {}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), dom_1 = __webpack_require__(3), tracking_1 = __webpack_require__(20), react_1 = __webpack_require__(22), style = __webpack_require__(691), hideDelayAfterHover = 3e3, texts = {
        disable: {
            title: "Grammarly is now turned off on ",
            text: "The extension will remain disabled on this website until you enable it from the toolbar icon."
        },
        disableOnTab: {
            title: "Grammarly is temporarily disabled on ",
            text: "We will be here next time you visit this website. You can enable it from the toolbar icon."
        },
        reminder: {
            title: "Your writing is still not being checked on ",
            text: "Are you communicating at your best? Switch the extension back on and be confident about your writing."
        }
    }, NotificationComponent = function(_super) {
        function NotificationComponent(props) {
            var _this = _super.call(this, props) || this;
            return _this.onMouseEnter = function() {
                clearTimeout(_this._hideTimeout);
            }, _this.onMouseLeave = function() {
                _this._hideTimeout = setTimeout(_this.cancel, hideDelayAfterHover);
            }, _this.cancel = function() {
                _this._node ? (_this._node.style.opacity = "0", _this._node.addEventListener("transitionend", function() {
                    _this.props.remove();
                }, !1)) : _this.props.remove();
            }, _this.doNotShowReminderAgain = function() {
                _this.props.disableReminder(), tracking_1.gnar.disableReminderDoNotShowAgainButtonClick("reminder"), 
                _this.cancel();
            }, _this.state = {
                styles: {}
            }, _this;
        }
        return __extends(NotificationComponent, _super), NotificationComponent.prototype.componentDidMount = function() {
            var _this = this, node = ReactDOM.findDOMNode(this.refs.gNotification);
            node.style.setProperty("transition", "none", "important"), this._requestAnimationFrame = requestAnimationFrame(function() {
                node.style.setProperty("transition", "opacity 0.35s cubic-bezier(0.255,0.89,0.25,1.135),transform 0.35s cubic-bezier(0.255,0.89,0.25,1.135)", "important"), 
                requestAnimationFrame(function() {
                    if (node.style.opacity = "1", node.style.transform) {
                        var transforms = node.style.transform.split("(")[1].split(")")[0].split(","), x = parseInt(transforms[0], 10), y = parseInt(transforms[1], 10);
                        node.style.transform = "translate(" + x + "px, " + (y + node.clientHeight) + "px)";
                    }
                });
            }), this._node = node, this.setState(function() {
                return {
                    styles: _this.props.styles
                };
            }), this._hideTimeout = setTimeout(this.cancel, 5e3);
        }, NotificationComponent.prototype.componentWillUnmount = function() {
            cancelAnimationFrame(this._requestAnimationFrame);
        }, NotificationComponent.prototype.renderButtons = function() {
            switch (this.props.type) {
              case "disable":
                return React.createElement("div", null, React.createElement(react_1.GenericButton, {
                    clickHandler: this.cancel
                }, React.createElement("button", {
                    className: style.action
                }, "Got it")), React.createElement(react_1.GenericButton, {
                    clickHandler: this.props.enableOnDomain
                }, React.createElement("button", {
                    className: dom_1.cs(style.action, style.secondary)
                }, "Enable now")));

              case "disableOnTab":
                return React.createElement(react_1.GenericButton, {
                    clickHandler: this.cancel
                }, React.createElement("button", {
                    className: style.action
                }, "Got it"));

              case "reminder":
                return React.createElement("div", null, React.createElement(react_1.GenericButton, {
                    clickHandler: this.props.enableOnDomain
                }, React.createElement("button", {
                    className: style.action
                }, "Enable Grammarly")), React.createElement(react_1.GenericButton, {
                    clickHandler: this.doNotShowReminderAgain
                }, React.createElement("button", {
                    className: dom_1.cs(style.action, style.secondary)
                }, "Dont show this again")));

              default:
                return;
            }
        }, NotificationComponent.prototype.render = function() {
            var _a = texts[this.props.type], text = _a.text, title = _a.title;
            return React.createElement("div", {
                ref: "gNotification",
                className: dom_1.cs(style.notification, style[this.props.type]),
                style: this.state.styles,
                onMouseEnter: this.onMouseEnter,
                onMouseLeave: this.onMouseLeave
            }, React.createElement("p", {
                className: style.title
            }, title + this.props.domain), React.createElement("p", {
                className: style.text
            }, text), this.renderButtons(), React.createElement(react_1.GenericButton, {
                clickHandler: this.cancel
            }, React.createElement("button", {
                className: style.close
            })));
        }, NotificationComponent;
    }(React.Component);
    exports.NotificationComponent = NotificationComponent;
}, function(module, exports) {
    module.exports = {
        notification: "_2rE84",
        reminder: "Hfnz1",
        title: "_12zQl",
        text: "P9BCk",
        disableOnTab: "_1Gott",
        disable: "_1p5ZD",
        bold: "_20mY0",
        action: "E5VQR",
        secondary: "_2jEJZ",
        close: "_3zH0J"
    };
}, function(module, exports) {}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), react_dom_1 = __webpack_require__(19), extend = __webpack_require__(38), iframe_1 = __webpack_require__(353), signin_dialog_1 = __webpack_require__(694), onboarding_dialog_1 = __webpack_require__(706), unsupported_popup_dialog_1 = __webpack_require__(721), util_1 = __webpack_require__(2), message = __webpack_require__(16), timers_1 = __webpack_require__(102), tracking_1 = __webpack_require__(8), location_1 = __webpack_require__(15), dom_1 = __webpack_require__(3), tracking_2 = __webpack_require__(20), socket_1 = __webpack_require__(354), Config = __webpack_require__(11), firstLoadCls = "gr-iframe-first-load", baseSelector = ".gr_-editor", sel = function(c) {
        return ".gr_-editor_" + c;
    }, DialogComponent = function(_super) {
        function DialogComponent() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends(DialogComponent, _super), DialogComponent.prototype.render = function() {
            var c, defaultCls = "gr_-editor " + firstLoadCls;
            return React.createElement("div", {
                className: defaultCls,
                style: {
                    display: "none"
                }
            }, React.createElement("div", {
                className: (c = "back", "gr_-editor_" + c)
            }), React.createElement(iframe_1.IframeComponent, null));
        }, DialogComponent;
    }(React.Component);
    exports.DialogComponent = DialogComponent, exports.Dialog = function(_a) {
        var el, backEl, rendered, openData, signinDialog, onboarding, doc = _a.doc, iframe = _a.iframe, user = _a.user, page = _a.page, _b = _a.actions, updateSettings = _b.updateSettings, incFixed = _b.incFixed, saveAnonymousProps = _b.saveAnonymousProps, showEdgePopupFromGButton = _b.showEdgePopupFromGButton, id = "Dialog", open = !1, dialectStrong = page && page.dialectStrong, me = {
            show: show,
            hide: hide,
            updateState: function(newUser, newPage) {
                var needToRefresh = !1 === user.anonymous && !1 === newUser.anonymous && user.premium !== newUser.premium, dialectChanged = dialectStrong !== newPage.dialectStrong;
                user = newUser, dialectStrong = (page = newPage).dialectStrong, signinDialog && signinDialog.updateUser(newUser), 
                onboarding && onboarding.updateUser(newUser), needToRefresh && iframe.refresh(), 
                dialectChanged && iframe.send({
                    action: "hard-reset"
                });
            },
            preActivate: function() {
                user.anonymous || iframe.activate();
            },
            render: render,
            getSignin: getSignin,
            remove: function() {
                window === window.top && (message.off("show-dialog", show), message.off("hide-dialog", hide), 
                message.off("reset", onRefreshDialog), message.off(socket_1.MessageTypes.serverIframe, onSocketMessageFromBg)), 
                iframe.deactivate(), iframe.off("message", onMessage);
                var wrapper = el && el.parentNode;
                wrapper && wrapper.parentNode && wrapper.parentNode.removeChild(wrapper);
            },
            refresh: refresh
        };
        iframe && iframe.on("message", onMessage), window === window.top && (message.on("show-dialog", show), 
        message.on("hide-dialog", hide), message.on("reset", onRefreshDialog), message.on(socket_1.MessageTypes.serverIframe, onSocketMessageFromBg));
        var onTextChanged = function(data) {
            message.emitFocusedTab("editor-set-state", data);
        };
        return me;
        function toggleScroll(mode) {
            var isOff = "off" === mode;
            dom_1.toggleClass(doc.body, isOff, "gr-disable-scroll"), dom_1.toggleClass(doc.documentElement, isOff, "gr-disable-scroll");
        }
        function onRefreshDialog() {
            openData && !user.anonymous && refresh();
        }
        function getSignin(user, placement, totalErrors, shouldOpenLoginView) {
            return new signin_dialog_1.SigninDialog({
                doc: doc,
                user: user,
                placement: placement,
                totalErrors: totalErrors,
                shouldOpenLoginView: shouldOpenLoginView
            });
        }
        function showUnsupportedPopupDialog(editorId, text) {
            toggleScroll("off"), function(text) {
                return new unsupported_popup_dialog_1.UnsupportedPopupDialog({
                    doc: doc,
                    text: text,
                    showEdgePopupFromGButton: showEdgePopupFromGButton
                });
            }(text).one("hide", function() {
                toggleScroll("on"), message.emitFocusedTab("focus-editor", editorId);
            });
        }
        function showOnboarding(editorId) {
            toggleScroll("off"), (onboarding = function(user) {
                return new onboarding_dialog_1.OnboardingDialog({
                    doc: doc,
                    user: user,
                    saveAnonymousProps: saveAnonymousProps
                });
            }(user)).one("hide", function() {
                toggleScroll("on"), message.emitFocusedTab("focus-editor", editorId);
            });
        }
        function render() {
            rendered = !0, (el = doc.querySelector(baseSelector)) || (el = react_dom_1.findDOMNode(dom_1.renderReactWithParent(React.createElement(DialogComponent, null), doc.documentElement, util_1.guid()).component)), 
            backEl = el.querySelector(sel("back"));
        }
        function docClick(e) {
            e.stopPropagation(), hide();
        }
        function refresh() {
            if (open) {
                iframe.el.style.background = "";
                var origOnTextChanged_1 = onTextChanged;
                return onTextChanged = function(data) {
                    onTextChanged = origOnTextChanged_1, iframe.refresh(), message.emitFocusedTab("after-refresh-dialog", data);
                }, void hide();
            }
            iframe.refresh();
        }
        function socketToListenIframe(isOn) {
            message.emitBackground(socket_1.MessageTypes.iframeMode, {
                iframeMode: isOn,
                id: openData.socketId
            });
        }
        function show(_a) {
            var cb, url, called, script, cleanAndCb, timeout, data = _a.data, caller = _a.caller, isOnboarding = _a.isOnboarding, editorId = _a.editorId, totalErrors = _a.totalErrors, shouldOpenLoginView = _a.shouldOpenLoginView;
            return timers_1.timers.start(id), openData = data, isOnboarding ? showOnboarding(editorId) : user.anonymous ? function(caller, user, totalErrors, shouldOpenLoginView) {
                toggleScroll("off"), (signinDialog = getSignin(user, caller, totalErrors, shouldOpenLoginView)).one("hide", function() {
                    toggleScroll("on"), message.emitFocusedTab("focus-editor", openData.editorId), tracking_1.felog.signinClose(timers_1.timers.stop(id));
                }), tracking_1.felog.signinOpen(), shouldOpenLoginView ? tracking_2.gnar.signInOverlayShow(caller) : tracking_2.gnar.signUpOverlayShow(caller);
            }(caller, user, totalErrors, shouldOpenLoginView) : void (util_1.isEdge() ? (cb = function(hasHeaders) {
                if (hasHeaders) {
                    var text = data.api.text;
                    page.showEdgePopupFromGButton ? message.emitBackground("create-document", text) : showUnsupportedPopupDialog(editorId, text);
                } else iframe.activate(), showEditor(data);
            }, url = Config.getGlobal().appConfig.url.emptyScriptUrl, called = !1, script = document.createElement("script"), 
            cleanAndCb = function(b) {
                called || (document.body.removeChild(script), cb(b), called = !0);
            }, timeout = setTimeout(function() {
                return cleanAndCb(!0);
            }, 1200), script.setAttribute("src", url), script.onload = function() {
                clearTimeout(timeout), cleanAndCb(!1);
            }, document.body.appendChild(script)) : (iframe.activate(), showEditor(data)));
        }
        function showEditor(data) {
            rendered || render(), el.style.opacity = "0", dom_1.addClass(el, "gr-_show");
            var domain, sendData = extend({
                favicon: location_1.getFavicon(),
                page: (domain = location_1.getDomain(), "Back to " + (domain && {
                    "mail.google.com": "Gmail",
                    "facebook.com": "Facebook",
                    "twitter.com": "Twitter"
                }[domain] || document.title))
            }, data);
            iframe.send(sendData), socketToListenIframe(!0), setTimeout(function() {
                return el.style.opacity = "1";
            }, 100), toggleScroll("off"), dom_1.listen(doc.body, "keydown", onKey, !1), dom_1.listen(backEl, "click", docClick, !1), 
            dom_1.listen(el, "click", docClick, !1), open = !0;
        }
        function onMessage(data) {
            var action = data.action;
            "edit" === action && onTextChanged(data), "close" === action && hide(), "initialized" === action && (function(data) {
                var type = "Premium" === data.userType ? "freemium-plus" : "freemium";
                doc.documentElement.setAttribute("data-type", type);
            }(data), setTimeout(function() {
                return iframe.el.style.background = "transparent";
            }, 300)), "socket" === action && message.emitBackground(socket_1.MessageTypes.client, data), 
            "setSettings" === action && updateSettings(data.data), "tracking" === action && data.method && tracking_1.call(data.method, data.param, data.props), 
            "popup-editor-fix" === action && incFixed(), "open-url" === action && (!0 === data.upgradeHookUrl && (tracking_2.gnar.getPremiumButtonClick(data.placement || "popupEditor"), 
            tracking_1.felog.userUpgradeClick(data.placement || "popupEditor")), message.emitBackground("open-url", data.url));
        }
        function onSocketMessageFromBg(data, cb) {
            openData && data.socketId === openData.socketId && (cb("ok"), data.action = "socket", 
            iframe.send(data));
        }
        function hide() {
            open && (open = !1, toggleScroll("on"), el.style.opacity = "0", dom_1.removeClass(el, "gr-_show"), 
            dom_1.removeClass(el, firstLoadCls), dom_1.unlisten(doc.body, "keydown", onKey, !1), 
            dom_1.unlisten(backEl, "click", docClick, !1), dom_1.unlisten(el, "click", docClick, !1), 
            iframe.send({
                action: "hide"
            }), socketToListenIframe(!1), message.emitFocusedTab("dialog-closed", openData.editorId));
        }
        function onKey(e) {
            if (util_1.keyCode(e) === util_1.ESC_KEY && open) return e.stopPropagation(), e.preventDefault(), 
            hide();
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), util_1 = __webpack_require__(2), dom_1 = __webpack_require__(3), signin_dialog_1 = __webpack_require__(695), emitter = __webpack_require__(18), SigninDialog = function(_super) {
        function SigninDialog(_a) {
            var doc = _a.doc, container = _a.container, user = _a.user, placement = _a.placement, totalErrors = _a.totalErrors, shouldOpenLoginView = _a.shouldOpenLoginView, _this = _super.call(this) || this;
            return _this.userWasAuthenticated = !1, _this.shouldOpenLoginView = !1, _this.updateUser = function(user) {
                !0 === _this.user.anonymous && !1 === user.anonymous && (_this.userWasAuthenticated = !0), 
                _this.user = user, _this.render();
            }, _this.onKey = function(e) {
                _this.dialogComponent && _this.dialogComponent.refs && _this.dialogComponent.refs.form.onKey(e);
            }, _this.onClose = function() {
                _this.emit("hide"), _this.remove();
            }, _this.containerClickHandler = function(e) {
                e.stopPropagation(), e.stopImmediatePropagation();
            }, _this.doc = doc, _this.user = user, _this.placement = placement, _this.totalErrors = totalErrors, 
            _this.shouldOpenLoginView = !!shouldOpenLoginView, container && (_this.container = container), 
            _this.render(), _this;
        }
        return __extends(SigninDialog, _super), SigninDialog.prototype.checkContainer = function() {
            this.container || (this.container = this.doc.createElement("signin_dialog"), this.container.addEventListener("click", this.containerClickHandler), 
            this.doc.documentElement.appendChild(this.container), dom_1.listen(this.doc.defaultView, "keydown", this.onKey, !1));
        }, SigninDialog.prototype.render = function() {
            var user = this.user, userWasAuthenticated = this.userWasAuthenticated;
            this.checkContainer(), this.dialogComponent = ReactDOM.render(React.createElement(signin_dialog_1.SigninDialogComponent, {
                username: user && user.firstName || "",
                experiments: user && user.experiments,
                userWasAuthenticated: userWasAuthenticated,
                onClose: this.onClose,
                placement: this.placement,
                totalErrors: this.totalErrors,
                shouldOpenLoginView: this.shouldOpenLoginView
            }), this.container);
        }, SigninDialog.prototype.remove = function() {
            dom_1.unlisten(this.doc.defaultView, "keydown", this.onKey, !1), this.container && (this.container.removeEventListener("click", this.containerClickHandler), 
            ReactDOM.unmountComponentAtNode(this.container)), this.container.parentNode && this.container.parentNode.removeChild(this.container);
        }, SigninDialog;
    }(util_1.createClass(emitter));
    exports.SigninDialog = SigninDialog;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), util_1 = __webpack_require__(2), dom_1 = __webpack_require__(3), signin_form_1 = __webpack_require__(696), react_1 = __webpack_require__(22), style = __webpack_require__(705), SigninDialogComponent = function(_super) {
        function SigninDialogComponent() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.onClick = function(e) {
                dom_1.matchesSelector(e.target, "." + style.content + ", ." + style.content + " *") || _this.onClose(e);
            }, _this.onClose = function(e) {
                e && e.stopPropagation();
                var el = ReactDOM.findDOMNode(_this.refs["signin-dialog-el"]), content = ReactDOM.findDOMNode(_this.refs["signin-content"]);
                content && el && (content.style.opacity = "0", el.style.opacity = "0"), _this._closeTimeout = setTimeout(function() {
                    return _this.props.onClose();
                }, 500);
            }, _this;
        }
        return __extends(SigninDialogComponent, _super), SigninDialogComponent.prototype.componentDidMount = function() {
            var el = ReactDOM.findDOMNode(this.refs["signin-dialog-el"]), content = ReactDOM.findDOMNode(this.refs["signin-content"]);
            el && content && (this._requestAnimationFrame = requestAnimationFrame(function() {
                content.style.opacity = "0", el.style.opacity = "0", requestAnimationFrame(function() {
                    el.style.opacity = "1", content.style.opacity = "1";
                });
            }));
        }, SigninDialogComponent.prototype.componentWillUnmount = function() {
            clearTimeout(this._closeTimeout), cancelAnimationFrame(this._requestAnimationFrame);
        }, SigninDialogComponent.prototype.render = function() {
            var classes = dom_1.cs(style.signinDialog, util_1.isWindows() && style.windows), _a = this.props, userWasAuthenticated = _a.userWasAuthenticated, placement = _a.placement, username = _a.username, totalErrors = _a.totalErrors, shouldOpenLoginView = _a.shouldOpenLoginView;
            return React.createElement(react_1.GenericButton, {
                clickHandler: this.onClick
            }, React.createElement("div", {
                ref: "signin-dialog-el",
                className: classes,
                style: {
                    opacity: 0
                }
            }, React.createElement("div", {
                ref: "signin-content",
                className: style.content,
                style: {
                    opacity: 0
                }
            }, React.createElement(signin_form_1.Form, {
                ref: "form",
                username: username,
                placement: placement,
                totalErrors: totalErrors,
                userWasAuthenticated: userWasAuthenticated,
                shouldOpenLoginView: shouldOpenLoginView,
                onClose: this.onClose
            }))));
        }, SigninDialogComponent;
    }(React.Component);
    exports.SigninDialogComponent = SigninDialogComponent;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    }), __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    }, __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function(resolve, reject) {
            function fulfilled(value) {
                try {
                    step(generator.next(value));
                } catch (e) {
                    reject(e);
                }
            }
            function rejected(value) {
                try {
                    step(generator.throw(value));
                } catch (e) {
                    reject(e);
                }
            }
            function step(result) {
                result.done ? resolve(result.value) : new P(function(resolve) {
                    resolve(result.value);
                }).then(fulfilled, rejected);
            }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }, __generator = this && this.__generator || function(thisArg, body) {
        var f, y, t, g, _ = {
            label: 0,
            sent: function() {
                if (1 & t[0]) throw t[1];
                return t[1];
            },
            trys: [],
            ops: []
        };
        return g = {
            next: verb(0),
            throw: verb(1),
            return: verb(2)
        }, "function" == typeof Symbol && (g[Symbol.iterator] = function() {
            return this;
        }), g;
        function verb(n) {
            return function(v) {
                return function(op) {
                    if (f) throw new TypeError("Generator is already executing.");
                    for (;_; ) try {
                        if (f = 1, y && (t = y[2 & op[0] ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                        switch (y = 0, t && (op = [ 0, t.value ]), op[0]) {
                          case 0:
                          case 1:
                            t = op;
                            break;

                          case 4:
                            return _.label++, {
                                value: op[1],
                                done: !1
                            };

                          case 5:
                            _.label++, y = op[1], op = [ 0 ];
                            continue;

                          case 7:
                            op = _.ops.pop(), _.trys.pop();
                            continue;

                          default:
                            if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                                _ = 0;
                                continue;
                            }
                            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                                _.label = op[1];
                                break;
                            }
                            if (6 === op[0] && _.label < t[1]) {
                                _.label = t[1], t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2], _.ops.push(op);
                                break;
                            }
                            t[2] && _.ops.pop(), _.trys.pop();
                            continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [ 6, e ], y = 0;
                    } finally {
                        f = t = 0;
                    }
                    if (5 & op[0]) throw op[1];
                    return {
                        value: op[0] ? op[1] : void 0,
                        done: !0
                    };
                }([ n, v ]);
            };
        }
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), url_1 = __webpack_require__(90), fieldset_1 = __webpack_require__(497), utils_1 = __webpack_require__(498), util_1 = __webpack_require__(2), welcome_1 = __webpack_require__(499), login_success_1 = __webpack_require__(500), dom_1 = __webpack_require__(3), react_1 = __webpack_require__(22), style = __webpack_require__(704), list = {
        mistakes: [ "See detailed corrections", "Track how your writing improves", "Toggle Grammarly on and off" ],
        noMistakes: [ "Enable/disable on preferred websites", "Store your personal dictionary", "Get weekly writing statistics and tips" ]
    }, listIcon = React.createElement("svg", {
        className: style.listIcon,
        width: "15",
        height: "11",
        xmlns: "http://www.w3.org/2000/svg"
    }, React.createElement("path", {
        d: "M1.163 4.78l4.26 4.204 8.02-7.912",
        stroke: "#15C39A",
        strokeWidth: "2",
        fill: "none",
        fillRule: "evenodd",
        strokeLinecap: "round"
    })), ErrorInfo = function(_a) {
        var totalErrors = _a.totalErrors;
        return React.createElement("div", {
            className: style.info
        }, React.createElement("div", {
            className: style.totalErrors
        }, totalErrors), React.createElement("div", {
            className: style.errorImg
        }), React.createElement("div", {
            className: dom_1.cs(style.title, style.errors)
        }, "Weve found ", totalErrors, " writing ", totalErrors > 1 ? "issues" : "issue", " in your text."), React.createElement("div", {
            className: style.subTitle
        }, "CREATE AN ACCOUNT TO"), list.mistakes.map(function(x) {
            return React.createElement("div", {
                key: x,
                className: style.listItem
            }, listIcon, x);
        }));
    }, getLoader = function() {
        return React.createElement("svg", {
            className: style.loader,
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            xmlns: "http://www.w3.org/2000/svg"
        }, React.createElement("g", {
            transform: "translate(3 3)",
            stroke: "#FFF",
            strokeWidth: "2",
            fill: "none",
            fillRule: "evenodd",
            strokeLinecap: "round"
        }, React.createElement("circle", {
            opacity: ".3",
            cx: "9",
            cy: "9",
            r: "9"
        }), React.createElement("path", {
            d: "M9 0a9 9 0 0 0-9 9"
        })));
    }, SignUpFormLayout = function() {
        function SignUpFormLayout() {}
        return SignUpFormLayout.prototype.getInfoSection = function() {
            return React.createElement("div", {
                className: style.info
            }, React.createElement("div", {
                className: style.signupImg
            }), React.createElement("div", {
                className: style.title
            }, "Grammarly is active, but key features are missing."), React.createElement("div", {
                className: style.subTitle
            }, "CREATE AN ACCOUNT TO"), list.noMistakes.map(function(x) {
                return React.createElement("div", {
                    key: x,
                    className: style.listItem
                }, listIcon, x);
            }));
        }, SignUpFormLayout.prototype.getFormSection = function(state, onValidate, onInputChange) {
            return React.createElement(fieldset_1.Fieldset, {
                forceValidation: state.wasSubmitted,
                validation: state.validation,
                onValidate: onValidate,
                onInputChange: onInputChange,
                formData: state.data,
                fields: [ "name", "email", "password" ],
                ref: "fieldset",
                fieldStyle: "experiment"
            });
        }, SignUpFormLayout.prototype.getSubmitButton = function(onSubmit, loading) {
            return React.createElement(react_1.GenericButton, {
                clickHandler: onSubmit
            }, React.createElement("button", {
                className: style.button
            }, loading ? getLoader() : "CREATE ACCOUNT"));
        }, SignUpFormLayout.prototype.getFormFooterSection = function(toggleView) {
            return React.createElement("div", {
                className: style.formFooter
            }, "Already have an account?", " ", React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    return toggleView();
                }
            }, React.createElement("button", {
                tabIndex: 0,
                className: style.formLink
            }, "Log in")));
        }, SignUpFormLayout.prototype.getFooterSection = function() {
            return React.createElement("div", {
                className: style.footer
            }, "By signing up, you agree to the", React.createElement("a", {
                className: style.link,
                tabIndex: -1,
                target: "__blank",
                href: url_1.getTermsURL()
            }, "Terms and Conditions"), " ", "and", " ", React.createElement("a", {
                className: style.link,
                tabIndex: -1,
                target: "__blank",
                href: url_1.getPrivatePolicyURL()
            }, "Privacy Policy"), ".You also agree to receive product-related emails from Grammarly, which you can unsubscribe from at any time.");
        }, SignUpFormLayout.prototype.getSuccessState = function(onClose) {
            return React.createElement("div", {
                className: style.container
            }, React.createElement("div", {
                className: style.successState
            }, React.createElement(welcome_1.Welcome, {
                isShow: !0,
                onClose: function() {
                    return onClose();
                },
                onGoPremium: function() {
                    return utils_1.goPremium();
                },
                isExperiment: !0
            })));
        }, SignUpFormLayout;
    }(), SignInFormLayout = function() {
        function SignInFormLayout() {}
        return SignInFormLayout.prototype.getInfoSection = function() {
            return React.createElement("div", {
                className: dom_1.cs(style.info, style.signin)
            }, React.createElement("div", {
                className: style.loginImg
            }), React.createElement("div", {
                className: style.title
            }, "Log in to your Grammarly account to"), list.noMistakes.map(function(x) {
                return React.createElement("div", {
                    key: x,
                    className: dom_1.cs(style.listItem, style.signin)
                }, listIcon, x);
            }));
        }, SignInFormLayout.prototype.getFormSection = function(state, onValidate, onInputChange) {
            return React.createElement(fieldset_1.Fieldset, {
                forceValidation: state.wasSubmitted,
                validation: state.validation,
                onValidate: onValidate,
                onInputChange: onInputChange,
                ref: "fieldset",
                formData: state.data,
                fields: [ "email", "password" ],
                fieldStyle: "experiment"
            });
        }, SignInFormLayout.prototype.getSubmitButton = function(onSubmit, loading) {
            return React.createElement(react_1.GenericButton, {
                clickHandler: onSubmit
            }, React.createElement("button", {
                className: style.button
            }, loading ? getLoader() : "LOG IN"));
        }, SignInFormLayout.prototype.getFormFooterSection = function(toggleView, email) {
            return React.createElement("div", {
                className: style.formFooter
            }, React.createElement("a", {
                target: "__blank",
                tabIndex: 0,
                href: utils_1.getResetPassLink(email),
                className: style.formLink
            }, "Forgot password?"), React.createElement("div", null, "New to Grammarly?", " ", React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    return toggleView();
                }
            }, React.createElement("button", {
                tabIndex: 0,
                className: style.formLink
            }, "Create a free account"))));
        }, SignInFormLayout.prototype.getFooterSection = function() {
            return React.createElement("div", {
                className: style.footer
            }, "By logging in, you agree to the", React.createElement("a", {
                className: style.link,
                tabIndex: -1,
                target: "__blank",
                href: url_1.getTermsURL()
            }, "Terms and Conditions"), " ", "and", " ", React.createElement("a", {
                className: style.link,
                tabIndex: -1,
                target: "__blank",
                href: url_1.getPrivatePolicyURL()
            }, "Privacy Policy"));
        }, SignInFormLayout.prototype.getSuccessState = function(onClose, username) {
            return React.createElement("div", {
                className: style.container
            }, React.createElement("div", {
                className: style.successState
            }, React.createElement(login_success_1.LoginSuccess, {
                username: username,
                onClose: function() {
                    return onClose();
                }
            })));
        }, SignInFormLayout;
    }(), Form = function(_super) {
        function Form(props) {
            var _this = _super.call(this, props) || this;
            return _this.onInputChange = function(name) {
                return function(value) {
                    return _this.setState(function(s) {
                        var newState = Object.assign({}, s);
                        return newState.data[name] = value, newState;
                    });
                };
            }, _this.onValidate = function(name) {
                return function(_) {
                    _this.setState(function(s) {
                        var newState = Object.assign({}, s), dataToValidate = Object.assign({}, "signup" === s.formType ? s.data : {
                            email: s.data.email,
                            password: s.data.password
                        }), validation = utils_1.validate(dataToValidate, "signup" === s.formType);
                        return newState.validation[name] = validation[name], newState.validation._valid = validation._valid, 
                        newState;
                    });
                };
            }, _this.onKey = function(e) {
                if (util_1.keyCode(e) === util_1.ESC_KEY && _this.props.onClose(), util_1.keyCode(e) === util_1.ENTER_KEY) {
                    if ("A" === e.target.tagName) return;
                    _this.onSubmit();
                }
            }, _this.onClick = function(e) {
                return "login" === e.target.dataset.view && _this.toggleView();
            }, _this.onSocialClick = function(type) {
                if (!_this.state.loading) {
                    var formType = _this.state.formType;
                    "login" === formType && window.open("fb" === type ? url_1.getFbSigninURL() : url_1.getGoogleSigninURL()), 
                    "signup" === formType && window.open("fb" === type ? url_1.getFbSignupURL("signupHook") : url_1.getGoogleSignupURL("signupHook"));
                }
            }, _this.onSubmit = function() {
                _this.validation(), _this.setState(function(s) {
                    return !1 === s.validation._valid ? Object.assign(s, {
                        wasSubmitted: !0
                    }) : (_this.requestToAuth(), Object.assign(s, {
                        loading: !0,
                        wasSubmitted: !0,
                        validation: {
                            error: ""
                        }
                    }));
                });
            }, _this.requestToAuth = function() {
                return __awaiter(_this, void 0, void 0, function() {
                    var res;
                    return __generator(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return [ 4, utils_1.sendAuthRequest(this.state.data, this.state.validation, "signup" === this.state.formType, this.props.placement) ];

                          case 1:
                            return res = _a.sent(), this.setState(function(s) {
                                var newState = Object.assign({}, s);
                                return newState.loading = !1, res._valid ? newState : (newState.validation.error = res.error, 
                                newState);
                            }), [ 2 ];
                        }
                    });
                });
            }, _this.state = {
                formType: "signup",
                validation: {
                    _valid: !0
                },
                loading: !1,
                wasSubmitted: !1,
                data: {
                    name: "",
                    email: "",
                    password: ""
                }
            }, _this;
        }
        return __extends(Form, _super), Form.prototype.componentDidMount = function() {
            var _this = this, formType = !0 === this.props.shouldOpenLoginView ? "login" : "signup";
            setTimeout(function() {
                return _this.refs.fieldset && _this.refs.fieldset.setFocus("signup" === formType ? "name" : "email");
            }, 350), this.setState(function(s) {
                return Object.assign({}, s, {
                    formType: formType
                });
            });
        }, Form.prototype.componentDidUpdate = function(_prevProps, prevState) {
            var formType = this.state.formType;
            "login" !== formType && "signup" !== formType || prevState.formType === formType || !this.refs.fieldset || this.refs.fieldset.setFocus("signup" === formType ? "name" : "email");
        }, Form.prototype.toggleView = function() {
            this.setState(function(s) {
                var newState = __assign({}, s);
                return newState.formType = "signup" === s.formType ? "login" : "signup", newState.data.password = "", 
                newState.validation = {
                    _valid: !0
                }, newState.wasSubmitted = !1, newState;
            });
        }, Form.prototype.validation = function() {
            var _this = this;
            ("signup" === this.state.formType ? [ "name", "email", "password" ] : [ "email", "password" ]).forEach(function(x) {
                return _this.onValidate(x)(_this.state.data[x]);
            });
        }, Form.prototype.renderForm = function(layout) {
            var onSocialClick, error, _this = this, totalErrors = this.props.totalErrors, getFooterSection = layout.getFooterSection, getFormSection = layout.getFormSection, getSubmitButton = layout.getSubmitButton, getFormFooterSection = layout.getFormFooterSection, getInfoSection = layout.getInfoSection, cls = dom_1.cs(style.form, style["signup" === this.state.formType ? "register" : "login"]);
            return React.createElement("div", {
                className: style.container
            }, totalErrors > 0 ? React.createElement(ErrorInfo, {
                totalErrors: totalErrors
            }) : getInfoSection(), React.createElement(react_1.GenericButton, {
                clickHandler: this.onClick
            }, React.createElement("div", {
                className: cls
            }, React.createElement("div", {
                className: style.content
            }, (onSocialClick = this.onSocialClick, error = this.state.validation.error, React.createElement("div", null, error && React.createElement("div", {
                className: style.validationError,
                dangerouslySetInnerHTML: {
                    __html: error
                }
            }), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    return onSocialClick("fb");
                }
            }, React.createElement("button", {
                className: style.fb,
                tabIndex: 0
            }, "Continue with Facebook")), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    return onSocialClick("google");
                }
            }, React.createElement("button", {
                className: style.google,
                tabIndex: 0
            }, "Continue with Google")), React.createElement("div", {
                className: style.or
            }, "OR"))), getFormSection(this.state, this.onValidate, this.onInputChange), getSubmitButton(this.onSubmit, this.state.loading), getFormFooterSection(function() {
                return _this.toggleView();
            }, this.state.data.email)))), getFooterSection(), React.createElement(react_1.GenericButton, {
                clickHandler: this.props.onClose
            }, React.createElement("div", {
                className: style.btnClose
            })));
        }, Form.prototype.render = function() {
            var userWasAuthenticated = this.props.userWasAuthenticated, layout = "signup" === this.state.formType ? new SignUpFormLayout() : new SignInFormLayout();
            return !0 === userWasAuthenticated ? layout.getSuccessState(this.props.onClose, this.props.username) : this.renderForm(layout);
        }, Form;
    }(React.Component);
    exports.Form = Form;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    }), __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), util_1 = __webpack_require__(2), util_2 = __webpack_require__(2), dom_1 = __webpack_require__(3), style = __webpack_require__(698), Input = function(_super) {
        function Input() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.id = util_1.guid(), _this.state = {
                cancelValidation: !0,
                dirty: !1
            }, _this.onBlur = function() {
                _this.setState({
                    cancelValidation: !1
                }), _this.props.onValidate(_this.value);
            }, _this.onChange = function() {
                _this.setState({
                    cancelValidation: !0,
                    dirty: !0
                }), _this.props.onInputChange(_this.value);
            }, _this;
        }
        return __extends(Input, _super), Input.prototype.getValidation = function() {
            return (this.props.validation && !this.state.cancelValidation && this.state.dirty || this.props.forceValidation) && React.createElement("div", {
                className: style.validation,
                dangerouslySetInnerHTML: {
                    __html: this.props.validation
                }
            });
        }, Object.defineProperty(Input.prototype, "value", {
            get: function() {
                return this.refs.input.value;
            },
            enumerable: !0,
            configurable: !0
        }), Input.prototype.render = function() {
            var _a = this.props, name = _a.name, type = _a.type, label = _a.label, value = _a.value, fieldStyle = _a.fieldStyle, isExperiment = "experiment" === fieldStyle, inputProps = {
                name: name,
                type: type,
                value: value,
                id: this.id,
                ref: "input",
                required: !0,
                spellCheck: !1,
                onBlur: this.onBlur,
                onChange: this.onChange,
                className: style["input-" + fieldStyle]
            }, cls = dom_1.cs(style.input, util_2.isWindows() && style.windows, isExperiment && style.experiment);
            return React.createElement("div", {
                className: cls
            }, this.getValidation(), React.createElement("input", __assign({}, inputProps)), React.createElement("label", {
                htmlFor: this.id,
                className: style.label
            }, label));
        }, Input;
    }(React.Component);
    exports.Input = Input;
}, function(module, exports) {
    module.exports = {
        input: "JX7Ys",
        experiment: "_2HdZc",
        label: "_3AVch",
        windows: "_3D45i",
        "input-regular": "_1xGB3",
        "input-experiment": "_2RxtK",
        validation: "_1OVuq"
    };
}, function(module, exports) {
    module.exports = {
        inputs: "_6NGF_",
        hidden: "_1MhW7"
    };
}, function(module, exports) {
    module.exports = {
        welcome: "_1huZk",
        windows: "_3hoF0",
        experiment: "_2ymZ5",
        title: "_1rTSt",
        goPremium: "_2msYw",
        text: "_6k5dC",
        image: "_3EOWk",
        content: "_3BZh_",
        show: "OaTph",
        gr__show_logo: "YHHcT",
        gr__logo_go_home: "_3BPTF",
        gr__show_content: "UJcnd",
        close: "_3bg4L",
        learnMore: "_2XK3F"
    };
}, function(module, exports) {
    module.exports = {
        buttonContainer: "_2adQf",
        form: "_226wy",
        buttonSpinner: "_6d4Kh",
        button: "_1LD7k",
        loading: "_8Oh8Y",
        onboarding: "_1LVyz",
        isFb: "_3X7CN",
        isGoogle: "_1QHol",
        disable: "PuY-Q"
    };
}, function(module, exports) {}, function(module, exports) {
    module.exports = {
        loginSuccess: "_29cXq",
        windows: "_2yb9b",
        name: "_2vgQa",
        label: "_2gqum"
    };
}, function(module, exports) {
    module.exports = {
        container: "_2qHJM",
        footer: "_34WW0",
        link: "gkarr",
        successState: "_2ZU8y",
        info: "_112Rg",
        signin: "MXRJG",
        title: "_3Ij58",
        errors: "_2zL9F",
        subTitle: "_188jH",
        listItem: "TnB42",
        totalErrors: "_3Emaw",
        listIcon: "Zbulc",
        form: "_5_Rdn",
        login: "_1SL1U",
        register: "_3yUf9",
        content: "_3w55q",
        fb: "_1y_Rv",
        google: "_3K6DE",
        or: "_8n_ms",
        button: "_2mm_D",
        loader: "Ngl1K",
        gr__spin: "Dq8oT",
        formFooter: "_1FDj_",
        formLink: "_2bvPJ",
        validationError: "_3LuEF",
        btnClose: "_2NnQB",
        errorImg: "_14vlA",
        signupImg: "_1MpJR",
        loginImg: "_2vRCI"
    };
}, function(module, exports) {
    module.exports = {
        signinDialog: "_1ETj-",
        viewContainer: "_1xlv0",
        view: "_1rsmh",
        windows: "BdV2K",
        footer: "_2RwP8",
        content: "_3n8Xa",
        btnClose: "_2gDX4"
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), util_1 = __webpack_require__(2), dom_1 = __webpack_require__(3), onboarding_dialog_1 = __webpack_require__(707), emitter = __webpack_require__(18), OnboardingDialog = function(_super) {
        function OnboardingDialog(_a) {
            var doc = _a.doc, container = _a.container, user = _a.user, saveAnonymousProps = _a.saveAnonymousProps, _this = _super.call(this) || this;
            return _this.userWasAuthenticated = !1, _this.updateUser = function(user) {
                !0 === _this.user.anonymous && !1 === user.anonymous && (_this.userWasAuthenticated = !0), 
                _this.user = user, _this.render();
            }, _this.onKey = function(e) {
                util_1.keyCode(e) === util_1.ESC_KEY && _this.dialogComponent && _this.dialogComponent.onClose();
            }, _this.onClose = function() {
                _this.emit("hide"), _this.remove();
            }, _this.containerClickHandler = function(e) {
                e.stopPropagation(), e.stopImmediatePropagation();
            }, _this.doc = doc, _this.user = user, _this.saveAnonymousProps = saveAnonymousProps, 
            container && (_this.container = container), _this.render(), _this;
        }
        return __extends(OnboardingDialog, _super), OnboardingDialog.prototype.checkContainer = function() {
            this.container || (this.container = this.doc.createElement("onboarding_dialog"), 
            this.container.addEventListener("click", this.containerClickHandler), this.doc.documentElement.appendChild(this.container), 
            dom_1.listen(this.doc.defaultView, "keydown", this.onKey, !1));
        }, OnboardingDialog.prototype.render = function() {
            var user = this.user, userWasAuthenticated = this.userWasAuthenticated;
            this.checkContainer(), this.dialogComponent = ReactDOM.render(React.createElement(onboarding_dialog_1.OnboardingDialogComponent, {
                username: user && user.firstName || "",
                isAnonymous: !user || user.anonymous,
                experiments: user && user.experiments,
                userWasAuthenticated: userWasAuthenticated,
                saveAnonymousProps: this.saveAnonymousProps,
                onClose: this.onClose
            }), this.container);
        }, OnboardingDialog.prototype.remove = function() {
            dom_1.unlisten(this.doc.defaultView, "keydown", this.onKey, !1), this.container && (this.container.removeEventListener("click", this.containerClickHandler), 
            ReactDOM.unmountComponentAtNode(this.container)), this.container.parentNode && this.container.parentNode.removeChild(this.container);
        }, OnboardingDialog;
    }(util_1.createClass(emitter));
    exports.OnboardingDialog = OnboardingDialog;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), util_1 = __webpack_require__(2), dom_1 = __webpack_require__(3), onboarding_1 = __webpack_require__(708), tracking_1 = __webpack_require__(20), react_1 = __webpack_require__(22), style = __webpack_require__(720), OnboardingDialogComponent = function(_super) {
        function OnboardingDialogComponent() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.state = {
                hide: !1
            }, _this.onClose = function(e) {
                e && e.stopPropagation(), _this.setState({
                    hide: !0
                });
                var el = ReactDOM.findDOMNode(_this.refs["onboarding-dialog-el"]), onboarding = _this.refs.onboarding;
                void 0 !== onboarding && onboarding.state.stepIndex === onboarding.steps.length - 1 && tracking_1.gnar.onboardingOverlayLetsWriteButtonClick("onboarding"), 
                el && el.addEventListener("animationend", function() {
                    return _this.props.onClose();
                });
            }, _this;
        }
        return __extends(OnboardingDialogComponent, _super), OnboardingDialogComponent.prototype.render = function() {
            var _a, _this = this, classes = dom_1.cs(((_a = {})[style.onboardingDialog] = !0, 
            _a[style.hide] = this.state.hide, _a[style.windows] = util_1.isWindows(), _a));
            return React.createElement("div", {
                ref: "onboarding-dialog-el",
                className: classes
            }, React.createElement("div", {
                className: style.content
            }, React.createElement("div", {
                className: style.viewContainer
            }, React.createElement(onboarding_1.Onboarding, {
                ref: "onboarding",
                isAnonymous: this.props.isAnonymous,
                userWasAuthenticated: this.props.userWasAuthenticated,
                experiments: this.props.experiments,
                onClose: this.onClose,
                saveAnonymousProps: this.props.saveAnonymousProps
            }))), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    tracking_1.gnar.onboardingOverlayCloseButtonClick("dialog"), _this.onClose();
                }
            }, React.createElement("div", {
                className: style.btnClose
            })));
        }, OnboardingDialogComponent;
    }(React.Component);
    exports.OnboardingDialogComponent = OnboardingDialogComponent;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), start_1 = __webpack_require__(709), info_1 = __webpack_require__(710), finish_1 = __webpack_require__(711), personalize_1 = __webpack_require__(712), registration_1 = __webpack_require__(715), tracking_1 = __webpack_require__(8), tracking_2 = __webpack_require__(20), dom_1 = __webpack_require__(3), style = __webpack_require__(203), Onboarding = function(_super) {
        function Onboarding(props) {
            var _this = _super.call(this, props) || this;
            return _this.transforms = [ "0", "18px", "36px", "36px", "54px" ], _this.classes = [ "start", "info", "personolize", "registration", "finish" ], 
            _this.nextStep = function() {
                _this.setState({
                    stepIndex: _this.state.stepIndex + 1
                });
            }, _this.lastStep = function() {
                _this.setState({
                    stepIndex: _this.steps.length - 1
                });
            }, _this.videoLoaded = function() {
                clearTimeout(_this.placeholderTimeout), tracking_1.felog.onboardingVideoLoaded();
            }, _this.state = {
                stepIndex: 0,
                placeholder: !1
            }, _this;
        }
        return __extends(Onboarding, _super), Onboarding.prototype.componentWillMount = function() {
            var _this = this;
            this.steps = [ React.createElement(start_1.StartStep, {
                nextStep: this.nextStep
            }), React.createElement(info_1.InfoStep, {
                nextStep: this.nextStep,
                lastStep: this.lastStep
            }), React.createElement(personalize_1.PersonalizeStep, {
                nextStep: this.props.isAnonymous ? this.nextStep : this.lastStep,
                lastStep: this.lastStep,
                saveAnonymousProps: this.props.saveAnonymousProps
            }), React.createElement(registration_1.RegistrationStep, {
                nextStep: this.nextStep,
                lastStep: this.lastStep,
                experiments: this.props.experiments
            }), React.createElement(finish_1.FinishStep, {
                nextStep: this.nextStep,
                onClose: this.props.onClose
            }) ], this.placeholderTimeout = setTimeout(function() {
                _this.setState({
                    stepIndex: _this.state.stepIndex,
                    placeholder: !0
                });
            }, 1500);
        }, Onboarding.prototype.componentWillReceiveProps = function(nextProps) {
            !1 === this.props.userWasAuthenticated && !0 === nextProps.userWasAuthenticated && this.lastStep();
        }, Onboarding.prototype.componentWillUnmount = function() {
            clearTimeout(this.placeholderTimeout);
        }, Onboarding.prototype.componentDidMount = function() {
            tracking_2.gnar.onboardingOverlayShow(), tracking_1.felog.onboardingTutorialShow();
        }, Onboarding.prototype.render = function() {
            var activeStyles = {
                transform: "translateX(" + this.transforms[this.state.stepIndex] + ")"
            }, cls = dom_1.cs(style[this.classes[this.state.stepIndex]], this.state.placeholder && style.placeholder);
            return React.createElement("div", {
                className: cls
            }, React.createElement("video", {
                className: style.startVideo,
                autoPlay: !0,
                loop: !0,
                preload: "auto",
                onLoadedData: this.videoLoaded
            }, React.createElement("source", {
                src: "https://s3.amazonaws.com/features-team-extension/onboarding/1cards.mp4",
                type: "video/mp4"
            })), React.createElement("video", {
                className: style.infoVideo,
                autoPlay: !0,
                loop: !0,
                preload: "auto"
            }, React.createElement("source", {
                src: "https://s3.amazonaws.com/features-team-extension/onboarding/2personalization.mp4",
                type: "video/mp4"
            })), React.createElement("video", {
                className: style.finishVideo,
                autoPlay: !0,
                loop: !0,
                preload: "auto"
            }, React.createElement("source", {
                src: "https://s3.amazonaws.com/features-team-extension/onboarding/3gbutton.mp4",
                type: "video/mp4"
            })), this.steps[this.state.stepIndex] || null, React.createElement("div", {
                className: style.slider
            }, React.createElement("div", {
                className: style.sliderActive,
                style: activeStyles
            }), React.createElement("div", {
                className: style.sliderItem
            }), React.createElement("div", {
                className: style.sliderItem
            }), React.createElement("div", {
                className: style.sliderItem
            }), React.createElement("div", {
                className: style.sliderItem
            })));
        }, Onboarding;
    }(React.Component);
    exports.Onboarding = Onboarding;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), style = __webpack_require__(203), tracking_1 = __webpack_require__(20), react_1 = __webpack_require__(22);
    exports.StartStep = function(_a) {
        var nextStep = _a.nextStep;
        return React.createElement("div", {
            className: style.step
        }, React.createElement("div", {
            className: style.content
        }, React.createElement("div", {
            className: style.title
        }, "Defeat Tricky Mistakes", React.createElement("br", null), " With One Click"), React.createElement("div", {
            className: style.text
        }, "Simply hover your mouse over underlined words and click once on your preferred correction."), React.createElement(react_1.GenericButton, {
            clickHandler: function() {
                nextStep(), tracking_1.gnar.onboardingOverlayNextButtonClick("start");
            }
        }, React.createElement("button", {
            "data-name": "next-btn",
            className: style.button
        }, "next"))));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), style = __webpack_require__(203), tracking_1 = __webpack_require__(20), react_1 = __webpack_require__(22);
    exports.InfoStep = function(_a) {
        var nextStep = _a.nextStep, lastStep = _a.lastStep;
        return React.createElement("div", {
            className: style.step
        }, React.createElement("div", {
            className: style.content
        }, React.createElement("div", {
            className: style.title
        }, "Personalize Grammarly ", React.createElement("br", null), " for More Relevant Checking"), React.createElement("div", {
            className: style.text
        }, "Write more effectively by letting Grammarly", React.createElement("br", null), " know a little bit about your preferences."), React.createElement(react_1.GenericButton, {
            clickHandler: function() {
                nextStep(), tracking_1.gnar.onboardingOverlayPersonalizeButtonClick("info");
            }
        }, React.createElement("button", {
            "data-name": "personalize-btn",
            className: style.button
        }, "personalize")), React.createElement(react_1.GenericButton, {
            clickHandler: function() {
                return lastStep();
            }
        }, React.createElement("button", {
            "data-name": "skip-btn",
            className: style.link
        }, "skip"))));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), style = __webpack_require__(203), react_1 = __webpack_require__(22);
    exports.FinishStep = function(_a) {
        var onClose = _a.onClose;
        return React.createElement("div", {
            className: style.step
        }, React.createElement("div", {
            className: style.content
        }, React.createElement("div", {
            className: style.title
        }, "Youre fully protected!"), React.createElement("div", {
            className: style.text
        }, "Now, whenever you see the green Grammarly logo, it means that Grammarly has not found any mistakes. Happy writing!"), React.createElement(react_1.GenericButton, {
            clickHandler: function() {
                return onClose();
            }
        }, React.createElement("button", {
            "data-name": "lets-write-btn",
            className: style.button
        }, "let's write"))));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), select_1 = __webpack_require__(713), dom_1 = __webpack_require__(3), tracking_1 = __webpack_require__(20), react_1 = __webpack_require__(22), style = __webpack_require__(203), writingTypeOptions = [ {
        val: "work",
        title: "WORK"
    }, {
        val: "school",
        title: "SCHOOL"
    }, {
        val: "otherProjects",
        title: "OTHER PROJECTS"
    } ], dialectOptions = [ {
        val: "american",
        title: "AMERICAN ENGLISH"
    }, {
        val: "british",
        title: "BRITISH ENGLISH"
    }, {
        val: "australian",
        title: "AUSTRALIAN ENGLISH"
    }, {
        val: "canadian",
        title: "CANADIAN ENGLISH"
    } ], primaryLanguageOptions = [ {
        val: "english",
        title: "ENGLISH"
    }, {
        val: "notEnglish",
        title: "NOT ENGLISH"
    } ], grammarSkillsOptions = [ {
        val: "beginner",
        title: "BEGINNER"
    }, {
        val: "intermediate",
        title: "INTERMEDIATE"
    }, {
        val: "advanced",
        title: "ADVANCED"
    } ], PersonalizeStep = function(_super) {
        function PersonalizeStep(props) {
            var _this = _super.call(this, props) || this;
            return _this.change = function(id, value) {
                var _a;
                _this.setState({
                    isSaveActive: !0,
                    values: Object.assign({}, _this.state.values, (_a = {}, _a[id] = value, _a))
                });
            }, _this.onSaveClick = function() {
                var _a = _this.state, isSaveActive = _a.isSaveActive, values = _a.values;
                if (!1 !== isSaveActive) {
                    var filtered = Object.keys(values).reduce(function(prev, key) {
                        return values[key] !== select_1.DEFAULT_SELECT_VALUE && (prev[key] = values[key]), 
                        prev;
                    }, {});
                    _this.props.saveAnonymousProps(filtered), _this.props.nextStep(), tracking_1.gnar.onboardingOverlaySaveButtonClick("personalize");
                }
            }, _this.state = {
                values: {
                    writingType: select_1.DEFAULT_SELECT_VALUE,
                    dialectStrong: select_1.DEFAULT_SELECT_VALUE,
                    primaryLanguage: select_1.DEFAULT_SELECT_VALUE,
                    grammarSkills: select_1.DEFAULT_SELECT_VALUE
                },
                isSaveActive: !1
            }, _this;
        }
        return __extends(PersonalizeStep, _super), PersonalizeStep.prototype.getProgressInPercents = function() {
            var _this = this, keys = Object.keys(this.state.values), progress = keys.filter(function(k) {
                return _this.state.values[k] !== select_1.DEFAULT_SELECT_VALUE;
            }).length;
            return Math.round(progress / keys.length * 100);
        }, PersonalizeStep.prototype.render = function() {
            var _this = this, progress = this.getProgressInPercents(), barStyles = {
                transform: "scaleX(" + progress / 100 + ")"
            };
            return React.createElement("div", {
                className: dom_1.cs(style.step, style.personalize)
            }, React.createElement("div", {
                className: style.content
            }, React.createElement("div", {
                className: style.title
            }, "Personalize"), React.createElement("div", {
                className: style.progress
            }, "Your preferences are ", React.createElement("span", {
                className: style.progressValue
            }, progress, "%"), " custom", React.createElement("div", {
                className: style.bar
            }, React.createElement("div", {
                className: style.barValue,
                style: barStyles
            }))), React.createElement("div", {
                className: style.grid
            }, React.createElement("div", {
                "data-name": "writingType",
                className: style.item
            }, React.createElement("div", {
                className: style.name
            }, "Most of my writing is for"), React.createElement(select_1.Select, {
                id: "writingType",
                options: writingTypeOptions,
                change: this.change
            }), React.createElement("div", {
                className: style.description
            }, "Our algorithms will show corrections relevant to your writing style")), React.createElement("div", {
                "data-name": "dialectStrong",
                className: style.item
            }, React.createElement("div", {
                className: style.name
            }, "I prefer to write in"), React.createElement(select_1.Select, {
                id: "dialectStrong",
                options: dialectOptions,
                change: this.change
            }), React.createElement("div", {
                className: style.description
            }, "Select which dialectical conventions we should follow")), React.createElement("div", {
                "data-name": "primaryLanguage",
                className: style.item
            }, React.createElement("div", {
                className: style.name
            }, "My primary language is"), React.createElement(select_1.Select, {
                id: "primaryLanguage",
                options: primaryLanguageOptions,
                change: this.change
            }), React.createElement("div", {
                className: style.description
            }, "This setting helps us understand your needs better")), React.createElement("div", {
                "data-name": "grammarSkills",
                className: style.item
            }, React.createElement("div", {
                className: style.name
            }, "My grammar skills are"), React.createElement(select_1.Select, {
                id: "grammarSkills",
                options: grammarSkillsOptions,
                change: this.change
            }), React.createElement("div", {
                className: style.description
            }, "Our algorithms will show corrections relevant to your writing level")))), React.createElement("footer", {
                className: style.footer
            }, React.createElement(react_1.GenericButton, {
                clickHandler: this.onSaveClick
            }, React.createElement("button", {
                "data-name": "save-btn",
                className: dom_1.cs(style.button, !1 === this.state.isSaveActive && style.inactive)
            }, "save")), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    return _this.props.lastStep();
                }
            }, React.createElement("button", {
                "data-name": "later-btn",
                className: style.link
            }, "later"))));
        }, PersonalizeStep;
    }(React.Component);
    exports.PersonalizeStep = PersonalizeStep;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), style = __webpack_require__(714), util_1 = __webpack_require__(2);
    exports.DEFAULT_SELECT_VALUE = "";
    var SELECTED_COLOR = "#00B281", Select = function(_super) {
        function Select(props) {
            var _this = _super.call(this, props) || this;
            return _this.selectOnChange = function(_a) {
                var target = _a.target, _b = _this.props, id = _b.id, change = _b.change, el = target, val = el.value;
                el.style.color = SELECTED_COLOR, change(id, val);
            }, _this.state = {
                val: exports.DEFAULT_SELECT_VALUE
            }, _this;
        }
        return __extends(Select, _super), Select.prototype.componentDidMount = function() {
            if (!1 !== util_1.isEdge()) {
                var id = this.props.id;
                this.refs["select-" + id].addEventListener("change", this.selectOnChange);
            }
        }, Select.prototype.componentWillUnmount = function() {
            if (!1 !== util_1.isEdge()) {
                var id = this.props.id;
                this.refs["select-" + id].removeEventListener("change", this.selectOnChange);
            }
        }, Select.prototype.shouldComponentUpdate = function() {
            return !1;
        }, Select.prototype.render = function() {
            var _this = this, _a = this.props, id = _a.id, options = _a.options, val = this.state.val;
            return React.createElement("div", {
                className: style.selectWrap
            }, React.createElement("select", {
                ref: "select-" + id,
                key: "select-" + id,
                onChange: function(e) {
                    return _this.selectOnChange(e);
                },
                style: {
                    color: "#9399A7"
                }
            }, val === exports.DEFAULT_SELECT_VALUE && React.createElement("option", {
                key: id + "_default}",
                value: exports.DEFAULT_SELECT_VALUE
            }, "SELECT"), options.map(function(_a) {
                var val = _a.val, title = _a.title;
                return React.createElement("option", {
                    key: id + "_" + val,
                    value: val
                }, title);
            })));
        }, Select;
    }(React.Component);
    exports.Select = Select;
}, function(module, exports) {
    module.exports = {
        selectWrap: "_2CSmt"
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), form_1 = __webpack_require__(716), dom_1 = __webpack_require__(3), tracking_1 = __webpack_require__(20), react_1 = __webpack_require__(22), style = __webpack_require__(203), RegistrationStep = function(_super) {
        function RegistrationStep() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends(RegistrationStep, _super), RegistrationStep.prototype.componentDidMount = function() {
            tracking_1.gnar.signUpOverlayShow("onboarding");
        }, RegistrationStep.prototype.render = function() {
            var _this = this, cls = dom_1.cs(style.step, style.registration, style.fbSignin, style.googleSignin);
            return React.createElement("div", {
                className: cls
            }, React.createElement(form_1.Form, {
                ref: "login",
                showOnboardingVersion: !0,
                username: "",
                experiments: this.props.experiments,
                userWasAuthenticated: !1,
                placement: "onboarding_personalization",
                shouldOpenLoginView: !1,
                onSuccess: function() {
                    return _this.props.lastStep();
                }
            }), React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    return _this.props.lastStep();
                }
            }, React.createElement("button", {
                "data-name": "dont-save-my-settings-btn",
                className: dom_1.cs(style.link, style.skipSettings)
            }, "Dont save my settings")));
        }, RegistrationStep;
    }(React.Component);
    exports.RegistrationStep = RegistrationStep;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    }), __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function(resolve, reject) {
            function fulfilled(value) {
                try {
                    step(generator.next(value));
                } catch (e) {
                    reject(e);
                }
            }
            function rejected(value) {
                try {
                    step(generator.throw(value));
                } catch (e) {
                    reject(e);
                }
            }
            function step(result) {
                result.done ? resolve(result.value) : new P(function(resolve) {
                    resolve(result.value);
                }).then(fulfilled, rejected);
            }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }, __generator = this && this.__generator || function(thisArg, body) {
        var f, y, t, g, _ = {
            label: 0,
            sent: function() {
                if (1 & t[0]) throw t[1];
                return t[1];
            },
            trys: [],
            ops: []
        };
        return g = {
            next: verb(0),
            throw: verb(1),
            return: verb(2)
        }, "function" == typeof Symbol && (g[Symbol.iterator] = function() {
            return this;
        }), g;
        function verb(n) {
            return function(v) {
                return function(op) {
                    if (f) throw new TypeError("Generator is already executing.");
                    for (;_; ) try {
                        if (f = 1, y && (t = y[2 & op[0] ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                        switch (y = 0, t && (op = [ 0, t.value ]), op[0]) {
                          case 0:
                          case 1:
                            t = op;
                            break;

                          case 4:
                            return _.label++, {
                                value: op[1],
                                done: !1
                            };

                          case 5:
                            _.label++, y = op[1], op = [ 0 ];
                            continue;

                          case 7:
                            op = _.ops.pop(), _.trys.pop();
                            continue;

                          default:
                            if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                                _ = 0;
                                continue;
                            }
                            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                                _.label = op[1];
                                break;
                            }
                            if (6 === op[0] && _.label < t[1]) {
                                _.label = t[1], t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2], _.ops.push(op);
                                break;
                            }
                            t[2] && _.ops.pop(), _.trys.pop();
                            continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [ 6, e ], y = 0;
                    } finally {
                        f = t = 0;
                    }
                    if (5 & op[0]) throw op[1];
                    return {
                        value: op[0] ? op[1] : void 0,
                        done: !0
                    };
                }([ n, v ]);
            };
        }
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), button_1 = __webpack_require__(202), footer_1 = __webpack_require__(717), fieldset_1 = __webpack_require__(497), dom_1 = __webpack_require__(3), tracking_1 = __webpack_require__(8), tracking_2 = __webpack_require__(20), util_1 = __webpack_require__(2), welcome_1 = __webpack_require__(499), login_success_1 = __webpack_require__(500), message = __webpack_require__(16), url_1 = __webpack_require__(90), utils_1 = __webpack_require__(498), react_1 = __webpack_require__(22), style = __webpack_require__(719), Form = function(_super) {
        function Form(props) {
            var _this = _super.call(this, props) || this;
            return _this.forceValidation = !1, _this.onClick = function(e) {
                "login" === e.target.dataset.view && _this.changeView("login");
            }, _this.changeView = function(view) {
                var data = _this.state.data;
                "login" !== view && "register" !== view || (data.password = ""), _this.setState(Object.assign({}, _this.state, {
                    view: view,
                    data: data,
                    validation: {
                        _valid: !0
                    }
                })), _this.forceValidation = !1;
            }, _this.onValidate = function(name) {
                return function(value) {
                    var _b, _a = _this.state, validation = _a.validation, view = _a.view;
                    validation[name] = utils_1.validate((_b = {}, _b[name] = value, _b), "register" === view)[name], 
                    delete validation.error, _this.setState(Object.assign({}, _this.state, {
                        validation: validation
                    }));
                };
            }, _this.onSet = function(name) {
                return function(value) {
                    var data = _this.state.data;
                    data[name] = value, _this.setState(Object.assign({}, _this.state, {
                        data: data
                    }));
                };
            }, _this.getFormData = function(without) {
                var data = Object.assign({}, _this.state.data);
                return without && data.hasOwnProperty(without) && delete data[without], data;
            }, _this.onKey = function(e) {
                if (util_1.keyCode(e) === util_1.ESC_KEY && _this.props.onClose && _this.props.onClose(), 
                util_1.keyCode(e) === util_1.ENTER_KEY) {
                    if ("A" === e.target.tagName) return;
                    _this.onSubmit();
                }
            }, _this.onGoPremium = function() {
                tracking_2.gnar.getPremiumButtonClick("afterSignUp"), message.emitBackground("open-url", url_1.getUpgradeURL("upHook", "anonPopupCard"));
            }, _this.onSubmit = function() {
                if (!_this.state.loading) {
                    var view = _this.state.view;
                    "login" === view && _this.onAuth("signin", _this.getFormData("name")), "register" === view && _this.onAuth("signup", _this.getFormData());
                }
            }, _this.onSocialClick = function(type) {
                if (!_this.state.loading) {
                    var view = _this.state.view, placement = _this.props.placement;
                    "login" === view && ("fb" === type ? tracking_2.gnar.facebookSignInButtonClick(placement) : tracking_2.gnar.googleSignInButtonClick(placement), 
                    window.open("fb" === type ? url_1.getFbSigninURL() : url_1.getGoogleSigninURL())), 
                    "register" === view && ("fb" === type ? tracking_2.gnar.facebookSignUpButtonClick(placement) : tracking_2.gnar.googleSignUpButtonClick(placement), 
                    window.open("fb" === type ? url_1.getFbSignupURL("signupHook") : url_1.getGoogleSignupURL("signupHook")));
                }
            }, _this.focusForm = function(to, currView) {
                "start" === to && _this.setFocus("login" === currView ? "email" : "name"), "end" === to && _this.refs.end.focus();
            }, _this.state = {
                view: "register",
                validation: {
                    _valid: !0
                },
                loading: !1,
                data: {
                    name: "",
                    email: "",
                    password: ""
                }
            }, _this;
        }
        return __extends(Form, _super), Form.prototype.componentDidMount = function() {
            var _this = this, nextView = !0 === this.props.shouldOpenLoginView ? "login" : "register", focusField = "login" === nextView ? "email" : "name";
            setTimeout(function() {
                _this.setFocus(focusField);
            }, 350), this.changeView(nextView);
        }, Form.prototype.componentWillReceiveProps = function(nextProps) {
            if (!1 === this.props.userWasAuthenticated && !0 === nextProps.userWasAuthenticated) {
                var nextView = "register" === this.state.view ? "welcome" : "loginSuccess";
                this.changeView(nextView);
            }
        }, Form.prototype.componentDidUpdate = function(_prevProps, prevState) {
            var view = this.state.view;
            if (("login" === view || "register" === view) && prevState.view !== view) {
                var focusField = "login" === view ? "email" : "name";
                this.setFocus(focusField);
            }
        }, Form.prototype.onAuth = function(type, data) {
            return __awaiter(this, void 0, void 0, function() {
                var validation, response, e_1, nextView;
                return __generator(this, function(_a) {
                    switch (_a.label) {
                      case 0:
                        if (validation = utils_1.validate(data, "register" === this.state.view), this.forceValidation = !0, 
                        !validation._valid) return [ 3, 5 ];
                        this.setState(Object.assign({}, this.state, {
                            loading: !0
                        })), response = void 0, _a.label = 1;

                      case 1:
                        return _a.trys.push([ 1, 3, , 4 ]), [ 4, message.promiseBackground(type, {
                            form: data,
                            placement: this.props.placement
                        }) ];

                      case 2:
                        return response = _a.sent(), [ 3, 4 ];

                      case 3:
                        return (e_1 = _a.sent()).message && e_1.message.includes("rejected by timeout") && tracking_1.felog.loginNoBgPageConnection(e_1.message), 
                        response = {
                            error: !0
                        }, [ 3, 4 ];

                      case 4:
                        return validation = utils_1.extendWithServerValidation(validation, response), [ 3, 6 ];

                      case 5:
                        return this.setState(Object.assign({}, this.state, {
                            validation: validation,
                            loading: !1
                        })), [ 2 ];

                      case 6:
                        return validation._valid ? (nextView = "signup" === type ? "welcome" : "loginSuccess", 
                        [ 2, this.props.onSuccess ? this.props.onSuccess() : this.changeView(nextView) ]) : (this.setState(Object.assign({}, this.state, {
                            validation: validation,
                            loading: !1
                        })), [ 2 ]);
                    }
                });
            });
        }, Form.prototype.setFocus = function(field) {
            this.refs.fieldset && this.refs.fieldset.setFocus(field);
        }, Form.prototype.loginView = function() {
            var _this = this;
            return React.createElement("div", {
                className: style.wrapper
            }, this.state.validation.error && React.createElement("div", {
                className: style.validation
            }, this.state.validation.error), React.createElement("div", {
                className: style.socialWrap
            }, React.createElement(button_1.Button, {
                onClick: function() {
                    return _this.onSocialClick("fb");
                },
                text: "personalize with facebook",
                isFb: !0
            }), React.createElement("div", {
                className: style.googleBtn
            }, React.createElement(button_1.Button, {
                onClick: function() {
                    return _this.onSocialClick("google");
                },
                text: "personalize with google",
                isGoogle: !0
            })), React.createElement("div", {
                className: style.orSeparator
            }, "OR")), React.createElement("input", {
                className: style.fakefield,
                type: "text",
                name: "fakeformstart",
                onFocus: function() {
                    return _this.focusForm("end");
                }
            }), React.createElement(fieldset_1.Fieldset, {
                forceValidation: this.forceValidation,
                validation: this.state.validation,
                onValidate: this.onValidate,
                onInputChange: this.onSet,
                ref: "fieldset",
                formData: this.state.data,
                fields: [ "email", "password" ],
                fieldStyle: "regular"
            }), React.createElement("div", {
                className: style.loginNav
            }, React.createElement(button_1.Button, {
                cls: "form",
                loading: this.state.loading,
                onClick: this.onSubmit,
                styles: {
                    width: 120
                },
                text: "Log In"
            }), React.createElement("a", {
                target: "__blank",
                href: utils_1.getResetPassLink(this.state.data.email),
                ref: "end",
                className: dom_1.cs(style.navigationItem, style.forgotLink)
            }, "Forgot password?")), React.createElement("input", {
                className: style.fakefield,
                type: "text",
                name: "fakeformend",
                onFocus: function() {
                    return _this.focusForm("start", "login");
                }
            }));
        }, Form.prototype.registerView = function() {
            var _this = this;
            return React.createElement("div", null, React.createElement("div", {
                className: style.wrapper
            }, React.createElement("input", {
                className: style.fakefield,
                type: "text",
                name: "fakeformstart",
                onFocus: function() {
                    return _this.focusForm("end");
                }
            }), React.createElement(button_1.Button, {
                onClick: function() {
                    return _this.onSocialClick("fb");
                },
                text: "personalize with facebook",
                isFb: !0
            }), React.createElement("div", {
                className: style.googleBtn
            }, React.createElement(button_1.Button, {
                onClick: function() {
                    return _this.onSocialClick("google");
                },
                text: "personalize with google",
                isGoogle: !0
            })), React.createElement("div", {
                className: style.orSeparator
            }, "OR"), React.createElement(fieldset_1.Fieldset, {
                ref: "fieldset",
                forceValidation: this.forceValidation,
                validation: this.state.validation,
                onValidate: this.onValidate,
                onInputChange: this.onSet,
                formData: this.state.data,
                fields: [ "name", "email", "password" ],
                fieldStyle: "regular"
            }), React.createElement(button_1.Button, {
                cls: "form",
                loading: this.state.loading,
                onClick: this.onSubmit,
                text: "personalize grammarly"
            }), React.createElement(footer_1.Footer, null), React.createElement("input", {
                className: style.fakefield,
                type: "text",
                name: "fakeformend",
                onFocus: function() {
                    return _this.focusForm("start", "register");
                }
            })), React.createElement("div", {
                className: style.navigation
            }, "Already have an account?", React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    return _this.changeView("login");
                }
            }, React.createElement("span", {
                tabIndex: 0,
                ref: "end",
                className: style.navigationItem
            }, "Log In"))));
        }, Form.prototype.render = function() {
            var _this = this, isLogin = "login" === this.state.view, formCls = dom_1.cs(style.form, this.state.loading && style.loading, style[this.state.view], this.props.showOnboardingVersion && style.onboardingVersion);
            if ("welcome" === this.state.view) return React.createElement(welcome_1.Welcome, {
                isShow: !0,
                onClose: function() {
                    return _this.props.onClose && _this.props.onClose();
                },
                onGoPremium: function() {
                    return utils_1.goPremium();
                },
                isExperiment: !1
            });
            if ("loginSuccess" === this.state.view) return React.createElement(login_success_1.LoginSuccess, {
                username: this.props.username,
                onClose: function() {
                    return _this.props.onClose && _this.props.onClose();
                }
            });
            var titleEl = isLogin ? this.props.showOnboardingVersion ? React.createElement("div", null, React.createElement("div", {
                className: style.title
            }, "Member Login"), React.createElement("div", {
                className: style.subTitle
            }, "to save your personalization settings")) : React.createElement("div", null, React.createElement("div", {
                className: style.title
            }, "Grammarly Member Login")) : this.props.showOnboardingVersion ? React.createElement("div", null, React.createElement("div", {
                className: style.title
            }, "Create an account"), React.createElement("div", {
                className: style.subTitle
            }, "to save your personalization settings"), React.createElement("div", {
                className: style.freeLabel
            }, "Its free")) : React.createElement("div", {
                className: style.personalizedTitle
            }, "Personalize Grammarly", React.createElement("div", {
                className: style.personalizedTitleSub
            }, "to your writing needs"));
            return React.createElement("div", {
                className: formCls
            }, React.createElement("div", {
                className: style.titleContainer
            }, titleEl), React.createElement(react_1.GenericButton, {
                clickHandler: this.onClick
            }, isLogin ? this.loginView() : this.registerView()), isLogin && React.createElement("div", {
                className: style.navigation
            }, "New to Grammarly?", React.createElement(react_1.GenericButton, {
                clickHandler: function() {
                    return _this.changeView("register");
                }
            }, React.createElement("span", {
                tabIndex: 0,
                className: style.navigationItem
            }, "Create a free account"))));
        }, Form;
    }(React.Component);
    exports.Form = Form;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), url_1 = __webpack_require__(90), style = __webpack_require__(718);
    exports.Footer = function() {
        return React.createElement("div", {
            className: style.footer
        }, "By signing up, you agree to our", React.createElement("a", {
            tabIndex: -1,
            target: "__blank",
            href: url_1.getTermsURL()
        }, "Terms and Conditions"), " ", "and", " ", React.createElement("a", {
            tabIndex: -1,
            target: "__blank",
            href: url_1.getPrivatePolicyURL()
        }, "Privacy Policy"), ". You also agree to receive product-related emails from Grammarly, which you can unsubscribe from at any time.");
    };
}, function(module, exports) {
    module.exports = {
        footer: "_2JHdF"
    };
}, function(module, exports) {
    module.exports = {
        form: "_1LHrP",
        login: "wRu3D",
        register: "_3JXax",
        loginSuccess: "_3H_5U",
        welcome: "_2tANo",
        title: "_1b7PX",
        subTitle: "_3bWQX",
        wrapper: "_320I3",
        personalizedTitle: "_3zB03",
        titleContainer: "_1WdPo",
        personalizedTitleSub: "_33mg8",
        hidden: "_1vAfh",
        validation: "_3lzBW",
        fakefield: "_3rKpW",
        loading: "_60YDT",
        navigation: "jCSFg",
        navigationItem: "_2FPgw",
        loginNav: "_3TuMz",
        forgotLink: "RcX9C",
        socialWrap: "_120FS",
        orSeparator: "_2GyIj",
        googleBtn: "vwioM",
        onboardingVersion: "_3W8zz",
        freeLabel: "Y0djb",
        button: "_33omU"
    };
}, function(module, exports) {
    module.exports = {
        onboardingDialog: "YNYyl",
        gr__onboarding_dialog_appear: "_1irjZ",
        viewContainer: "_3VsVT",
        view: "_1AGED",
        windows: "dOmhH",
        footer: "_22UYf",
        hide: "_2QP5h",
        gr__onboarding_dialog_disappear: "_3zbJK",
        content: "_1mLbx",
        gr__onboarding_dialog_content_disappear: "_100B1",
        gr__onboarding_dialog_content_appear: "_1It7P",
        btnClose: "_1LTf8"
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), util_1 = __webpack_require__(2), location_1 = __webpack_require__(15), dom_1 = __webpack_require__(3), unsupported_popup_dialog_1 = __webpack_require__(722), emitter = __webpack_require__(18), message = __webpack_require__(16), UnsupportedPopupDialog = function(_super) {
        function UnsupportedPopupDialog(_a) {
            var doc = _a.doc, text = _a.text, container = _a.container, showEdgePopupFromGButton = _a.showEdgePopupFromGButton, _this = _super.call(this) || this;
            return _this.updateUser = function(user) {
                _this.user = user, _this.render();
            }, _this.onKey = function(e) {
                util_1.keyCode(e) === util_1.ESC_KEY && _this.dialogComponent && _this.dialogComponent.onClose();
            }, _this.createDocument = function(content) {
                message.emitBackground("create-document", content);
            }, _this.onClose = function() {
                _this.emit("hide"), _this.remove();
            }, _this.doc = doc, _this.showEdgePopupFromGButton = showEdgePopupFromGButton, _this.text = text, 
            container && (_this.container = container), _this.render(), _this;
        }
        return __extends(UnsupportedPopupDialog, _super), UnsupportedPopupDialog.prototype.checkContainer = function() {
            this.container || (this.container = this.doc.createElement("unsupported_popup_dialog"), 
            this.doc.documentElement.appendChild(this.container), dom_1.listen(this.doc.defaultView, "keydown", this.onKey, !1));
        }, UnsupportedPopupDialog.prototype.render = function() {
            var text = this.text;
            this.checkContainer(), this.dialogComponent = ReactDOM.render(React.createElement(unsupported_popup_dialog_1.UnsupportedPopupDialogComponent, {
                onClose: this.onClose,
                createDocument: this.createDocument,
                showEdgePopupFromGButton: this.showEdgePopupFromGButton,
                domain: location_1.getDomain(),
                text: text
            }), this.container);
        }, UnsupportedPopupDialog.prototype.remove = function() {
            dom_1.unlisten(this.doc.defaultView, "keydown", this.onKey, !1), this.container && ReactDOM.unmountComponentAtNode(this.container), 
            this.container.parentNode && this.container.parentNode.removeChild(this.container);
        }, UnsupportedPopupDialog;
    }(util_1.createClass(emitter));
    exports.UnsupportedPopupDialog = UnsupportedPopupDialog;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), util_1 = __webpack_require__(2), dom_1 = __webpack_require__(3), button_1 = __webpack_require__(202), style = __webpack_require__(723), UnsupportedPopupDialogComponent = function(_super) {
        function UnsupportedPopupDialogComponent() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.state = {
                hide: !1
            }, _this.onClick = function() {
                _this.refs["open-from-gbutton-el"].checked && _this.props.showEdgePopupFromGButton(), 
                _this.props.createDocument(_this.props.text), _this.onClose();
            }, _this.onClose = function(e) {
                e && e.stopPropagation(), _this.setState({
                    hide: !0
                });
                var el = ReactDOM.findDOMNode(_this.refs["dialog-el"]);
                el && el.addEventListener("animationend", function() {
                    return _this.props.onClose();
                });
            }, _this;
        }
        return __extends(UnsupportedPopupDialogComponent, _super), UnsupportedPopupDialogComponent.prototype.render = function() {
            var _a, classes = dom_1.cs(((_a = {})[style.dialog] = !0, _a[style.hide] = this.state.hide, 
            _a[style.windows] = util_1.isWindows(), _a));
            return React.createElement("div", {
                ref: "dialog-el",
                className: classes
            }, React.createElement("div", {
                className: style.content
            }, React.createElement("div", {
                className: style.viewContainer
            }, React.createElement("div", {
                className: style.title
            }, "The editing window isnt available on ", this.props.domain, " yet"), React.createElement(button_1.Button, {
                onClick: this.onClick,
                text: "View in grammarly Editor"
            }), React.createElement("div", {
                className: style.text
            }, "This will open a new tab."), React.createElement("div", {
                className: style.footer
            }, React.createElement("input", {
                ref: "open-from-gbutton-el",
                type: "checkbox",
                id: "edge-unsupported-checkbox"
            }), React.createElement("label", {
                className: style.label,
                htmlFor: "edge-unsupported-checkbox"
            }, "Go straight to the Grammarly Editor next time.")))), React.createElement("div", {
                className: style.btnClose,
                onClick: this.onClose
            }));
        }, UnsupportedPopupDialogComponent;
    }(React.Component);
    exports.UnsupportedPopupDialogComponent = UnsupportedPopupDialogComponent;
}, function(module, exports) {
    module.exports = {
        dialog: "Lxd30",
        gr__dialog_appear: "_2gqMN",
        viewContainer: "_38Nln",
        view: "_1VHGS",
        windows: "_2jAD8",
        footer: "_1f2p2",
        hide: "_3bRHQ",
        gr__dialog_disappear: "_CFuN",
        content: "_3S2qi",
        gr__dialog_content_disappear: "_2v2nT",
        gr__dialog_content_appear: "_1cVn_",
        title: "_196z-",
        text: "STmdQ",
        label: "_1_tBj",
        btnClose: "_1Y166"
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var page_1 = __webpack_require__(725);
    exports.PageIntegrationController = page_1.PageIntegrationController, exports.getPageIntegrationRules = page_1.getPageIntegrationRules, 
    exports.PageIntegrationContext = page_1.PageIntegrationContext;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var controller_1 = __webpack_require__(726);
    exports.PageIntegrationController = controller_1.PageIntegrationController;
    var types_1 = __webpack_require__(625);
    exports.PageIntegrationContext = types_1.PageIntegrationContext;
    var rules_1 = __webpack_require__(501);
    exports.getPageIntegrationRules = rules_1.getPageIntegrationRules;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var logger_1 = __webpack_require__(1), rules_1 = __webpack_require__(501), PageIntegrationController = function() {
        function PageIntegrationController(_ctx, _rules, _log) {
            void 0 === _log && (_log = logger_1.Logger.create("cs.integration.PIC"));
            var _this = this;
            this._ctx = _ctx, this._rules = _rules, this._log = _log, this._pageIntegration = null, 
            this.legacyAdapter = {
                updateState: function(state) {
                    _this.update(state);
                },
                clear: function() {
                    _this.dispose();
                }
            };
            try {
                this._log.debug("selecting integration rule");
                var rule = rules_1.chooseRule(this._ctx, this._rules);
                this._log.debug("executing rule"), this._pageIntegration = rule.execute(this._ctx);
            } catch (err) {
                throw this._log.error("Cannot load page integration", err, {
                    tabUrl: this._ctx.url
                }), err;
            }
        }
        return PageIntegrationController.prototype.update = function(state) {
            null != this._pageIntegration ? this._pageIntegration.update(state) : this._log.warn("There is no integration for state update");
        }, PageIntegrationController.prototype.dispose = function() {
            null != this._pageIntegration ? (this._pageIntegration.dispose(), this._pageIntegration = null) : this._log.warn("no active integration");
        }, PageIntegrationController;
    }();
    exports.PageIntegrationController = PageIntegrationController;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var buttons_1 = __webpack_require__(728), socket_1 = __webpack_require__(612), tracking_1 = __webpack_require__(8), message = __webpack_require__(16), logger_1 = __webpack_require__(1), LegacyPageIntegration = function() {
        function LegacyPageIntegration(_doc, _state, _app, _actions, _log) {
            void 0 === _log && (_log = logger_1.Logger.create("cs.integration.legacy")), this._doc = _doc, 
            this._state = _state, this._app = _app, this._actions = _actions, this._log = _log, 
            this.contentScriptSocketManager = new socket_1.ContentScriptSocketManager(tracking_1.felog, message);
            var state = this._state;
            this.entities = buttons_1.Buttons(__assign({}, state, {
                app: this._app,
                doc: this._doc,
                actions: this._actions
            }), this.contentScriptSocketManager.createSocket);
        }
        return LegacyPageIntegration.prototype.update = function(state) {
            this._state = state, this.entities ? this.entities.updateState(state) : this._log.warn("Tried to update state in unloaded state");
        }, LegacyPageIntegration.prototype.dispose = function() {
            this.entities && (this.entities.clear(), this.entities = null);
        }, LegacyPageIntegration;
    }();
    exports.LegacyPageIntegration = LegacyPageIntegration;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var tracking_1 = __webpack_require__(8), page_fields_1 = __webpack_require__(729), button_1 = __webpack_require__(505), field_type_detect_1 = __webpack_require__(204), location_1 = __webpack_require__(15), log = __webpack_require__(1).Logger.create("lib.buttons");
    exports.Buttons = function(_a, createSocket) {
        var app = _a.app, doc = _a.doc, connection = _a.connection, user = _a.user, page = _a.page, actions = _a.actions, pageFields = page_fields_1.PageFields({
            doc: doc,
            page: page,
            experiments: user && user.experiments
        }), buttons = new Map(), _user = user, _page = page, _connection = connection;
        function add(fields) {
            function createButton(field, type) {
                buttons.set(field, button_1.Button({
                    field: field,
                    app: app,
                    createSocket: createSocket,
                    user: _user,
                    page: _page,
                    connection: _connection,
                    type: type,
                    actions: actions
                }));
            }
            !function(fields) {
                try {
                    log.trace("add", fields);
                } catch (e) {
                    log.trace("fields added");
                }
            }(fields), fields.textareas.forEach(function(field) {
                return createButton(field, "textarea");
            }), fields.contenteditables.forEach(function(field) {
                return createButton(field, "contenteditable");
            }), fields.iframes.forEach(function(field) {
                return createButton(field, "iframe");
            }), fields.htmlghosts.forEach(function(field) {
                return createButton(field, "htmlghost");
            }), fields.gdocs.forEach(function(field) {
                return createButton(field, "gdocs");
            }), fields.usageTracking.forEach(function(field) {
                return function(el) {
                    var field = el;
                    "true" !== field.gr__field_checked && (field.addEventListener("focus", trackedFieldFocus, !1), 
                    field.gr__field_checked = "true");
                }(field);
            });
        }
        function remove(el) {
            if (log.trace("remove", el), buttons) {
                var btn = buttons.get(el);
                btn && btn.remove(), null !== buttons && buttons.delete(el);
            }
        }
        function listeners(method) {
            void 0 === method && (method = "on"), pageFields && ("on" === method ? (pageFields.on("add", add), 
            pageFields.on("remove", remove)) : (pageFields.off("add", add), pageFields.off("remove", remove)));
        }
        function trackedFieldFocus(e) {
            var el = e.target;
            el.removeEventListener("focus", trackedFieldFocus, !1);
            try {
                tracking_1.felog.initSession(location_1.getDomain(), user.type, field_type_detect_1.getFieldType(el), !1);
            } catch (err) {}
        }
        return listeners("on"), add(pageFields.get()), {
            updateState: function(state) {
                _user = state.user, _connection = state.connection, _page = state.page, buttons && buttons.forEach(function(btn) {
                    return btn.updateState(state);
                });
            },
            clear: function() {
                listeners("off"), buttons && (buttons.forEach(function(btn) {
                    return btn.remove();
                }), null !== buttons && buttons.clear()), buttons = null, pageFields && (pageFields.reset(), 
                pageFields.stop()), pageFields = null;
            }
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __generator = this && this.__generator || function(thisArg, body) {
        var f, y, t, g, _ = {
            label: 0,
            sent: function() {
                if (1 & t[0]) throw t[1];
                return t[1];
            },
            trys: [],
            ops: []
        };
        return g = {
            next: verb(0),
            throw: verb(1),
            return: verb(2)
        }, "function" == typeof Symbol && (g[Symbol.iterator] = function() {
            return this;
        }), g;
        function verb(n) {
            return function(v) {
                return function(op) {
                    if (f) throw new TypeError("Generator is already executing.");
                    for (;_; ) try {
                        if (f = 1, y && (t = y[2 & op[0] ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                        switch (y = 0, t && (op = [ 0, t.value ]), op[0]) {
                          case 0:
                          case 1:
                            t = op;
                            break;

                          case 4:
                            return _.label++, {
                                value: op[1],
                                done: !1
                            };

                          case 5:
                            _.label++, y = op[1], op = [ 0 ];
                            continue;

                          case 7:
                            op = _.ops.pop(), _.trys.pop();
                            continue;

                          default:
                            if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                                _ = 0;
                                continue;
                            }
                            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                                _.label = op[1];
                                break;
                            }
                            if (6 === op[0] && _.label < t[1]) {
                                _.label = t[1], t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2], _.ops.push(op);
                                break;
                            }
                            t[2] && _.ops.pop(), _.trys.pop();
                            continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [ 6, e ], y = 0;
                    } finally {
                        f = t = 0;
                    }
                    if (5 & op[0]) throw op[1];
                    return {
                        value: op[0] ? op[1] : void 0,
                        done: !0
                    };
                }([ n, v ]);
            };
        }
    }, __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    }, __values = this && this.__values || function(o) {
        var m = "function" == typeof Symbol && o[Symbol.iterator], i = 0;
        return m ? m.call(o) : {
            next: function() {
                return o && i >= o.length && (o = void 0), {
                    value: o && o[i++],
                    done: !o
                };
            }
        };
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var flatten = __webpack_require__(348), each = __webpack_require__(96), transform = __webpack_require__(117), mapValues = __webpack_require__(730), difference = __webpack_require__(416), isNumber = __webpack_require__(504), emitter = __webpack_require__(18), config_1 = __webpack_require__(10), sites_1 = __webpack_require__(67), html_ghost_locator_1 = __webpack_require__(327), iframe_1 = __webpack_require__(353), integration_1 = __webpack_require__(183), util_1 = __webpack_require__(2), dom_1 = __webpack_require__(3), location_1 = __webpack_require__(15), tracking_1 = __webpack_require__(8), field_type_detect_1 = __webpack_require__(204), domainTester = document.createElement("a"), WATCH_NODES_INTERVAL = 1e3;
    exports.PageFields = function(_a, watchInterval, getElementDimensions, isFbSite, isGhostSite, getGhostSelector) {
        var _b = _a.doc, _doc = void 0 === _b ? document : _b, page = _a.page, experiments = _a.experiments;
        void 0 === watchInterval && (watchInterval = WATCH_NODES_INTERVAL), void 0 === getElementDimensions && (getElementDimensions = function(el) {
            return el;
        }), void 0 === isFbSite && (isFbSite = location_1.isFacebookSite), void 0 === isGhostSite && (isGhostSite = html_ghost_locator_1.isHtmlGhostSite), 
        void 0 === getGhostSelector && (getGhostSelector = html_ghost_locator_1.getHtmlGhostSelector);
        var doc, win, host, frameRe, watching, mutationObserver, iframes = new Map(), _isHtmlGhostSite = isGhostSite(), _isGDocsSite = location_1.isGdocsSite(), fixes = sites_1.pageStyles(_doc).getFixesForCurrentDomain(), shouldRemove = fixes.shouldRemove || util_1._f, MIN_DOC_HEIGHT = 150, MIN_INIT_REQUIRED_FIELD_HEIGHT = 35, MIN_INIT_REQUIRED_FIELD_WIDTH = 300, __parsedFields = empty();
        host = (doc = _doc).location.hostname, frameRe = new RegExp("://" + host), win = doc.defaultView, 
        page && (MIN_INIT_REQUIRED_FIELD_HEIGHT = isNumber(page.minFieldHeight) ? page.minFieldHeight : MIN_INIT_REQUIRED_FIELD_HEIGHT, 
        MIN_INIT_REQUIRED_FIELD_WIDTH = isNumber(page.minFieldWidth) ? page.minFieldWidth : MIN_INIT_REQUIRED_FIELD_WIDTH);
        var me = emitter({
            get: get,
            reset: function() {
                each(__parsedFields, function(fields) {
                    return fields.forEach(cleanAttributes);
                }), __parsedFields = empty(), me.emit("add", get()), watch();
            },
            stop: function() {
                watching && (util_1.cancelInterval(watchNodes), mutationObserver && mutationObserver.disconnect(), 
                watching = !1);
            }
        }), initialOn = me.on;
        return me.on = function(e, cb) {
            return watching || watch(), initialOn(e, cb), {
                un: function() {}
            };
        }, me;
        function watch() {
            watching = !0, "undefined" != typeof MutationObserver && (mutationObserver = new MutationObserver(onMutation)).observe(doc.body, {
                childList: !0,
                subtree: !0
            }), util_1.interval(watchNodes, watchInterval);
        }
        function onMutation(mutations) {
            var _a, _b;
            (_a = []).concat.apply(_a, __spread((_b = []).concat.apply(_b, __spread(mutations.map(function(_a) {
                var removedNodes = _a.removedNodes;
                return Array.from(removedNodes).map(function(node) {
                    return function getFromExistingEditors(tree, result) {
                        void 0 === result && (result = []);
                        var node, fields = flatten(transform(__parsedFields, function(result1, v) {
                            return result1.push(v);
                        }, []));
                        if (node = tree, -1 !== fields.indexOf(node) && Boolean(result.push(node)) || !tree.children) return result;
                        for (var i = 0; i < tree.children.length; i++) getFromExistingEditors(tree.children[i], result);
                        return result;
                    }(node);
                });
            }))))).forEach(remove);
        }
        function watchNodes() {
            tracking_1.felog.performance.pageFieldsWatch.measure(function() {
                __spread(__parsedFields).filter(function(field) {
                    return shouldRemove(field) || !field.offsetHeight;
                }).forEach(remove);
                var f, addedEditors = get();
                (0 !== (f = addedEditors).textareas.length || 0 !== f.contenteditables.length || 0 !== f.iframes.length || 0 !== f.htmlghosts.length || 0 !== f.gdocs.length || 0 !== f.usageTracking.length) && me.emit("add", addedEditors);
            });
        }
        function remove(node) {
            iframes.has(node) && (iframes.get(node).off(), iframes.delete(node)), [ "textareas", "contenteditables", "iframes", "gdocs", "htmlghosts" ].forEach(function(key) {
                var i = __parsedFields[key].indexOf(node);
                -1 !== i && __parsedFields[key].splice(i, 1);
            }), me.emit("remove", node);
        }
        function fieldsIterator() {
            return __generator(this, function(_a) {
                switch (_a.label) {
                  case 0:
                    return [ 5, __values(this.textareas) ];

                  case 1:
                    return _a.sent(), [ 5, __values(this.contenteditables) ];

                  case 2:
                    return _a.sent(), [ 5, __values(this.iframes) ];

                  case 3:
                    return _a.sent(), [ 5, __values(this.htmlghosts) ];

                  case 4:
                    return _a.sent(), [ 5, __values(this.gdocs) ];

                  case 5:
                    return _a.sent(), [ 2 ];
                }
            });
        }
        function empty() {
            return (_a = {
                textareas: [],
                contenteditables: [],
                iframes: [],
                htmlghosts: [],
                usageTracking: [],
                gdocs: []
            })[Symbol.iterator] = fieldsIterator, _a;
            var _a;
        }
        function fieldEnabled(el) {
            return !page || !1 !== page.enabled && (!page.fields && !0 === page.enabled || !page.fields.some(function(_a) {
                var name = _a.name, id = _a.id, className = _a.className, attr = _a.attr;
                return name && name === el.name || id && id === el.id || className && dom_1.hasClass(el, className) || attr && Array.isArray(attr) && function(_a) {
                    var _b = __read(_a, 2), attr = _b[0], value = _b[1];
                    return el.getAttribute(attr) === value;
                }(attr);
            }));
        }
        function fieldIsSmall(el) {
            return el.clientHeight < MIN_INIT_REQUIRED_FIELD_HEIGHT || el.clientWidth < MIN_INIT_REQUIRED_FIELD_WIDTH;
        }
        function checkRestrictionByAttributes(el, isContenteditable, attrs) {
            return attrs.filter(function(attr) {
                return !isContenteditable || "readonly" !== attr;
            }).some(function(attr) {
                return Array.isArray(attr) ? el.hasAttribute(attr[0]) && el.getAttribute(attr[0]).includes(attr[1]) : el.hasAttribute(attr);
            }) || "rtl" === el.getAttribute("dir");
        }
        function cleanAttributes(el) {
            if (__spread(config_1.grammarlyAttrs, [ "spellcheck" ]).forEach(function(attr) {
                return el.removeAttribute(attr);
            }), isGhostSite()) {
                var wrapper = el.parentElement && el.parentElement.parentElement;
                wrapper && wrapper.removeAttribute("spellcheck");
            }
        }
        function validField(el, isContenteditable) {
            var restricted = checkRestrictionByAttributes(el, isContenteditable, config_1.restrictedAttrs), hasForceEnableAttr = el.hasAttribute(config_1.forceEnableAttr.name) && el.getAttribute(config_1.forceEnableAttr.name) === config_1.forceEnableAttr.value, restrictedByCustomAttr = checkRestrictionByAttributes(el, isContenteditable, config_1.customFieldsRestrictedAttrs) && !1 === hasForceEnableAttr, isFieldEnabled = fieldEnabled(el), isFieldVisible = dom_1.isVisible(el, function(el) {
                return getElementDimensions(el).clientHeight;
            }), valid = (function(el, isFb) {
                return !field_type_detect_1.isDraftJsField(el) || isFb;
            }(el, isFbSite()) || !0 === hasForceEnableAttr) && !restricted && !restrictedByCustomAttr && !fieldIsSmall(getElementDimensions(el)) && (isFieldVisible && isFieldEnabled || dom_1.hasClass(el, "grammDemo"));
            return {
                valid: valid,
                goodForTracking: (restrictedByCustomAttr || !1 === isFieldEnabled && !0 === isFieldVisible) && !valid
            };
        }
        function getFields(selector, isContenteditable) {
            var trackingFields = [], fields = [];
            return __spread(Array.from(doc.querySelectorAll(selector))).forEach(function(field) {
                var validation = validField(field, isContenteditable);
                validation.goodForTracking && trackingFields.push(field), validation.valid && fields.push(field);
            }), {
                fields: fields,
                trackingFields: trackingFields
            };
        }
        function getContenteditables() {
            if (_isHtmlGhostSite) return {
                fields: [],
                trackingFields: []
            };
            var result = getFields('[contenteditable]:not([contenteditable="false"]):not([data-reactid])', !0);
            return result.fields = result.fields.filter(function(el) {
                return !function(el) {
                    return dom_1.getParentBySel(el, config_1.restrictedParentAttrs);
                }(el);
            }), result;
        }
        function testFrame(frame) {
            if (domainTester.href = frame.src, (0 !== frame.src.indexOf("http") || frameRe.test(frame.src)) && "about:blank" !== frame.src && (!frame.src || -1 !== frame.src.indexOf("javascript:") || domainTester.protocol === document.location.protocol && domainTester.hostname === document.location.hostname && domainTester.port === document.location.port) && !dom_1.hasClass(frame, iframe_1.baseCls)) {
                var frameDoc = null;
                try {
                    frameDoc = frame.contentDocument;
                } catch (e) {
                    return;
                }
                if ((!frameDoc || frameDoc.body) && frameDoc && !checkRestrictionByAttributes(frame, !1, config_1.allRestrictedAttrs) && !checkRestrictionByAttributes(frameDoc.body, !1, config_1.allRestrictedAttrs) && fieldEnabled(frame)) {
                    var html = frameDoc.querySelector("html") || {
                        hasAttribute: function(_) {
                            return !1;
                        }
                    };
                    if (("on" === frameDoc.designMode || frameDoc.body.hasAttribute("contenteditable") || "false" === frameDoc.body.getAttribute("contenteditable") || html.hasAttribute("contenteditable") || "false" === html.getAttribute("contenteditable")) && !fieldIsSmall(getElementDimensions(frame))) return util_1.isFF() && "on" === frameDoc.designMode && (frameDoc.designMode = "off", 
                    frameDoc.body.setAttribute("contenteditable", "true")), !0;
                }
            }
        }
        function filterAdded(data, type) {
            var result = function(data, type) {
                return difference(data[type], __parsedFields[type]);
            }(data, type);
            return fixes.shouldRemove ? result.filter(function(field) {
                return !fixes.shouldRemove(field);
            }) : result;
        }
        function get() {
            var fields, _a, _result = function() {
                var rect, result = empty();
                if (!doc.location || 0 === doc.location.href.indexOf("about:") || 0 === doc.location.href.indexOf("chrome:") || !doc.body || 0 === doc.body.childNodes.length || "interactive" !== doc.readyState && "complete" !== doc.readyState || ((rect = doc.documentElement.getBoundingClientRect()).height < MIN_DOC_HEIGHT && win.innerHeight < MIN_DOC_HEIGHT || rect.width < MIN_DOC_HEIGHT)) return result;
                var textareas = getFields("textarea", !1), contenteditables = getContenteditables(), htmlghosts = _isHtmlGhostSite ? getFields(getGhostSelector(), !1) : {
                    fields: [],
                    trackingFields: []
                }, iframes = __spread(Array.from(doc.querySelectorAll("iframe"))).filter(testFrame), gdocs = _isGDocsSite && experiments && experiments.googleDocsBeta && !doc.querySelector(integration_1.gDocsViewModeIconSelector) ? getFields("." + integration_1.gDocsEditorElementClassName, !1) : {
                    fields: [],
                    trackingFields: []
                }, trackingFields = __spread(textareas.trackingFields, contenteditables.trackingFields, htmlghosts.trackingFields);
                return Object.assign({}, result, {
                    textareas: textareas.fields,
                    contenteditables: contenteditables.fields,
                    iframes: iframes,
                    htmlghosts: htmlghosts.fields,
                    gdocs: gdocs.fields,
                    usageTracking: trackingFields
                });
            }(), result = ((_a = {
                textareas: filterAdded(_result, "textareas"),
                contenteditables: filterAdded(_result, "contenteditables"),
                iframes: filterAdded(_result, "iframes"),
                htmlghosts: filterAdded(_result, "htmlghosts"),
                usageTracking: filterAdded(_result, "usageTracking"),
                gdocs: filterAdded(_result, "gdocs")
            })[Symbol.iterator] = fieldsIterator, _a);
            return fields = result, (__parsedFields = mapValues(__parsedFields, function(arr, type) {
                return [].concat(arr, fields[type]);
            }))[Symbol.iterator] = fieldsIterator, result;
        }
    };
}, function(module, exports, __webpack_require__) {
    var baseAssignValue = __webpack_require__(66), baseForOwn = __webpack_require__(104), baseIteratee = __webpack_require__(64);
    module.exports = function(object, iteratee) {
        var result = {};
        return iteratee = baseIteratee(iteratee, 3), baseForOwn(object, function(value, key, object) {
            baseAssignValue(result, key, iteratee(value, key, object));
        }), result;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var util_1 = __webpack_require__(2), dom_1 = __webpack_require__(3), html_ghost_locator_1 = __webpack_require__(327), editor_1 = __webpack_require__(732), ghostarea_1 = __webpack_require__(1042), elements_1 = __webpack_require__(415), integration_1 = __webpack_require__(183), isSilentLogs = "prod" === __webpack_require__(11).getGlobal().bundleInfo.env;
    exports.createGrammarlyEditor = function(_a) {
        var _b, app = _a.app, type = _a.type, doc = _a.doc, field = _a.field, connection = _a.connection, page = _a.page, user = _a.user, actions = _a.actions, createSocket = _a.createSocket;
        return app.initialized || elements_1.AppElements.init(app, {
            doc: doc,
            user: user,
            actions: actions,
            page: page
        }), "iframe" === type ? function(app, posSourceEl, connection, page, user, actions, createSocket) {
            var el = posSourceEl.contentDocument.body;
            return editor_1.createEditor({
                el: el,
                app: app,
                connection: connection,
                page: page,
                user: user,
                actions: actions,
                srcEl: posSourceEl,
                posSourceEl: posSourceEl,
                editorType: {
                    contenteditable: !0,
                    value: "contenteditable"
                }
            }, createSocket);
        }(app, field, connection, page, user, actions, createSocket) : function(app, el, editorType, connection, page, user, actions, createSocket) {
            function createEditor(el, id) {
                return function(el, id) {
                    if (dom_1.setGRAttributes(el, id), el.setAttribute("spellcheck", "false"), html_ghost_locator_1.isHtmlGhostSite()) {
                        var wrapper = el.parentElement && el.parentElement.parentElement;
                        wrapper && wrapper.setAttribute("spellcheck", "false");
                    }
                }(el, id), editor_1.createEditor({
                    id: id,
                    el: el,
                    app: app,
                    connection: connection,
                    page: page,
                    user: user,
                    actions: actions,
                    editorType: editorType,
                    silentLogs: isSilentLogs
                }, createSocket);
            }
            var id;
            return "gdocs" === editorType.value ? (id = integration_1.getHashedDocId() || util_1.guid(), 
            integration_1.trackGdocsLoad(id)) : id = util_1.guid(), "contenteditable" === editorType.value || "gdocs" === editorType.value ? createEditor(el, id) : ghostarea_1.createGhostArea(createEditor, el, id);
        }(app, field, ((_b = {})[type] = !0, _b.value = type, _b), connection, page, user, actions, createSocket);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var GrammarlyEditor = __webpack_require__(506), capi_1 = __webpack_require__(438), timers_1 = __webpack_require__(102), message = __webpack_require__(16), Config = __webpack_require__(11), util_1 = __webpack_require__(2), tracking_1 = __webpack_require__(8), html_ghost_locator_1 = (__webpack_require__(1032), 
    __webpack_require__(327)), position_1 = __webpack_require__(101), inner_html_1 = __webpack_require__(1033), windowEvents = __webpack_require__(352), config_1 = __webpack_require__(10), dom_1 = __webpack_require__(3), html_ghost_1 = __webpack_require__(1035), gdocs_1 = __webpack_require__(1037), track_1 = __webpack_require__(1039), email_info_tracking_1 = __webpack_require__(1040), email_data_1 = __webpack_require__(1041), logger_1 = __webpack_require__(1), tracking_2 = __webpack_require__(20), sites_1 = __webpack_require__(67), location_1 = __webpack_require__(15), field_type_detect_1 = __webpack_require__(204), debounce = __webpack_require__(53), log = logger_1.Logger.create("lib.editor.editor"), fixes = sites_1.pageStyles().getFixesForCurrentDomain(), debouncedTextCheckedEvent = debounce(function(user, cookiesDisabled) {
        return tracking_2.fire("text-checked", user, cookiesDisabled);
    }, 9e5);
    exports.createEditor = function(config, createSocket) {
        var rewriteInnerHTMLScript, id = config.id || (config.el || config.srcEl).getAttribute("gramm_id") || util_1.guid(), app = config.app, user = config.user, actions = config.actions, page = config.page, incFixed = actions.incFixed, changeWeakDialect = actions.changeWeakDialect, isHtmlGhost = config.editorType.htmlghost, isGdocs = config.editorType.gdocs, _dialect = page.dialectStrong || page.dialectWeak, _anonymous = user.anonymous;
        Object.assign(config, {
            capiUrl: isGdocs ? config_1.URLS.capiGDocs : config_1.URLS.capi,
            createWs: createSocket,
            docid: id,
            textareaWrapSelector: '[gramm_id="' + id + '"]',
            animatorContainer: config.el.ownerDocument.documentElement,
            getAnimatorElPos: position_1.getAbsRect,
            dialect: _dialect,
            exposeRawMatch: !0,
            canRemoveSynonym: function(clickedEl) {
                return !!dom_1.matchesSelector(clickedEl, ".b-card.Synonyms .btn-close") || !dom_1.matchesSelector(clickedEl, ".b-card.Synonyms, .b-card.Synonyms *");
            },
            filter: function(arr) {
                return _offline ? [] : arr.filter(function(m) {
                    return m.free && !m.hidden;
                });
            },
            getContainerId: function() {
                return message.promiseBackground("get-containerIdOrUndefined").then(function(id) {
                    return id && "string" == typeof id ? id : Promise.reject(void 0);
                });
            }
        });
        var clientName = "extension_" + util_1.getBrowser();
        capi_1.capi.CLIENT_NAME = clientName, capi_1.capi.clientVersion = config_1.getVersion(), 
        capi_1.capi.extDomain = page.domain, isGdocs && (capi_1.capi.clientSubtype = "google_docs"), 
        isHtmlGhost && (config.dom = html_ghost_1.HtmlGhostDom), isGdocs && (config.dom = function(data) {
            return new gdocs_1.GdocsDom(data);
        }), GrammarlyEditor.MatchPositions = function() {
            return {
                generateMatchPositions: util_1._f
            };
        }, config.matchPrefix = config_1.nextVerClass;
        var editor = GrammarlyEditor.GrammarlyEditor(config), el = editor.el, isIframe = config.posSourceEl && "IFRAME" === config.posSourceEl.tagName, srcEl = config.srcEl || el, doc = el.ownerDocument, editorRun = editor.run, closed = !1, _offline = !config.connection.online, editorType = field_type_detect_1.getFieldType(el);
        user.experiments && user.experiments.connectednessData && !0 === Config.getGlobal().appConfig.gnar.sendEmailInfoTracking && location_1.isGmailSite() && email_info_tracking_1.EmailInfoTracking.addSendEventListener(editor.el, doc, actions.saveEmailConnectednessData), 
        !0 === Config.getGlobal().appConfig.capi.sendEmailData && location_1.isGmailSite() && email_data_1.EmailData.addSendEventListener(editor), 
        Object.assign(editor, {
            id: id,
            srcEl: srcEl,
            camouflage: util_1._f,
            isHtmlGhost: isHtmlGhost,
            run: function() {
                timers_1.timers.start(id + "run"), listeners("on"), editorRun(), rewriteInnerHTMLScript = inner_html_1.rewriteInnerHTML(el, editorType), 
                isGdocs ? editor.runGdocs(page.seenGdocsLargeDocumentWarning, actions.seenGdocsLargeDocumentWarning) : editor.getText() && editor.emit("sending", void 0), 
                toggleSynonyms(page.enabledDefs), _offline && offline();
            },
            errorData: errorData,
            showDialog: function(_a) {
                var _b = void 0 === _a ? {} : _a, caller = _b.caller, shouldOpenLoginView = _b.shouldOpenLoginView, errors = errorData(), state = {
                    data: editor.getState(),
                    caller: caller,
                    totalErrors: errors.critical + errors.plus,
                    shouldOpenLoginView: shouldOpenLoginView
                };
                app.dialog && app.dialog.preActivate(), editor.emit("show-dialog", void 0), dom_1.emitDomEvent("show-dialog"), 
                message.emitFocusedTab("show-dialog", state);
            },
            isOffline: function() {
                return _offline;
            },
            offline: offline,
            online: online,
            updateState: function(_a) {
                var user = _a.user, page = _a.page, oldDialect = _dialect;
                _dialect = page.dialectStrong || page.dialectWeak, _anonymous = user.anonymous, 
                toggleSynonyms(page.enabledDefs), oldDialect !== _dialect && editor.hardReset();
            },
            outerIframe: config.outerIframe,
            cleanupText: util_1._f,
            activate: util_1._f,
            toggleBtn: util_1._f,
            remove: exit,
            reset: reset,
            editorType: config.editorType.value
        });
        var origGetMatchClass = editor.getMatchClass, disableAnimationCls = " gr_disable_anim_appear";
        function listeners(method) {
            void 0 === method && (method = "on");
            var visibility = dom_1.visibilityEvent(doc);
            "on" === method ? (windowEvents.on("beforeunload", exit), message.on("editor-set-state", onSetState), 
            message.on("dialog-closed", onDialogClosed), message.on("focus-editor", onFocus), 
            message.on("after-refresh-dialog", onAfterRefreshDialog), editor.on("track", track_1.track), 
            editor.on("fix", incFixed), editor.on("serviceState", onServiceState), editor.on("addedSynonym", addedSynonym), 
            editor.on("afterReplace", onAfterReplace), editor.on("finish", onFinish), editor.dom && (editor.dom.on("badCursorPositionRetryFail", tracking_1.felog.cursorJump), 
            editor.dom.on("badCursorPosition", tracking_1.felog.badCursorPosition)), editor.on("iframe-mousemove", iframeMousemove), 
            visibility && dom_1.listen(doc, visibility, onVisibilityChange), dom_1.listen(doc, "grammarly:reset", resetCapiSession), 
            isIframe && dom_1.listen(doc.documentElement, "mousemove", onMouseInIframe), app.card && (app.card.on("show", cardShow), 
            app.card.on("hide", cardHide), app.card.on("toeditor", toeditor), app.card.on("addtodict", addtodict))) : (windowEvents.off("beforeunload", exit), 
            message.off("editor-set-state", onSetState), message.off("dialog-closed", onDialogClosed), 
            message.off("focus-editor", onFocus), message.off("after-refresh-dialog", onAfterRefreshDialog), 
            editor.off("track", track_1.track), editor.off("fix", incFixed), editor.off("serviceState", onServiceState), 
            editor.off("addedSynonym", addedSynonym), editor.off("afterReplace", onAfterReplace), 
            editor.off("finish", onFinish), editor.dom && (editor.dom.off("badCursorPositionRetryFail", tracking_1.felog.cursorJump), 
            editor.dom.off("badCursorPosition", tracking_1.felog.badCursorPosition)), editor.off("iframe-mousemove", iframeMousemove), 
            visibility && dom_1.unlisten(doc, visibility, onVisibilityChange), dom_1.unlisten(doc, "grammarly:reset", resetCapiSession), 
            isIframe && dom_1.unlisten(doc.documentElement, "mousemove", onMouseInIframe), app.card && (app.card.off("show", cardShow), 
            app.card.off("hide", cardHide), app.card.off("toeditor", toeditor), app.card.off("addtodict", addtodict)));
        }
        return editor.getMatchClass = function(m, text) {
            var cls = origGetMatchClass(m, text);
            return cls += " gr_inline_cards", cls += m.renderedOnce || util_1.isSafari() ? disableAnimationCls : " gr_run_anim", 
            m.renderedOnce = !0, cls;
        }, editor.dom && (editor.dom.changeSelection = util_1._f), editor.current = editor.getFiltered, 
        editor.started = !1, editor.el.setAttribute("data-gramm_editor", "true"), editor.getHtml && (editor.getHtml = function() {
            var r = el.ownerDocument.createRange();
            r.selectNodeContents(el);
            var cnt = r.cloneContents(), d = document.createElement("div");
            d.appendChild(cnt);
            for (var images = d.querySelectorAll("img"), imgLen = images.length, i = 0; i < imgLen; i++) images[i].src = images[i].src;
            return d.innerHTML;
        }), editor;
        function onAfterReplace(match) {
            Array.isArray(page.afterReplaceEvents) && page.afterReplaceEvents.forEach(function(event) {
                return dom_1.emit.call(el, event);
            });
            try {
                var e = document.createEvent("HTMLEvents");
                e.initEvent("input", !1, !0), editor.el.dispatchEvent(e);
            } catch (e) {}
            return match && match.remove();
        }
        function onMouseInIframe(e) {
            editor.emit("iframe-mousemove", e);
        }
        function onFinish(_a) {
            var dialect = _a.dialect;
            !_dialect && dialect && "undefined" !== dialect && (changeWeakDialect(dialect), 
            _dialect = dialect), debouncedTextCheckedEvent(user, config.connection.cookiesDisabled);
        }
        function reset(data) {
            data && editor.setState(data), editor.api.ws.reconnect();
        }
        function cardShow(id) {
            var match = editor.matches.byId(id);
            match ? (editor.emit("context", void 0), match.editorId = editor.id, match.select(), 
            app.card && app.card.setData(match, editor.editorType)) : user.experiments && user.experiments.googleDocsBeta && isGdocs && tracking_1.felog.gdocs.noMatchFoundForId();
        }
        function cardHide() {
            deselectCurrentMatch();
        }
        function toeditor(eid) {
            eid === editor.id && (editor.showDialog({
                caller: "card"
            }), timers_1.timers.start("open_editor"));
        }
        function addtodict(card) {
            card.match && card.match.editorId !== editor.id || (_anonymous ? (card.hide(), editor.showDialog({
                caller: "card"
            })) : card.match && card.match.addToDict());
        }
        function addedSynonym(match) {
            match.editorId = editor.id, app.card && app.card.showSynonyms(match);
        }
        function iframeMousemove() {
            app.card && app.card.setOuterIframe(srcEl);
        }
        function resetCapiSession() {
            log.trace("reseting capi session..."), reset();
        }
        function onServiceState(data) {
            if ("capi" === data.type) return data.available ? void (_offline && online()) : offline();
        }
        function onSetState(data) {
            data.editorId === editor.id && (util_1.isEdge() && data.matches.forEach(function(m) {
                m.renderedOnce = !0, m.cls += disableAnimationCls;
            }), editor.setState(data), fixes.fireCustomReplaceEvent && fixes.fireCustomReplaceEvent(editor.el.dataset.gramm_id, editor.el, editor.currentText));
        }
        function onDialogClosed(eid) {
            eid === editor.id && (deselectCurrentMatch(), editor.isHtmlGhost || focus());
        }
        function onFocus(eid) {
            eid === editor.id && focus();
        }
        function focus() {
            editor.srcEl && editor.srcEl.focus();
        }
        function deselectCurrentMatch() {
            if (editor.selectedMatch) {
                if (app.card) {
                    var els = editor.selectedMatch.getEl();
                    els && app.card.removeLoading(els[0]);
                }
                editor.selectedMatch.deselect();
            }
        }
        function onAfterRefreshDialog(data) {
            data.editorId === editor.id && reset(data);
        }
        function offline() {
            navigator.onLine || _offline || (_offline = !0, isGdocs ? editor.hardReset() : (editor.clearData(), 
            editor.api.close(), editor.render()));
        }
        function online() {
            navigator.onLine && (_offline = !1, reset());
        }
        function onVisibilityChange() {
            dom_1.docHidden(doc) && cardHide();
        }
        function errorData() {
            var matches = editor.getMatches();
            return {
                critical: matches.filter(function(m) {
                    return m.free && m.inDom;
                }).length,
                plus: matches.filter(function(m) {
                    return !m.free;
                }).length
            };
        }
        function toggleSynonyms(enable) {
            editor.enabledSynonyms !== enable && (editor.enabledSynonyms = enable, enable ? editor.synonyms.fieldEnable() : editor.synonyms.disable());
        }
        function exit(force) {
            if (!closed || force) {
                closed = !0;
                var dom = editor.dom;
                if (dom && dom.cleanHTML && dom.cleanHTML(), listeners("off"), editor.api.ws.emit("cleanup-socket-on-editor-remove"), 
                editor.exit(), log.trace("exit"), el.removeAttribute && config_1.restrictedAttrs.forEach(el.removeAttribute.bind(el)), 
                isIframe) {
                    var src = editor.srcEl;
                    config_1.restrictedAttrs.forEach(src.removeAttribute.bind(editor.srcEl));
                    var iFrameStyleEl = src.contentDocument.querySelector("." + dom_1.IFRAME_STYLE_CLASS);
                    iFrameStyleEl && iFrameStyleEl.parentElement && iFrameStyleEl.parentElement.removeChild(iFrameStyleEl);
                }
                if (rewriteInnerHTMLScript && rewriteInnerHTMLScript.parentNode && rewriteInnerHTMLScript.parentNode.removeChild(rewriteInnerHTMLScript), 
                el.setAttribute("spellcheck", "true"), html_ghost_locator_1.isHtmlGhostSite()) {
                    var wrapper = el.parentElement && el.parentElement.parentElement;
                    wrapper && wrapper.removeAttribute("spellcheck");
                }
                editor.emit("exit", void 0);
            }
        }
    };
}, function(module, exports, __webpack_require__) {
    var baseFlatten = __webpack_require__(196), baseRest = __webpack_require__(94), baseUniq = __webpack_require__(734), isArrayLikeObject = __webpack_require__(111), union = baseRest(function(arrays) {
        return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, !0));
    });
    module.exports = union;
}, function(module, exports, __webpack_require__) {
    var SetCache = __webpack_require__(125), arrayIncludes = __webpack_require__(355), arrayIncludesWith = __webpack_require__(356), cacheHas = __webpack_require__(126), createSet = __webpack_require__(735), setToArray = __webpack_require__(164), LARGE_ARRAY_SIZE = 200;
    module.exports = function(array, iteratee, comparator) {
        var index = -1, includes = arrayIncludes, length = array.length, isCommon = !0, result = [], seen = result;
        if (comparator) isCommon = !1, includes = arrayIncludesWith; else if (length >= LARGE_ARRAY_SIZE) {
            var set = iteratee ? null : createSet(array);
            if (set) return setToArray(set);
            isCommon = !1, includes = cacheHas, seen = new SetCache();
        } else seen = iteratee ? [] : result;
        outer: for (;++index < length; ) {
            var value = array[index], computed = iteratee ? iteratee(value) : value;
            if (value = comparator || 0 !== value ? value : 0, isCommon && computed == computed) {
                for (var seenIndex = seen.length; seenIndex--; ) if (seen[seenIndex] === computed) continue outer;
                iteratee && seen.push(computed), result.push(value);
            } else includes(seen, computed, comparator) || (seen !== result && seen.push(computed), 
            result.push(value));
        }
        return result;
    };
}, function(module, exports, __webpack_require__) {
    var Set = __webpack_require__(187), noop = __webpack_require__(736), setToArray = __webpack_require__(164), createSet = Set && 1 / setToArray(new Set([ , -0 ]))[1] == 1 / 0 ? function(values) {
        return new Set(values);
    } : noop;
    module.exports = createSet;
}, function(module, exports) {
    module.exports = function() {};
}, function(module, exports, __webpack_require__) {
    var baseEach = __webpack_require__(179);
    module.exports = function(collection, predicate) {
        var result = [];
        return baseEach(collection, function(value, index, collection) {
            predicate(value, index, collection) && result.push(value);
        }), result;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var emitter = __webpack_require__(18), isUndefined = __webpack_require__(328), debounce = __webpack_require__(53), extend = __webpack_require__(38), matches_1 = __webpack_require__(509), input_listener_1 = __webpack_require__(742), html_typing_limiter_1 = __webpack_require__(747), html_dom_1 = __webpack_require__(421), textarea_dom_1 = __webpack_require__(512), gdocs_editor_1 = __webpack_require__(751), util_1 = __webpack_require__(2), dom_1 = __webpack_require__(3), logger_1 = __webpack_require__(1), sites_1 = __webpack_require__(67), log = logger_1.Logger.create("lib.under"), fixes = sites_1.pageStyles().getFixesForCurrentDomain();
    exports.createEditor = function(config, nodeValidator) {
        var el = config.el, doc = el.ownerDocument, api = config.api, waitTime = 500, OPTIMIZE_WHEN_TEXT_LENGTH = 3e3, useBufferForAddingMatches = !1;
        isUndefined(config.useBufferForAddingMatches) || (useBufferForAddingMatches = config.useBufferForAddingMatches);
        var checkingTimeout, isDestroyed = !1, me = emitter({
            el: el,
            getText: function(force) {
                return force ? getText() : me.currentText;
            },
            setText: setText,
            setCursor: setCursor,
            getCursor: getCursor,
            saveCursor: saveCursor,
            restoreCursor: function() {
                setCursor(me.latestCursor);
            },
            addMethodsToMatch: addMethodsToMatch,
            addMatches: function(data) {
                if (!data || 0 === data.length) return;
                for (var text = getText(), i = 0; i < data.length; i++) {
                    var m = data[i];
                    m.v === text.substring(m.s, m.e) && (m.rendered = !1, addMethodsToMatch(m), matches.add(m));
                }
                dom.invalidate(!0), render();
            },
            tryToAdd: function(match, newText) {
                return matches.tryToAdd(match, newText);
            },
            render: render,
            check: check,
            getMatches: getMatches,
            getFiltered: getFiltered,
            getSelection: function() {
                var pos = getCursor(), text = getText();
                return {
                    value: text.substring(pos.s, pos.e),
                    s: pos.s,
                    e: pos.e,
                    text: text
                };
            },
            close: close,
            clearData: clearData,
            hardReset: function(skipApiReset) {
                if (config.editorType.gdocs) return gdocsEditor.hardReset();
                skipApiReset || api.reset();
                clearData(), updateText(), api.start(), check(), me.emit("rendered");
            },
            updateText: updateText,
            latestCursor: {
                s: 0,
                e: 0
            },
            exit: function() {
                isDestroyed = !0, inputListener.stop(), dom.stop(), dom_1.unlisten(el, "click", saveCursor), 
                me.emit("exit");
            },
            waitTime: waitTime,
            matchFilter: function(arr) {
                return arr;
            },
            processMatch: function(m, _) {
                return m._s = m._s || m.s, m._e = m._e || m.e, m.sd = m._s - m.s, m.ed = m._e - m.e, 
                !0;
            },
            beforeReplace: function(_, __, ___) {},
            getMatchClass: function() {
                return "";
            },
            processRemove: util_1._f,
            matchRemoved: util_1._f,
            extendMatch: util_1._f,
            matchesEqual: function() {
                return !1;
            },
            canAddRemovedMatch: util_1._F,
            canShiftMatchEnd: util_1._F,
            selectById: function(id) {
                var m = me.matches.byId(id);
                m && me.selectedMatch && me.selectedMatch !== m && me.selectedMatch.deselect();
                m && m.select();
            },
            skipInputEvents: function(turnBack) {
                inputListener.skipInputEvents(turnBack);
            },
            run: run,
            api: api,
            _removedByServer: [],
            matches: {},
            currentText: "",
            _currentText: "",
            isHtmlGhost: !1,
            runGdocs: function(isSeenGdocsLargeDocumentWarning, onCloseLargeDocumentWarning) {
                if (!gdocsEditor) return;
                {
                    if (isCheckingEnabledInLargeGdocsDocument() && me.getText()) return me.emit("sending", void 0);
                    gdocsEditor.showLargeDocumentWarning(isSeenGdocsLargeDocumentWarning, onCloseLargeDocumentWarning);
                }
            }
        }), onTypedState = 0, inputLimiter = !0, matches = matches_1.createMatches(me), matchesBuffer = matches.matchesBuffer;
        me.matches = matches;
        var dom, typingTimer, isTextarea = "textarea" === config.editorType.value;
        me.isTextarea = isTextarea;
        var gdocsEditor, domConfig = __assign({}, config, nodeValidator, {
            editor: me
        });
        dom = config.dom ? config.dom(domConfig) : "contenteditable" === config.editorType.value ? html_dom_1.createHtmlDom(domConfig) : isTextarea ? textarea_dom_1.createTextareaDom(domConfig) : html_dom_1.createHtmlDom(domConfig), 
        me.dom = dom, me.currentText = getText() || "", config.editorType.gdocs && (gdocsEditor = new gdocs_editor_1.GdocsEditor(me));
        var lazyRender, debouncedRender = debounce(render, 1e3, {
            maxWait: 5e3
        }), debouncedRenderFast = debounce(render, 200, {
            maxWait: 1e3
        }), idleRender = window.requestIdleCallback ? function() {
            return window.requestIdleCallback(render);
        } : debouncedRenderFast;
        toggleOptimization(me.currentText), matches.on("remove", removeMatch), matches.on("hasAvailableRenderDeletedMatch", function(data) {
            if (!data || !matchesBuffer.length) return;
            var match = data.match, position = data.position;
            matchesBuffer[position] && matchesBuffer[position].id === match.id && (matchesBuffer[position] = !1, 
            onAddFunc(match, !0));
        });
        var inputListenerConfig = {
            el: el,
            editor: me
        };
        if (config.editorType.gdocs) {
            var gdocsInputConfig = gdocsEditor.getInputListenerConfig();
            gdocsInputConfig && (inputListenerConfig = gdocsInputConfig);
        }
        var inputListener = input_listener_1.createInputListener(inputListenerConfig);
        return me.inputListener = inputListener, "contenteditable" === config.editorType.value && (html_typing_limiter_1.HtmlTypingLimiter({
            inputListener: inputListener,
            el: el
        }), me.setHtml = function(html) {
            dom.setHtml(html), afterReplaceText();
        }, me.getHtml = dom.getHtml), inputListener.on("changed", function() {
            isTextarea || oninput(void 0, !0);
            check(), me.emit("change", void 0);
        }), inputListener.on("input", oninput), inputListener.on("keypress", function(e) {
            onTypedState = Date.now(), 32 === e.originalEvent.charCode && inputLimiter && paintSingleMatch();
        }), inputListener.on("selectionChanged", function() {
            dom.changeSelection();
        }), dom_1.listen(el, "click", saveCursor), inputListener.delegate(me, "keydown"), 
        inputListener.delegate(me, "paste"), inputListener.delegate(me, "immediatepaste"), 
        api.delegate(me, "sending"), api.delegate(me, "finish"), api.on("add", function(match) {
            useBufferForAddingMatches ? (matchesBuffer.push(match), checkingTimeout || function onAddWorker() {
                checkingTimeout = setTimeout(function() {
                    matchesBuffer.length && Date.now() - onTypedState > waitTime && paintSingleMatch(), 
                    matchesBuffer.length ? onAddWorker() : checkingTimeout = void 0;
                }, 50);
            }()) : onAddFunc(match);
            me.emit("tracking", {
                event: "matchFound",
                matches: match
            });
        }), api.on("start", function(msg) {
            me.sid = msg.sid, me.emit("saveSid", me.sid);
        }), api.on("socketReconnect", function() {
            var text = api.text;
            api.reset(), api.update(text), check(), api.isReconnectMode = !0;
        }), dom.delegate(me, "rendered"), dom.delegate(me, "startInvalidateNode"), dom.delegate(me, "endInvalidateNode"), 
        config.autorun && run(), me;
        function run() {
            inputListener.start(), dom.start(), config.value && setText(config.value), api.update(me.currentText), 
            check();
        }
        function toggleOptimization(text) {
            var isOptimize = text.length > OPTIMIZE_WHEN_TEXT_LENGTH;
            lazyRender = isOptimize ? debouncedRender : idleRender, useBufferForAddingMatches = isOptimize;
        }
        function updateMatchesUsingRevisions(text) {
            api.update(text), api.updateMatchesToCurrentRevision(me.matches.get());
        }
        function getText(invalidateNode) {
            return dom.getText(invalidateNode);
        }
        function afterReplaceText() {
            me.currentText = getText(!0), me.emit("afterReplace");
        }
        function setText(val) {
            matches.get().forEach(function(m) {
                m.inDom = !1;
            }), updateMatchesUsingRevisions(val), matches.update(me.currentText, val), dom.setText(val), 
            me.isHtmlGhost ? setTimeout(afterReplaceText, 100) : afterReplaceText();
        }
        function setCursor(pos) {
            return dom.setCursor(pos);
        }
        function getCursor() {
            return dom.getCursor();
        }
        function saveCursor() {
            me.latestCursor = getCursor();
        }
        function isCheckingEnabledInLargeGdocsDocument() {
            return gdocsEditor && gdocsEditor.isCheckingEnabledInLargeDocument();
        }
        function check() {
            gdocsEditor && !isCheckingEnabledInLargeGdocsDocument() || api.send();
        }
        function _getText() {
            return isTextarea ? me.el.value : me.el.innerHTML;
        }
        function updateText() {
            if (!config.editorType.gdocs) {
                if (me._currentText === _getText()) return;
                me._currentText = _getText();
            }
            var text = getText();
            toggleOptimization(text);
            var beforeUpdateResult = {
                text: text,
                cancel: !1
            };
            if (me.emit("beforeUpdate", beforeUpdateResult), beforeUpdateResult.cancel) return updateText();
            updateMatchesUsingRevisions(text), matches.update(me.currentText, text), me.currentText = text;
        }
        function oninput(e, fromChange) {
            var inMatch = !1;
            if (!isTextarea) {
                var sel = dom_1.getDocSelection(doc);
                inMatch = sel.anchorNode && dom_1.hasClass(sel.anchorNode.parentNode, "gr_");
            }
            (isTextarea || fromChange || inMatch || me.isHtmlGhost) && (render(), saveCursor(), 
            me.emit("input", e));
        }
        function render() {
            isDestroyed || function() {
                updateText();
                var shouldBeRendered = getFiltered();
                dom.render(shouldBeRendered, me.currentText), me.emit("saveDoc", me.currentText);
            }();
        }
        function paintSingleMatch() {
            if (inputListener.isUserTyping()) return clearTimeout(typingTimer), void (typingTimer = setTimeout(paintSingleMatch, 200));
            if (clearTimeout(typingTimer), matchesBuffer.length) {
                var match = matchesBuffer.shift();
                match ? onAddFunc(match) : paintSingleMatch();
            }
        }
        function onAddFunc(match, force) {
            var text = getText();
            if (me.currentText = text, api.update(text), api.updateMatchToCurrentRevision(match), 
            me._removedByServer.indexOf(match.id) > -1) return log.trace("skip because it is removed by server");
            if (!1 !== me.processMatch(match, text)) {
                var added = me.tryToAdd(match, text);
                config.editorType.gdocs && added && gdocsEditor.onAddMatch(), added ? (addMethodsToMatch(match), 
                force ? render() : lazyRender()) : log.info("Match is not added", match);
            }
        }
        function getMatches() {
            return matches.get();
        }
        function getFiltered() {
            return me.matchFilter(getMatches());
        }
        function addMethodsToMatch(match) {
            var id = util_1.guid(), ts = Date.now();
            extend(match, {
                uid: id,
                ts: ts,
                replace: function(value, isUndo) {
                    return function(value, isUndo, match) {
                        me.emit("beforeReplace");
                        var text = getText(), offset = value.length - match.oldVal.length;
                        me.latestCursor.s < match.s && (offset = 0);
                        me.beforeReplace(match, offset, value), config.editorType.gdocs || dom.remove(match);
                        if (dom.replace(match, value, isUndo), !config.editorType.gdocs && (matches.replace(match, value, isUndo, text), 
                        feedback(match, isUndo ? "undoed" : "accepted"), me.currentText = getText(), match.rev++, 
                        setCursor({
                            s: match._e,
                            e: match._e
                        }), isTextarea || (el.focus(), setCursor({
                            s: match._e,
                            e: match._e
                        })), render(), check(), fixes.fireCustomReplaceEvent && fixes.fireCustomReplaceEvent(me.el.dataset.gramm_id, me.el, me.currentText), 
                        me.emit("afterReplace", match), isUndo)) return;
                        me.emit("fix", match), me.emit("tracking", {
                            event: "matchAcceptedCard",
                            matches: match
                        });
                    }(value, isUndo, match);
                },
                undo: function() {
                    return function(match) {
                        var value = match.v;
                        match.replace(value, !0), match.undoed = !0, match.beforeReplace = value, matches.removeIntersectedWithReplace(match) && render();
                        me.emit("undo"), me.emit("tracking", {
                            event: "matchUndo",
                            matches: match
                        });
                    }(match);
                },
                addToDict: function() {
                    return function(match) {
                        matches.forceRemove(match), api.addToDictionary(match);
                        var similar = matches.removeSimilar(match);
                        similar.push(match), render(), me.emit("fix"), me.emit("tracking", {
                            event: "matchAddToDict",
                            matches: similar
                        });
                    }(match);
                },
                acknowledged: function() {
                    return function(match) {
                        matches.forceRemove(match), api.acknowledged(match), matches.removeByPID(match), 
                        render(), me.emit("fix"), me.emit("tracking", {
                            event: "acknowledged",
                            matches: match
                        });
                    }(match);
                },
                ignore: function() {
                    return function(match) {
                        config.editorType.gdocs && gdocsEditor.putCursorToMatch(me.el);
                        matches.forceRemove(match), api.ignore(match), matches.removeByPID(match), render(), 
                        me.emit("fix"), me.emit("tracking", {
                            event: "matchIgnored",
                            matches: match
                        });
                    }(match);
                },
                ignoreAll: function() {
                    return function(match) {
                        matches.forceRemove(match), matches.removeSimilar(match), api.ignoreAll(match);
                        var similar = matches.removeSimilar(match);
                        similar.push(match), me.emit("tracking", {
                            event: "matchIgnoredAll",
                            matches: similar
                        }), render();
                    }(match);
                },
                remove: function() {
                    return removeMatch(match);
                },
                getEl: function() {
                    return function(match) {
                        var el = doc.getElementById(String(match.id));
                        return el ? [ el ] : null;
                    }(match);
                },
                select: function(noEvent) {
                    return function(noEvent, match) {
                        if (match.selected) return;
                        match.selected = !0, noEvent || (me.emit("selectedMatch", match), feedback(match, "looked"));
                        dom.select(match), me.selectedMatch = match;
                    }(noEvent, match);
                },
                deselect: function(noEvent) {
                    return function(noEvent, match) {
                        if (!match.selected) return;
                        match.selected = !1, noEvent || me.emit("deselectedMatch", match);
                        dom.deselect(match), me.selectedMatch = void 0;
                    }(noEvent, match);
                }
            }), me.emit("matchExtend", match);
        }
        function removeMatch(match) {
            config.editorType.gdocs ? gdocsEditor.onRemoveMatch(match) : matches.remove(match, !0), 
            dom.remove(match), me.emit("rendered");
        }
        function feedback(match, type) {
            log.trace("FEEDBACK " + match.value, type), api.feedback(match, type);
        }
        function clearData() {
            matches.get().forEach(function(m) {
                return dom.remove(m);
            }), matches.clear(), me._removedByServer = [], me._currentText = "", render();
        }
    };
}, function(module, exports, __webpack_require__) {
    var baseFindIndex = __webpack_require__(326), baseIteratee = __webpack_require__(64), toInteger = __webpack_require__(511), nativeMax = Math.max;
    module.exports = function(array, predicate, fromIndex) {
        var length = null == array ? 0 : array.length;
        if (!length) return -1;
        var index = null == fromIndex ? 0 : toInteger(fromIndex);
        return index < 0 && (index = nativeMax(length + index, 0)), baseFindIndex(array, baseIteratee(predicate, 3), index);
    };
}, function(module, exports, __webpack_require__) {
    var toNumber = __webpack_require__(194), INFINITY = 1 / 0, MAX_INTEGER = 1.7976931348623157e308;
    module.exports = function(value) {
        return value ? (value = toNumber(value)) === INFINITY || value === -INFINITY ? (value < 0 ? -1 : 1) * MAX_INTEGER : value == value ? value : 0 : 0 === value ? value : 0;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var emitter = __webpack_require__(18), isUndefined = __webpack_require__(328), textdiff_1 = __webpack_require__(201), util_1 = __webpack_require__(2), log = __webpack_require__(1).Logger.create("lib.under.match-updater");
    exports.createMatchUpdater = function(editor) {
        var me = emitter({
            remove: function(m, matches) {
                for (var i = 0; i < matches.length; i++) matches[i].id === m.id && (matches.splice(i, 1), 
                i--);
            },
            removeNotExisting: function(text, matches) {
                if (!matches) return;
                for (var removeArr = [], i = 0; i < matches.length; i++) {
                    var match = matches[i], textValue = text.substring(match.s, match.e);
                    match.skipUpdatePos && textValue || match.value !== textValue && removeArr.push(i);
                }
                removeArr.length > 0 && removeItems(removeArr, matches, !0);
            },
            matchRemoved: matchRemoved,
            extend: function(matches, newMatches) {
                newMatches = newMatches.concat();
                for (var i = 0; i < newMatches.length; i++) {
                    var match = newMatches[i], existedMatch = matchExist(matches, match);
                    existedMatch ? (editor.extendMatch(existedMatch, match), log.trace("SKIP MATCH it already exists", {
                        match: match,
                        existedMatch: existedMatch
                    })) : matches.push(match);
                }
            },
            extendWithoutAdding: function(matches, match) {
                var existedMatch = matchExist(matches, match);
                existedMatch && editor.extendMatch(existedMatch, match);
            },
            updatePos: function(oldText, newText, matches) {
                var d = textdiff_1.diffPos(util_1.trimRight(oldText), util_1.trimRight(newText)), removeArr = [];
                if (-1 === d.s) return;
                for (var s = d.s, delta = d.delta, addArr = [], i = 0; i < matches.length; i++) {
                    var m = matches[i], newS = m.s, newE = m.e;
                    if (m.value !== newText.substring(newS, newE) || newS < 0 || m._value !== newText.substring(newS + m.sd, newE + m.ed) || m.removed || matchRemoved(m, newText, newS, newE)) {
                        var r = editor.processRemove(m);
                        if (r) {
                            if (r.next) continue;
                            if (r.add && (addArr = addArr.concat(r.add)), r.remove) {
                                removeArr.push(i), m.removed = !0;
                                continue;
                            }
                        }
                        if (locateMatch(m, newText)) continue;
                        removeArr.push(i), m.removed = !0;
                    } else if (m.s >= s) {
                        if (0 === delta && m.value !== newText.substring(newS, newE)) {
                            removeArr.push(i), m.removed = !0;
                            continue;
                        }
                        m.s = newS, m.e = newE, m.replaced ? (m._s = m.s, m._e = m.e) : (m._s = m.s + m.sd, 
                        m._e = m.e + m.ed);
                    }
                }
                removeArr.length > 0 && removeItems(removeArr, matches, !0);
                if (addArr.length > 0) for (var i = 0; i < addArr.length; i++) matches.push(addArr[i]);
            },
            locateMatch: locateMatch,
            tryToAddRemoved: function(text, matches, removedMatches) {
                var result = [];
                for (var id in removedMatches) {
                    var match = removedMatches[id];
                    match.siblingValue !== text.substring(match._s - 1, match._e + 1) || matchRemoved(match, text) || (delete removedMatches[id], 
                    matches.push(match), result.push(match));
                }
                return result;
            }
        });
        return me;
        function matchRemoved(m, text, s, e) {
            if (m.skipUpdatePos) return !1;
            isUndefined(s) && (s = m.s), isUndefined(e) && (e = m.e);
            var matchValue = text.substring(s, e), value = m.value;
            return matchValue !== value ? (log.trace("removed '" + matchValue + "' '" + value + "'"), 
            m.removed = !0, !0) : editor.matchRemoved(m, text, s, e);
        }
        function locateMatch(m, newText) {
            if (m.siblingValue.length < 2) return !1;
            if (m.siblingValue === newText.substring(m._s - 1, m._e + 1)) return !0;
            for (var i = -10; i < 10; i++) {
                if (newText.substring(m._s + i - 1, m._e + i + 1) === m.siblingValue) return m._s += i, 
                m._e += i, m.replaced || (m.s = m._s - m.sd, m.e = m._e - m.ed), !0;
            }
            return !1;
        }
        function matchExist(matches, match) {
            if (matches) {
                for (var i = 0; i < matches.length; i++) {
                    var target = matches[i];
                    if (n = match, void 0, void 0, 3, equalPos = (o = target).s - 3 >= n.s && o.s + 3 <= n.e || o.e >= n.s && o.e <= n.e, 
                    editor.matchesEqual(o, n, equalPos)) return target;
                }
                var o, n, equalPos;
                return !1;
            }
        }
        function removeItems(indexes, matches, doEmit) {
            for (var removedMatches = [], i = 0; i < indexes.length; i++) {
                var index = indexes[i] - i, removedMatch = matches[index];
                matches.splice(index, 1), removedMatches.push(removedMatch);
            }
            for (i = 0; i < removedMatches.length; i++) doEmit && me.emit("remove", removedMatches[i]);
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var emitter = __webpack_require__(18), dom_1 = __webpack_require__(3), util_1 = __webpack_require__(2), tracking_1 = __webpack_require__(8), watcher_1 = __webpack_require__(743), debounce = __webpack_require__(53), stdlib_1 = __webpack_require__(4);
    exports.createInputListener = function(config) {
        var checkTriggerKeyPressed, inputPerfMeasure, el = config.el, editor = config.editor, doc = config.doc || el.ownerDocument, isTextarea = editor.isTextarea, NOT_ACTIVE_TIME = 4e3, text = getText(), lastChange = Date.now(), me = emitter({
            start: function() {
                dom_1.listen(el, "input", oninput), dom_1.listen(el, "click", onclick), dom_1.listen(el, "keyup", onkeyup), 
                dom_1.listen(el, "keypress", onkeypress), dom_1.listen(el, "keydown", onkeydown), 
                dom_1.listen(el, "paste", onpaste), dom_1.listen(doc, "mousedown", mousedown), watcher_1.watch(el, onpaste);
            },
            stop: function() {
                dom_1.unlisten(el, "input", oninput), dom_1.unlisten(el, "click", onclick), dom_1.unlisten(el, "keyup", onkeyup), 
                dom_1.unlisten(el, "keypress", onkeypress), dom_1.unlisten(el, "keydown", onkeydown), 
                dom_1.unlisten(el, "paste", onpaste), dom_1.unlisten(doc, "mousedown", mousedown), 
                watcher_1.unwatch(el, onpaste);
            },
            oninput: oninput,
            isUserTyping: function() {
                return !(Date.now() - lastChange > NOT_ACTIVE_TIME);
            },
            skipInputEvents: function(turnBack) {
                skip = void 0 === turnBack;
            },
            ignorePaste: void 0
        }), skip = !1, debouncedCheck = debounce(function() {
            return requestAnimationFrame(function() {
                return check();
            });
        }, 4e3), throttledCheck = stdlib_1.throttle(200, function() {
            return requestAnimationFrame(function() {
                return check();
            });
        });
        return me;
        function getText() {
            return isTextarea ? editor.getText(!0) : editor.el.innerHTML;
        }
        function oninput(e) {
            me.emit("typed", e), skip || (lastChange = Date.now(), me.emit("input"), inputPerfMeasure && inputPerfMeasure.endMeasure());
        }
        function onpaste() {
            me.ignorePaste || (me.emit("immediatepaste"), skip || setTimeout(function() {
                check(), me.emit("paste"), me.emit("input");
            }, 10));
        }
        function check(isMouseDown) {
            if (void 0 === isMouseDown && (isMouseDown = !1), !skip) {
                var newText = getText(), changed = text.trim() !== newText.trim();
                ("" !== newText || changed) && (changed && checkTriggerKeyPressed && (checkTriggerKeyPressed = !1), 
                !1 === isMouseDown && me.emit("input"), changed && (me.emit("changed"), text = newText));
            }
        }
        function selectionChanged() {
            me.emit("selectionChanged");
        }
        function onclick(e) {
            skip || (window.event && !window.event.customWritted || (e.customWritted = !0, window.event = e), 
            selectionChanged());
        }
        function onkeyup(e) {
            var keyCode;
            skip || (keyCode = util_1.keyCode(e), -1 === [ 37, 38, 39, 40 ].indexOf(keyCode) ? me.emit("keyup") : selectionChanged());
        }
        function onkeydown(e) {
            var keyCode;
            skip || (inputPerfMeasure = tracking_1.felog.performance.grammarlyEditorInput.startMeasure(), 
            keyCode = util_1.keyCode(e), checkTriggerKeyPressed = -1 !== [ 32, 190, 188, 186, 59, 57, 48, 191, 49, 13, 8 ].indexOf(keyCode), 
            me.emit("keydown", {
                originalEvent: e,
                commandKeyPressed: checkTriggerKeyPressed,
                listener: me
            }), checkTriggerKeyPressed ? throttledCheck() : debouncedCheck());
        }
        function onkeypress(e) {
            if (lastChange = Date.now(), !skip) {
                var keyCode, ev = {
                    originalEvent: e,
                    navKey: (keyCode = util_1.keyCode(e), -1 !== [ 37, 38, 39, 40, 17, 18, 91, 8, 16, 20, 9 ].indexOf(keyCode)),
                    commandKeyPressed: checkTriggerKeyPressed,
                    listener: me
                };
                me.emit("keypress", ev);
            }
        }
        function mousedown() {
            skip || (lastChange = Date.now() - 1e5, check(!0));
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var findLast = __webpack_require__(744), without = __webpack_require__(746), tagsForWatch = [ "b", "strong", "i", "em", "u", "ins", "s", "font", "span", "ul", "li", "ol", "a", "img", "blockquote", "h1", "h2", "h3", "h4", "h5", "h6" ], watchers = [];
    exports.watch = function(node, cb) {
        if ("undefined" != typeof MutationObserver && !findLast(watchers, {
            node: node,
            cb: cb
        })) {
            var mo = new MutationObserver(function(mutations) {
                var targets = [], config = {
                    tags: tagsForWatch
                };
                function checkMutation(mutation, nodes, action) {
                    for (var i = 0, total = nodes.length; i < total; i++) {
                        var tag = nodes[i].tagName ? nodes[i].tagName : mutation.target.tagName, toPush = {
                            node: mutation.target,
                            tag: tag.toLowerCase(),
                            action: action
                        };
                        mutation.target && -1 === targets.indexOf(toPush) && targets.push(toPush);
                    }
                }
                mutations.forEach(function(mutation) {
                    0 !== mutation.addedNodes.length && checkMutation(mutation, mutation.addedNodes, "addedNodes"), 
                    0 !== mutation.removedNodes.length && checkMutation(mutation, mutation.removedNodes, "removedNodes");
                });
                var toInvalid = function(targets, config) {
                    var toInvalidate = [], isRm = !1;
                    return targets.forEach(function(target) {
                        "removedNodes" === target.action && config.tags.includes(target.tag) && (isRm = !0);
                    }), targets.forEach(function(target) {
                        var currentTagName = target.tag, isTagsMatch = config.tags.includes(currentTagName), toInalidateNode = void 0;
                        ("addedNodes" === target.action && isTagsMatch || "removedNodes" === target.action && isRm) && (toInalidateNode = target.node), 
                        toInalidateNode && -1 === toInvalidate.indexOf(toInalidateNode) && toInvalidate.push(toInalidateNode);
                    }), !!toInvalidate.length && toInvalidate;
                }(targets, config);
                toInvalid && cb && cb(toInvalid);
            });
            mo.observe(node, {
                childList: !0,
                subtree: !0,
                attributes: !1,
                characterData: !1
            }), watchers.push({
                node: node,
                cb: cb,
                mo: mo
            });
        }
    }, exports.unwatch = function(node, cb) {
        var isWatch = findLast(watchers, {
            node: node,
            cb: cb
        });
        isWatch && (isWatch.mo.disconnect(), watchers = without(watchers, isWatch));
    };
}, function(module, exports, __webpack_require__) {
    var findLast = __webpack_require__(510)(__webpack_require__(745));
    module.exports = findLast;
}, function(module, exports, __webpack_require__) {
    var baseFindIndex = __webpack_require__(326), baseIteratee = __webpack_require__(64), toInteger = __webpack_require__(511), nativeMax = Math.max, nativeMin = Math.min;
    module.exports = function(array, predicate, fromIndex) {
        var length = null == array ? 0 : array.length;
        if (!length) return -1;
        var index = length - 1;
        return void 0 !== fromIndex && (index = toInteger(fromIndex), index = fromIndex < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1)), 
        baseFindIndex(array, baseIteratee(predicate, 3), index, !0);
    };
}, function(module, exports, __webpack_require__) {
    var baseDifference = __webpack_require__(503), baseRest = __webpack_require__(94), isArrayLikeObject = __webpack_require__(111), without = baseRest(function(array, values) {
        return isArrayLikeObject(array) ? baseDifference(array, values) : [];
    });
    module.exports = without;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Wrap = __webpack_require__(153), dom_1 = __webpack_require__(3), util_1 = __webpack_require__(2);
    exports.HtmlTypingLimiter = function(config) {
        var inputListener = config.inputListener, el = config.el, doc = el.ownerDocument, insertedAtPos = null;
        inputListener.on("keypress", function(event) {
            var sel = dom_1.getDocSelection(doc);
            if (sel.toString().length > 1) return;
            var n = sel.anchorNode;
            Wrap.invalidateNode(n);
            var e = event.originalEvent, commandKeyPressed = event.commandKeyPressed, navKey = event.navKey, nParent = n.parentNode;
            if (e.metaKey || e.ctrlKey) return;
            commandKeyPressed && (insertedAtPos = null);
            if (!n || !n.nodeType || 3 !== n.nodeType) return;
            if (navKey || commandKeyPressed && 13 !== util_1.keyCode(e) && 32 !== util_1.keyCode(e)) return;
            insertedAtPos = null;
            var content = n.textContent || "";
            if (!dom_1.hasClass(nParent, "gr_") || content.length !== sel.anchorOffset && 0 !== sel.anchorOffset) return;
            if (13 === util_1.keyCode(e)) return function(n) {
                setTimeout(function() {
                    n && n.parentNode && (n.firstChild && "BR" === n.firstChild.tagName && dom_1.insertBefore(n.firstChild, n), 
                    n.lastChild && "BR" === n.lastChild.tagName && dom_1.insertAfter(n.lastChild, n), 
                    Wrap.invalidateNode(n));
                }, 0);
            }(n.parentNode);
            var key = String.fromCharCode(util_1.keyCode(e));
            e.shiftKey || (key = key.toLowerCase());
            var tn = doc.createTextNode(key);
            " " === tn.textContent && (tn.textContent = String.fromCharCode(160));
            0 === sel.anchorOffset ? dom_1.insertBefore(tn, nParent) : dom_1.insertAfter(tn, nParent);
            insertedAtPos = Wrap.getPosInText(el, tn, 1), Wrap.setRange({
                node: tn,
                offset: 1
            }), e.preventDefault(), Wrap.invalidateNode(tn), setTimeout(inputListener.oninput, 0);
        }), inputListener.on("keydown", function(event) {
            var e = event.originalEvent;
            if ((e.metaKey || e.ctrlKey) && 90 === util_1.keyCode(e) && null !== insertedAtPos) {
                var cursor = Wrap.getCursorPos(el), ni = Wrap.getNodeByTextPos(el, insertedAtPos), text = Wrap.getNodeText(ni);
                ni.node.textContent = text.substr(0, ni.offset - 1) + text.substr(ni.offset), Wrap.invalidateNode(ni.node), 
                insertedAtPos = null, cursor.s--, cursor.e--, Wrap.setCursorPos(el, cursor), e.preventDefault(), 
                setTimeout(inputListener.oninput, 0);
            }
        }), inputListener.on("input", function() {
            sel = dom_1.getDocSelection(doc), sel.anchorNode && el.contains(sel.anchorNode) && Wrap.invalidateNode(sel.anchorNode);
            var sel;
        });
    };
}, function(module, exports, __webpack_require__) {
    var escapeHtmlChar = __webpack_require__(749)({
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;"
    });
    module.exports = escapeHtmlChar;
}, function(module, exports) {
    module.exports = function(object) {
        return function(key) {
            return null == object ? void 0 : object[key];
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var ch = __webpack_require__(423), emitter = __webpack_require__(18), extend = __webpack_require__(38), escape = __webpack_require__(422), dom_1 = __webpack_require__(3), util_1 = __webpack_require__(2);
    exports.createTextSplit = function(config) {
        var node = config.node, blocks = [], startBlockLen = config.blockSize || 1e3, maxBlockLen = config.maxBlockSize || 2e3, oldVal = "", me = emitter({
            update: function(val, matches, wrap) {
                var b, b2, applied, oldText, oldPos, m, m2, col, diff = ch.diff(oldVal, val);
                blocks.length || (b = createBlock(0, ""), node.appendChild(b.el), blocks.push(b));
                diff = diff.sequencify(), applied = ch.cs([]);
                for (var k = 0; k < blocks.length; k++) {
                    b = blocks[k], oldText = b.text, oldPos = b.pos;
                    for (var i = 0; i < applied.length; i++) b.pos = b.transformAgainst(applied[i]).pos;
                    if (applied.push(applyToBlock(b, diff)), b.len) for (b.text !== oldText && (b.textUp = !0), 
                    b.text === oldText && b.pos === oldPos || (b.posUp = !0); b.len > maxBlockLen; ) b2 = createBlock(b.pos + startBlockLen, b.text.substr(startBlockLen)), 
                    b.text = b.text.substr(0, startBlockLen), b.len = b.text.length, dom_1.insertAfter(b2.el, b.el), 
                    blocks.splice(k + 1, 0, b2), k++, b = b2; else blocks.splice(k, 1), node.removeChild(b.el), 
                    k--;
                }
                for (var newMatches = [], k = 0; k < blocks.length; k++) {
                    b = blocks[k], newMatches = [];
                    for (var i = 0; i < matches.length; i++) m = matches[i], (col = Math.min(b.pos + b.len, m.e) - Math.max(b.pos, m.s)) < 0 || ((m2 = extend({}, m)).orig = m, 
                    m2.s = Math.max(0, m.s - b.pos), m2.value = m2.value.substr(Math.max(0, b.pos - m.s), col), 
                    m2.e = m2.s + m2.value.length, m2._s = m2.s, m2._e = m2.e, m.replaced || (m2._s = m2.s + m.sd, 
                    m2._e = m2.e + m.ed), m2._s < 0 || m2._e < 0 || newMatches.push(m2));
                    if (b.matchesUp = !0, b.matches.length || newMatches.length) if (b.matches.length === newMatches.length) {
                        b.matchesUp = !1;
                        for (var j = 0; j < b.matches.length; j++) {
                            var equal = b.matches[j].orig === newMatches[j].orig && b.matches[j]._s === newMatches[j]._s && b.matches[j]._e === newMatches[j]._e;
                            if (!equal) {
                                b.matchesUp = !0;
                                break;
                            }
                        }
                    } else b.matchesUp = !0; else b.matchesUp = !1;
                    b.matchesUp && (b.matches = newMatches);
                }
                for (var k = 0; k < blocks.length; k++) {
                    if ((b = blocks[k]).textUp || b.matchesUp) {
                        var matchedText = b.text;
                        matchedText = b.matches.length ? wrap(b.text, b.matches) : escape(matchedText), 
                        b.el.innerHTML = util_1.br(matchedText, k === blocks.length - 1), b.textUp = !1;
                    }
                    b.posUp && (b.el.setAttribute("p", [ b.pos, b.pos + b.len ].join(",")), b.posUp = !1);
                }
                me.emit("finish"), oldVal = val;
            }
        });
        return me;
        function applyToBlock(b, diff) {
            for (var c, c2, applied = ch.cs([]), delOps = [], i = 0; i < diff.length; i++) "=" !== (c = diff[i]).type && c.len && (c.pos < b.pos || c.pos > b.pos + b.len || (c2 = c.extend({
                tlen: b.len,
                pos: c.pos - b.pos
            }), "+" === c.type && (applied.push(c), delOps.forEach(function(op) {
                return op.pos += c.len;
            })), "-" === c.type && (c2.text = c2.text.substr(0, b.pos + b.len - c.pos), c2.len = c2.text.length, 
            c.text = c.text.substr(c2.len), c.len = c.text.length, applied.push(c2), delOps.push(c)), 
            b.text = c2.apply(b.text), b.len = b.text.length));
            return applied;
        }
        function createBlock(start, text) {
            var el = document.createElement("gr_block");
            return el.style.display = "inline", Object.assign(ch.op({
                type: "+",
                tlen: 0,
                pos: start,
                text: text,
                accessory: 0
            }), {
                el: el,
                textUp: !0,
                posUp: !0,
                matchesUp: !1,
                matches: []
            });
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var debounce = __webpack_require__(53), logger_1 = __webpack_require__(1), dom_1 = __webpack_require__(3), tracking_1 = __webpack_require__(8), dialog_1 = __webpack_require__(424), log = logger_1.Logger.create("gdocs-editor"), GdocsEditor = function() {
        function GdocsEditor(editor) {
            var _this = this;
            this.editor = editor, this.gdocsMatchesToAddAgain = [], this.enabledCheckingInLargeDocument = !1;
            var dom = editor.dom;
            this.dom = dom;
            var orphanUnderlinesCleaner = debounce(function() {
                Array.from(document.querySelectorAll(".kix-spelling-error-overlay-container .gr-alert")).forEach(function(el) {
                    (!el.hasAttribute("id") || !_this.editor.matches.byId(el.id) && el.parentNode) && (el.parentNode.style.display = "none");
                });
            }, 1e3);
            dom.on("textRevision", this.updateGdocsRevision.bind(this)), dom.on("text", this.updateGdocsMatches.bind(this)), 
            dom.on("underline", this.assignMatch.bind(this)), dom.on("revert", this.hardReset.bind(this)), 
            dom.on("reset", function() {
                return _this.hardReset.bind(_this);
            }), dom.on("rendered", orphanUnderlinesCleaner), dom.on("gdocsExit", function() {
                _this.clearMatches(), _this.editor.api.stop(), editor.exit();
            });
        }
        return GdocsEditor.prototype.hardReset = function() {
            this.resetState(), this.editor.api.reset(), this.editor.updateText(), this.editor.api.start(), 
            this.editor.check(), this.editor.emit("rendered");
        }, GdocsEditor.prototype.resetState = function() {
            this.editor._currentText = this.dom.getText(), this.dom.removeRange(0, this.editor.getText().length - 1), 
            this.clearMatches();
        }, GdocsEditor.prototype.clearMatches = function() {
            this.editor.matches.clear(), this.editor._removedByServer = [], this.gdocsShiftedMatches = [], 
            this.gdocsMatchesToAddAgain = [];
        }, GdocsEditor.prototype.updateGdocsRevision = function(e) {
            this.editor.updateText(), this.gdocsMatchesToAddAgain.length && (this.gdocsMatchesToAddAgain.forEach(function(x) {
                return x.rendered = !1;
            }), this.gdocsMatchesToAddAgain = [], this.editor.render()), e.checkImmediatelyAfterReplacement && this.editor.check();
        }, GdocsEditor.prototype.updateGdocsMatches = function(_a) {
            var _this = this, text = _a.text, diff = _a.diff;
            if (this.gdocsShiftedMatches = this.editor.api.getShiftedMatches(this.editor.getFiltered(), text), 
            diff) {
                for (var leftSpaceIndex = diff.s, i = 0; text[diff.s - i + Math.min(0, diff.delta)] && "" === text[diff.s - i + Math.min(0, diff.delta)].trim(); ) leftSpaceIndex = diff.s - i + Math.min(0, diff.delta), 
                i++;
                var removedByGdocs = this.gdocsShiftedMatches.filter(function(x) {
                    return x._s === diff.e + Math.max(0, diff.delta) || x._e === diff.s || x._e === leftSpaceIndex;
                }), matchesToAdd = this.editor.getFiltered().filter(function(match) {
                    return removedByGdocs.find(function(y) {
                        return match.id === y.id;
                    });
                });
                matchesToAdd.forEach(function(x) {
                    return x.inDom = !1;
                });
                var matchesNotAddedByGdocs = this.editor.getFiltered().filter(function(x, _, arr) {
                    return !document.querySelector("div[data-gr-start='" + x._s + "']") && !arr.find(function(y) {
                        return Boolean(x.id !== y.id && _this.editor.matches.isIntersected(y, x));
                    });
                });
                matchesNotAddedByGdocs.forEach(function(x) {
                    return x.rendered = !1;
                }), this.editor.getFiltered().forEach(function(x) {
                    _this.dom.isCorrectPosition(x) || (x.remove(), log.info("remove match in incorrect position", x));
                }), this.gdocsMatchesToAddAgain = __spread(this.gdocsMatchesToAddAgain, matchesToAdd, matchesNotAddedByGdocs);
            }
        }, GdocsEditor.prototype.gdocsMatchByRange = function(_a) {
            var s = _a.s, e = _a.e, searchFunc = function(x) {
                return x._s === s && x._e === e + 1 || x._e === e + 1 || x._s === s;
            }, otMatch = this.gdocsShiftedMatches ? this.gdocsShiftedMatches.sort(function(a, b) {
                return a._s - b._s || b._e - a._e;
            }).find(searchFunc) : void 0;
            return otMatch ? this.editor.matches.byId(String(otMatch.id)) : this.editor.getFiltered().find(searchFunc);
        }, GdocsEditor.prototype.assignMatch = function(underlineId) {
            var _this = this, gdocsUnderline = this.editor.el.querySelector("div[data-gr-id='" + underlineId + "']");
            if (gdocsUnderline && !dom_1.hasClass(gdocsUnderline, "kix-selection-overlay") && gdocsUnderline.dataset.grStart && gdocsUnderline.dataset.grEnd) {
                var s = parseInt(gdocsUnderline.dataset.grStart, 10), e = parseInt(gdocsUnderline.dataset.grEnd, 10), match_1 = this.gdocsMatchByRange({
                    s: s,
                    e: e
                });
                match_1 ? (match_1.getEl = function() {
                    return Array.from(_this.editor.el.querySelectorAll("[data-gr-g='" + match_1.id + "']")).map(function(x) {
                        return x.parentElement;
                    });
                }, gdocsUnderline.firstElementChild && (gdocsUnderline.firstElementChild.id = String(match_1.id), 
                gdocsUnderline.firstElementChild.dataset.grG = String(match_1.id)), "none" === gdocsUnderline.style.display && match_1.remove()) : (log.warn("Can't find match for underline, removing underline, where matches " + JSON.stringify((this.gdocsShiftedMatches || []).map(function(x) {
                    return {
                        _s: x._s,
                        _e: x._e,
                        _value: x._value,
                        id: x.id
                    };
                })), gdocsUnderline), gdocsUnderline.style.display = "none", tracking_1.felog.gdocs.noMatchForUnderline());
            }
        }, GdocsEditor.prototype.onAddMatch = function() {
            this.gdocsShiftedMatches = this.editor.api.getShiftedMatches(this.editor.getFiltered(), this.dom.renderedText);
        }, GdocsEditor.prototype.onRemoveMatch = function(match) {
            this.editor.matches.forceRemove(match, !0), this.gdocsShiftedMatches = this.gdocsShiftedMatches.filter(function(x) {
                return x.id !== match.id;
            });
        }, GdocsEditor.prototype.getInputListenerConfig = function() {
            var gdocsInputIframe = document.querySelector(".docs-texteventtarget-iframe");
            return gdocsInputIframe ? {
                el: gdocsInputIframe.contentWindow.document.body,
                doc: document,
                editor: this.editor
            } : void 0;
        }, GdocsEditor.prototype.putCursorToMatch = function(container) {
            container && container.dispatchEvent(new MouseEvent("click"));
        }, GdocsEditor.prototype.isLargeDocument = function() {
            return this.editor.getText().split(" ").length > 2e3;
        }, GdocsEditor.prototype.isCheckingEnabledInLargeDocument = function() {
            return !this.isLargeDocument() || this.enabledCheckingInLargeDocument;
        }, GdocsEditor.prototype.showLargeDocumentWarning = function(isSeenGdocsLargeDocumentWarning, onCloseLargeDocumentWarning) {
            var _this = this, btn = document.querySelector(".kix-appview-editor ~ grammarly-btn");
            btn && (btn.style.display = "none"), dialog_1.renderGdocsDisabledForLargeDocument(isSeenGdocsLargeDocumentWarning, function() {
                onCloseLargeDocumentWarning();
            }, function() {
                btn && (btn.style.display = ""), _this.enabledCheckingInLargeDocument = !0, onCloseLargeDocumentWarning(), 
                _this.editor.check();
            });
        }, GdocsEditor;
    }();
    exports.GdocsEditor = GdocsEditor;
}, function(module, exports) {
    module.exports = {
        container: "_10q_I",
        wrap: "_2HqtF",
        btnOffline: "_2sJw0",
        btnDisabled: "_3-3OY",
        bubbleWrap: "_1YbUe",
        widthClass: "n6MGK",
        bubbleArrow: "_22_6p",
        close: "_3jMq8",
        isClosed: "_1W_p1",
        hideTooltip: "_24hR9",
        invisibleSpace: "_6IMdb",
        isHoverActive: "_2bRQS"
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var utils_1 = __webpack_require__(205), base_1 = __webpack_require__(514), PROP_EXPR_RE = new RegExp([ "^", "function", "\\(", "[^), ]+", "\\)", "\\{", '("use strict";)?', "return\\s", "[^\\.]+\\.(\\S+?);?", "\\}", "$" ].join("\\s*"));
    new RegExp([ "^", "function", "\\(", "[^), ]+", "\\)", "\\{", '("use strict";)?', "(\\$_\\$wf\\(\\d+\\);)?", "return\\s", "(\\$_\\$w\\(\\d+, \\d+\\),\\s)?", "[^\\.]+\\.(\\S+?);?", "\\}", "$" ].join("\\s*"));
    function parsePropertyPath(getterSource) {
        var exprRegexp = PROP_EXPR_RE, parse = getterSource.match(exprRegexp);
        if (parse && parse[2]) return parse[2].split(".");
        throw new TypeError('Expected a property expression, got "' + getterSource + '".\n\n      A property expression should be a referentially transparent (no side-effects),\n      single-expression "getter" function.\n\n      Correct example: "function (x) { return x.some }" or "x => x.some".\n      Incorrect example: "function (x) { var y = x.some; return y }" or "({some}) => some"');
    }
    function extractPropertyPath(target) {
        return parsePropertyPath(target.toString());
    }
    function keyImpl(k) {
        return void 0 === k ? function(k) {
            return base_1.Lens.create(function(s) {
                return s[k];
            }, function(v, s) {
                return utils_1.setKey(k, v, s);
            });
        } : base_1.Lens.create(function(s) {
            return s[k];
        }, function(v, s) {
            return utils_1.setKey(k, v, s);
        });
    }
    function propImpl(getter) {
        return base_1.Lens.compose.apply(base_1.Lens, extractPropertyPath(getter).map(keyImpl()));
    }
    function indexImpl(i) {
        if (i < 0) throw new TypeError(i + " is not a valid array index, expected >= 0");
        return base_1.Prism.create(function(xs) {
            return xs[i];
        }, function(v, xs) {
            return xs.length <= i ? xs.concat(Array(i - xs.length), [ v ]) : utils_1.structEq(v, xs[i]) ? xs : xs.slice(0, i).concat([ v ], xs.slice(i + 1));
        });
    }
    function withDefaultImpl(defaultValue) {
        return base_1.Lens.replace(void 0, defaultValue);
    }
    function replaceImpl(originalValue, newValue) {
        return base_1.Lens.create(function(x) {
            return utils_1.structEq(x, originalValue) ? newValue : x;
        }, utils_1.conservatively(function(y) {
            return utils_1.structEq(y, newValue) ? originalValue : y;
        }));
    }
    function findImpl(predicate) {
        return getLens = function(xs) {
            var i = utils_1.findIndex(xs, predicate);
            return i < 0 ? base_1.Lens.nothing() : base_1.Lens.index(i);
        }, base_1.Lens.create(function(s) {
            return getLens(s).get(s);
        }, function(v, s) {
            return getLens(s).set(v, s);
        });
        var getLens;
    }
    exports.parsePropertyPath = parsePropertyPath, exports.extractPropertyPath = extractPropertyPath, 
    exports.keyImpl = keyImpl, exports.propImpl = propImpl, exports.indexImpl = indexImpl, 
    exports.withDefaultImpl = withDefaultImpl, exports.replaceImpl = replaceImpl, exports.findImpl = findImpl, 
    base_1.Lens.key = keyImpl, base_1.Lens.prop = propImpl, base_1.Lens.index = indexImpl, 
    base_1.Lens.withDefault = withDefaultImpl, base_1.Lens.replace = replaceImpl, base_1.Lens.find = findImpl;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var base_1 = __webpack_require__(755);
    !function(Atom) {
        Atom.create = function(initialValue) {
            return new base_1.JsonAtom(initialValue);
        }, Atom.log = function(atom, logger) {
            var logState = function(msg, color, x) {
                return console.log("%c" + msg, "color: " + color + "; font-weight: bold", x);
            }, prevState = atom.get();
            return atom.subscribe(function(newState) {
                "function" == typeof logger ? logger(prevState, newState) : (console.group("UPDATE " + (logger ? "TYPE: " + logger + " " : "") + "@ " + new Date().toTimeString()), 
                logState("prev state", "#9E9E9E", prevState), logState("next state", "#4CAF50", newState), 
                console.groupEnd()), prevState = newState;
            }), atom;
        }, Atom.combine = function() {
            for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
            return new base_1.CombinedAtomViewImpl(args.slice(void 0, -1), function(xs) {
                return args[args.length - 1].apply(args, xs);
            });
        };
    }(exports.Atom || (exports.Atom = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var lens_1 = __webpack_require__(513), utils_1 = __webpack_require__(205), Rx_1 = __webpack_require__(756), AbstractReadOnlyAtom = function(_super) {
        function AbstractReadOnlyAtom() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends(AbstractReadOnlyAtom, _super), AbstractReadOnlyAtom.prototype.view = function() {
            for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
            return void 0 !== args[0] ? "function" == typeof args[0] ? new AtomViewImpl(this, args[0]) : "string" == typeof args[0] ? new AtomViewImpl(this, lens_1.Lens.compose.apply(lens_1.Lens, args.map(lens_1.Lens.key())).get) : new AtomViewImpl(this, function(x) {
                return args[0].get(x);
            }) : this;
        }, AbstractReadOnlyAtom;
    }(Rx_1.BehaviorSubject);
    exports.AbstractReadOnlyAtom = AbstractReadOnlyAtom;
    var AbstractAtom = function(_super) {
        function AbstractAtom() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends(AbstractAtom, _super), AbstractAtom.prototype.set = function(x) {
            this.modify(function() {
                return x;
            });
        }, AbstractAtom.prototype.lens = function(arg1) {
            for (var args = [], _i = 1; _i < arguments.length; _i++) args[_i - 1] = arguments[_i];
            return new LensedAtom(this, "function" == typeof arg1 ? lens_1.Lens.prop(arg1) : "string" == typeof arg1 ? lens_1.Lens.compose.apply(lens_1.Lens, [ lens_1.Lens.key(arg1) ].concat(args.map(lens_1.Lens.key))) : arg1, utils_1.structEq);
        }, AbstractAtom;
    }(AbstractReadOnlyAtom);
    exports.AbstractAtom = AbstractAtom;
    var JsonAtom = function(_super) {
        function JsonAtom(initialValue) {
            return _super.call(this, initialValue) || this;
        }
        return __extends(JsonAtom, _super), JsonAtom.prototype.get = function() {
            return this.getValue();
        }, JsonAtom.prototype.modify = function(updateFn) {
            var prevValue = this.getValue(), next = updateFn(prevValue);
            utils_1.structEq(prevValue, next) || this.next(next);
        }, JsonAtom.prototype.set = function(x) {
            var prevValue = this.getValue();
            utils_1.structEq(prevValue, x) || this.next(x);
        }, JsonAtom;
    }(AbstractAtom);
    exports.JsonAtom = JsonAtom;
    var LensedAtom = function(_super) {
        function LensedAtom(_source, _lens, _eq) {
            void 0 === _eq && (_eq = utils_1.structEq);
            var _this = _super.call(this, void 0) || this;
            return _this._source = _source, _this._lens = _lens, _this._eq = _eq, _this.__onSourceValue = void 0, 
            _this._subscription = null, _this;
        }
        return __extends(LensedAtom, _super), LensedAtom.prototype.get = function() {
            return this._subscription ? this.getValue() : this._lens.get(this._source.get());
        }, LensedAtom.prototype.modify = function(updateFn) {
            var _this = this;
            this._source.modify(function(x) {
                return _this._lens.modify(updateFn, x);
            });
        }, LensedAtom.prototype.set = function(newValue) {
            var _this = this;
            this._source.modify(function(x) {
                return _this._lens.set(newValue, x);
            });
        }, LensedAtom.prototype._onSourceValue = function(x) {
            var prevValue = this.getValue(), next = this._lens.get(x);
            this._eq(prevValue, next) || this.next(next);
        }, LensedAtom.prototype._subscribe = function(subscriber) {
            var _this = this;
            return this._subscription || (this.__onSourceValue = function(value) {
                return _this._onSourceValue(value);
            }, this._subscription = this._source.subscribe(this.__onSourceValue)), _super.prototype._subscribe.call(this, subscriber);
        }, LensedAtom.prototype.unsubscribe = function() {
            this._subscription && this._subscription.unsubscribe(), this.__onSourceValue = void 0, 
            _super.prototype.unsubscribe.call(this);
        }, LensedAtom;
    }(AbstractAtom), AtomViewImpl = function(_super) {
        function AtomViewImpl(_source, _getter, _eq) {
            void 0 === _eq && (_eq = utils_1.structEq);
            var _this = _super.call(this, void 0) || this;
            return _this._source = _source, _this._getter = _getter, _this._eq = _eq, _this.__onSourceValue = void 0, 
            _this._subscription = null, _this;
        }
        return __extends(AtomViewImpl, _super), AtomViewImpl.prototype.get = function() {
            return this._subscription ? this.getValue() : this._getter(this._source.get());
        }, AtomViewImpl.prototype._onSourceValue = function(x) {
            var prevValue = this.getValue(), next = this._getter(x);
            this._eq(prevValue, next) || this.next(next);
        }, AtomViewImpl.prototype._subscribe = function(subscriber) {
            var _this = this;
            return this._subscription || (this.__onSourceValue = function(value) {
                return _this._onSourceValue(value);
            }, this._subscription = this._source.subscribe(this.__onSourceValue)), _super.prototype._subscribe.call(this, subscriber);
        }, AtomViewImpl.prototype.unsubscribe = function() {
            this._subscription && this._subscription.unsubscribe(), this.__onSourceValue = void 0, 
            _super.prototype.unsubscribe.call(this);
        }, AtomViewImpl;
    }(AbstractReadOnlyAtom), CombinedAtomViewImpl = function(_super) {
        function CombinedAtomViewImpl(_sources, _combineFn, _eq) {
            void 0 === _eq && (_eq = utils_1.structEq);
            var _this = _super.call(this, void 0) || this;
            return _this._sources = _sources, _this._combineFn = _combineFn, _this._eq = _eq, 
            _this.__onSourceValues = void 0, _this._subscription = null, _this;
        }
        return __extends(CombinedAtomViewImpl, _super), CombinedAtomViewImpl.prototype.get = function() {
            return this._subscription ? this.getValue() : this._combineFn(this._sources.map(function(x) {
                return x.get();
            }));
        }, CombinedAtomViewImpl.prototype._onSourceValues = function(xs) {
            var prevValue = this.getValue(), next = this._combineFn(xs);
            this._eq(prevValue, next) || this.next(next);
        }, CombinedAtomViewImpl.prototype._subscribe = function(subscriber) {
            var _this = this;
            return this._subscription || (this.__onSourceValues = function(values) {
                return _this._onSourceValues(values);
            }, this._subscription = Rx_1.Observable.combineLatest(this._sources).subscribe(this.__onSourceValues)), 
            _super.prototype._subscribe.call(this, subscriber);
        }, CombinedAtomViewImpl.prototype.unsubscribe = function() {
            this._subscription && this._subscription.unsubscribe(), this.__onSourceValues = void 0, 
            _super.prototype.unsubscribe.call(this);
        }, CombinedAtomViewImpl;
    }(AbstractReadOnlyAtom);
    exports.CombinedAtomViewImpl = CombinedAtomViewImpl;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Subject_1 = __webpack_require__(27);
    exports.Subject = Subject_1.Subject, exports.AnonymousSubject = Subject_1.AnonymousSubject;
    var Observable_1 = __webpack_require__(0);
    exports.Observable = Observable_1.Observable, __webpack_require__(757), __webpack_require__(760), 
    __webpack_require__(515), __webpack_require__(764), __webpack_require__(465), __webpack_require__(765), 
    __webpack_require__(767), __webpack_require__(457), __webpack_require__(452), __webpack_require__(456), 
    __webpack_require__(770), __webpack_require__(772), __webpack_require__(775), __webpack_require__(778), 
    __webpack_require__(783), __webpack_require__(784), __webpack_require__(785), __webpack_require__(463), 
    __webpack_require__(788), __webpack_require__(790), __webpack_require__(793), __webpack_require__(796), 
    __webpack_require__(799), __webpack_require__(802), __webpack_require__(804), __webpack_require__(806), 
    __webpack_require__(808), __webpack_require__(814), __webpack_require__(816), __webpack_require__(818), 
    __webpack_require__(820), __webpack_require__(822), __webpack_require__(824), __webpack_require__(826), 
    __webpack_require__(828), __webpack_require__(471), __webpack_require__(830), __webpack_require__(478), 
    __webpack_require__(832), __webpack_require__(834), __webpack_require__(836), __webpack_require__(838), 
    __webpack_require__(840), __webpack_require__(842), __webpack_require__(844), __webpack_require__(846), 
    __webpack_require__(474), __webpack_require__(848), __webpack_require__(850), __webpack_require__(852), 
    __webpack_require__(854), __webpack_require__(856), __webpack_require__(858), __webpack_require__(860), 
    __webpack_require__(470), __webpack_require__(862), __webpack_require__(864), __webpack_require__(866), 
    __webpack_require__(868), __webpack_require__(870), __webpack_require__(875), __webpack_require__(877), 
    __webpack_require__(879), __webpack_require__(881), __webpack_require__(883), __webpack_require__(885), 
    __webpack_require__(887), __webpack_require__(378), __webpack_require__(889), __webpack_require__(891), 
    __webpack_require__(893), __webpack_require__(895), __webpack_require__(897), __webpack_require__(477), 
    __webpack_require__(899), __webpack_require__(901), __webpack_require__(903), __webpack_require__(476), 
    __webpack_require__(483), __webpack_require__(905), __webpack_require__(907), __webpack_require__(909), 
    __webpack_require__(912), __webpack_require__(466), __webpack_require__(914), __webpack_require__(916), 
    __webpack_require__(918), __webpack_require__(920), __webpack_require__(922), __webpack_require__(924), 
    __webpack_require__(926), __webpack_require__(928), __webpack_require__(930), __webpack_require__(932), 
    __webpack_require__(934), __webpack_require__(568), __webpack_require__(937), __webpack_require__(481), 
    __webpack_require__(939), __webpack_require__(941), __webpack_require__(943), __webpack_require__(945), 
    __webpack_require__(947), __webpack_require__(949), __webpack_require__(479), __webpack_require__(951), 
    __webpack_require__(959), __webpack_require__(961), __webpack_require__(963), __webpack_require__(965), 
    __webpack_require__(967), __webpack_require__(969), __webpack_require__(971), __webpack_require__(973), 
    __webpack_require__(975), __webpack_require__(977), __webpack_require__(978), __webpack_require__(980), 
    __webpack_require__(982), __webpack_require__(984), __webpack_require__(986), __webpack_require__(987), 
    __webpack_require__(989), __webpack_require__(991), __webpack_require__(993), __webpack_require__(995), 
    __webpack_require__(997), __webpack_require__(999), __webpack_require__(1001);
    var Subscription_1 = __webpack_require__(30);
    exports.Subscription = Subscription_1.Subscription;
    var Subscriber_1 = __webpack_require__(6);
    exports.Subscriber = Subscriber_1.Subscriber;
    var AsyncSubject_1 = __webpack_require__(359);
    exports.AsyncSubject = AsyncSubject_1.AsyncSubject;
    var ReplaySubject_1 = __webpack_require__(364);
    exports.ReplaySubject = ReplaySubject_1.ReplaySubject;
    var BehaviorSubject_1 = __webpack_require__(334);
    exports.BehaviorSubject = BehaviorSubject_1.BehaviorSubject;
    var ConnectableObservable_1 = __webpack_require__(469);
    exports.ConnectableObservable = ConnectableObservable_1.ConnectableObservable;
    var Notification_1 = __webpack_require__(283);
    exports.Notification = Notification_1.Notification;
    var EmptyError_1 = __webpack_require__(365);
    exports.EmptyError = EmptyError_1.EmptyError;
    var ArgumentOutOfRangeError_1 = __webpack_require__(332);
    exports.ArgumentOutOfRangeError = ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;
    var ObjectUnsubscribedError_1 = __webpack_require__(345);
    exports.ObjectUnsubscribedError = ObjectUnsubscribedError_1.ObjectUnsubscribedError;
    var TimeoutError_1 = __webpack_require__(586);
    exports.TimeoutError = TimeoutError_1.TimeoutError;
    var UnsubscriptionError_1 = __webpack_require__(454);
    exports.UnsubscriptionError = UnsubscriptionError_1.UnsubscriptionError;
    var timeInterval_1 = __webpack_require__(583);
    exports.TimeInterval = timeInterval_1.TimeInterval;
    var timestamp_1 = __webpack_require__(436);
    exports.Timestamp = timestamp_1.Timestamp;
    var TestScheduler_1 = __webpack_require__(1003);
    exports.TestScheduler = TestScheduler_1.TestScheduler;
    var VirtualTimeScheduler_1 = __webpack_require__(599);
    exports.VirtualTimeScheduler = VirtualTimeScheduler_1.VirtualTimeScheduler;
    var AjaxObservable_1 = __webpack_require__(517);
    exports.AjaxResponse = AjaxObservable_1.AjaxResponse, exports.AjaxError = AjaxObservable_1.AjaxError, 
    exports.AjaxTimeoutError = AjaxObservable_1.AjaxTimeoutError;
    var pipe_1 = __webpack_require__(374);
    exports.pipe = pipe_1.pipe;
    var asap_1 = __webpack_require__(335), async_1 = __webpack_require__(24), queue_1 = __webpack_require__(518), animationFrame_1 = __webpack_require__(1006), rxSubscriber_1 = __webpack_require__(342), iterator_1 = __webpack_require__(282), observable_1 = __webpack_require__(343), _operators = __webpack_require__(1010);
    exports.operators = _operators;
    var Scheduler = {
        asap: asap_1.asap,
        queue: queue_1.queue,
        animationFrame: animationFrame_1.animationFrame,
        async: async_1.async
    };
    exports.Scheduler = Scheduler;
    var Symbol = {
        rxSubscriber: rxSubscriber_1.rxSubscriber,
        observable: observable_1.observable,
        iterator: iterator_1.iterator
    };
    exports.Symbol = Symbol;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), bindCallback_1 = __webpack_require__(758);
    Observable_1.Observable.bindCallback = bindCallback_1.bindCallback;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var BoundCallbackObservable_1 = __webpack_require__(759);
    exports.bindCallback = BoundCallbackObservable_1.BoundCallbackObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Observable_1 = __webpack_require__(0), tryCatch_1 = __webpack_require__(44), errorObject_1 = __webpack_require__(37), AsyncSubject_1 = __webpack_require__(359), BoundCallbackObservable = function(_super) {
        function BoundCallbackObservable(callbackFunc, selector, args, context, scheduler) {
            _super.call(this), this.callbackFunc = callbackFunc, this.selector = selector, this.args = args, 
            this.context = context, this.scheduler = scheduler;
        }
        return __extends(BoundCallbackObservable, _super), BoundCallbackObservable.create = function(func, selector, scheduler) {
            return void 0 === selector && (selector = void 0), function() {
                for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i - 0] = arguments[_i];
                return new BoundCallbackObservable(func, selector, args, this, scheduler);
            };
        }, BoundCallbackObservable.prototype._subscribe = function(subscriber) {
            var callbackFunc = this.callbackFunc, args = this.args, scheduler = this.scheduler, subject = this.subject;
            if (scheduler) return scheduler.schedule(BoundCallbackObservable.dispatch, 0, {
                source: this,
                subscriber: subscriber,
                context: this.context
            });
            if (!subject) {
                subject = this.subject = new AsyncSubject_1.AsyncSubject();
                var handler = function handlerFn() {
                    for (var innerArgs = [], _i = 0; _i < arguments.length; _i++) innerArgs[_i - 0] = arguments[_i];
                    var source = handlerFn.source, selector = source.selector, subject = source.subject;
                    if (selector) {
                        var result_1 = tryCatch_1.tryCatch(selector).apply(this, innerArgs);
                        result_1 === errorObject_1.errorObject ? subject.error(errorObject_1.errorObject.e) : (subject.next(result_1), 
                        subject.complete());
                    } else subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs), subject.complete();
                };
                handler.source = this, tryCatch_1.tryCatch(callbackFunc).apply(this.context, args.concat(handler)) === errorObject_1.errorObject && subject.error(errorObject_1.errorObject.e);
            }
            return subject.subscribe(subscriber);
        }, BoundCallbackObservable.dispatch = function(state) {
            var self = this, source = state.source, subscriber = state.subscriber, context = state.context, callbackFunc = source.callbackFunc, args = source.args, scheduler = source.scheduler, subject = source.subject;
            if (!subject) {
                subject = source.subject = new AsyncSubject_1.AsyncSubject();
                var handler = function handlerFn() {
                    for (var innerArgs = [], _i = 0; _i < arguments.length; _i++) innerArgs[_i - 0] = arguments[_i];
                    var source = handlerFn.source, selector = source.selector, subject = source.subject;
                    if (selector) {
                        var result_2 = tryCatch_1.tryCatch(selector).apply(this, innerArgs);
                        result_2 === errorObject_1.errorObject ? self.add(scheduler.schedule(dispatchError, 0, {
                            err: errorObject_1.errorObject.e,
                            subject: subject
                        })) : self.add(scheduler.schedule(dispatchNext, 0, {
                            value: result_2,
                            subject: subject
                        }));
                    } else {
                        var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;
                        self.add(scheduler.schedule(dispatchNext, 0, {
                            value: value,
                            subject: subject
                        }));
                    }
                };
                handler.source = source, tryCatch_1.tryCatch(callbackFunc).apply(context, args.concat(handler)) === errorObject_1.errorObject && subject.error(errorObject_1.errorObject.e);
            }
            self.add(subject.subscribe(subscriber));
        }, BoundCallbackObservable;
    }(Observable_1.Observable);
    function dispatchNext(arg) {
        var value = arg.value, subject = arg.subject;
        subject.next(value), subject.complete();
    }
    function dispatchError(arg) {
        var err = arg.err;
        arg.subject.error(err);
    }
    exports.BoundCallbackObservable = BoundCallbackObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), bindNodeCallback_1 = __webpack_require__(761);
    Observable_1.Observable.bindNodeCallback = bindNodeCallback_1.bindNodeCallback;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var BoundNodeCallbackObservable_1 = __webpack_require__(762);
    exports.bindNodeCallback = BoundNodeCallbackObservable_1.BoundNodeCallbackObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Observable_1 = __webpack_require__(0), tryCatch_1 = __webpack_require__(44), errorObject_1 = __webpack_require__(37), AsyncSubject_1 = __webpack_require__(359), BoundNodeCallbackObservable = function(_super) {
        function BoundNodeCallbackObservable(callbackFunc, selector, args, context, scheduler) {
            _super.call(this), this.callbackFunc = callbackFunc, this.selector = selector, this.args = args, 
            this.context = context, this.scheduler = scheduler;
        }
        return __extends(BoundNodeCallbackObservable, _super), BoundNodeCallbackObservable.create = function(func, selector, scheduler) {
            return void 0 === selector && (selector = void 0), function() {
                for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i - 0] = arguments[_i];
                return new BoundNodeCallbackObservable(func, selector, args, this, scheduler);
            };
        }, BoundNodeCallbackObservable.prototype._subscribe = function(subscriber) {
            var callbackFunc = this.callbackFunc, args = this.args, scheduler = this.scheduler, subject = this.subject;
            if (scheduler) return scheduler.schedule(dispatch, 0, {
                source: this,
                subscriber: subscriber,
                context: this.context
            });
            if (!subject) {
                subject = this.subject = new AsyncSubject_1.AsyncSubject();
                var handler = function handlerFn() {
                    for (var innerArgs = [], _i = 0; _i < arguments.length; _i++) innerArgs[_i - 0] = arguments[_i];
                    var source = handlerFn.source, selector = source.selector, subject = source.subject, err = innerArgs.shift();
                    if (err) subject.error(err); else if (selector) {
                        var result_1 = tryCatch_1.tryCatch(selector).apply(this, innerArgs);
                        result_1 === errorObject_1.errorObject ? subject.error(errorObject_1.errorObject.e) : (subject.next(result_1), 
                        subject.complete());
                    } else subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs), subject.complete();
                };
                handler.source = this, tryCatch_1.tryCatch(callbackFunc).apply(this.context, args.concat(handler)) === errorObject_1.errorObject && subject.error(errorObject_1.errorObject.e);
            }
            return subject.subscribe(subscriber);
        }, BoundNodeCallbackObservable;
    }(Observable_1.Observable);
    function dispatch(state) {
        var self = this, source = state.source, subscriber = state.subscriber, context = state.context, _a = source, callbackFunc = _a.callbackFunc, args = _a.args, scheduler = _a.scheduler, subject = source.subject;
        if (!subject) {
            subject = source.subject = new AsyncSubject_1.AsyncSubject();
            var handler = function handlerFn() {
                for (var innerArgs = [], _i = 0; _i < arguments.length; _i++) innerArgs[_i - 0] = arguments[_i];
                var source = handlerFn.source, selector = source.selector, subject = source.subject, err = innerArgs.shift();
                if (err) self.add(scheduler.schedule(dispatchError, 0, {
                    err: err,
                    subject: subject
                })); else if (selector) {
                    var result_2 = tryCatch_1.tryCatch(selector).apply(this, innerArgs);
                    result_2 === errorObject_1.errorObject ? self.add(scheduler.schedule(dispatchError, 0, {
                        err: errorObject_1.errorObject.e,
                        subject: subject
                    })) : self.add(scheduler.schedule(dispatchNext, 0, {
                        value: result_2,
                        subject: subject
                    }));
                } else {
                    var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;
                    self.add(scheduler.schedule(dispatchNext, 0, {
                        value: value,
                        subject: subject
                    }));
                }
            };
            handler.source = source, tryCatch_1.tryCatch(callbackFunc).apply(context, args.concat(handler)) === errorObject_1.errorObject && self.add(scheduler.schedule(dispatchError, 0, {
                err: errorObject_1.errorObject.e,
                subject: subject
            }));
        }
        self.add(subject.subscribe(subscriber));
    }
    function dispatchNext(arg) {
        var value = arg.value, subject = arg.subject;
        subject.next(value), subject.complete();
    }
    function dispatchError(arg) {
        var err = arg.err;
        arg.subject.error(err);
    }
    exports.BoundNodeCallbackObservable = BoundNodeCallbackObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var isScheduler_1 = __webpack_require__(86), isArray_1 = __webpack_require__(95), ArrayObservable_1 = __webpack_require__(136), combineLatest_1 = __webpack_require__(360);
    exports.combineLatest = function() {
        for (var observables = [], _i = 0; _i < arguments.length; _i++) observables[_i - 0] = arguments[_i];
        var project = null, scheduler = null;
        return isScheduler_1.isScheduler(observables[observables.length - 1]) && (scheduler = observables.pop()), 
        "function" == typeof observables[observables.length - 1] && (project = observables.pop()), 
        1 === observables.length && isArray_1.isArray(observables[0]) && (observables = observables[0]), 
        new ArrayObservable_1.ArrayObservable(observables, scheduler).lift(new combineLatest_1.CombineLatestOperator(project));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), concat_1 = __webpack_require__(285);
    Observable_1.Observable.concat = concat_1.concat;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), empty_1 = __webpack_require__(766);
    Observable_1.Observable.empty = empty_1.empty;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var EmptyObservable_1 = __webpack_require__(137);
    exports.empty = EmptyObservable_1.EmptyObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), forkJoin_1 = __webpack_require__(768);
    Observable_1.Observable.forkJoin = forkJoin_1.forkJoin;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var ForkJoinObservable_1 = __webpack_require__(769);
    exports.forkJoin = ForkJoinObservable_1.ForkJoinObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Observable_1 = __webpack_require__(0), EmptyObservable_1 = __webpack_require__(137), isArray_1 = __webpack_require__(95), subscribeToResult_1 = __webpack_require__(13), OuterSubscriber_1 = __webpack_require__(14), ForkJoinObservable = function(_super) {
        function ForkJoinObservable(sources, resultSelector) {
            _super.call(this), this.sources = sources, this.resultSelector = resultSelector;
        }
        return __extends(ForkJoinObservable, _super), ForkJoinObservable.create = function() {
            for (var sources = [], _i = 0; _i < arguments.length; _i++) sources[_i - 0] = arguments[_i];
            if (null === sources || 0 === arguments.length) return new EmptyObservable_1.EmptyObservable();
            var resultSelector = null;
            return "function" == typeof sources[sources.length - 1] && (resultSelector = sources.pop()), 
            1 === sources.length && isArray_1.isArray(sources[0]) && (sources = sources[0]), 
            0 === sources.length ? new EmptyObservable_1.EmptyObservable() : new ForkJoinObservable(sources, resultSelector);
        }, ForkJoinObservable.prototype._subscribe = function(subscriber) {
            return new ForkJoinSubscriber(subscriber, this.sources, this.resultSelector);
        }, ForkJoinObservable;
    }(Observable_1.Observable);
    exports.ForkJoinObservable = ForkJoinObservable;
    var ForkJoinSubscriber = function(_super) {
        function ForkJoinSubscriber(destination, sources, resultSelector) {
            _super.call(this, destination), this.sources = sources, this.resultSelector = resultSelector, 
            this.completed = 0, this.haveValues = 0;
            var len = sources.length;
            this.total = len, this.values = new Array(len);
            for (var i = 0; i < len; i++) {
                var source = sources[i], innerSubscription = subscribeToResult_1.subscribeToResult(this, source, null, i);
                innerSubscription && (innerSubscription.outerIndex = i, this.add(innerSubscription));
            }
        }
        return __extends(ForkJoinSubscriber, _super), ForkJoinSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.values[outerIndex] = innerValue, innerSub._hasValue || (innerSub._hasValue = !0, 
            this.haveValues++);
        }, ForkJoinSubscriber.prototype.notifyComplete = function(innerSub) {
            var destination = this.destination, haveValues = this.haveValues, resultSelector = this.resultSelector, values = this.values, len = values.length;
            if (innerSub._hasValue) {
                if (this.completed++, this.completed === len) {
                    if (haveValues === len) {
                        var value = resultSelector ? resultSelector.apply(this, values) : values;
                        destination.next(value);
                    }
                    destination.complete();
                }
            } else destination.complete();
        }, ForkJoinSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), fromPromise_1 = __webpack_require__(771);
    Observable_1.Observable.fromPromise = fromPromise_1.fromPromise;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var PromiseObservable_1 = __webpack_require__(462);
    exports.fromPromise = PromiseObservable_1.PromiseObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), generate_1 = __webpack_require__(773);
    Observable_1.Observable.generate = generate_1.generate;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var GenerateObservable_1 = __webpack_require__(774);
    exports.generate = GenerateObservable_1.GenerateObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Observable_1 = __webpack_require__(0), isScheduler_1 = __webpack_require__(86), selfSelector = function(value) {
        return value;
    }, GenerateObservable = function(_super) {
        function GenerateObservable(initialState, condition, iterate, resultSelector, scheduler) {
            _super.call(this), this.initialState = initialState, this.condition = condition, 
            this.iterate = iterate, this.resultSelector = resultSelector, this.scheduler = scheduler;
        }
        return __extends(GenerateObservable, _super), GenerateObservable.create = function(initialStateOrOptions, condition, iterate, resultSelectorOrObservable, scheduler) {
            return 1 == arguments.length ? new GenerateObservable(initialStateOrOptions.initialState, initialStateOrOptions.condition, initialStateOrOptions.iterate, initialStateOrOptions.resultSelector || selfSelector, initialStateOrOptions.scheduler) : void 0 === resultSelectorOrObservable || isScheduler_1.isScheduler(resultSelectorOrObservable) ? new GenerateObservable(initialStateOrOptions, condition, iterate, selfSelector, resultSelectorOrObservable) : new GenerateObservable(initialStateOrOptions, condition, iterate, resultSelectorOrObservable, scheduler);
        }, GenerateObservable.prototype._subscribe = function(subscriber) {
            var state = this.initialState;
            if (this.scheduler) return this.scheduler.schedule(GenerateObservable.dispatch, 0, {
                subscriber: subscriber,
                iterate: this.iterate,
                condition: this.condition,
                resultSelector: this.resultSelector,
                state: state
            });
            for (var condition = this.condition, resultSelector = this.resultSelector, iterate = this.iterate; ;) {
                if (condition) {
                    var conditionResult = void 0;
                    try {
                        conditionResult = condition(state);
                    } catch (err) {
                        return void subscriber.error(err);
                    }
                    if (!conditionResult) {
                        subscriber.complete();
                        break;
                    }
                }
                var value = void 0;
                try {
                    value = resultSelector(state);
                } catch (err) {
                    return void subscriber.error(err);
                }
                if (subscriber.next(value), subscriber.closed) break;
                try {
                    state = iterate(state);
                } catch (err) {
                    return void subscriber.error(err);
                }
            }
        }, GenerateObservable.dispatch = function(state) {
            var subscriber = state.subscriber, condition = state.condition;
            if (!subscriber.closed) {
                if (state.needIterate) try {
                    state.state = state.iterate(state.state);
                } catch (err) {
                    return void subscriber.error(err);
                } else state.needIterate = !0;
                if (condition) {
                    var conditionResult = void 0;
                    try {
                        conditionResult = condition(state.state);
                    } catch (err) {
                        return void subscriber.error(err);
                    }
                    if (!conditionResult) return void subscriber.complete();
                    if (subscriber.closed) return;
                }
                var value;
                try {
                    value = state.resultSelector(state.state);
                } catch (err) {
                    return void subscriber.error(err);
                }
                if (!subscriber.closed && (subscriber.next(value), !subscriber.closed)) return this.schedule(state);
            }
        }, GenerateObservable;
    }(Observable_1.Observable);
    exports.GenerateObservable = GenerateObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), if_1 = __webpack_require__(776);
    Observable_1.Observable.if = if_1._if;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var IfObservable_1 = __webpack_require__(777);
    exports._if = IfObservable_1.IfObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Observable_1 = __webpack_require__(0), subscribeToResult_1 = __webpack_require__(13), OuterSubscriber_1 = __webpack_require__(14), IfObservable = function(_super) {
        function IfObservable(condition, thenSource, elseSource) {
            _super.call(this), this.condition = condition, this.thenSource = thenSource, this.elseSource = elseSource;
        }
        return __extends(IfObservable, _super), IfObservable.create = function(condition, thenSource, elseSource) {
            return new IfObservable(condition, thenSource, elseSource);
        }, IfObservable.prototype._subscribe = function(subscriber) {
            var condition = this.condition, thenSource = this.thenSource, elseSource = this.elseSource;
            return new IfSubscriber(subscriber, condition, thenSource, elseSource);
        }, IfObservable;
    }(Observable_1.Observable);
    exports.IfObservable = IfObservable;
    var IfSubscriber = function(_super) {
        function IfSubscriber(destination, condition, thenSource, elseSource) {
            _super.call(this, destination), this.condition = condition, this.thenSource = thenSource, 
            this.elseSource = elseSource, this.tryIf();
        }
        return __extends(IfSubscriber, _super), IfSubscriber.prototype.tryIf = function() {
            var condition = this.condition, thenSource = this.thenSource, elseSource = this.elseSource;
            try {
                var source = condition() ? thenSource : elseSource;
                source ? this.add(subscribeToResult_1.subscribeToResult(this, source)) : this._complete();
            } catch (err) {
                this._error(err);
            }
        }, IfSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), interval_1 = __webpack_require__(779);
    Observable_1.Observable.interval = interval_1.interval;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var IntervalObservable_1 = __webpack_require__(780);
    exports.interval = IntervalObservable_1.IntervalObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, isNumeric_1 = __webpack_require__(329), Observable_1 = __webpack_require__(0), async_1 = __webpack_require__(24), IntervalObservable = function(_super) {
        function IntervalObservable(period, scheduler) {
            void 0 === period && (period = 0), void 0 === scheduler && (scheduler = async_1.async), 
            _super.call(this), this.period = period, this.scheduler = scheduler, (!isNumeric_1.isNumeric(period) || period < 0) && (this.period = 0), 
            scheduler && "function" == typeof scheduler.schedule || (this.scheduler = async_1.async);
        }
        return __extends(IntervalObservable, _super), IntervalObservable.create = function(period, scheduler) {
            return void 0 === period && (period = 0), void 0 === scheduler && (scheduler = async_1.async), 
            new IntervalObservable(period, scheduler);
        }, IntervalObservable.dispatch = function(state) {
            var index = state.index, subscriber = state.subscriber, period = state.period;
            subscriber.next(index), subscriber.closed || (state.index += 1, this.schedule(state, period));
        }, IntervalObservable.prototype._subscribe = function(subscriber) {
            var period = this.period, scheduler = this.scheduler;
            subscriber.add(scheduler.schedule(IntervalObservable.dispatch, period, {
                index: 0,
                subscriber: subscriber,
                period: period
            }));
        }, IntervalObservable;
    }(Observable_1.Observable);
    exports.IntervalObservable = IntervalObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Action = function(_super) {
        function Action(scheduler, work) {
            _super.call(this);
        }
        return __extends(Action, _super), Action.prototype.schedule = function(state, delay) {
            return void 0 === delay && (delay = 0), this;
        }, Action;
    }(__webpack_require__(30).Subscription);
    exports.Action = Action;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Scheduler = function() {
        function Scheduler(SchedulerAction, now) {
            void 0 === now && (now = Scheduler.now), this.SchedulerAction = SchedulerAction, 
            this.now = now;
        }
        return Scheduler.prototype.schedule = function(work, delay, state) {
            return void 0 === delay && (delay = 0), new this.SchedulerAction(this, work).schedule(state, delay);
        }, Scheduler.now = Date.now ? Date.now : function() {
            return +new Date();
        }, Scheduler;
    }();
    exports.Scheduler = Scheduler;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), merge_1 = __webpack_require__(361);
    Observable_1.Observable.merge = merge_1.merge;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), race_1 = __webpack_require__(427);
    Observable_1.Observable.race = race_1.race;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), never_1 = __webpack_require__(786);
    Observable_1.Observable.never = never_1.never;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var NeverObservable_1 = __webpack_require__(787);
    exports.never = NeverObservable_1.NeverObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Observable_1 = __webpack_require__(0), noop_1 = __webpack_require__(375), NeverObservable = function(_super) {
        function NeverObservable() {
            _super.call(this);
        }
        return __extends(NeverObservable, _super), NeverObservable.create = function() {
            return new NeverObservable();
        }, NeverObservable.prototype._subscribe = function(subscriber) {
            noop_1.noop();
        }, NeverObservable;
    }(Observable_1.Observable);
    exports.NeverObservable = NeverObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), onErrorResumeNext_1 = __webpack_require__(789);
    Observable_1.Observable.onErrorResumeNext = onErrorResumeNext_1.onErrorResumeNext;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var onErrorResumeNext_1 = __webpack_require__(428);
    exports.onErrorResumeNext = onErrorResumeNext_1.onErrorResumeNextStatic;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), pairs_1 = __webpack_require__(791);
    Observable_1.Observable.pairs = pairs_1.pairs;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var PairsObservable_1 = __webpack_require__(792);
    exports.pairs = PairsObservable_1.PairsObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    function dispatch(state) {
        var obj = state.obj, keys = state.keys, length = state.length, index = state.index, subscriber = state.subscriber;
        if (index !== length) {
            var key = keys[index];
            subscriber.next([ key, obj[key] ]), state.index = index + 1, this.schedule(state);
        } else subscriber.complete();
    }
    var PairsObservable = function(_super) {
        function PairsObservable(obj, scheduler) {
            _super.call(this), this.obj = obj, this.scheduler = scheduler, this.keys = Object.keys(obj);
        }
        return __extends(PairsObservable, _super), PairsObservable.create = function(obj, scheduler) {
            return new PairsObservable(obj, scheduler);
        }, PairsObservable.prototype._subscribe = function(subscriber) {
            var keys = this.keys, scheduler = this.scheduler, length = keys.length;
            if (scheduler) return scheduler.schedule(dispatch, 0, {
                obj: this.obj,
                keys: keys,
                length: length,
                index: 0,
                subscriber: subscriber
            });
            for (var idx = 0; idx < length; idx++) {
                var key = keys[idx];
                subscriber.next([ key, this.obj[key] ]);
            }
            subscriber.complete();
        }, PairsObservable;
    }(__webpack_require__(0).Observable);
    exports.PairsObservable = PairsObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), range_1 = __webpack_require__(794);
    Observable_1.Observable.range = range_1.range;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var RangeObservable_1 = __webpack_require__(795);
    exports.range = RangeObservable_1.RangeObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, RangeObservable = function(_super) {
        function RangeObservable(start, count, scheduler) {
            _super.call(this), this.start = start, this._count = count, this.scheduler = scheduler;
        }
        return __extends(RangeObservable, _super), RangeObservable.create = function(start, count, scheduler) {
            return void 0 === start && (start = 0), void 0 === count && (count = 0), new RangeObservable(start, count, scheduler);
        }, RangeObservable.dispatch = function(state) {
            var start = state.start, index = state.index, count = state.count, subscriber = state.subscriber;
            index >= count ? subscriber.complete() : (subscriber.next(start), subscriber.closed || (state.index = index + 1, 
            state.start = start + 1, this.schedule(state)));
        }, RangeObservable.prototype._subscribe = function(subscriber) {
            var index = 0, start = this.start, count = this._count, scheduler = this.scheduler;
            if (scheduler) return scheduler.schedule(RangeObservable.dispatch, 0, {
                index: index,
                count: count,
                start: start,
                subscriber: subscriber
            });
            for (;;) {
                if (index++ >= count) {
                    subscriber.complete();
                    break;
                }
                if (subscriber.next(start++), subscriber.closed) break;
            }
        }, RangeObservable;
    }(__webpack_require__(0).Observable);
    exports.RangeObservable = RangeObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), using_1 = __webpack_require__(797);
    Observable_1.Observable.using = using_1.using;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var UsingObservable_1 = __webpack_require__(798);
    exports.using = UsingObservable_1.UsingObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Observable_1 = __webpack_require__(0), subscribeToResult_1 = __webpack_require__(13), OuterSubscriber_1 = __webpack_require__(14), UsingObservable = function(_super) {
        function UsingObservable(resourceFactory, observableFactory) {
            _super.call(this), this.resourceFactory = resourceFactory, this.observableFactory = observableFactory;
        }
        return __extends(UsingObservable, _super), UsingObservable.create = function(resourceFactory, observableFactory) {
            return new UsingObservable(resourceFactory, observableFactory);
        }, UsingObservable.prototype._subscribe = function(subscriber) {
            var resource, resourceFactory = this.resourceFactory, observableFactory = this.observableFactory;
            try {
                return resource = resourceFactory(), new UsingSubscriber(subscriber, resource, observableFactory);
            } catch (err) {
                subscriber.error(err);
            }
        }, UsingObservable;
    }(Observable_1.Observable);
    exports.UsingObservable = UsingObservable;
    var UsingSubscriber = function(_super) {
        function UsingSubscriber(destination, resource, observableFactory) {
            _super.call(this, destination), this.resource = resource, this.observableFactory = observableFactory, 
            destination.add(resource), this.tryUse();
        }
        return __extends(UsingSubscriber, _super), UsingSubscriber.prototype.tryUse = function() {
            try {
                var source = this.observableFactory.call(this, this.resource);
                source && this.add(subscribeToResult_1.subscribeToResult(this, source));
            } catch (err) {
                this._error(err);
            }
        }, UsingSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), throw_1 = __webpack_require__(800);
    Observable_1.Observable.throw = throw_1._throw;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var ErrorObservable_1 = __webpack_require__(801);
    exports._throw = ErrorObservable_1.ErrorObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, ErrorObservable = function(_super) {
        function ErrorObservable(error, scheduler) {
            _super.call(this), this.error = error, this.scheduler = scheduler;
        }
        return __extends(ErrorObservable, _super), ErrorObservable.create = function(error, scheduler) {
            return new ErrorObservable(error, scheduler);
        }, ErrorObservable.dispatch = function(arg) {
            var error = arg.error;
            arg.subscriber.error(error);
        }, ErrorObservable.prototype._subscribe = function(subscriber) {
            var error = this.error, scheduler = this.scheduler;
            if (subscriber.syncErrorThrowable = !0, scheduler) return scheduler.schedule(ErrorObservable.dispatch, 0, {
                error: error,
                subscriber: subscriber
            });
            subscriber.error(error);
        }, ErrorObservable;
    }(__webpack_require__(0).Observable);
    exports.ErrorObservable = ErrorObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), timer_1 = __webpack_require__(516);
    Observable_1.Observable.timer = timer_1.timer;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, isNumeric_1 = __webpack_require__(329), Observable_1 = __webpack_require__(0), async_1 = __webpack_require__(24), isScheduler_1 = __webpack_require__(86), isDate_1 = __webpack_require__(362), TimerObservable = function(_super) {
        function TimerObservable(dueTime, period, scheduler) {
            void 0 === dueTime && (dueTime = 0), _super.call(this), this.period = -1, this.dueTime = 0, 
            isNumeric_1.isNumeric(period) ? this.period = Number(period) < 1 ? 1 : Number(period) : isScheduler_1.isScheduler(period) && (scheduler = period), 
            isScheduler_1.isScheduler(scheduler) || (scheduler = async_1.async), this.scheduler = scheduler, 
            this.dueTime = isDate_1.isDate(dueTime) ? +dueTime - this.scheduler.now() : dueTime;
        }
        return __extends(TimerObservable, _super), TimerObservable.create = function(initialDelay, period, scheduler) {
            return void 0 === initialDelay && (initialDelay = 0), new TimerObservable(initialDelay, period, scheduler);
        }, TimerObservable.dispatch = function(state) {
            var index = state.index, period = state.period, subscriber = state.subscriber;
            if (subscriber.next(index), !subscriber.closed) {
                if (-1 === period) return subscriber.complete();
                state.index = index + 1, this.schedule(state, period);
            }
        }, TimerObservable.prototype._subscribe = function(subscriber) {
            var period = this.period, dueTime = this.dueTime;
            return this.scheduler.schedule(TimerObservable.dispatch, dueTime, {
                index: 0,
                period: period,
                subscriber: subscriber
            });
        }, TimerObservable;
    }(Observable_1.Observable);
    exports.TimerObservable = TimerObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), zip_1 = __webpack_require__(805);
    Observable_1.Observable.zip = zip_1.zip;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var zip_1 = __webpack_require__(363);
    exports.zip = zip_1.zipStatic;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), ajax_1 = __webpack_require__(807);
    Observable_1.Observable.ajax = ajax_1.ajax;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var AjaxObservable_1 = __webpack_require__(517);
    exports.ajax = AjaxObservable_1.AjaxObservable.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), webSocket_1 = __webpack_require__(809);
    Observable_1.Observable.webSocket = webSocket_1.webSocket;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var WebSocketSubject_1 = __webpack_require__(810);
    exports.webSocket = WebSocketSubject_1.WebSocketSubject.create;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subject_1 = __webpack_require__(27), Subscriber_1 = __webpack_require__(6), Observable_1 = __webpack_require__(0), Subscription_1 = __webpack_require__(30), root_1 = __webpack_require__(46), ReplaySubject_1 = __webpack_require__(364), tryCatch_1 = __webpack_require__(44), errorObject_1 = __webpack_require__(37), assign_1 = __webpack_require__(813), WebSocketSubject = function(_super) {
        function WebSocketSubject(urlConfigOrSource, destination) {
            if (urlConfigOrSource instanceof Observable_1.Observable) _super.call(this, destination, urlConfigOrSource); else {
                if (_super.call(this), this.WebSocketCtor = root_1.root.WebSocket, this._output = new Subject_1.Subject(), 
                "string" == typeof urlConfigOrSource ? this.url = urlConfigOrSource : assign_1.assign(this, urlConfigOrSource), 
                !this.WebSocketCtor) throw new Error("no WebSocket constructor can be found");
                this.destination = new ReplaySubject_1.ReplaySubject();
            }
        }
        return __extends(WebSocketSubject, _super), WebSocketSubject.prototype.resultSelector = function(e) {
            return JSON.parse(e.data);
        }, WebSocketSubject.create = function(urlConfigOrSource) {
            return new WebSocketSubject(urlConfigOrSource);
        }, WebSocketSubject.prototype.lift = function(operator) {
            var sock = new WebSocketSubject(this, this.destination);
            return sock.operator = operator, sock;
        }, WebSocketSubject.prototype._resetState = function() {
            this.socket = null, this.source || (this.destination = new ReplaySubject_1.ReplaySubject()), 
            this._output = new Subject_1.Subject();
        }, WebSocketSubject.prototype.multiplex = function(subMsg, unsubMsg, messageFilter) {
            var self = this;
            return new Observable_1.Observable(function(observer) {
                var result = tryCatch_1.tryCatch(subMsg)();
                result === errorObject_1.errorObject ? observer.error(errorObject_1.errorObject.e) : self.next(result);
                var subscription = self.subscribe(function(x) {
                    var result = tryCatch_1.tryCatch(messageFilter)(x);
                    result === errorObject_1.errorObject ? observer.error(errorObject_1.errorObject.e) : result && observer.next(x);
                }, function(err) {
                    return observer.error(err);
                }, function() {
                    return observer.complete();
                });
                return function() {
                    var result = tryCatch_1.tryCatch(unsubMsg)();
                    result === errorObject_1.errorObject ? observer.error(errorObject_1.errorObject.e) : self.next(result), 
                    subscription.unsubscribe();
                };
            });
        }, WebSocketSubject.prototype._connectSocket = function() {
            var _this = this, WebSocketCtor = this.WebSocketCtor, observer = this._output, socket = null;
            try {
                socket = this.protocol ? new WebSocketCtor(this.url, this.protocol) : new WebSocketCtor(this.url), 
                this.socket = socket, this.binaryType && (this.socket.binaryType = this.binaryType);
            } catch (e) {
                return void observer.error(e);
            }
            var subscription = new Subscription_1.Subscription(function() {
                _this.socket = null, socket && 1 === socket.readyState && socket.close();
            });
            socket.onopen = function(e) {
                var openObserver = _this.openObserver;
                openObserver && openObserver.next(e);
                var queue = _this.destination;
                _this.destination = Subscriber_1.Subscriber.create(function(x) {
                    return 1 === socket.readyState && socket.send(x);
                }, function(e) {
                    var closingObserver = _this.closingObserver;
                    closingObserver && closingObserver.next(void 0), e && e.code ? socket.close(e.code, e.reason) : observer.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")), 
                    _this._resetState();
                }, function() {
                    var closingObserver = _this.closingObserver;
                    closingObserver && closingObserver.next(void 0), socket.close(), _this._resetState();
                }), queue && queue instanceof ReplaySubject_1.ReplaySubject && subscription.add(queue.subscribe(_this.destination));
            }, socket.onerror = function(e) {
                _this._resetState(), observer.error(e);
            }, socket.onclose = function(e) {
                _this._resetState();
                var closeObserver = _this.closeObserver;
                closeObserver && closeObserver.next(e), e.wasClean ? observer.complete() : observer.error(e);
            }, socket.onmessage = function(e) {
                var result = tryCatch_1.tryCatch(_this.resultSelector)(e);
                result === errorObject_1.errorObject ? observer.error(errorObject_1.errorObject.e) : observer.next(result);
            };
        }, WebSocketSubject.prototype._subscribe = function(subscriber) {
            var _this = this, source = this.source;
            if (source) return source.subscribe(subscriber);
            this.socket || this._connectSocket();
            var subscription = new Subscription_1.Subscription();
            return subscription.add(this._output.subscribe(subscriber)), subscription.add(function() {
                var socket = _this.socket;
                0 === _this._output.observers.length && (socket && 1 === socket.readyState && socket.close(), 
                _this._resetState());
            }), subscription;
        }, WebSocketSubject.prototype.unsubscribe = function() {
            var source = this.source, socket = this.socket;
            socket && 1 === socket.readyState && (socket.close(), this._resetState()), _super.prototype.unsubscribe.call(this), 
            source || (this.destination = new ReplaySubject_1.ReplaySubject());
        }, WebSocketSubject;
    }(Subject_1.AnonymousSubject);
    exports.WebSocketSubject = WebSocketSubject;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, QueueAction = function(_super) {
        function QueueAction(scheduler, work) {
            _super.call(this, scheduler, work), this.scheduler = scheduler, this.work = work;
        }
        return __extends(QueueAction, _super), QueueAction.prototype.schedule = function(state, delay) {
            return void 0 === delay && (delay = 0), delay > 0 ? _super.prototype.schedule.call(this, state, delay) : (this.delay = delay, 
            this.state = state, this.scheduler.flush(this), this);
        }, QueueAction.prototype.execute = function(state, delay) {
            return delay > 0 || this.closed ? _super.prototype.execute.call(this, state, delay) : this._execute(state, delay);
        }, QueueAction.prototype.requestAsyncId = function(scheduler, id, delay) {
            return void 0 === delay && (delay = 0), null !== delay && delay > 0 || null === delay && this.delay > 0 ? _super.prototype.requestAsyncId.call(this, scheduler, id, delay) : scheduler.flush(this);
        }, QueueAction;
    }(__webpack_require__(330).AsyncAction);
    exports.QueueAction = QueueAction;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, QueueScheduler = function(_super) {
        function QueueScheduler() {
            _super.apply(this, arguments);
        }
        return __extends(QueueScheduler, _super), QueueScheduler;
    }(__webpack_require__(331).AsyncScheduler);
    exports.QueueScheduler = QueueScheduler;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var root_1 = __webpack_require__(46);
    function assignImpl(target) {
        for (var sources = [], _i = 1; _i < arguments.length; _i++) sources[_i - 1] = arguments[_i];
        for (var len = sources.length, i = 0; i < len; i++) {
            var source = sources[i];
            for (var k in source) source.hasOwnProperty(k) && (target[k] = source[k]);
        }
        return target;
    }
    function getAssign(root) {
        return root.Object.assign || assignImpl;
    }
    exports.assignImpl = assignImpl, exports.getAssign = getAssign, exports.assign = getAssign(root_1.root);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), buffer_1 = __webpack_require__(815);
    Observable_1.Observable.prototype.buffer = buffer_1.buffer;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var buffer_1 = __webpack_require__(519);
    exports.buffer = function(closingNotifier) {
        return buffer_1.buffer(closingNotifier)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), bufferCount_1 = __webpack_require__(817);
    Observable_1.Observable.prototype.bufferCount = bufferCount_1.bufferCount;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var bufferCount_1 = __webpack_require__(520);
    exports.bufferCount = function(bufferSize, startBufferEvery) {
        return void 0 === startBufferEvery && (startBufferEvery = null), bufferCount_1.bufferCount(bufferSize, startBufferEvery)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), bufferTime_1 = __webpack_require__(819);
    Observable_1.Observable.prototype.bufferTime = bufferTime_1.bufferTime;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var async_1 = __webpack_require__(24), isScheduler_1 = __webpack_require__(86), bufferTime_1 = __webpack_require__(521);
    exports.bufferTime = function(bufferTimeSpan) {
        var length = arguments.length, scheduler = async_1.async;
        isScheduler_1.isScheduler(arguments[arguments.length - 1]) && (scheduler = arguments[arguments.length - 1], 
        length--);
        var bufferCreationInterval = null;
        length >= 2 && (bufferCreationInterval = arguments[1]);
        var maxBufferSize = Number.POSITIVE_INFINITY;
        return length >= 3 && (maxBufferSize = arguments[2]), bufferTime_1.bufferTime(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), bufferToggle_1 = __webpack_require__(821);
    Observable_1.Observable.prototype.bufferToggle = bufferToggle_1.bufferToggle;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var bufferToggle_1 = __webpack_require__(522);
    exports.bufferToggle = function(openings, closingSelector) {
        return bufferToggle_1.bufferToggle(openings, closingSelector)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), bufferWhen_1 = __webpack_require__(823);
    Observable_1.Observable.prototype.bufferWhen = bufferWhen_1.bufferWhen;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var bufferWhen_1 = __webpack_require__(523);
    exports.bufferWhen = function(closingSelector) {
        return bufferWhen_1.bufferWhen(closingSelector)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), catch_1 = __webpack_require__(825);
    Observable_1.Observable.prototype.catch = catch_1._catch, Observable_1.Observable.prototype._catch = catch_1._catch;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var catchError_1 = __webpack_require__(524);
    exports._catch = function(selector) {
        return catchError_1.catchError(selector)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), combineAll_1 = __webpack_require__(827);
    Observable_1.Observable.prototype.combineAll = combineAll_1.combineAll;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var combineAll_1 = __webpack_require__(525);
    exports.combineAll = function(project) {
        return combineAll_1.combineAll(project)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), combineLatest_1 = __webpack_require__(829);
    Observable_1.Observable.prototype.combineLatest = combineLatest_1.combineLatest;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var combineLatest_1 = __webpack_require__(360);
    exports.combineLatest = function() {
        for (var observables = [], _i = 0; _i < arguments.length; _i++) observables[_i - 0] = arguments[_i];
        return combineLatest_1.combineLatest.apply(void 0, observables)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), concatAll_1 = __webpack_require__(831);
    Observable_1.Observable.prototype.concatAll = concatAll_1.concatAll;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var concatAll_1 = __webpack_require__(380);
    exports.concatAll = function() {
        return concatAll_1.concatAll()(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), concatMapTo_1 = __webpack_require__(833);
    Observable_1.Observable.prototype.concatMapTo = concatMapTo_1.concatMapTo;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var concatMapTo_1 = __webpack_require__(526);
    exports.concatMapTo = function(innerObservable, resultSelector) {
        return concatMapTo_1.concatMapTo(innerObservable, resultSelector)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), count_1 = __webpack_require__(835);
    Observable_1.Observable.prototype.count = count_1.count;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var count_1 = __webpack_require__(527);
    exports.count = function(predicate) {
        return count_1.count(predicate)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), dematerialize_1 = __webpack_require__(837);
    Observable_1.Observable.prototype.dematerialize = dematerialize_1.dematerialize;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var dematerialize_1 = __webpack_require__(528);
    exports.dematerialize = function() {
        return dematerialize_1.dematerialize()(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), debounce_1 = __webpack_require__(839);
    Observable_1.Observable.prototype.debounce = debounce_1.debounce;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var debounce_1 = __webpack_require__(529);
    exports.debounce = function(durationSelector) {
        return debounce_1.debounce(durationSelector)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), debounceTime_1 = __webpack_require__(841);
    Observable_1.Observable.prototype.debounceTime = debounceTime_1.debounceTime;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var async_1 = __webpack_require__(24), debounceTime_1 = __webpack_require__(530);
    exports.debounceTime = function(dueTime, scheduler) {
        return void 0 === scheduler && (scheduler = async_1.async), debounceTime_1.debounceTime(dueTime, scheduler)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), defaultIfEmpty_1 = __webpack_require__(843);
    Observable_1.Observable.prototype.defaultIfEmpty = defaultIfEmpty_1.defaultIfEmpty;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var defaultIfEmpty_1 = __webpack_require__(429);
    exports.defaultIfEmpty = function(defaultValue) {
        return void 0 === defaultValue && (defaultValue = null), defaultIfEmpty_1.defaultIfEmpty(defaultValue)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), delay_1 = __webpack_require__(845);
    Observable_1.Observable.prototype.delay = delay_1.delay;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var async_1 = __webpack_require__(24), delay_1 = __webpack_require__(531);
    exports.delay = function(delay, scheduler) {
        return void 0 === scheduler && (scheduler = async_1.async), delay_1.delay(delay, scheduler)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), delayWhen_1 = __webpack_require__(847);
    Observable_1.Observable.prototype.delayWhen = delayWhen_1.delayWhen;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var delayWhen_1 = __webpack_require__(532);
    exports.delayWhen = function(delayDurationSelector, subscriptionDelay) {
        return delayWhen_1.delayWhen(delayDurationSelector, subscriptionDelay)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), distinctUntilChanged_1 = __webpack_require__(849);
    Observable_1.Observable.prototype.distinctUntilChanged = distinctUntilChanged_1.distinctUntilChanged;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var distinctUntilChanged_1 = __webpack_require__(430);
    exports.distinctUntilChanged = function(compare, keySelector) {
        return distinctUntilChanged_1.distinctUntilChanged(compare, keySelector)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), distinctUntilKeyChanged_1 = __webpack_require__(851);
    Observable_1.Observable.prototype.distinctUntilKeyChanged = distinctUntilKeyChanged_1.distinctUntilKeyChanged;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var distinctUntilKeyChanged_1 = __webpack_require__(533);
    exports.distinctUntilKeyChanged = function(key, compare) {
        return distinctUntilKeyChanged_1.distinctUntilKeyChanged(key, compare)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), do_1 = __webpack_require__(853);
    Observable_1.Observable.prototype.do = do_1._do, Observable_1.Observable.prototype._do = do_1._do;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var tap_1 = __webpack_require__(534);
    exports._do = function(nextOrObserver, error, complete) {
        return tap_1.tap(nextOrObserver, error, complete)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), exhaust_1 = __webpack_require__(855);
    Observable_1.Observable.prototype.exhaust = exhaust_1.exhaust;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var exhaust_1 = __webpack_require__(535);
    exports.exhaust = function() {
        return exhaust_1.exhaust()(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), exhaustMap_1 = __webpack_require__(857);
    Observable_1.Observable.prototype.exhaustMap = exhaustMap_1.exhaustMap;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var exhaustMap_1 = __webpack_require__(536);
    exports.exhaustMap = function(project, resultSelector) {
        return exhaustMap_1.exhaustMap(project, resultSelector)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), expand_1 = __webpack_require__(859);
    Observable_1.Observable.prototype.expand = expand_1.expand;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var expand_1 = __webpack_require__(537);
    exports.expand = function(project, concurrent, scheduler) {
        return void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY), void 0 === scheduler && (scheduler = void 0), 
        concurrent = (concurrent || 0) < 1 ? Number.POSITIVE_INFINITY : concurrent, expand_1.expand(project, concurrent, scheduler)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), elementAt_1 = __webpack_require__(861);
    Observable_1.Observable.prototype.elementAt = elementAt_1.elementAt;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var elementAt_1 = __webpack_require__(538);
    exports.elementAt = function(index, defaultValue) {
        return elementAt_1.elementAt(index, defaultValue)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), finally_1 = __webpack_require__(863);
    Observable_1.Observable.prototype.finally = finally_1._finally, Observable_1.Observable.prototype._finally = finally_1._finally;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var finalize_1 = __webpack_require__(539);
    exports._finally = function(callback) {
        return finalize_1.finalize(callback)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), find_1 = __webpack_require__(865);
    Observable_1.Observable.prototype.find = find_1.find;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var find_1 = __webpack_require__(431);
    exports.find = function(predicate, thisArg) {
        return find_1.find(predicate, thisArg)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), findIndex_1 = __webpack_require__(867);
    Observable_1.Observable.prototype.findIndex = findIndex_1.findIndex;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var findIndex_1 = __webpack_require__(540);
    exports.findIndex = function(predicate, thisArg) {
        return findIndex_1.findIndex(predicate, thisArg)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), first_1 = __webpack_require__(869);
    Observable_1.Observable.prototype.first = first_1.first;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var first_1 = __webpack_require__(541);
    exports.first = function(predicate, resultSelector, defaultValue) {
        return first_1.first(predicate, resultSelector, defaultValue)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), groupBy_1 = __webpack_require__(871);
    Observable_1.Observable.prototype.groupBy = groupBy_1.groupBy;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var groupBy_1 = __webpack_require__(542);
    exports.GroupedObservable = groupBy_1.GroupedObservable, exports.groupBy = function(keySelector, elementSelector, durationSelector, subjectSelector) {
        return groupBy_1.groupBy(keySelector, elementSelector, durationSelector, subjectSelector)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var root_1 = __webpack_require__(46), MapPolyfill_1 = __webpack_require__(873);
    exports.Map = root_1.root.Map || MapPolyfill_1.MapPolyfill;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var MapPolyfill = function() {
        function MapPolyfill() {
            this.size = 0, this._values = [], this._keys = [];
        }
        return MapPolyfill.prototype.get = function(key) {
            var i = this._keys.indexOf(key);
            return -1 === i ? void 0 : this._values[i];
        }, MapPolyfill.prototype.set = function(key, value) {
            var i = this._keys.indexOf(key);
            return -1 === i ? (this._keys.push(key), this._values.push(value), this.size++) : this._values[i] = value, 
            this;
        }, MapPolyfill.prototype.delete = function(key) {
            var i = this._keys.indexOf(key);
            return -1 !== i && (this._values.splice(i, 1), this._keys.splice(i, 1), this.size--, 
            !0);
        }, MapPolyfill.prototype.clear = function() {
            this._keys.length = 0, this._values.length = 0, this.size = 0;
        }, MapPolyfill.prototype.forEach = function(cb, thisArg) {
            for (var i = 0; i < this.size; i++) cb.call(thisArg, this._values[i], this._keys[i]);
        }, MapPolyfill;
    }();
    exports.MapPolyfill = MapPolyfill;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var FastMap = function() {
        function FastMap() {
            this.values = {};
        }
        return FastMap.prototype.delete = function(key) {
            return this.values[key] = null, !0;
        }, FastMap.prototype.set = function(key, value) {
            return this.values[key] = value, this;
        }, FastMap.prototype.get = function(key) {
            return this.values[key];
        }, FastMap.prototype.forEach = function(cb, thisArg) {
            var values = this.values;
            for (var key in values) values.hasOwnProperty(key) && null !== values[key] && cb.call(thisArg, values[key], key);
        }, FastMap.prototype.clear = function() {
            this.values = {};
        }, FastMap;
    }();
    exports.FastMap = FastMap;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), ignoreElements_1 = __webpack_require__(876);
    Observable_1.Observable.prototype.ignoreElements = ignoreElements_1.ignoreElements;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var ignoreElements_1 = __webpack_require__(543);
    exports.ignoreElements = function() {
        return ignoreElements_1.ignoreElements()(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), isEmpty_1 = __webpack_require__(878);
    Observable_1.Observable.prototype.isEmpty = isEmpty_1.isEmpty;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var isEmpty_1 = __webpack_require__(544);
    exports.isEmpty = function() {
        return isEmpty_1.isEmpty()(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), audit_1 = __webpack_require__(880);
    Observable_1.Observable.prototype.audit = audit_1.audit;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var audit_1 = __webpack_require__(432);
    exports.audit = function(durationSelector) {
        return audit_1.audit(durationSelector)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), auditTime_1 = __webpack_require__(882);
    Observable_1.Observable.prototype.auditTime = auditTime_1.auditTime;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var async_1 = __webpack_require__(24), auditTime_1 = __webpack_require__(545);
    exports.auditTime = function(duration, scheduler) {
        return void 0 === scheduler && (scheduler = async_1.async), auditTime_1.auditTime(duration, scheduler)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), last_1 = __webpack_require__(884);
    Observable_1.Observable.prototype.last = last_1.last;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var last_1 = __webpack_require__(546);
    exports.last = function(predicate, resultSelector, defaultValue) {
        return last_1.last(predicate, resultSelector, defaultValue)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), let_1 = __webpack_require__(886);
    Observable_1.Observable.prototype.let = let_1.letProto, Observable_1.Observable.prototype.letBind = let_1.letProto;
}, function(module, exports, __webpack_require__) {
    "use strict";
    exports.letProto = function(func) {
        return func(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), every_1 = __webpack_require__(888);
    Observable_1.Observable.prototype.every = every_1.every;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var every_1 = __webpack_require__(547);
    exports.every = function(predicate, thisArg) {
        return every_1.every(predicate, thisArg)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), mapTo_1 = __webpack_require__(890);
    Observable_1.Observable.prototype.mapTo = mapTo_1.mapTo;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var mapTo_1 = __webpack_require__(548);
    exports.mapTo = function(value) {
        return mapTo_1.mapTo(value)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), materialize_1 = __webpack_require__(892);
    Observable_1.Observable.prototype.materialize = materialize_1.materialize;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var materialize_1 = __webpack_require__(549);
    exports.materialize = function() {
        return materialize_1.materialize()(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), max_1 = __webpack_require__(894);
    Observable_1.Observable.prototype.max = max_1.max;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var max_1 = __webpack_require__(550);
    exports.max = function(comparer) {
        return max_1.max(comparer)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), merge_1 = __webpack_require__(896);
    Observable_1.Observable.prototype.merge = merge_1.merge;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var merge_1 = __webpack_require__(551), merge_2 = __webpack_require__(361);
    exports.mergeStatic = merge_2.merge, exports.merge = function() {
        for (var observables = [], _i = 0; _i < arguments.length; _i++) observables[_i - 0] = arguments[_i];
        return merge_1.merge.apply(void 0, observables)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), mergeAll_1 = __webpack_require__(898);
    Observable_1.Observable.prototype.mergeAll = mergeAll_1.mergeAll;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var mergeAll_1 = __webpack_require__(346);
    exports.mergeAll = function(concurrent) {
        return void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY), mergeAll_1.mergeAll(concurrent)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), mergeMapTo_1 = __webpack_require__(900);
    Observable_1.Observable.prototype.flatMapTo = mergeMapTo_1.mergeMapTo, Observable_1.Observable.prototype.mergeMapTo = mergeMapTo_1.mergeMapTo;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var mergeMapTo_1 = __webpack_require__(552);
    exports.mergeMapTo = function(innerObservable, resultSelector, concurrent) {
        return void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY), mergeMapTo_1.mergeMapTo(innerObservable, resultSelector, concurrent)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), mergeScan_1 = __webpack_require__(902);
    Observable_1.Observable.prototype.mergeScan = mergeScan_1.mergeScan;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var mergeScan_1 = __webpack_require__(553);
    exports.mergeScan = function(accumulator, seed, concurrent) {
        return void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY), mergeScan_1.mergeScan(accumulator, seed, concurrent)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), min_1 = __webpack_require__(904);
    Observable_1.Observable.prototype.min = min_1.min;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var min_1 = __webpack_require__(554);
    exports.min = function(comparer) {
        return min_1.min(comparer)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), onErrorResumeNext_1 = __webpack_require__(906);
    Observable_1.Observable.prototype.onErrorResumeNext = onErrorResumeNext_1.onErrorResumeNext;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var onErrorResumeNext_1 = __webpack_require__(428);
    exports.onErrorResumeNext = function() {
        for (var nextSources = [], _i = 0; _i < arguments.length; _i++) nextSources[_i - 0] = arguments[_i];
        return onErrorResumeNext_1.onErrorResumeNext.apply(void 0, nextSources)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), pairwise_1 = __webpack_require__(908);
    Observable_1.Observable.prototype.pairwise = pairwise_1.pairwise;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var pairwise_1 = __webpack_require__(555);
    exports.pairwise = function() {
        return pairwise_1.pairwise()(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), partition_1 = __webpack_require__(910);
    Observable_1.Observable.prototype.partition = partition_1.partition;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var partition_1 = __webpack_require__(556);
    exports.partition = function(predicate, thisArg) {
        return partition_1.partition(predicate, thisArg)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    exports.not = function(pred, thisArg) {
        function notPred() {
            return !notPred.pred.apply(notPred.thisArg, arguments);
        }
        return notPred.pred = pred, notPred.thisArg = thisArg, notPred;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), pluck_1 = __webpack_require__(913);
    Observable_1.Observable.prototype.pluck = pluck_1.pluck;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var pluck_1 = __webpack_require__(557);
    exports.pluck = function() {
        for (var properties = [], _i = 0; _i < arguments.length; _i++) properties[_i - 0] = arguments[_i];
        return pluck_1.pluck.apply(void 0, properties)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), publishBehavior_1 = __webpack_require__(915);
    Observable_1.Observable.prototype.publishBehavior = publishBehavior_1.publishBehavior;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var publishBehavior_1 = __webpack_require__(558);
    exports.publishBehavior = function(value) {
        return publishBehavior_1.publishBehavior(value)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), publishReplay_1 = __webpack_require__(917);
    Observable_1.Observable.prototype.publishReplay = publishReplay_1.publishReplay;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var publishReplay_1 = __webpack_require__(559);
    exports.publishReplay = function(bufferSize, windowTime, selectorOrScheduler, scheduler) {
        return publishReplay_1.publishReplay(bufferSize, windowTime, selectorOrScheduler, scheduler)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), publishLast_1 = __webpack_require__(919);
    Observable_1.Observable.prototype.publishLast = publishLast_1.publishLast;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var publishLast_1 = __webpack_require__(560);
    exports.publishLast = function() {
        return publishLast_1.publishLast()(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), race_1 = __webpack_require__(921);
    Observable_1.Observable.prototype.race = race_1.race;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var race_1 = __webpack_require__(561), race_2 = __webpack_require__(427);
    exports.raceStatic = race_2.race, exports.race = function() {
        for (var observables = [], _i = 0; _i < arguments.length; _i++) observables[_i - 0] = arguments[_i];
        return race_1.race.apply(void 0, observables)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), reduce_1 = __webpack_require__(923);
    Observable_1.Observable.prototype.reduce = reduce_1.reduce;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var reduce_1 = __webpack_require__(333);
    exports.reduce = function(accumulator, seed) {
        return arguments.length >= 2 ? reduce_1.reduce(accumulator, seed)(this) : reduce_1.reduce(accumulator)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), repeat_1 = __webpack_require__(925);
    Observable_1.Observable.prototype.repeat = repeat_1.repeat;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var repeat_1 = __webpack_require__(562);
    exports.repeat = function(count) {
        return void 0 === count && (count = -1), repeat_1.repeat(count)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), repeatWhen_1 = __webpack_require__(927);
    Observable_1.Observable.prototype.repeatWhen = repeatWhen_1.repeatWhen;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var repeatWhen_1 = __webpack_require__(563);
    exports.repeatWhen = function(notifier) {
        return repeatWhen_1.repeatWhen(notifier)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), retry_1 = __webpack_require__(929);
    Observable_1.Observable.prototype.retry = retry_1.retry;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var retry_1 = __webpack_require__(564);
    exports.retry = function(count) {
        return void 0 === count && (count = -1), retry_1.retry(count)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), retryWhen_1 = __webpack_require__(931);
    Observable_1.Observable.prototype.retryWhen = retryWhen_1.retryWhen;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var retryWhen_1 = __webpack_require__(565);
    exports.retryWhen = function(notifier) {
        return retryWhen_1.retryWhen(notifier)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), sample_1 = __webpack_require__(933);
    Observable_1.Observable.prototype.sample = sample_1.sample;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var sample_1 = __webpack_require__(566);
    exports.sample = function(notifier) {
        return sample_1.sample(notifier)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), sampleTime_1 = __webpack_require__(935);
    Observable_1.Observable.prototype.sampleTime = sampleTime_1.sampleTime;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var async_1 = __webpack_require__(24), sampleTime_1 = __webpack_require__(567);
    exports.sampleTime = function(period, scheduler) {
        return void 0 === scheduler && (scheduler = async_1.async), sampleTime_1.sampleTime(period, scheduler)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var scan_1 = __webpack_require__(433);
    exports.scan = function(accumulator, seed) {
        return arguments.length >= 2 ? scan_1.scan(accumulator, seed)(this) : scan_1.scan(accumulator)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), sequenceEqual_1 = __webpack_require__(938);
    Observable_1.Observable.prototype.sequenceEqual = sequenceEqual_1.sequenceEqual;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var sequenceEqual_1 = __webpack_require__(569);
    exports.sequenceEqual = function(compareTo, comparor) {
        return sequenceEqual_1.sequenceEqual(compareTo, comparor)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), shareReplay_1 = __webpack_require__(940);
    Observable_1.Observable.prototype.shareReplay = shareReplay_1.shareReplay;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var shareReplay_1 = __webpack_require__(570);
    exports.shareReplay = function(bufferSize, windowTime, scheduler) {
        return shareReplay_1.shareReplay(bufferSize, windowTime, scheduler)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), single_1 = __webpack_require__(942);
    Observable_1.Observable.prototype.single = single_1.single;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var single_1 = __webpack_require__(571);
    exports.single = function(predicate) {
        return single_1.single(predicate)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), skip_1 = __webpack_require__(944);
    Observable_1.Observable.prototype.skip = skip_1.skip;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var skip_1 = __webpack_require__(572);
    exports.skip = function(count) {
        return skip_1.skip(count)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), skipLast_1 = __webpack_require__(946);
    Observable_1.Observable.prototype.skipLast = skipLast_1.skipLast;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var skipLast_1 = __webpack_require__(573);
    exports.skipLast = function(count) {
        return skipLast_1.skipLast(count)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), skipUntil_1 = __webpack_require__(948);
    Observable_1.Observable.prototype.skipUntil = skipUntil_1.skipUntil;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var skipUntil_1 = __webpack_require__(574);
    exports.skipUntil = function(notifier) {
        return skipUntil_1.skipUntil(notifier)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), skipWhile_1 = __webpack_require__(950);
    Observable_1.Observable.prototype.skipWhile = skipWhile_1.skipWhile;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var skipWhile_1 = __webpack_require__(575);
    exports.skipWhile = function(predicate) {
        return skipWhile_1.skipWhile(predicate)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), subscribeOn_1 = __webpack_require__(952);
    Observable_1.Observable.prototype.subscribeOn = subscribeOn_1.subscribeOn;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var subscribeOn_1 = __webpack_require__(953);
    exports.subscribeOn = function(scheduler, delay) {
        return void 0 === delay && (delay = 0), subscribeOn_1.subscribeOn(scheduler, delay)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var SubscribeOnObservable_1 = __webpack_require__(954);
    exports.subscribeOn = function(scheduler, delay) {
        return void 0 === delay && (delay = 0), function(source) {
            return source.lift(new SubscribeOnOperator(scheduler, delay));
        };
    };
    var SubscribeOnOperator = function() {
        function SubscribeOnOperator(scheduler, delay) {
            this.scheduler = scheduler, this.delay = delay;
        }
        return SubscribeOnOperator.prototype.call = function(subscriber, source) {
            return new SubscribeOnObservable_1.SubscribeOnObservable(source, this.delay, this.scheduler).subscribe(subscriber);
        }, SubscribeOnOperator;
    }();
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Observable_1 = __webpack_require__(0), asap_1 = __webpack_require__(335), isNumeric_1 = __webpack_require__(329), SubscribeOnObservable = function(_super) {
        function SubscribeOnObservable(source, delayTime, scheduler) {
            void 0 === delayTime && (delayTime = 0), void 0 === scheduler && (scheduler = asap_1.asap), 
            _super.call(this), this.source = source, this.delayTime = delayTime, this.scheduler = scheduler, 
            (!isNumeric_1.isNumeric(delayTime) || delayTime < 0) && (this.delayTime = 0), scheduler && "function" == typeof scheduler.schedule || (this.scheduler = asap_1.asap);
        }
        return __extends(SubscribeOnObservable, _super), SubscribeOnObservable.create = function(source, delay, scheduler) {
            return void 0 === delay && (delay = 0), void 0 === scheduler && (scheduler = asap_1.asap), 
            new SubscribeOnObservable(source, delay, scheduler);
        }, SubscribeOnObservable.dispatch = function(arg) {
            var source = arg.source, subscriber = arg.subscriber;
            return this.add(source.subscribe(subscriber));
        }, SubscribeOnObservable.prototype._subscribe = function(subscriber) {
            var delay = this.delayTime, source = this.source;
            return this.scheduler.schedule(SubscribeOnObservable.dispatch, delay, {
                source: source,
                subscriber: subscriber
            });
        }, SubscribeOnObservable;
    }(Observable_1.Observable);
    exports.SubscribeOnObservable = SubscribeOnObservable;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Immediate_1 = __webpack_require__(956), AsapAction = function(_super) {
        function AsapAction(scheduler, work) {
            _super.call(this, scheduler, work), this.scheduler = scheduler, this.work = work;
        }
        return __extends(AsapAction, _super), AsapAction.prototype.requestAsyncId = function(scheduler, id, delay) {
            return void 0 === delay && (delay = 0), null !== delay && delay > 0 ? _super.prototype.requestAsyncId.call(this, scheduler, id, delay) : (scheduler.actions.push(this), 
            scheduler.scheduled || (scheduler.scheduled = Immediate_1.Immediate.setImmediate(scheduler.flush.bind(scheduler, null))));
        }, AsapAction.prototype.recycleAsyncId = function(scheduler, id, delay) {
            if (void 0 === delay && (delay = 0), null !== delay && delay > 0 || null === delay && this.delay > 0) return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);
            0 === scheduler.actions.length && (Immediate_1.Immediate.clearImmediate(id), scheduler.scheduled = void 0);
        }, AsapAction;
    }(__webpack_require__(330).AsyncAction);
    exports.AsapAction = AsapAction;
}, function(module, exports, __webpack_require__) {
    "use strict";
    (function(clearImmediate, setImmediate) {
        var root_1 = __webpack_require__(46), ImmediateDefinition = function() {
            function ImmediateDefinition(root) {
                if (this.root = root, root.setImmediate && "function" == typeof root.setImmediate) this.setImmediate = root.setImmediate.bind(root), 
                this.clearImmediate = root.clearImmediate.bind(root); else {
                    this.nextHandle = 1, this.tasksByHandle = {}, this.currentlyRunningATask = !1, this.canUseProcessNextTick() ? this.setImmediate = this.createProcessNextTickSetImmediate() : this.canUsePostMessage() ? this.setImmediate = this.createPostMessageSetImmediate() : this.canUseMessageChannel() ? this.setImmediate = this.createMessageChannelSetImmediate() : this.canUseReadyStateChange() ? this.setImmediate = this.createReadyStateChangeSetImmediate() : this.setImmediate = this.createSetTimeoutSetImmediate();
                    var ci = function clearImmediate(handle) {
                        delete clearImmediate.instance.tasksByHandle[handle];
                    };
                    ci.instance = this, this.clearImmediate = ci;
                }
            }
            return ImmediateDefinition.prototype.identify = function(o) {
                return this.root.Object.prototype.toString.call(o);
            }, ImmediateDefinition.prototype.canUseProcessNextTick = function() {
                return "[object process]" === this.identify(this.root.process);
            }, ImmediateDefinition.prototype.canUseMessageChannel = function() {
                return Boolean(this.root.MessageChannel);
            }, ImmediateDefinition.prototype.canUseReadyStateChange = function() {
                var document = this.root.document;
                return Boolean(document && "onreadystatechange" in document.createElement("script"));
            }, ImmediateDefinition.prototype.canUsePostMessage = function() {
                var root = this.root;
                if (root.postMessage && !root.importScripts) {
                    var postMessageIsAsynchronous_1 = !0, oldOnMessage = root.onmessage;
                    return root.onmessage = function() {
                        postMessageIsAsynchronous_1 = !1;
                    }, root.postMessage("", "*"), root.onmessage = oldOnMessage, postMessageIsAsynchronous_1;
                }
                return !1;
            }, ImmediateDefinition.prototype.partiallyApplied = function(handler) {
                for (var args = [], _i = 1; _i < arguments.length; _i++) args[_i - 1] = arguments[_i];
                var fn = function result() {
                    var handler = result.handler, args = result.args;
                    "function" == typeof handler ? handler.apply(void 0, args) : new Function("" + handler)();
                };
                return fn.handler = handler, fn.args = args, fn;
            }, ImmediateDefinition.prototype.addFromSetImmediateArguments = function(args) {
                return this.tasksByHandle[this.nextHandle] = this.partiallyApplied.apply(void 0, args), 
                this.nextHandle++;
            }, ImmediateDefinition.prototype.createProcessNextTickSetImmediate = function() {
                var fn = function setImmediate() {
                    var instance = setImmediate.instance, handle = instance.addFromSetImmediateArguments(arguments);
                    return instance.root.process.nextTick(instance.partiallyApplied(instance.runIfPresent, handle)), 
                    handle;
                };
                return fn.instance = this, fn;
            }, ImmediateDefinition.prototype.createPostMessageSetImmediate = function() {
                var root = this.root, messagePrefix = "setImmediate$" + root.Math.random() + "$", onGlobalMessage = function globalMessageHandler(event) {
                    var instance = globalMessageHandler.instance;
                    event.source === root && "string" == typeof event.data && 0 === event.data.indexOf(messagePrefix) && instance.runIfPresent(+event.data.slice(messagePrefix.length));
                };
                onGlobalMessage.instance = this, root.addEventListener("message", onGlobalMessage, !1);
                var fn = function setImmediate() {
                    var messagePrefix = setImmediate.messagePrefix, instance = setImmediate.instance, handle = instance.addFromSetImmediateArguments(arguments);
                    return instance.root.postMessage(messagePrefix + handle, "*"), handle;
                };
                return fn.instance = this, fn.messagePrefix = messagePrefix, fn;
            }, ImmediateDefinition.prototype.runIfPresent = function(handle) {
                if (this.currentlyRunningATask) this.root.setTimeout(this.partiallyApplied(this.runIfPresent, handle), 0); else {
                    var task = this.tasksByHandle[handle];
                    if (task) {
                        this.currentlyRunningATask = !0;
                        try {
                            task();
                        } finally {
                            this.clearImmediate(handle), this.currentlyRunningATask = !1;
                        }
                    }
                }
            }, ImmediateDefinition.prototype.createMessageChannelSetImmediate = function() {
                var _this = this, channel = new this.root.MessageChannel();
                channel.port1.onmessage = function(event) {
                    var handle = event.data;
                    _this.runIfPresent(handle);
                };
                var fn = function setImmediate() {
                    var channel = setImmediate.channel, handle = setImmediate.instance.addFromSetImmediateArguments(arguments);
                    return channel.port2.postMessage(handle), handle;
                };
                return fn.channel = channel, fn.instance = this, fn;
            }, ImmediateDefinition.prototype.createReadyStateChangeSetImmediate = function() {
                var fn = function setImmediate() {
                    var instance = setImmediate.instance, doc = instance.root.document, html = doc.documentElement, handle = instance.addFromSetImmediateArguments(arguments), script = doc.createElement("script");
                    return script.onreadystatechange = function() {
                        instance.runIfPresent(handle), script.onreadystatechange = null, html.removeChild(script), 
                        script = null;
                    }, html.appendChild(script), handle;
                };
                return fn.instance = this, fn;
            }, ImmediateDefinition.prototype.createSetTimeoutSetImmediate = function() {
                var fn = function setImmediate() {
                    var instance = setImmediate.instance, handle = instance.addFromSetImmediateArguments(arguments);
                    return instance.root.setTimeout(instance.partiallyApplied(instance.runIfPresent, handle), 0), 
                    handle;
                };
                return fn.instance = this, fn;
            }, ImmediateDefinition;
        }();
        exports.ImmediateDefinition = ImmediateDefinition, exports.Immediate = new ImmediateDefinition(root_1.root);
    }).call(exports, __webpack_require__(576).clearImmediate, __webpack_require__(576).setImmediate);
}, function(module, exports, __webpack_require__) {
    (function(global, process) {
        !function(global, undefined) {
            "use strict";
            if (!global.setImmediate) {
                var registerImmediate, html, channel, messagePrefix, onGlobalMessage, nextHandle = 1, tasksByHandle = {}, currentlyRunningATask = !1, doc = global.document, attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);
                attachTo = attachTo && attachTo.setTimeout ? attachTo : global, "[object process]" === {}.toString.call(global.process) ? registerImmediate = function(handle) {
                    process.nextTick(function() {
                        runIfPresent(handle);
                    });
                } : !function() {
                    if (global.postMessage && !global.importScripts) {
                        var postMessageIsAsynchronous = !0, oldOnMessage = global.onmessage;
                        return global.onmessage = function() {
                            postMessageIsAsynchronous = !1;
                        }, global.postMessage("", "*"), global.onmessage = oldOnMessage, postMessageIsAsynchronous;
                    }
                }() ? global.MessageChannel ? ((channel = new MessageChannel()).port1.onmessage = function(event) {
                    runIfPresent(event.data);
                }, registerImmediate = function(handle) {
                    channel.port2.postMessage(handle);
                }) : doc && "onreadystatechange" in doc.createElement("script") ? (html = doc.documentElement, 
                registerImmediate = function(handle) {
                    var script = doc.createElement("script");
                    script.onreadystatechange = function() {
                        runIfPresent(handle), script.onreadystatechange = null, html.removeChild(script), 
                        script = null;
                    }, html.appendChild(script);
                }) : registerImmediate = function(handle) {
                    setTimeout(runIfPresent, 0, handle);
                } : (messagePrefix = "setImmediate$" + Math.random() + "$", onGlobalMessage = function(event) {
                    event.source === global && "string" == typeof event.data && 0 === event.data.indexOf(messagePrefix) && runIfPresent(+event.data.slice(messagePrefix.length));
                }, global.addEventListener ? global.addEventListener("message", onGlobalMessage, !1) : global.attachEvent("onmessage", onGlobalMessage), 
                registerImmediate = function(handle) {
                    global.postMessage(messagePrefix + handle, "*");
                }), attachTo.setImmediate = function(callback) {
                    "function" != typeof callback && (callback = new Function("" + callback));
                    for (var args = new Array(arguments.length - 1), i = 0; i < args.length; i++) args[i] = arguments[i + 1];
                    var task = {
                        callback: callback,
                        args: args
                    };
                    return tasksByHandle[nextHandle] = task, registerImmediate(nextHandle), nextHandle++;
                }, attachTo.clearImmediate = clearImmediate;
            }
            function clearImmediate(handle) {
                delete tasksByHandle[handle];
            }
            function runIfPresent(handle) {
                if (currentlyRunningATask) setTimeout(runIfPresent, 0, handle); else {
                    var task = tasksByHandle[handle];
                    if (task) {
                        currentlyRunningATask = !0;
                        try {
                            !function(task) {
                                var callback = task.callback, args = task.args;
                                switch (args.length) {
                                  case 0:
                                    callback();
                                    break;

                                  case 1:
                                    callback(args[0]);
                                    break;

                                  case 2:
                                    callback(args[0], args[1]);
                                    break;

                                  case 3:
                                    callback(args[0], args[1], args[2]);
                                    break;

                                  default:
                                    callback.apply(undefined, args);
                                }
                            }(task);
                        } finally {
                            clearImmediate(handle), currentlyRunningATask = !1;
                        }
                    }
                }
            }
        }("undefined" == typeof self ? void 0 === global ? this : global : self);
    }).call(exports, __webpack_require__(33), __webpack_require__(60));
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, AsapScheduler = function(_super) {
        function AsapScheduler() {
            _super.apply(this, arguments);
        }
        return __extends(AsapScheduler, _super), AsapScheduler.prototype.flush = function(action) {
            this.active = !0, this.scheduled = void 0;
            var error, actions = this.actions, index = -1, count = actions.length;
            action = action || actions.shift();
            do {
                if (error = action.execute(action.state, action.delay)) break;
            } while (++index < count && (action = actions.shift()));
            if (this.active = !1, error) {
                for (;++index < count && (action = actions.shift()); ) action.unsubscribe();
                throw error;
            }
        }, AsapScheduler;
    }(__webpack_require__(331).AsyncScheduler);
    exports.AsapScheduler = AsapScheduler;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), switch_1 = __webpack_require__(960);
    Observable_1.Observable.prototype.switch = switch_1._switch, Observable_1.Observable.prototype._switch = switch_1._switch;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var switchAll_1 = __webpack_require__(577);
    exports._switch = function() {
        return switchAll_1.switchAll()(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), switchMap_1 = __webpack_require__(962);
    Observable_1.Observable.prototype.switchMap = switchMap_1.switchMap;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var switchMap_1 = __webpack_require__(435);
    exports.switchMap = function(project, resultSelector) {
        return switchMap_1.switchMap(project, resultSelector)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), switchMapTo_1 = __webpack_require__(964);
    Observable_1.Observable.prototype.switchMapTo = switchMapTo_1.switchMapTo;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var switchMapTo_1 = __webpack_require__(578);
    exports.switchMapTo = function(innerObservable, resultSelector) {
        return switchMapTo_1.switchMapTo(innerObservable, resultSelector)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), take_1 = __webpack_require__(966);
    Observable_1.Observable.prototype.take = take_1.take;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var take_1 = __webpack_require__(579);
    exports.take = function(count) {
        return take_1.take(count)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), takeLast_1 = __webpack_require__(968);
    Observable_1.Observable.prototype.takeLast = takeLast_1.takeLast;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var takeLast_1 = __webpack_require__(434);
    exports.takeLast = function(count) {
        return takeLast_1.takeLast(count)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), takeUntil_1 = __webpack_require__(970);
    Observable_1.Observable.prototype.takeUntil = takeUntil_1.takeUntil;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var takeUntil_1 = __webpack_require__(580);
    exports.takeUntil = function(notifier) {
        return takeUntil_1.takeUntil(notifier)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), takeWhile_1 = __webpack_require__(972);
    Observable_1.Observable.prototype.takeWhile = takeWhile_1.takeWhile;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var takeWhile_1 = __webpack_require__(581);
    exports.takeWhile = function(predicate) {
        return takeWhile_1.takeWhile(predicate)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), throttle_1 = __webpack_require__(974);
    Observable_1.Observable.prototype.throttle = throttle_1.throttle;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var throttle_1 = __webpack_require__(366);
    exports.throttle = function(durationSelector, config) {
        return void 0 === config && (config = throttle_1.defaultThrottleConfig), throttle_1.throttle(durationSelector, config)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), throttleTime_1 = __webpack_require__(976);
    Observable_1.Observable.prototype.throttleTime = throttleTime_1.throttleTime;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var async_1 = __webpack_require__(24), throttle_1 = __webpack_require__(366), throttleTime_1 = __webpack_require__(582);
    exports.throttleTime = function(duration, scheduler, config) {
        return void 0 === scheduler && (scheduler = async_1.async), void 0 === config && (config = throttle_1.defaultThrottleConfig), 
        throttleTime_1.throttleTime(duration, scheduler, config)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), timeInterval_1 = __webpack_require__(583);
    Observable_1.Observable.prototype.timeInterval = timeInterval_1.timeInterval;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), timeout_1 = __webpack_require__(979);
    Observable_1.Observable.prototype.timeout = timeout_1.timeout;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var async_1 = __webpack_require__(24), timeout_1 = __webpack_require__(585);
    exports.timeout = function(due, scheduler) {
        return void 0 === scheduler && (scheduler = async_1.async), timeout_1.timeout(due, scheduler)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), timeoutWith_1 = __webpack_require__(981);
    Observable_1.Observable.prototype.timeoutWith = timeoutWith_1.timeoutWith;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var async_1 = __webpack_require__(24), timeoutWith_1 = __webpack_require__(587);
    exports.timeoutWith = function(due, withObservable, scheduler) {
        return void 0 === scheduler && (scheduler = async_1.async), timeoutWith_1.timeoutWith(due, withObservable, scheduler)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), timestamp_1 = __webpack_require__(983);
    Observable_1.Observable.prototype.timestamp = timestamp_1.timestamp;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var async_1 = __webpack_require__(24), timestamp_1 = __webpack_require__(436);
    exports.timestamp = function(scheduler) {
        return void 0 === scheduler && (scheduler = async_1.async), timestamp_1.timestamp(scheduler)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), toArray_1 = __webpack_require__(985);
    Observable_1.Observable.prototype.toArray = toArray_1.toArray;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var toArray_1 = __webpack_require__(588);
    exports.toArray = function() {
        return toArray_1.toArray()(this);
    };
}, function(module, exports) {}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), window_1 = __webpack_require__(988);
    Observable_1.Observable.prototype.window = window_1.window;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var window_1 = __webpack_require__(589);
    exports.window = function(windowBoundaries) {
        return window_1.window(windowBoundaries)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), windowCount_1 = __webpack_require__(990);
    Observable_1.Observable.prototype.windowCount = windowCount_1.windowCount;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var windowCount_1 = __webpack_require__(590);
    exports.windowCount = function(windowSize, startWindowEvery) {
        return void 0 === startWindowEvery && (startWindowEvery = 0), windowCount_1.windowCount(windowSize, startWindowEvery)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), windowTime_1 = __webpack_require__(992);
    Observable_1.Observable.prototype.windowTime = windowTime_1.windowTime;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var async_1 = __webpack_require__(24), isNumeric_1 = __webpack_require__(329), isScheduler_1 = __webpack_require__(86), windowTime_1 = __webpack_require__(591);
    exports.windowTime = function(windowTimeSpan) {
        var scheduler = async_1.async, windowCreationInterval = null, maxWindowSize = Number.POSITIVE_INFINITY;
        return isScheduler_1.isScheduler(arguments[3]) && (scheduler = arguments[3]), isScheduler_1.isScheduler(arguments[2]) ? scheduler = arguments[2] : isNumeric_1.isNumeric(arguments[2]) && (maxWindowSize = arguments[2]), 
        isScheduler_1.isScheduler(arguments[1]) ? scheduler = arguments[1] : isNumeric_1.isNumeric(arguments[1]) && (windowCreationInterval = arguments[1]), 
        windowTime_1.windowTime(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), windowToggle_1 = __webpack_require__(994);
    Observable_1.Observable.prototype.windowToggle = windowToggle_1.windowToggle;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var windowToggle_1 = __webpack_require__(592);
    exports.windowToggle = function(openings, closingSelector) {
        return windowToggle_1.windowToggle(openings, closingSelector)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), windowWhen_1 = __webpack_require__(996);
    Observable_1.Observable.prototype.windowWhen = windowWhen_1.windowWhen;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var windowWhen_1 = __webpack_require__(593);
    exports.windowWhen = function(closingSelector) {
        return windowWhen_1.windowWhen(closingSelector)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), withLatestFrom_1 = __webpack_require__(998);
    Observable_1.Observable.prototype.withLatestFrom = withLatestFrom_1.withLatestFrom;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var withLatestFrom_1 = __webpack_require__(594);
    exports.withLatestFrom = function() {
        for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i - 0] = arguments[_i];
        return withLatestFrom_1.withLatestFrom.apply(void 0, args)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), zip_1 = __webpack_require__(1e3);
    Observable_1.Observable.prototype.zip = zip_1.zipProto;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var zip_1 = __webpack_require__(363);
    exports.zipProto = function() {
        for (var observables = [], _i = 0; _i < arguments.length; _i++) observables[_i - 0] = arguments[_i];
        return zip_1.zip.apply(void 0, observables)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var Observable_1 = __webpack_require__(0), zipAll_1 = __webpack_require__(1002);
    Observable_1.Observable.prototype.zipAll = zipAll_1.zipAll;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var zipAll_1 = __webpack_require__(595);
    exports.zipAll = function(project) {
        return zipAll_1.zipAll(project)(this);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Observable_1 = __webpack_require__(0), Notification_1 = __webpack_require__(283), ColdObservable_1 = __webpack_require__(1004), HotObservable_1 = __webpack_require__(1005), SubscriptionLog_1 = __webpack_require__(597), VirtualTimeScheduler_1 = __webpack_require__(599), defaultMaxFrame = 750, TestScheduler = function(_super) {
        function TestScheduler(assertDeepEqual) {
            _super.call(this, VirtualTimeScheduler_1.VirtualAction, defaultMaxFrame), this.assertDeepEqual = assertDeepEqual, 
            this.hotObservables = [], this.coldObservables = [], this.flushTests = [];
        }
        return __extends(TestScheduler, _super), TestScheduler.prototype.createTime = function(marbles) {
            var indexOf = marbles.indexOf("|");
            if (-1 === indexOf) throw new Error('marble diagram for time should have a completion marker "|"');
            return indexOf * TestScheduler.frameTimeFactor;
        }, TestScheduler.prototype.createColdObservable = function(marbles, values, error) {
            if (-1 !== marbles.indexOf("^")) throw new Error('cold observable cannot have subscription offset "^"');
            if (-1 !== marbles.indexOf("!")) throw new Error('cold observable cannot have unsubscription marker "!"');
            var messages = TestScheduler.parseMarbles(marbles, values, error), cold = new ColdObservable_1.ColdObservable(messages, this);
            return this.coldObservables.push(cold), cold;
        }, TestScheduler.prototype.createHotObservable = function(marbles, values, error) {
            if (-1 !== marbles.indexOf("!")) throw new Error('hot observable cannot have unsubscription marker "!"');
            var messages = TestScheduler.parseMarbles(marbles, values, error), subject = new HotObservable_1.HotObservable(messages, this);
            return this.hotObservables.push(subject), subject;
        }, TestScheduler.prototype.materializeInnerObservable = function(observable, outerFrame) {
            var _this = this, messages = [];
            return observable.subscribe(function(value) {
                messages.push({
                    frame: _this.frame - outerFrame,
                    notification: Notification_1.Notification.createNext(value)
                });
            }, function(err) {
                messages.push({
                    frame: _this.frame - outerFrame,
                    notification: Notification_1.Notification.createError(err)
                });
            }, function() {
                messages.push({
                    frame: _this.frame - outerFrame,
                    notification: Notification_1.Notification.createComplete()
                });
            }), messages;
        }, TestScheduler.prototype.expectObservable = function(observable, unsubscriptionMarbles) {
            var _this = this;
            void 0 === unsubscriptionMarbles && (unsubscriptionMarbles = null);
            var subscription, actual = [], flushTest = {
                actual: actual,
                ready: !1
            }, unsubscriptionFrame = TestScheduler.parseMarblesAsSubscriptions(unsubscriptionMarbles).unsubscribedFrame;
            return this.schedule(function() {
                subscription = observable.subscribe(function(x) {
                    var value = x;
                    x instanceof Observable_1.Observable && (value = _this.materializeInnerObservable(value, _this.frame)), 
                    actual.push({
                        frame: _this.frame,
                        notification: Notification_1.Notification.createNext(value)
                    });
                }, function(err) {
                    actual.push({
                        frame: _this.frame,
                        notification: Notification_1.Notification.createError(err)
                    });
                }, function() {
                    actual.push({
                        frame: _this.frame,
                        notification: Notification_1.Notification.createComplete()
                    });
                });
            }, 0), unsubscriptionFrame !== Number.POSITIVE_INFINITY && this.schedule(function() {
                return subscription.unsubscribe();
            }, unsubscriptionFrame), this.flushTests.push(flushTest), {
                toBe: function(marbles, values, errorValue) {
                    flushTest.ready = !0, flushTest.expected = TestScheduler.parseMarbles(marbles, values, errorValue, !0);
                }
            };
        }, TestScheduler.prototype.expectSubscriptions = function(actualSubscriptionLogs) {
            var flushTest = {
                actual: actualSubscriptionLogs,
                ready: !1
            };
            return this.flushTests.push(flushTest), {
                toBe: function(marbles) {
                    var marblesArray = "string" == typeof marbles ? [ marbles ] : marbles;
                    flushTest.ready = !0, flushTest.expected = marblesArray.map(function(marbles) {
                        return TestScheduler.parseMarblesAsSubscriptions(marbles);
                    });
                }
            };
        }, TestScheduler.prototype.flush = function() {
            for (var hotObservables = this.hotObservables; hotObservables.length > 0; ) hotObservables.shift().setup();
            _super.prototype.flush.call(this);
            for (var readyFlushTests = this.flushTests.filter(function(test) {
                return test.ready;
            }); readyFlushTests.length > 0; ) {
                var test = readyFlushTests.shift();
                this.assertDeepEqual(test.actual, test.expected);
            }
        }, TestScheduler.parseMarblesAsSubscriptions = function(marbles) {
            if ("string" != typeof marbles) return new SubscriptionLog_1.SubscriptionLog(Number.POSITIVE_INFINITY);
            for (var len = marbles.length, groupStart = -1, subscriptionFrame = Number.POSITIVE_INFINITY, unsubscriptionFrame = Number.POSITIVE_INFINITY, i = 0; i < len; i++) {
                var frame = i * this.frameTimeFactor, c = marbles[i];
                switch (c) {
                  case "-":
                  case " ":
                    break;

                  case "(":
                    groupStart = frame;
                    break;

                  case ")":
                    groupStart = -1;
                    break;

                  case "^":
                    if (subscriptionFrame !== Number.POSITIVE_INFINITY) throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");
                    subscriptionFrame = groupStart > -1 ? groupStart : frame;
                    break;

                  case "!":
                    if (unsubscriptionFrame !== Number.POSITIVE_INFINITY) throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");
                    unsubscriptionFrame = groupStart > -1 ? groupStart : frame;
                    break;

                  default:
                    throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '" + c + "'.");
                }
            }
            return unsubscriptionFrame < 0 ? new SubscriptionLog_1.SubscriptionLog(subscriptionFrame) : new SubscriptionLog_1.SubscriptionLog(subscriptionFrame, unsubscriptionFrame);
        }, TestScheduler.parseMarbles = function(marbles, values, errorValue, materializeInnerObservables) {
            if (void 0 === materializeInnerObservables && (materializeInnerObservables = !1), 
            -1 !== marbles.indexOf("!")) throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');
            for (var len = marbles.length, testMessages = [], subIndex = marbles.indexOf("^"), frameOffset = -1 === subIndex ? 0 : subIndex * -this.frameTimeFactor, getValue = "object" != typeof values ? function(x) {
                return x;
            } : function(x) {
                return materializeInnerObservables && values[x] instanceof ColdObservable_1.ColdObservable ? values[x].messages : values[x];
            }, groupStart = -1, i = 0; i < len; i++) {
                var frame = i * this.frameTimeFactor + frameOffset, notification = void 0, c = marbles[i];
                switch (c) {
                  case "-":
                  case " ":
                    break;

                  case "(":
                    groupStart = frame;
                    break;

                  case ")":
                    groupStart = -1;
                    break;

                  case "|":
                    notification = Notification_1.Notification.createComplete();
                    break;

                  case "^":
                    break;

                  case "#":
                    notification = Notification_1.Notification.createError(errorValue || "error");
                    break;

                  default:
                    notification = Notification_1.Notification.createNext(getValue(c));
                }
                notification && testMessages.push({
                    frame: groupStart > -1 ? groupStart : frame,
                    notification: notification
                });
            }
            return testMessages;
        }, TestScheduler;
    }(VirtualTimeScheduler_1.VirtualTimeScheduler);
    exports.TestScheduler = TestScheduler;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Observable_1 = __webpack_require__(0), Subscription_1 = __webpack_require__(30), SubscriptionLoggable_1 = __webpack_require__(596), applyMixins_1 = __webpack_require__(598), ColdObservable = function(_super) {
        function ColdObservable(messages, scheduler) {
            _super.call(this, function(subscriber) {
                var observable = this, index = observable.logSubscribedFrame();
                return subscriber.add(new Subscription_1.Subscription(function() {
                    observable.logUnsubscribedFrame(index);
                })), observable.scheduleMessages(subscriber), subscriber;
            }), this.messages = messages, this.subscriptions = [], this.scheduler = scheduler;
        }
        return __extends(ColdObservable, _super), ColdObservable.prototype.scheduleMessages = function(subscriber) {
            for (var messagesLength = this.messages.length, i = 0; i < messagesLength; i++) {
                var message = this.messages[i];
                subscriber.add(this.scheduler.schedule(function(_a) {
                    var message = _a.message, subscriber = _a.subscriber;
                    message.notification.observe(subscriber);
                }, message.frame, {
                    message: message,
                    subscriber: subscriber
                }));
            }
        }, ColdObservable;
    }(Observable_1.Observable);
    exports.ColdObservable = ColdObservable, applyMixins_1.applyMixins(ColdObservable, [ SubscriptionLoggable_1.SubscriptionLoggable ]);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, Subject_1 = __webpack_require__(27), Subscription_1 = __webpack_require__(30), SubscriptionLoggable_1 = __webpack_require__(596), applyMixins_1 = __webpack_require__(598), HotObservable = function(_super) {
        function HotObservable(messages, scheduler) {
            _super.call(this), this.messages = messages, this.subscriptions = [], this.scheduler = scheduler;
        }
        return __extends(HotObservable, _super), HotObservable.prototype._subscribe = function(subscriber) {
            var subject = this, index = subject.logSubscribedFrame();
            return subscriber.add(new Subscription_1.Subscription(function() {
                subject.logUnsubscribedFrame(index);
            })), _super.prototype._subscribe.call(this, subscriber);
        }, HotObservable.prototype.setup = function() {
            for (var subject = this, messagesLength = subject.messages.length, i = 0; i < messagesLength; i++) !function() {
                var message = subject.messages[i];
                subject.scheduler.schedule(function() {
                    message.notification.observe(subject);
                }, message.frame);
            }();
        }, HotObservable;
    }(Subject_1.Subject);
    exports.HotObservable = HotObservable, applyMixins_1.applyMixins(HotObservable, [ SubscriptionLoggable_1.SubscriptionLoggable ]);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var AnimationFrameAction_1 = __webpack_require__(1007), AnimationFrameScheduler_1 = __webpack_require__(1009);
    exports.animationFrame = new AnimationFrameScheduler_1.AnimationFrameScheduler(AnimationFrameAction_1.AnimationFrameAction);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, AsyncAction_1 = __webpack_require__(330), AnimationFrame_1 = __webpack_require__(1008), AnimationFrameAction = function(_super) {
        function AnimationFrameAction(scheduler, work) {
            _super.call(this, scheduler, work), this.scheduler = scheduler, this.work = work;
        }
        return __extends(AnimationFrameAction, _super), AnimationFrameAction.prototype.requestAsyncId = function(scheduler, id, delay) {
            return void 0 === delay && (delay = 0), null !== delay && delay > 0 ? _super.prototype.requestAsyncId.call(this, scheduler, id, delay) : (scheduler.actions.push(this), 
            scheduler.scheduled || (scheduler.scheduled = AnimationFrame_1.AnimationFrame.requestAnimationFrame(scheduler.flush.bind(scheduler, null))));
        }, AnimationFrameAction.prototype.recycleAsyncId = function(scheduler, id, delay) {
            if (void 0 === delay && (delay = 0), null !== delay && delay > 0 || null === delay && this.delay > 0) return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);
            0 === scheduler.actions.length && (AnimationFrame_1.AnimationFrame.cancelAnimationFrame(id), 
            scheduler.scheduled = void 0);
        }, AnimationFrameAction;
    }(AsyncAction_1.AsyncAction);
    exports.AnimationFrameAction = AnimationFrameAction;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var root_1 = __webpack_require__(46), RequestAnimationFrameDefinition = function() {
        return function(root) {
            root.requestAnimationFrame ? (this.cancelAnimationFrame = root.cancelAnimationFrame.bind(root), 
            this.requestAnimationFrame = root.requestAnimationFrame.bind(root)) : root.mozRequestAnimationFrame ? (this.cancelAnimationFrame = root.mozCancelAnimationFrame.bind(root), 
            this.requestAnimationFrame = root.mozRequestAnimationFrame.bind(root)) : root.webkitRequestAnimationFrame ? (this.cancelAnimationFrame = root.webkitCancelAnimationFrame.bind(root), 
            this.requestAnimationFrame = root.webkitRequestAnimationFrame.bind(root)) : root.msRequestAnimationFrame ? (this.cancelAnimationFrame = root.msCancelAnimationFrame.bind(root), 
            this.requestAnimationFrame = root.msRequestAnimationFrame.bind(root)) : root.oRequestAnimationFrame ? (this.cancelAnimationFrame = root.oCancelAnimationFrame.bind(root), 
            this.requestAnimationFrame = root.oRequestAnimationFrame.bind(root)) : (this.cancelAnimationFrame = root.clearTimeout.bind(root), 
            this.requestAnimationFrame = function(cb) {
                return root.setTimeout(cb, 1e3 / 60);
            });
        };
    }();
    exports.RequestAnimationFrameDefinition = RequestAnimationFrameDefinition, exports.AnimationFrame = new RequestAnimationFrameDefinition(root_1.root);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __extends = this && this.__extends || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        function __() {
            this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
    }, AnimationFrameScheduler = function(_super) {
        function AnimationFrameScheduler() {
            _super.apply(this, arguments);
        }
        return __extends(AnimationFrameScheduler, _super), AnimationFrameScheduler.prototype.flush = function(action) {
            this.active = !0, this.scheduled = void 0;
            var error, actions = this.actions, index = -1, count = actions.length;
            action = action || actions.shift();
            do {
                if (error = action.execute(action.state, action.delay)) break;
            } while (++index < count && (action = actions.shift()));
            if (this.active = !1, error) {
                for (;++index < count && (action = actions.shift()); ) action.unsubscribe();
                throw error;
            }
        }, AnimationFrameScheduler;
    }(__webpack_require__(331).AsyncScheduler);
    exports.AnimationFrameScheduler = AnimationFrameScheduler;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var audit_1 = __webpack_require__(432);
    exports.audit = audit_1.audit;
    var auditTime_1 = __webpack_require__(545);
    exports.auditTime = auditTime_1.auditTime;
    var buffer_1 = __webpack_require__(519);
    exports.buffer = buffer_1.buffer;
    var bufferCount_1 = __webpack_require__(520);
    exports.bufferCount = bufferCount_1.bufferCount;
    var bufferTime_1 = __webpack_require__(521);
    exports.bufferTime = bufferTime_1.bufferTime;
    var bufferToggle_1 = __webpack_require__(522);
    exports.bufferToggle = bufferToggle_1.bufferToggle;
    var bufferWhen_1 = __webpack_require__(523);
    exports.bufferWhen = bufferWhen_1.bufferWhen;
    var catchError_1 = __webpack_require__(524);
    exports.catchError = catchError_1.catchError;
    var combineAll_1 = __webpack_require__(525);
    exports.combineAll = combineAll_1.combineAll;
    var combineLatest_1 = __webpack_require__(360);
    exports.combineLatest = combineLatest_1.combineLatest;
    var concat_1 = __webpack_require__(472);
    exports.concat = concat_1.concat;
    var concatAll_1 = __webpack_require__(380);
    exports.concatAll = concatAll_1.concatAll;
    var concatMap_1 = __webpack_require__(381);
    exports.concatMap = concatMap_1.concatMap;
    var concatMapTo_1 = __webpack_require__(526);
    exports.concatMapTo = concatMapTo_1.concatMapTo;
    var count_1 = __webpack_require__(527);
    exports.count = count_1.count;
    var debounce_1 = __webpack_require__(529);
    exports.debounce = debounce_1.debounce;
    var debounceTime_1 = __webpack_require__(530);
    exports.debounceTime = debounceTime_1.debounceTime;
    var defaultIfEmpty_1 = __webpack_require__(429);
    exports.defaultIfEmpty = defaultIfEmpty_1.defaultIfEmpty;
    var delay_1 = __webpack_require__(531);
    exports.delay = delay_1.delay;
    var delayWhen_1 = __webpack_require__(532);
    exports.delayWhen = delayWhen_1.delayWhen;
    var dematerialize_1 = __webpack_require__(528);
    exports.dematerialize = dematerialize_1.dematerialize;
    var distinct_1 = __webpack_require__(475);
    exports.distinct = distinct_1.distinct;
    var distinctUntilChanged_1 = __webpack_require__(430);
    exports.distinctUntilChanged = distinctUntilChanged_1.distinctUntilChanged;
    var distinctUntilKeyChanged_1 = __webpack_require__(533);
    exports.distinctUntilKeyChanged = distinctUntilKeyChanged_1.distinctUntilKeyChanged;
    var elementAt_1 = __webpack_require__(538);
    exports.elementAt = elementAt_1.elementAt;
    var every_1 = __webpack_require__(547);
    exports.every = every_1.every;
    var exhaust_1 = __webpack_require__(535);
    exports.exhaust = exhaust_1.exhaust;
    var exhaustMap_1 = __webpack_require__(536);
    exports.exhaustMap = exhaustMap_1.exhaustMap;
    var expand_1 = __webpack_require__(537);
    exports.expand = expand_1.expand;
    var filter_1 = __webpack_require__(379);
    exports.filter = filter_1.filter;
    var finalize_1 = __webpack_require__(539);
    exports.finalize = finalize_1.finalize;
    var find_1 = __webpack_require__(431);
    exports.find = find_1.find;
    var findIndex_1 = __webpack_require__(540);
    exports.findIndex = findIndex_1.findIndex;
    var first_1 = __webpack_require__(541);
    exports.first = first_1.first;
    var groupBy_1 = __webpack_require__(542);
    exports.groupBy = groupBy_1.groupBy;
    var ignoreElements_1 = __webpack_require__(543);
    exports.ignoreElements = ignoreElements_1.ignoreElements;
    var isEmpty_1 = __webpack_require__(544);
    exports.isEmpty = isEmpty_1.isEmpty;
    var last_1 = __webpack_require__(546);
    exports.last = last_1.last;
    var map_1 = __webpack_require__(284);
    exports.map = map_1.map;
    var mapTo_1 = __webpack_require__(548);
    exports.mapTo = mapTo_1.mapTo;
    var materialize_1 = __webpack_require__(549);
    exports.materialize = materialize_1.materialize;
    var max_1 = __webpack_require__(550);
    exports.max = max_1.max;
    var merge_1 = __webpack_require__(551);
    exports.merge = merge_1.merge;
    var mergeAll_1 = __webpack_require__(346);
    exports.mergeAll = mergeAll_1.mergeAll;
    var mergeMap_1 = __webpack_require__(286);
    exports.mergeMap = mergeMap_1.mergeMap;
    var mergeMap_2 = __webpack_require__(286);
    exports.flatMap = mergeMap_2.mergeMap;
    var mergeMapTo_1 = __webpack_require__(552);
    exports.mergeMapTo = mergeMapTo_1.mergeMapTo;
    var mergeScan_1 = __webpack_require__(553);
    exports.mergeScan = mergeScan_1.mergeScan;
    var min_1 = __webpack_require__(554);
    exports.min = min_1.min;
    var multicast_1 = __webpack_require__(177);
    exports.multicast = multicast_1.multicast;
    var observeOn_1 = __webpack_require__(344);
    exports.observeOn = observeOn_1.observeOn;
    var onErrorResumeNext_1 = __webpack_require__(428);
    exports.onErrorResumeNext = onErrorResumeNext_1.onErrorResumeNext;
    var pairwise_1 = __webpack_require__(555);
    exports.pairwise = pairwise_1.pairwise;
    var partition_1 = __webpack_require__(556);
    exports.partition = partition_1.partition;
    var pluck_1 = __webpack_require__(557);
    exports.pluck = pluck_1.pluck;
    var publish_1 = __webpack_require__(467);
    exports.publish = publish_1.publish;
    var publishBehavior_1 = __webpack_require__(558);
    exports.publishBehavior = publishBehavior_1.publishBehavior;
    var publishLast_1 = __webpack_require__(560);
    exports.publishLast = publishLast_1.publishLast;
    var publishReplay_1 = __webpack_require__(559);
    exports.publishReplay = publishReplay_1.publishReplay;
    var race_1 = __webpack_require__(561);
    exports.race = race_1.race;
    var reduce_1 = __webpack_require__(333);
    exports.reduce = reduce_1.reduce;
    var repeat_1 = __webpack_require__(562);
    exports.repeat = repeat_1.repeat;
    var repeatWhen_1 = __webpack_require__(563);
    exports.repeatWhen = repeatWhen_1.repeatWhen;
    var retry_1 = __webpack_require__(564);
    exports.retry = retry_1.retry;
    var retryWhen_1 = __webpack_require__(565);
    exports.retryWhen = retryWhen_1.retryWhen;
    var refCount_1 = __webpack_require__(377);
    exports.refCount = refCount_1.refCount;
    var sample_1 = __webpack_require__(566);
    exports.sample = sample_1.sample;
    var sampleTime_1 = __webpack_require__(567);
    exports.sampleTime = sampleTime_1.sampleTime;
    var scan_1 = __webpack_require__(433);
    exports.scan = scan_1.scan;
    var sequenceEqual_1 = __webpack_require__(569);
    exports.sequenceEqual = sequenceEqual_1.sequenceEqual;
    var share_1 = __webpack_require__(482);
    exports.share = share_1.share;
    var shareReplay_1 = __webpack_require__(570);
    exports.shareReplay = shareReplay_1.shareReplay;
    var single_1 = __webpack_require__(571);
    exports.single = single_1.single;
    var skip_1 = __webpack_require__(572);
    exports.skip = skip_1.skip;
    var skipLast_1 = __webpack_require__(573);
    exports.skipLast = skipLast_1.skipLast;
    var skipUntil_1 = __webpack_require__(574);
    exports.skipUntil = skipUntil_1.skipUntil;
    var skipWhile_1 = __webpack_require__(575);
    exports.skipWhile = skipWhile_1.skipWhile;
    var startWith_1 = __webpack_require__(480);
    exports.startWith = startWith_1.startWith;
    var switchAll_1 = __webpack_require__(577);
    exports.switchAll = switchAll_1.switchAll;
    var switchMap_1 = __webpack_require__(435);
    exports.switchMap = switchMap_1.switchMap;
    var switchMapTo_1 = __webpack_require__(578);
    exports.switchMapTo = switchMapTo_1.switchMapTo;
    var take_1 = __webpack_require__(579);
    exports.take = take_1.take;
    var takeLast_1 = __webpack_require__(434);
    exports.takeLast = takeLast_1.takeLast;
    var takeUntil_1 = __webpack_require__(580);
    exports.takeUntil = takeUntil_1.takeUntil;
    var takeWhile_1 = __webpack_require__(581);
    exports.takeWhile = takeWhile_1.takeWhile;
    var tap_1 = __webpack_require__(534);
    exports.tap = tap_1.tap;
    var throttle_1 = __webpack_require__(366);
    exports.throttle = throttle_1.throttle;
    var throttleTime_1 = __webpack_require__(582);
    exports.throttleTime = throttleTime_1.throttleTime;
    var timeInterval_1 = __webpack_require__(584);
    exports.timeInterval = timeInterval_1.timeInterval;
    var timeout_1 = __webpack_require__(585);
    exports.timeout = timeout_1.timeout;
    var timeoutWith_1 = __webpack_require__(587);
    exports.timeoutWith = timeoutWith_1.timeoutWith;
    var timestamp_1 = __webpack_require__(436);
    exports.timestamp = timestamp_1.timestamp;
    var toArray_1 = __webpack_require__(588);
    exports.toArray = toArray_1.toArray;
    var window_1 = __webpack_require__(589);
    exports.window = window_1.window;
    var windowCount_1 = __webpack_require__(590);
    exports.windowCount = windowCount_1.windowCount;
    var windowTime_1 = __webpack_require__(591);
    exports.windowTime = windowTime_1.windowTime;
    var windowToggle_1 = __webpack_require__(592);
    exports.windowToggle = windowToggle_1.windowToggle;
    var windowWhen_1 = __webpack_require__(593);
    exports.windowWhen = windowWhen_1.windowWhen;
    var withLatestFrom_1 = __webpack_require__(594);
    exports.withLatestFrom = withLatestFrom_1.withLatestFrom;
    var zip_1 = __webpack_require__(363);
    exports.zip = zip_1.zip;
    var zipAll_1 = __webpack_require__(595);
    exports.zipAll = zipAll_1.zipAll;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), function(m) {
        for (var p in m) exports.hasOwnProperty(p) || (exports[p] = m[p]);
    }(__webpack_require__(437));
    var intrinsic_1 = __webpack_require__(1012);
    exports.F = intrinsic_1.createLiftedIntrinsics();
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), react_1 = __webpack_require__(437);
    function liftIntrinsic(intrinsicClassName) {
        return function(props) {
            return React.createElement(react_1.LiftWrapper, {
                component: intrinsicClassName,
                props: props
            });
        };
    }
    exports.liftIntrinsic = liftIntrinsic, exports.createLiftedIntrinsics = function() {
        var r = {};
        return [ "a", "abbr", "address", "area", "article", "aside", "audio", "b", "base", "bdi", "bdo", "big", "blockquote", "body", "br", "button", "canvas", "caption", "cite", "code", "col", "colgroup", "data", "datalist", "dd", "del", "details", "dfn", "dialog", "div", "dl", "dt", "em", "embed", "fieldset", "figcaption", "figure", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "iframe", "img", "input", "ins", "kbd", "keygen", "label", "legend", "li", "link", "main", "map", "mark", "menu", "menuitem", "meta", "meter", "nav", "noscript", "object", "ol", "optgroup", "option", "output", "p", "param", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "script", "section", "select", "small", "source", "span", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "textarea", "tfoot", "th", "thead", "time", "title", "tr", "track", "u", "ul", "var", "video", "wbr" ].forEach(function(e) {
            return r[e] = liftIntrinsic(e);
        }), r;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var map = __webpack_require__(367), find = __webpack_require__(420), isFunction = __webpack_require__(41), isObject = __webpack_require__(9), isArray = __webpack_require__(7), isUndefined = __webpack_require__(328), Util = __webpack_require__(368), MatchTransformer = __webpack_require__(1015), log = __webpack_require__(1).Logger.create("lib.grammarly-editor.match-extension");
    exports.createMatchExtensions = function(config) {
        var DEBUG = !config.silentLogs, matches = config.matches, editor = config.editor, exposeRawMatch = config.exposeRawMatch, removeSepArr = map(",.;:", function(v) {
            return v + " ";
        }), me = {
            getMatchClass: function(m, text) {
                var cls = m.syn ? " gr-syn" : " gr-alert";
                m._e - m._s == 1 && "a" !== text.substring(m._s, m._e).toLowerCase() && (cls += " gr_tiny");
                m.selected && (cls += " sel");
                cls += m.gramm ? " gr_gramm" : " gr_spell", m.replaced && (cls += " gr_replaced");
                m.notClickableTitle && "ContextualSpelling" !== m.group && (cls += " gr_hide");
                m.free || (cls += " gr_premium");
                return cls;
            },
            processMatch: function(match, text) {
                if (match.skipUpdatePos = "Plagiarism" === match.category || "syn" === match.type, 
                MatchTransformer.processMatch(match, text, {
                    exposeRawMatch: exposeRawMatch
                }), "syn" === match.type) return editor.emit("syn", match), !1;
                return !0;
            },
            beforeReplace: function(match, offset, value) {
                match.syn && (editor.latestCursor.s = editor.latestCursor.e = editor.latestCursor.s - offset + value.length);
            },
            processRemove: function(m) {
                return "Plagiarism" === m.category ? {
                    next: !0
                } : {
                    remove: !1
                };
            },
            matchRemoved: function(m, text, s, e) {
                var value = m.value, wordJoined = !Util.wordSeparated(text, s, e), spaceWrapped = " " === value[0] && " " === value[value.length - 1], comma = -1 !== value.indexOf(","), semicolon = -1 !== value.indexOf(";"), removeSepCase = -1 !== removeSepArr.indexOf(value), manualyFixedSeparator = m.rFirst === text.substring(s, e + 1), withPrev = Util.getPrevWord(text, s) + " " + value, fixedArticle = withPrev === m.rFirst || withPrev === m.secondArticle, fixedArticleWord = "ArticleUse" === m.category && -1 !== m.todo.indexOf("change") && m.next !== Util.getNextWord(text, e), plagiarism = "Plagiarism" === m.category, closingPunctuation = "ClosingPunctuation" === m.category;
                return wordJoined && !spaceWrapped && !comma && !removeSepCase && !semicolon && !closingPunctuation && !plagiarism || manualyFixedSeparator || fixedArticle || fixedArticleWord;
            },
            matchesEqual: function(o, n, equalPos) {
                return !o.syn && !n.syn && equalPos && o.v.toLowerCase() === n.v.toLowerCase() && o.category === n.category && replacementsEqual(o, n);
            },
            extendMatch: function(o, n) {
                o.sid = n.id.toString(), o.sentence_no = n.sentence_no, o.header = n.header, o.cls = n.cls, 
                o.details = n.details, o.explanation = n.explanation, o.todo = n.todo, o.notClickableTitle = n.notClickableTitle, 
                o.showTitle = n.showTitle, DEBUG && log.trace("updated match with server id", o);
            },
            canAddRemovedMatch: function(match) {
                return Boolean(match.addedToDict || match.ignored || match.serverRemove);
            },
            canShiftMatchEnd: function(m) {
                return !m.syn;
            },
            removeSyn: function() {
                editor.saveCursor(), matches.get().forEach(function(m) {
                    m.syn && editor.emit("removeSyn", m);
                }), function() {
                    for (var _matches = matches.get(), i = 0; i < _matches.length; i++) _matches[i].deselect(), 
                    _matches[i].syn && (matches.remove(_matches[i]), i--);
                }(), editor.dom && editor.dom.removeBySelector(".gr-syn");
                editor.restoreCursor();
            },
            tryToAdd: function(match, text) {
                var _matches = matches.get(), duplicate = function(m) {
                    var _matches = matches.get();
                    if ("Plagiarism" === m.category) return;
                    for (var i = 0; i < _matches.length; i++) {
                        var existed = _matches[i];
                        if (isSameValue(m, existed)) {
                            if (m.priority < existed.priority) return -1;
                            if (m.priority > existed.priority) return i;
                        }
                    }
                    return;
                    function isSameValue(m, ex) {
                        return m.s === ex.s && m.e === ex.e || (m.s === ex.s || m.e === ex.e) && m.value.replace(/\s+/g, "") === ex.value.replace(/\s+/g, "");
                    }
                }(match);
                {
                    if (-1 === duplicate) return DEBUG && log.trace("skip adding match with lower priority " + match.value, match), 
                    !1;
                    duplicate && duplicate > -1 && (DEBUG && log.trace("remove same match with lower priority " + _matches[duplicate].value, _matches[duplicate]), 
                    _matches.splice(duplicate, 1));
                }
                var existed = function(m) {
                    var _matches = matches.get();
                    if ("Plagiarism" === m.category) return;
                    for (var i = 0; i < _matches.length; i++) {
                        var existed = _matches[i];
                        if (existed.category === m.category && "Plagiarism" !== existed.category) {
                            var result = matches.isIntersected(m, existed) && replacementsEqual(m, existed);
                            if (result) return existed;
                        }
                    }
                    return !1;
                }(match);
                if (existed) return DEBUG && log.trace("remove, match of same category is overlaping with '" + match.value + "'", existed), 
                matches.matchUpdater.extendWithoutAdding(_matches, match), !1;
                var containsSpace = -1 !== match.v.indexOf(" "), containsAph = -1 !== match.v.indexOf("'") || -1 !== match.v.indexOf(""), isDoubleComas = ",," === match.v || ".." === match.v;
                if (!(isUndefined(match.rFirst) || Util.wordSeparated(text, match.s, match.e) || containsSpace || Util.isSep(match.v.trim()) || containsAph || isDoubleComas)) return DEBUG && log.trace("match is part of word '" + match.value + "'", match), 
                matches.emit("match_is_part_of_word"), !1;
                if ("IgnoredPatterns" === match.category || "IgnoredWords" === match.category) return DEBUG && log.trace("remove ignored", match), 
                !1;
                var valInText = text.substring(match.s, match.e);
                if (-1 !== match.todo.indexOf("add a comma") && ("," === text.substring(match.e, match.e + 1) || "," === valInText[valInText.length - 1])) return match.removed = !0, 
                DEBUG && log.trace("lost add a comma match, comma is here", match), !1;
                if (-1 !== match.todo.indexOf("add an article") && (" an" === valInText || " the" === valInText || " a" === valInText)) return DEBUG && log.trace("lost add an article match", match), 
                !1;
                var withPrev = Util.getPrevWord(text, match.s) + " " + match.value;
                if (withPrev === match.rFirst || withPrev === match.secondArticle) return DEBUG && log.trace("lost add an article match, article already fixed", match), 
                !1;
                if (function(m1) {
                    for (var _matches = matches.get(), i = 0; i < _matches.length; i++) {
                        var m2 = _matches[i];
                        if (m1.s === m2.s && m1.e === m2.e && "AccidentallyConfused" === m1.category && ("CommonlyConfused" === m2.category || "Misspelled" === m2.category)) return !0;
                    }
                    return !1;
                }(match)) return DEBUG && log.trace("skip AccidentallyConfused match see https://grammarly.atlassian.net/browse/FT-1172"), 
                !1;
                return !!matches.tryToAdd(match, text);
            },
            serializeMatches: function(_matches, includeSynonyms) {
                _matches = (_matches = _matches || matches.get()).filter(function(m) {
                    return !m.replaced;
                }), includeSynonyms || (_matches = _matches.filter(function(m) {
                    return !m.syn;
                }));
                return _matches = _matches.map(function(m) {
                    var result = {}, _m = m;
                    for (var p in m) ("r" === p || "origReplacements" === p || "rHtml" === p || "examples" === p || "references" === p || "syn" === p || "synonyms" === p || "transforms" === p || "rawMatch" === p || "cardLayout" === p || "extra_properties" === p || !isFunction(_m[p]) && !isObject(_m[p]) && "selected" !== p && "inDom" !== p || isArray(_m[p]) || "header" === p) && (result[p] = _m[p]);
                    return result;
                });
            },
            addSyn: function(match) {
                var text = editor.getText();
                if (!matches.tryToAdd(match, text)) return;
                editor.addMethodsToMatch(match), editor.saveCursor(), editor.render(), editor.restoreCursor(), 
                editor.emit("addedSynonym", match);
            },
            filterBySpelling: function(matches, text) {
                for (var sentences = [], i = 0; i < matches.length; i++) {
                    var m = matches[i];
                    "ContextualSpelling" === m.group && sentences.push(Util.getSentenceByPos(text, m.s));
                }
                return matches.filter(function(m) {
                    if ("ContextualSpelling" === m.group || "Plagiarism" === m.group || m.syn) return !0;
                    for (var i = 0; i < sentences.length; i++) {
                        var sentence = sentences[i];
                        if (m.s > sentence.s && m.s < sentence.e) return !1;
                    }
                    return !0;
                });
            },
            bySid: function(sid) {
                return find(matches.get(), {
                    sid: sid.toString()
                });
            }
        }, _remove = matches.remove;
        return matches.remove = function(match, withoutEmit) {
            _remove(match, withoutEmit), delete match.selected, match.serverRemove || matches.addRemoved(match);
        }, me;
        function replacementsEqual(m1, m2) {
            return m1.rFirst === m2.rFirst && JSON.stringify(m1.r) === JSON.stringify(m2.r);
        }
    };
}, function(module, exports, __webpack_require__) {
    var baseEach = __webpack_require__(179), isArrayLike = __webpack_require__(28);
    module.exports = function(collection, iteratee) {
        var index = -1, result = isArrayLike(collection) ? Array(collection.length) : [];
        return baseEach(collection, function(value, key, collection) {
            result[++index] = iteratee(value, key, collection);
        }), result;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var template = __webpack_require__(1016), isUndefined = __webpack_require__(328), cloneDeep = __webpack_require__(386), util_1 = __webpack_require__(2), dom_1 = __webpack_require__(3), differ_1 = __webpack_require__(1025), Util = __webpack_require__(368);
    function examples(data) {
        var regexp = /^(?:(.*): ){1}(.+)$/, result = [];
        if (!data) return [];
        for (var groups = dom_1.createEl("<div>" + data + "</div>", document).querySelectorAll("p"), i = 0; i < groups.length; i++) {
            for (var items = groups[i].querySelectorAll("span"), group = [], j = 0; j < items.length; j++) {
                var item = items[j], content = item.innerHTML, type = "Comment", color = item.classList[0] || "grey", match = content.match(regexp);
                match && (content = match[2], type = match[1]), group.push({
                    type: type,
                    color: color,
                    example: content
                });
            }
            group.length && result.push(group);
        }
        return result;
    }
    function partsToHTML(parts, match) {
        var result = "", prevDel = !1;
        if (parts && 0 !== parts.length) {
            match.onlyDel = !0;
            for (var i = 0; i < parts.length; i++) {
                var t = parts[i], nextIns = parts[i + 1] && parts[i + 1].ins, nextDel = parts[i + 1] && parts[i + 1].del;
                if (isUndefined(t.sep)) {
                    var diffed = void 0;
                    if (t.ins) {
                        match.onlyDel = !1, prevDel && (result += "<span class='arr'>  </span>");
                        var cls = "";
                        -1 !== ".,:;_".indexOf(t.ins) && (cls = "thin"), diffed = t.ins, prevDel && (diffed = differ_1.differ(prevDel, t.ins), 
                        match.del = prevDel, prevDel = null), result += "<span class='ins " + cls + "'>" + diffed + "</span>";
                    }
                    if (t.del) {
                        if (t.del.length > 1) {
                            diffed = t.del, nextIns && (diffed = differ_1.differ(nextIns, t.del));
                            cls = "del ";
                            t.del.match(/["'][.,;]/) && (cls += "del-qdot "), t.del.match(/,,/) && (cls = "red sign double-commas");
                            var words = t.del.replace(/,/g, "").split(" ").filter(Boolean) || [];
                            if (t.del.match(/^,(.*?),$/) && t.del.length > 2 && words.length > 1) {
                                var coma = "<span class='sign " + (cls = "red") + "'>,</span>";
                                result = "<span class='" + cls + "'>" + (coma + words.shift()) + "..." + (words.pop() + coma) + "</span>", 
                                match.onlyDel = !1;
                                break;
                            }
                            result += "<span class='" + cls + "'>" + diffed + "</span>";
                        } else {
                            cls = t.del.match(/[a-z]/i) ? " del del-letter" : " sign";
                            "" === t.del && (cls += " apostrophe"), result += "<span class='red" + cls + "'>" + t.del + "</span>";
                        }
                        prevDel = t.del;
                    }
                    var w = t.w;
                    if (w) {
                        cls = "word";
                        nextDel && (cls += " del-word"), nextIns && (cls += " ins-word"), w = "<span class='" + cls + "'>" + w + "</span>";
                    }
                    w && (result += w);
                } else result += "<span class='arr'>  </span>", prevDel = null;
            }
            return result;
        }
    }
    function orPartsToHTML(r, parts) {
        if (parts) {
            var s = template("<span class='replacement'><span class='btn-r' data-value='<%- r %>'><%= title %></span></span>"), title = "";
            return 2 === parts.length && parts[0].del && parts[1].ins && (title = template("<span><span class='ins sec'><%= ins %></span></span>")({
                ins: parts[1].ins
            })), 3 === parts.length && parts[0].del && parts[2].ins && (title = template("<span><span class='ins sec'><%= ins %></span></span>")({
                ins: parts[2].ins
            })), parts[0].w && (title = template("<span><%= w %><span class='ins sec'><%= ins %></span></span>")({
                w: parts[0].w,
                ins: parts[1].ins
            })), parts[0].ins && (title = template("<span><span class='ins sec'><%= ins %></span><%= w %></span>")({
                ins: parts[0].ins,
                w: parts[1].w
            })), s({
                r: r,
                title: title
            });
        }
    }
    function partsAfterSep(transform, isSep) {
        var sep = !1, prevDel = !1;
        return transform.filter(function(part) {
            return isSep ? sep ? part : (part.del && (prevDel = !0), void ((part.sep || prevDel && part.ins) && (sep = !0))) : part;
        });
    }
    function transformHasSeparator(t) {
        if (!t) return !1;
        for (var prevDel = !1, i = 0; i < t.length; i++) {
            if (t[i].sep || t[i].ins && prevDel) return !0;
            t[i].del && (prevDel = !0);
        }
        return !1;
    }
    function toHtml(transforms, match) {
        return (transforms.length > 2 || transformHasSeparator(transforms[0]) || match.longTitle) && "Articles" !== match.category && !match.showTitle ? (match.cls += " multiReplace", 
        transformHasSeparator(transforms[0]) || (match.cls += " replaceWithoutSep"), match.multiReplace = !0, 
        function(transforms, match) {
            for (var prevDel, result = "", t = template("<span class='replacement replacement-<%= index %>'><span class='btn-r' data-value='<%- r %>'><span><%= parts %></span></span></span>"), r = [], firstParts = [], isSep = !1, isIns = !1, i = 0; i < transforms[0].length; i++) {
                var tr = transforms[0][i];
                if (firstParts.push(tr), tr.ins && (isIns = !0), tr.sep || prevDel && tr.ins) {
                    isSep = !0;
                    break;
                }
                tr.del && (prevDel = !0);
            }
            var start = 0;
            result = partsToHTML(firstParts, match) || "", isSep || (start++, result = t({
                r: match.origReplacements[0],
                parts: partsToHTML(firstParts, match),
                index: 0
            })), isSep && isIns && start++;
            var del = transforms[0] && transforms[0][1] && transforms[0][1].del;
            if (del && del.match(/^,(.*?),$/) && del.length > 2) return result;
            for (i = start; i < transforms.length; i++) {
                var parts = partsAfterSep(transforms[i], isSep);
                r.push(t({
                    r: match.origReplacements[i],
                    parts: partsToHTML(parts, match) || match.origReplacements[i],
                    index: i
                }));
            }
            return result + r.join("");
        }(transforms, match)) : 1 === transforms.length || match.showTitle ? partsToHTML(transforms[0], match) : 2 === transforms.length || "Articles" === match.category || "Determiners" === match.category ? (match.cls += " doubleReplace", 
        match.doubleReplace = !0, (orPartsToHTML(match.rFirst, transforms[0]) || "") + orPartsToHTML(match.r[0], transforms[1])) : "";
    }
    function transformsToJson(match) {
        return match.notClickableTitle && !match.showTitle ? [] : match.transforms ? match.transforms.map(function(tr) {
            return function(t) {
                t = t.replace("", "<span class='sep'></span>");
                for (var el = dom_1.createEl("<div>" + t + "</div>"), result = [], i = 0; i < el.childNodes.length; i++) {
                    var node = el.childNodes[i];
                    3 !== node.nodeType ? (node.classList.contains("sep") && result.push({
                        sep: !0
                    }), node.classList.contains("gr_grammar_ins") && result.push({
                        ins: node.innerHTML
                    }), node.classList.contains("gr_grammar_del") && result.push({
                        del: node.innerHTML
                    })) : result.push({
                        w: node.nodeValue
                    });
                }
                return result;
            }(tr);
        }) : [];
    }
    function header(match) {
        var result = match.title, transforms = match.transforms;
        if (transforms && transforms[0] && 2 === transforms[0].length) {
            var t = transforms[0];
            (t[0].w && t[1].ins || t[1].w && t[0].ins) && (match.cls += " only-ins"), (t[0].w && t[1].del || t[1].w && t[0].del) && (match.cls += " only-del"), 
            (t[0].ins && t[1].del || t[1].ins && t[0].del) && (match.cls += " ins-del");
        }
        transforms && transforms[0] && (transforms[0].reduce(function(max, part) {
            var text = part[Object.keys(part).shift()].toString() || "";
            return Math.max(max, text.length);
        }, 0) > 20 && (match.notClickableTitle = !0, match.longTitle = !0, match.replacementHint = deHtmlize("Click to " + match.todo), 
        transforms = transforms.map(function(transform) {
            return transform.filter(function(part) {
                return part.ins;
            });
        })));
        return result = toHtml(transforms, match), transforms.length && (match.rHtml = function(transforms, match) {
            var result = [], isSep = transformHasSeparator(transforms[0]);
            isSep || (match.cls += " replaceWithoutSep");
            for (var i = 1; i < transforms.length; i++) {
                var parts = partsAfterSep(transforms[i], isSep);
                result.push({
                    label: partsToHTML(parts, match) || match.origReplacements[i],
                    value: match.origReplacements[i]
                });
            }
            return result;
        }(transforms, match)), result || (result = match.v), match.replaceInCard && (match.replaceInCard = result), 
        match.notClickableTitle && (result = match.title), result || "";
    }
    function deHtmlize(html) {
        var el = document.createElement("div");
        return el.innerHTML = html, el.textContent;
    }
    exports.examples = examples, exports.header = header, exports.processMatch = function(match, text, options) {
        options && options.exposeRawMatch && (match.rawMatch = cloneDeep(match)), match.id = (match.id || util_1.guid()).toString(), 
        match.s = match.begin, match.e = match.end, match._s = match.s, match._e = match.e, 
        "Plagiarism" === match.group && (match.highlightBegin = match.s, match.highlightEnd = match.e), 
        void 0 !== match.highlightBegin && void 0 !== match.highlightEnd && match.highlightBegin === match.highlightEnd && match.text.length > 0 && (match.highlightBegin = match.s, 
        match.highlightEnd = match.e), void 0 !== match.highlightBegin && (match._s = match.highlightBegin), 
        void 0 !== match.highlightEnd && (match._e = match.highlightEnd), match.sd = match._s - match.s, 
        match.ed = match._e - match.e, match._value = text.substring(match._s, match._e), 
        "Spelling" === match.group && (match.group = "ContextualSpelling");
        var isEnhancement = match.extra_properties && "true" === match.extra_properties.enhancement;
        match.cls = match.group, match.origReplacements = (match.replacements || []).concat(), 
        match.rFirst = match.replacements && !isEnhancement && match.replacements.splice(0, 1)[0], 
        match.rFirst = match.rFirst && match.rFirst.replace(/\s+/g, " "), match.noReplacments = !1 === match.rFirst || void 0 === match.rFirst, 
        match.showTitle = match.noReplacments || match.extra_properties && "true" === match.extra_properties.show_title, 
        match.replaceInCard = !match.noReplacments && match.extra_properties && "true" === match.extra_properties.show_title, 
        match.didYouMean = !match.noReplacments && match.extra_properties && "true" === match.extra_properties.did_you_mean, 
        match.enhancement = match.replacements && match.replacements.length && isEnhancement, 
        match.notClickableTitle = match.noReplacments || match.showTitle || match.didYouMean, 
        match.priority = parseInt(String(match.extra_properties && match.extra_properties.priority || 0), 10), 
        match.r = match.replacements || [], match.rHtml = match.rHtml || [], match.v = match.text, 
        match.oldVal = match.v, match.sid = match.id.toString(), match.originalTransforms = match.transforms || [], 
        match.transforms = transformsToJson(match), match.header = header(match), match.details = function(match) {
            return match.details || "";
        }(match), match.originalTodo = match.todo || "", match.originalExamples = match.examples || "", 
        match.examples = examples(match.originalExamples), match.explanation = function(match) {
            return match.explanation && match.explanation.replace(/<\/?p[^>]*>/g, "").trim();
        }(match), function(match) {
            "Plagiarism" === match.category && (match.references = function(str) {
                var lines = str.split(/\n|<br\/?>/gi);
                lines.splice(0, 4);
                for (var result = [], i = 0; i < lines.length; i++) {
                    var m = lines[i].match(/<strong>(.*?)\:<\/strong>(.*?)$/i), t = void 0, d = void 0;
                    m && (t = m[1], d = m[2].replace("_br", "")), result.push({
                        type: t,
                        descr: d
                    });
                }
                return result;
            }(match.details), match.explanation = "A part of your paper is matching some text from the Web. Please make sure that this text is properly referenced.", 
            match.header = "Unoriginal text: " + Util.wordCount(match.text) + " words", match.href = match.extra_properties.url || "", 
            match.href_title = (match.extra_properties.url || "").replace("https://", "").replace("http://", ""));
        }(match), match.l = match.e - match.s, match.multi = match.r.length > 0, match.spell = "ContextualSpelling" === match.group, 
        match.gramm = !match.spell, match.showAcceptButton = "ContextualSpelling" !== match.group && match.noReplacments && (match.replacements || []).length < 1, 
        match.showReplacements = Boolean("Misspelled" === match.category && match.r.length), 
        match.showAddToDictionary = Boolean(match.spell && "General" === match.point && ("Misspelled" === match.category || "Unknown" === match.category)), 
        match.showReplacementsInText = !0, match.multiReplace && (match.showReplacements = !0, 
        match.showReplacementsInText = !1, match.showReplacementsOnTop = !0), match.cls && -1 !== match.cls.indexOf("doubleReplace") && (match.showReplacements = !1, 
        match.showReplacementsInText = !1), (match.showTitle || match.longTitle) && (match.showReplacements = !1, 
        match.showReplacementsOnTop = !1, match.showReplacementsInText = !1), match.showReplacements && match.del && function(match) {
            for (var del = match.del, i = 0; i < match.r.length; i++) {
                var r = match.r[i];
                match.r[i] = differ_1.differ(del, r);
            }
        }(match), match.enhancement && (match.category = "_" + match.category, match.title = Util.declension(match.r.length, [ "Suggested enhancement:", "Suggested enhancements:" ])), 
        "spelling" === match.todo && (match.todo = "correct"), ("" === match.todo && !match.rFirst || "Plagiarism" === match.category || match.notClickableTitle) && (match.todo = "expand card"), 
        "" === match.todo && match.rFirst && (match.todo = "correct"), match.value = match.v, 
        match.todo = deHtmlize("Click to " + match.todo), function(match) {
            delete match.text, delete match.rid, delete match.action, delete match.undone;
        }(match);
    };
}, function(module, exports, __webpack_require__) {
    var assignInWith = __webpack_require__(1017), attempt = __webpack_require__(1018), baseValues = __webpack_require__(1019), customDefaultsAssignIn = __webpack_require__(1020), escapeStringChar = __webpack_require__(1021), isError = __webpack_require__(600), isIterateeCall = __webpack_require__(193), keys = __webpack_require__(31), reInterpolate = __webpack_require__(601), templateSettings = __webpack_require__(1022), toString = __webpack_require__(168), reEmptyStringLeading = /\b__p \+= '';/g, reEmptyStringMiddle = /\b(__p \+=) '' \+/g, reEmptyStringTrailing = /(__e\(.*?\)|\b__t\)) \+\n'';/g, reEsTemplate = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, reNoMatch = /($^)/, reUnescapedString = /['\n\r\u2028\u2029\\]/g;
    module.exports = function(string, options, guard) {
        var settings = templateSettings.imports._.templateSettings || templateSettings;
        guard && isIterateeCall(string, options, guard) && (options = void 0), string = toString(string), 
        options = assignInWith({}, options, settings, customDefaultsAssignIn);
        var isEscaping, isEvaluating, imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn), importsKeys = keys(imports), importsValues = baseValues(imports, importsKeys), index = 0, interpolate = options.interpolate || reNoMatch, source = "__p += '", reDelimiters = RegExp((options.escape || reNoMatch).source + "|" + interpolate.source + "|" + (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + "|" + (options.evaluate || reNoMatch).source + "|$", "g"), sourceURL = "sourceURL" in options ? "//# sourceURL=" + options.sourceURL + "\n" : "";
        string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {
            return interpolateValue || (interpolateValue = esTemplateValue), source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar), 
            escapeValue && (isEscaping = !0, source += "' +\n__e(" + escapeValue + ") +\n'"), 
            evaluateValue && (isEvaluating = !0, source += "';\n" + evaluateValue + ";\n__p += '"), 
            interpolateValue && (source += "' +\n((__t = (" + interpolateValue + ")) == null ? '' : __t) +\n'"), 
            index = offset + match.length, match;
        }), source += "';\n";
        var variable = options.variable;
        variable || (source = "with (obj) {\n" + source + "\n}\n"), source = (isEvaluating ? source.replace(reEmptyStringLeading, "") : source).replace(reEmptyStringMiddle, "$1").replace(reEmptyStringTrailing, "$1;"), 
        source = "function(" + (variable || "obj") + ") {\n" + (variable ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (isEscaping ? ", __e = _.escape" : "") + (isEvaluating ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + source + "return __p\n}";
        var result = attempt(function() {
            return Function(importsKeys, sourceURL + "return " + source).apply(void 0, importsValues);
        });
        if (result.source = source, isError(result)) throw result;
        return result;
    };
}, function(module, exports, __webpack_require__) {
    var copyObject = __webpack_require__(36), createAssigner = __webpack_require__(112), keysIn = __webpack_require__(43), assignInWith = createAssigner(function(object, source, srcIndex, customizer) {
        copyObject(source, keysIn(source), object, customizer);
    });
    module.exports = assignInWith;
}, function(module, exports, __webpack_require__) {
    var apply = __webpack_require__(191), baseRest = __webpack_require__(94), isError = __webpack_require__(600), attempt = baseRest(function(func, args) {
        try {
            return apply(func, void 0, args);
        } catch (e) {
            return isError(e) ? e : new Error(e);
        }
    });
    module.exports = attempt;
}, function(module, exports, __webpack_require__) {
    var arrayMap = __webpack_require__(85);
    module.exports = function(object, props) {
        return arrayMap(props, function(key) {
            return object[key];
        });
    };
}, function(module, exports, __webpack_require__) {
    var eq = __webpack_require__(35), objectProto = Object.prototype, hasOwnProperty = objectProto.hasOwnProperty;
    module.exports = function(objValue, srcValue, key, object) {
        return void 0 === objValue || eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key) ? srcValue : objValue;
    };
}, function(module, exports) {
    var stringEscapes = {
        "\\": "\\",
        "'": "'",
        "\n": "n",
        "\r": "r",
        "\u2028": "u2028",
        "\u2029": "u2029"
    };
    module.exports = function(chr) {
        return "\\" + stringEscapes[chr];
    };
}, function(module, exports, __webpack_require__) {
    var escape = __webpack_require__(422), templateSettings = {
        escape: __webpack_require__(1023),
        evaluate: __webpack_require__(1024),
        interpolate: __webpack_require__(601),
        variable: "",
        imports: {
            _: {
                escape: escape
            }
        }
    };
    module.exports = templateSettings;
}, function(module, exports) {
    module.exports = /<%-([\s\S]+?)%>/g;
}, function(module, exports) {
    module.exports = /<%([\s\S]+?)%>/g;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var textdiff_1 = __webpack_require__(201);
    exports.differ = function(oldLine, newLine, cls) {
        if (oldLine.length <= 4) return newLine;
        var diff = textdiff_1.textdiff(oldLine, newLine);
        if (!diff.from) return newLine;
        var startTag = '<span class="' + (cls = cls || "b") + '">';
        return 1 === diff.newFragment.length && diff.from > 0 && oldLine[diff.from - 1] === diff.newFragment && (diff.newFragment = diff.newFragment + diff.newFragment, 
        diff.from -= 1), 1 !== diff.oldFragment.length || diff.newFragment.length || newLine[diff.from - 1] !== diff.oldFragment || (diff.newFragment = diff.oldFragment, 
        diff.from -= 1), diff.newFragment.length > 3 ? newLine : newLine = oldLine.substring(0, diff.from) + startTag + diff.newFragment + "</span>" + oldLine.substring(diff.to);
    };
}, function(module, exports, __webpack_require__) {
    var baseFlatten = __webpack_require__(196), map = __webpack_require__(367);
    module.exports = function(collection, iteratee) {
        return baseFlatten(map(collection, iteratee), 1);
    };
}, function(module, exports, __webpack_require__) {
    var baseIteratee = __webpack_require__(64), basePullAt = __webpack_require__(1028);
    module.exports = function(array, predicate) {
        var result = [];
        if (!array || !array.length) return result;
        var index = -1, indexes = [], length = array.length;
        for (predicate = baseIteratee(predicate, 3); ++index < length; ) {
            var value = array[index];
            predicate(value, index, array) && (result.push(value), indexes.push(index));
        }
        return basePullAt(array, indexes), result;
    };
}, function(module, exports, __webpack_require__) {
    var baseUnset = __webpack_require__(440), isIndex = __webpack_require__(63), splice = Array.prototype.splice;
    module.exports = function(array, indexes) {
        for (var length = array ? indexes.length : 0, lastIndex = length - 1; length--; ) {
            var index = indexes[length];
            if (length == lastIndex || index !== previous) {
                var previous = index;
                isIndex(index) ? splice.call(array, index, 1) : baseUnset(array, index);
            }
        }
        return array;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var selection_animator_1 = __webpack_require__(1030), util_1 = __webpack_require__(2), dom_1 = __webpack_require__(3), Wrap = __webpack_require__(153), emitter = __webpack_require__(18), find = __webpack_require__(420), extend = __webpack_require__(38), log = __webpack_require__(1).Logger.create("lib.grammarly-editor.synonyms");
    exports.createSynonyms = function(config) {
        var editor = config.editor, el = config.editor.el, exposeSynApi = config.exposeSynApi, doc = el.ownerDocument, animator = selection_animator_1.SelectionAnimator({
            editor: config.editor,
            getAnimatorElPos: config.getAnimatorElPos,
            animatorContainer: config.animatorContainer
        });
        config.canRemove = config.canRemove || function(_) {
            return !1;
        };
        var currentSelection, ANIMATION_POS_SELECTOR = config.textareaWrapSelector || "#editor .svg-wrap", isGdocs = config.editorType.gdocs;
        isGdocs ? (dom_1.listen(window, "mousedown", onmousedown), dom_1.listen(window, "mouseup", onmouseup)) : dom_1.listen(el, "dblclick", ondblclick), 
        editor.on("syn", function(match) {
            animator.complete();
            var start = currentSelection.s, end = currentSelection.e, text = currentSelection.value;
            if (editor.getSelection().value !== text) return void log.trace("selection changed");
            text.indexOf(" ") === text.length - 1 && (end -= 1, text = currentSelection.text.substr(start, end - start));
            if (match.error) return log.warn("Error occured: ", match.error);
            extend(match, {
                app: "synonyms",
                addReplace: !0,
                cls: "Synonyms",
                syn: !0,
                expanded: !0,
                begin: start,
                end: end,
                highlightBegin: start,
                highlightEnd: end,
                id: util_1.guid(),
                s: start,
                e: end,
                _s: start,
                _e: end,
                ed: 0,
                sd: 0,
                l: end - start,
                auto: !1,
                v: text,
                serverRemove: !0,
                value: text,
                oldVal: text,
                animEl: animator.el,
                todo: ""
            }), exposeSynApi && extend(match, {
                removeUnderline: removeUnderline
            });
            editor.removeSyn(), editor.addSyn(match);
        });
        var me = emitter({
            completeAnimation: function(match) {
                var els = match.getEl();
                if (!els) throw Error("Can't find match element");
                animator.animate(els, ANIMATION_POS_SELECTOR), setTimeout(animator.complete, 120);
            },
            removeUnderline: removeUnderline,
            registerRemove: registerRemove,
            disable: function() {
                removeUnderline(), isGdocs ? dom_1.unlisten(window, "mousedown", onmousedown) : (dom_1.unlisten(el, "dblclick", ondblclick), 
                dom_1.unlisten(window, "mouseup", onmouseup));
            },
            fieldEnable: function() {
                isGdocs ? (dom_1.listen(window, "mousedown", onmousedown), dom_1.listen(window, "mouseup", onmouseup)) : dom_1.listen(el, "dblclick", ondblclick);
            }
        }), previousMouseDown = new Date(), isTriggerDblclickForGdocs = !1;
        return me;
        function removeUnderline() {
            animator.remove();
        }
        function onmousedown(e) {
            if (e.isTrusted) {
                var now = new Date();
                isTriggerDblclickForGdocs = now.getTime() - previousMouseDown.getTime() < 500, previousMouseDown = now;
            }
        }
        function onmouseup(e) {
            e.isTrusted && (isTriggerDblclickForGdocs && setTimeout(function(_) {
                return ondblclick(e);
            }, 10), isTriggerDblclickForGdocs = !1);
        }
        function ondblclick(e) {
            editor.selectedMatch && editor.selectedMatch.deselect();
            var selection = editor.getSelection(), value = selection.value;
            if (/^\s?[a-z']+\s?$/i.test(value) && !(value.length < 2)) {
                if (!editor.isTextarea && !isGdocs) {
                    for (var node = editor.el.ownerDocument.getSelection().anchorNode || e.target.parentNode, cls = Wrap.skipClass() || [], selectors = Wrap.skipTag() || [], i = 0; i < cls.length; i++) selectors.push("." + cls[i]);
                    if (node.tagName || (node = node.parentNode), dom_1.matchesSelector(node, selectors.join(","))) return;
                }
                editor.getSynonyms(selection.s, value), function(selection) {
                    var start = selection.s, end = selection.e, value = selection.value;
                    value.indexOf(" ") === value.length - 1 && (end -= 1, value = selection.text.substr(start, end - start));
                    if (currentSelection = selection, editor.dom) {
                        var els = editor.dom.renderRange({
                            s: start,
                            e: end
                        });
                        animator.animate(els, ANIMATION_POS_SELECTOR);
                        var len = els.length;
                        if (!isGdocs) for (var i = 0; i < len; i++) Wrap.unwrap(els[i]);
                        editor.setCursor(selection);
                    }
                }(selection), registerRemove();
            }
        }
        function registerRemove() {
            if (dom_1.listen(doc.body, "click", removeSyn), dom_1.listen(doc.body, "input", removeSyn), 
            dom_1.listen(doc.body, "keydown", removeSyn), isGdocs) {
                dom_1.listen(window, "mousedown", removeSyn);
                var iframe = document.querySelector(".docs-texteventtarget-iframe");
                iframe && dom_1.listen(iframe.contentDocument, "keydown", removeSyn);
            }
            function removeSyn(e) {
                if (!e.isTrigger && 0 !== e.clientX && config.canRemove(e.target)) {
                    if (removeUnderline(), dom_1.unlisten(doc.body, "click", removeSyn), dom_1.unlisten(doc.body, "input", removeSyn), 
                    dom_1.unlisten(doc.body, "keydown", removeSyn), isGdocs) {
                        dom_1.unlisten(window, "mousedown", removeSyn);
                        var iframe = document.querySelector(".docs-texteventtarget-iframe");
                        iframe && dom_1.listen(iframe.contentDocument, "keydown", removeSyn);
                    }
                    find(editor.getMatches(), {
                        syn: !0
                    }) && (editor.removeSyn(), editor.emit("rendered"));
                }
            }
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var dom_1 = __webpack_require__(3), util_1 = __webpack_require__(2);
    exports.SelectionAnimator = function(config) {
        var animEl, cls, endEl, me = {
            animate: function(posEls, sel) {
                if (remove(), 0 === posEls.length) return;
                var pos, startEl = posEls[0];
                if (endEl = posEls[posEls.length - 1] || startEl, cls = "g-selection-anim " + config.editor.matchPrefix, 
                (animEl = startEl.ownerDocument.createElement("div")).className = cls, config.getAnimatorElPos) pos = config.getAnimatorElPos(startEl); else if (sel) {
                    var sourceEl = startEl.ownerDocument.querySelector(sel);
                    if (sourceEl) {
                        var posStart = startEl.getBoundingClientRect(), posEnd = endEl.getBoundingClientRect(), par = sourceEl.getBoundingClientRect();
                        pos = {
                            left: posStart.left - par.left,
                            right: posEnd.right - par.right,
                            top: posStart.top - par.top,
                            bottom: posStart.bottom - par.bottom,
                            width: posEnd.right - posStart.left,
                            height: posStart.height
                        };
                    }
                } else pos = posEls[0].getBoundingClientRect();
                if (pos) {
                    var width20 = Math.ceil(pos.width / 8), width80_1 = pos.width - width20;
                    util_1.isEdge() && (pos.left -= 1, width80_1 += 2), dom_1.css(animEl, {
                        top: pos.top + pos.height,
                        left: pos.left,
                        width: 0
                    }), animEl.setAttribute("data-width", String(config.editor.matchPrefix ? Math.ceil(pos.width) : pos.width)), 
                    config.animatorContainer.appendChild(animEl), setTimeout(function() {
                        animEl.style.width = width80_1 + "px";
                    }, 10);
                }
                me.el = animEl;
            },
            remove: remove,
            complete: function() {
                if (!animEl) return;
                if (!animEl.getAttribute("data-width")) return remove();
                dom_1.css(animEl, {
                    webkitTransitionDuration: "0.2s",
                    MozTransitionDuration: "0.2s",
                    transitionDuration: "0.2s",
                    width: parseInt(animEl.getAttribute("data-width"), 10)
                });
            },
            el: document.documentElement
        };
        return me;
        function remove() {
            for (var els = (config.animatorContainer ? config.animatorContainer.ownerDocument : document).querySelectorAll(".g-selection-anim"), len = els.length, i = 0; i < len; i++) {
                var _el = els[i];
                _el.parentNode && _el.parentNode.removeChild(els[i]);
            }
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var log = __webpack_require__(1).Logger.create("lib.grammarly-editor.track");
    exports.track = function(editor) {
        var storage = {}, debug = !1;
        function removePerformance(info) {
            var rndr = !!info.renderTs;
            editor.emit("track", {
                type: "increment",
                key: "performance:removed_checks.removed_alerts" + (rndr ? "_rendered" : "")
            }), debug && log.trace("match: " + rndr, info.renderTs);
        }
        editor.id = editor.id || "", editor.on("rendered", function() {
            try {
                !function() {
                    var trackData = editor.getMatches().filter(function(match) {
                        return !match.tracked && match.renderTs && storage[editor.id + match.rev + match.id] && storage[editor.id + match.rev];
                    }).reduce(function(info, match) {
                        var resp = storage[editor.id + match.rev + match.id], type = resp.type, requestToRender = match.renderTs - storage[editor.id + match.rev].request, rev0 = 0 === match.rev ? "first." : "";
                        return match.tracked = !0, info["performance:checks." + rev0 + "request_to_" + type + "_render"] = requestToRender, 
                        info["performance:checks." + rev0 + "response_to_" + type + "_render"] = match.renderTs - resp.time, 
                        info;
                    }, {});
                    if (!Object.keys(trackData).length) return;
                    editor.emit("track", {
                        type: "timing",
                        data: trackData
                    }), debug && log.trace("render times: ", trackData);
                }();
            } catch (e) {}
        }), editor.api.on("submit_ot", function(info) {
            var key = editor.id + info.rev;
            debug && log.trace("SUBMIT_OT", key);
            storage[key] = {
                request: Date.now()
            };
        }), editor.api.on("finish", function(info) {
            var key = editor.id + info.rev, data = storage[key], rev0 = 0 === info.rev ? "first." : "", send = {};
            if (!data || !data.first) return;
            send["performance:checks." + rev0 + "request_to_first_response"] = data.first, data.last && (send["checks." + rev0 + "request_to_last_response:performance"] = data.last);
            editor.emit("track", {
                type: "timing",
                data: send
            }), debug && log.trace("finish: " + info.rev + " " + editor.id, send);
        }), editor.api.on("alert", function(info) {
            var key = editor.id + info.rev, matchKey = key + info.id, delay = function(key) {
                return key && storage[key] && storage[key].request ? Date.now() - storage[key].request : 0;
            }(key);
            debug && log.trace("GET_ALERT " + delay);
            if (storage[matchKey] = {
                time: Date.now(),
                type: "first"
            }, !storage[key]) return;
            storage[key].first ? (storage[key].last = delay, storage[matchKey].type = "last") : storage[key].first = delay;
        }), editor.api.on("stats:timing", function(stat) {
            var send = {};
            send[stat.key] = stat.value, editor.emit("track", {
                type: "timing",
                data: send
            });
        }), editor.matches.on("remove", removePerformance), editor.matches.on("lost_match_value_in_text", function() {
            editor.emit("track", {
                type: "increment",
                key: "lost_match_value_in_text:old"
            });
        }), editor.matches.on("match_is_part_of_word", function() {
            editor.emit("track", {
                type: "increment",
                key: "match_is_part_of_word:old"
            });
        }), editor.matches.on("remove", removePerformance);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.benchmark = function() {};
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var dompurify_1 = __webpack_require__(100), index_1 = __webpack_require__(293), inner_html_1 = __webpack_require__(1034), log = __webpack_require__(1).Logger.create("lib.client-script.inner-html");
    exports.rewriteInnerHTML = function(el, editorType) {
        if ("TEXTAREA" !== el.tagName) try {
            var doc = el.ownerDocument, clientEl = "document.querySelector(\"[data-gramm_id='" + dompurify_1.sanitize(el.getAttribute("data-gramm_id")) + "']\")";
            return index_1.addScript(doc, inner_html_1.rewriteInnerHTML, [ clientEl ], editorType);
        } catch (e) {
            return void log.trace("error rewrite " + e);
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.rewriteInnerHTML = function(el) {
        if (el) {
            var nativeClone = el.cloneNode;
            el.cloneNode = function(val) {
                var n = nativeClone.call(el, val);
                if (el.classList.contains("mceContentBody")) n.innerHTML = el.innerHTML, clean(n); else try {
                    redefineInnerHTML(n);
                } catch (e) {}
                return n;
            }, redefineInnerHTML(el);
        }
        function removeFromDom(alert) {
            if (alert.parentNode) if (alert.childNodes.length > 1) {
                for (var f = document.createDocumentFragment(); alert.childNodes.length > 0; ) f.appendChild(alert.childNodes[0]);
                alert.parentNode.replaceChild(f, alert);
            } else alert.firstChild ? alert.parentNode.replaceChild(alert.firstChild, alert) : alert.parentNode.removeChild(alert);
        }
        function clean(_el) {
            if (_el) try {
                for (var alerts = _el.querySelectorAll(".gr_"), len = alerts.length, i = 0; i < len; i++) removeFromDom(alerts[i]);
            } catch (e) {}
        }
        function redefineInnerHTML(el) {
            try {
                Object.defineProperty(el, "innerHTML", {
                    get: function() {
                        try {
                            var r = el.ownerDocument.createRange();
                            r.selectNodeContents(el);
                            var cnt = r.cloneContents(), d = document.createElement("div");
                            return d.appendChild(cnt), clean(d), d.innerHTML;
                        } catch (e) {
                            return "";
                        }
                    },
                    set: function(value) {
                        try {
                            var r = el.ownerDocument.createRange();
                            r.selectNodeContents(el), r.deleteContents();
                            var df = r.createContextualFragment(value);
                            el.appendChild(df);
                        } catch (e) {}
                    }
                });
            } catch (e) {}
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var html_dom_1 = __webpack_require__(421), textarea_dom_1 = __webpack_require__(512), Wrap = __webpack_require__(153), util_1 = __webpack_require__(2), facebook_ghost_1 = __webpack_require__(1036), location_1 = __webpack_require__(15);
    exports.HtmlGhostDom = function(config) {
        var editor = config.editor, el = config.el, doc = el.ownerDocument, htmlDom = html_dom_1.createHtmlDom(config), me = textarea_dom_1.createTextareaDom(config), _me = me;
        return _me.safeFocus = function() {
            var scroll = doc.body.scrollTop;
            el.focus(), doc.body.scrollTop = scroll;
        }, me.getCursor = function() {
            return htmlDom.getCursor();
        }, me.setCursor = function(cursor) {
            _me.cursor = cursor, _me._setCursor();
        }, _me._setCursor = function() {
            Wrap.invalidateNode(el), htmlDom.setCursor(_me.cursor);
        }, me.getText = function() {
            return el.parentNode ? (Wrap.invalidateNode(el), delete el.__getText, Wrap.getText(el)) : "";
        }, me.replace = function(match, value, isUndo) {
            editor.inputListener.ignorePaste = !0, _me.doReplace(match, value), match.replaced = !isUndo, 
            match.inDom = !isUndo, editor.inputListener.ignorePaste = !1;
        }, _me.doReplace = function(match, value) {
            var text = me.getText();
            text = text.substring(0, match.s) + value + text.substr(match.e), _me.setTextareaValueSync(text), 
            util_1.asyncCall(_me._setCursor);
        }, _me.setTextareaValueSync = function(value) {
            el.innerText = value, Wrap.invalidateNode(el), _me.safeFocus();
        }, me.setTextareaValue = function(value) {
            _me.safeFocus(), util_1.asyncCall(function() {
                el.innerText = value, Wrap.invalidateNode(el);
            });
        }, location_1.isFacebookSite() && facebook_ghost_1.extendDom(el, me), me;
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Wrap = __webpack_require__(153), dom_1 = __webpack_require__(3), util_1 = __webpack_require__(2);
    exports.extendDom = function(el, htmlDom) {
        htmlDom.setDomSelection = function(match) {
            var startNode = Wrap.getNodeByTextPos(el, match.begin), endNode = Wrap.getNodeByTextPos(el, match.end);
            dom_1.setDomRange(el.ownerDocument, {
                anchorNode: startNode.node,
                anchorOffset: match.begin - startNode.pos,
                focusNode: endNode.node,
                focusOffset: match.end - endNode.pos
            });
        }, htmlDom.setCursor = function(cursor) {
            htmlDom.cursor = cursor;
        }, htmlDom.fireDomEvent = function(value) {
            util_1.isFF() && dom_1.emitDomEvent("document-mousedown-mouseup-activeElement");
            var event = " " === value || value.trim() ? "paste" : "backspace";
            dom_1.emitDomEvent("document-" + event + "-activeElement", value);
        }, htmlDom.doReplace = function(match, value) {
            htmlDom.safeFocus(), htmlDom.setDomSelection(match), util_1.asyncCall(function() {
                return htmlDom.fireDomEvent(value);
            });
        }, htmlDom.setTextareaValue = function(value) {
            htmlDom.safeFocus(), el.ownerDocument.getSelection().selectAllChildren(el), util_1.asyncCall(function() {
                htmlDom.fireDomEvent(value.trimRight()), util_1.asyncCall(htmlDom._setCursor, 100);
            }, util_1.isSafari() ? 100 : 10);
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var gdocs_dom_1 = __webpack_require__(1038);
    exports.GdocsDom = gdocs_dom_1.GdocsDom;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var emitter_1 = __webpack_require__(603), editor_util_1 = __webpack_require__(368), integration_1 = __webpack_require__(183), tracking_1 = __webpack_require__(8), logger_1 = __webpack_require__(1), textdiff_1 = __webpack_require__(201), map = __webpack_require__(367), matches_1 = __webpack_require__(509), cardStyle = __webpack_require__(413), dialog_1 = __webpack_require__(424), log = logger_1.Logger.create("gdocs-dom"), GdocsDom = function(_super) {
        function GdocsDom(_a) {
            var el = _a.el, _this = _super.call(this) || this;
            return _this._text = "", _this.checkImmediatelyAfterReplacement = !1, _this.renderedText = "", 
            _this.el = el, _this._gdocsIntegrations = new integration_1.GdocsIntegrations(window, document, {
                onTextRevisionUpdate: function(text) {
                    _this._text = text, _this.emit("textRevision", {
                        text: _this._text,
                        checkImmediatelyAfterReplacement: _this.checkImmediatelyAfterReplacement
                    });
                },
                onTextUpdate: function(text) {
                    var diff = _this.renderedText ? textdiff_1.diffPos(_this.renderedText, text) : void 0;
                    diff && void 0 === diff.e && (diff.e = diff.s), _this.renderedText = text, _this.emit("text", {
                        text: text,
                        diff: diff
                    });
                },
                onUnderlineRendered: function(details) {
                    return _this.emit("underline", details);
                },
                onResetState: function() {
                    _this._text = _this._gdocsIntegrations.document.text, _this.emit("reset", {});
                },
                onRevert: function() {
                    _this._text = _this._gdocsIntegrations.document.text, _this.emit("revert", {});
                    var skipMutations = !1, mutationObserver = new MutationObserver(function(mutations) {
                        skipMutations || mutations.some(function(m) {
                            return Array.from(m.addedNodes).some(function(node) {
                                return !(!node.className || !node.className.includes("kix-paragraphrenderer")) && (mutationObserver.disconnect(), 
                                _this.one("rendered", function() {
                                    return setTimeout(function() {
                                        return _this._gdocsIntegrations.forceDrawUnderlines();
                                    }, 200);
                                }), skipMutations = !0, !0);
                            });
                        });
                    });
                    mutationObserver.observe(document.querySelector(".kix-appview-editor"), {
                        childList: !0,
                        subtree: !0
                    }), tracking_1.felog.gdocs.revisionSwitched();
                },
                onExit: function() {
                    dialog_1.renderGdocsDisabledAfterOffline();
                    var btn = document.querySelector(".kix-appview-editor ~ grammarly-btn");
                    btn && btn.remove(), _this.emit("gdocsExit", {});
                }
            }), _this._gdocsIntegrations.injectClientScript(), _this;
        }
        return __extends(GdocsDom, _super), GdocsDom.prototype.isCorrectPosition = function(match, text) {
            void 0 === text && (text = this._text);
            var subtext = text.substring(match._s, match._e), isCorrect = subtext === match._value && editor_util_1.wordSeparated(text, match._s, match._e);
            return isCorrect || log.warn("Alert has wrong position", {
                match: match,
                subtext: subtext
            }), isCorrect;
        }, GdocsDom.prototype.replace = function(match, value, _isUndo) {
            var matchEls = match.syn ? [ this.getSelectionOverlay() ] : match.getEl();
            if (!matchEls) throw Error("Match doesn't have elements");
            var rects = map(matchEls, function(x) {
                return x.getBoundingClientRect();
            });
            match.remove(), this._gdocsIntegrations.replaceTextInElement(rects[0], match.sd, match.value.length, value), 
            this.checkImmediatelyAfterReplacement = !0;
        }, GdocsDom.prototype.matchToGdocsRange = function(match) {
            return {
                start: match._s,
                end: match._e,
                value: match._value,
                replacements: match.rawMatch.replacements
            };
        }, GdocsDom.prototype.render = function(matches, _text) {
            var _this = this;
            if (!this._gdocsIntegrations.isReady() && !this.el.ownerDocument.querySelector("." + cardStyle.card)) return this.renderRetryTimer && clearTimeout(this.renderRetryTimer), 
            void (this.renderRetryTimer = setTimeout(function() {
                return _this.render(matches, _text);
            }, 300));
            var matchesToRender = matches.sort(function(a, b) {
                return a._s - b._s || b._e - a._e;
            }).filter(function(x, xIndex, arr) {
                return !arr.find(function(y, yIndex) {
                    return y.id !== x.id && yIndex < xIndex && Boolean(matches_1.isIntersected(x, y));
                }) && !x.rendered && _this.isCorrectPosition(x) && x._s >= 0 && x._e >= 0 && x.s >= 0 && x.e >= 0;
            });
            matches.forEach(function(m) {
                _this.isCorrectPosition(m) || m.remove();
            }), 0 !== matchesToRender.length && (this._gdocsIntegrations.renderUnderlines(matchesToRender.map(this.matchToGdocsRange)), 
            matchesToRender.forEach(function(x) {
                x.rendered = !0, x.inDom = !0;
            }), this.emit("rendered", {}));
        }, GdocsDom.prototype.renderRange = function(_match) {
            return [ this.getSelectionOverlay() ];
        }, GdocsDom.prototype.removeBySelector = function(_sel) {}, GdocsDom.prototype.getText = function(_invalidateNode) {
            return this._text;
        }, GdocsDom.prototype.remove = function(match, _withText) {
            var els = match.getEl();
            els && (els.forEach(function(x) {
                return x.style.display = "none";
            }), match._s >= 0 && match._e >= 0 && match.s >= 0 && match.e >= 0 && this._gdocsIntegrations.removeUnderline(this.matchToGdocsRange(match))), 
            this.emit("rendered", {});
        }, GdocsDom.prototype.removeRange = function(start, end) {
            this._gdocsIntegrations.removeUnderline({
                start: start,
                end: end
            }), this.emit("rendered", {});
        }, GdocsDom.prototype.stop = function() {
            this._gdocsIntegrations.disable();
        }, GdocsDom.prototype.getSelectionOverlay = function() {
            return this.el.querySelector(".kix-selection-overlay");
        }, GdocsDom.prototype.getCursor = function() {
            var selection = this.getSelectionOverlay(), noSelection = {
                s: -1,
                e: -1
            };
            if (!selection) return noSelection;
            var _a = selection.dataset, grStart = _a.grStart, grEnd = _a.grEnd;
            if (!grStart || !grEnd) return noSelection;
            var s = parseInt(grStart, 10), e = parseInt(grEnd, 10) + 1;
            return {
                s: s,
                e: e,
                value: this._text.substring(s, e + 1)
            };
        }, GdocsDom.prototype.start = function() {}, GdocsDom.prototype.select = function(_match) {}, 
        GdocsDom.prototype.deselect = function(_match) {}, GdocsDom.prototype.setText = function(_val) {}, 
        GdocsDom.prototype.changeSelection = function() {}, GdocsDom.prototype.setCursor = function(_pos, _retry) {}, 
        GdocsDom.prototype.invalidate = function(_associateMatches) {}, GdocsDom;
    }(emitter_1.Emitter);
    exports.GdocsDom = GdocsDom;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.track = function() {
        for (var _ = [], _i = 0; _i < arguments.length; _i++) _[_i] = arguments[_i];
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function(resolve, reject) {
            function fulfilled(value) {
                try {
                    step(generator.next(value));
                } catch (e) {
                    reject(e);
                }
            }
            function rejected(value) {
                try {
                    step(generator.throw(value));
                } catch (e) {
                    reject(e);
                }
            }
            function step(result) {
                result.done ? resolve(result.value) : new P(function(resolve) {
                    resolve(result.value);
                }).then(fulfilled, rejected);
            }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }, __generator = this && this.__generator || function(thisArg, body) {
        var f, y, t, g, _ = {
            label: 0,
            sent: function() {
                if (1 & t[0]) throw t[1];
                return t[1];
            },
            trys: [],
            ops: []
        };
        return g = {
            next: verb(0),
            throw: verb(1),
            return: verb(2)
        }, "function" == typeof Symbol && (g[Symbol.iterator] = function() {
            return this;
        }), g;
        function verb(n) {
            return function(v) {
                return function(op) {
                    if (f) throw new TypeError("Generator is already executing.");
                    for (;_; ) try {
                        if (f = 1, y && (t = y[2 & op[0] ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                        switch (y = 0, t && (op = [ 0, t.value ]), op[0]) {
                          case 0:
                          case 1:
                            t = op;
                            break;

                          case 4:
                            return _.label++, {
                                value: op[1],
                                done: !1
                            };

                          case 5:
                            _.label++, y = op[1], op = [ 0 ];
                            continue;

                          case 7:
                            op = _.ops.pop(), _.trys.pop();
                            continue;

                          default:
                            if (!(t = (t = _.trys).length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                                _ = 0;
                                continue;
                            }
                            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                                _.label = op[1];
                                break;
                            }
                            if (6 === op[0] && _.label < t[1]) {
                                _.label = t[1], t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2], _.ops.push(op);
                                break;
                            }
                            t[2] && _.ops.pop(), _.trys.pop();
                            continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [ 6, e ], y = 0;
                    } finally {
                        f = t = 0;
                    }
                    if (5 & op[0]) throw op[1];
                    return {
                        value: op[0] ? op[1] : void 0,
                        done: !0
                    };
                }([ n, v ]);
            };
        }
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var dom_1 = __webpack_require__(3), util_1 = __webpack_require__(2), logger_1 = __webpack_require__(1), stdlib_1 = __webpack_require__(4), email_selectors_1 = __webpack_require__(444), client_script_1 = __webpack_require__(293), log = logger_1.Logger.create("lib.editor.emailTracking");
    !function(EmailInfoTracking) {
        EmailInfoTracking.addSendEventListener = function(el, doc, saveEmailConnectednessData) {
            var sendBtn = dom_1.closestEl(el, email_selectors_1.sendBtnSelector);
            sendBtn && sendBtn.addEventListener("click", function(el, doc, saveEmailConnectednessData) {
                return __awaiter(this, void 0, void 0, function() {
                    var _a, recipiants, sender, timezoneOffset, timestamp;
                    return __generator(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            return _b.trys.push([ 0, 2, , 3 ]), [ 4, function(el, doc) {
                                return __awaiter(this, void 0, void 0, function() {
                                    var trackData, _a;
                                    return __generator(this, function(_b) {
                                        switch (_b.label) {
                                          case 0:
                                            return _a = trackData = {}, [ 4, function(el, doc) {
                                                return stdlib_1.SafePromise.create(function(resolve, _) {
                                                    var sender, senderEl = dom_1.closestEl(el, email_selectors_1.senderElSelector);
                                                    if (senderEl) {
                                                        var senderEmail = senderEl.innerText.replace(/&lt;|&gt;|>|</g, "").split(" ").pop();
                                                        sender = senderEmail && util_1.isValidEmail(senderEmail) ? senderEmail : void 0;
                                                    }
                                                    if (!sender) {
                                                        var accountInfoEl = doc.querySelector(email_selectors_1.accountInfoSelector);
                                                        sender = accountInfoEl && util_1.isValidEmail(accountInfoEl.innerHTML) ? accountInfoEl.innerHTML : void 0;
                                                    }
                                                    if (sender) resolve(sender); else {
                                                        var handler_1 = function(x) {
                                                            resolve(x.detail), document.removeEventListener("email-s-info-gr", handler_1);
                                                        };
                                                        document.addEventListener("email-s-info-gr", handler_1), client_script_1.addScript(doc, function() {
                                                            var globals = void 0 !== window.GLOBALS ? window.GLOBALS : "undefined" != typeof window && null !== window.opener && void 0 !== window.opener.GLOBALS ? window.opener.GLOBALS : [], e = document.createEvent("CustomEvent");
                                                            e.initCustomEvent("email-s-info-gr", !1, !1, globals[10]), document.dispatchEvent(e);
                                                        }, []);
                                                    }
                                                });
                                            }(el, doc) ];

                                          case 1:
                                            return _a.sender = _b.sent(), trackData.recipiants = function(el) {
                                                var recipiantsTable = dom_1.closestEl(el, email_selectors_1.recipiantsTableSelector);
                                                return recipiantsTable ? Array.from(recipiantsTable.querySelectorAll("span[email]")).filter(Boolean).map(function(x) {
                                                    return x.getAttribute("email");
                                                }).filter(util_1.isValidEmail) : [];
                                            }(el), [ 2, trackData ];
                                        }
                                    });
                                });
                            }(el, doc) ];

                          case 1:
                            return _a = _b.sent(), recipiants = _a.recipiants, sender = _a.sender, recipiants && recipiants.length > 0 && sender && (timezoneOffset = new Date().getTimezoneOffset(), 
                            timestamp = Date.now(), saveEmailConnectednessData({
                                recipiants: recipiants,
                                sender: sender,
                                timestamp: timestamp,
                                timezoneOffset: timezoneOffset
                            })), [ 3, 3 ];

                          case 2:
                            return _b.sent(), log.error("fail by parsing gmail or tracking"), [ 3, 3 ];

                          case 3:
                            return [ 2 ];
                        }
                    });
                });
            }.bind(null, el, doc, saveEmailConnectednessData));
        };
    }(exports.EmailInfoTracking || (exports.EmailInfoTracking = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var dom_1 = __webpack_require__(3), logger_1 = __webpack_require__(1), email_selectors_1 = __webpack_require__(444), tracking_1 = __webpack_require__(8), formattingSingleElement = {
        b: "bold",
        i: "italic",
        u: "underline"
    }, formattingListElement = {
        ol: "numbered-list",
        ul: "bulleted-list"
    }, ignoredSelector = ".gmail_quote", log = logger_1.Logger.create("lib.editor.emailData");
    !function(EmailData) {
        function sendEmailFormatting(editor) {
            var el = editor.el;
            Object.keys(formattingSingleElement).forEach(function(tag) {
                var ignoredElements = Array.from(el.querySelectorAll(ignoredSelector + " " + tag)).filter(Boolean);
                Array.from(el.querySelectorAll(tag)).filter(Boolean).filter(function(e) {
                    return !1 === ignoredElements.includes(e);
                }).forEach(function(formattingEl) {
                    var txt = formattingEl.innerText || formattingEl.textContent;
                    txt && txt.length > 0 && "\n" !== txt && editor.api.sendEmailFormatting(formattingSingleElement[tag], [ txt ]);
                });
            }), Object.keys(formattingListElement).forEach(function(tag) {
                var ignoredElements = Array.from(el.querySelectorAll(ignoredSelector + " " + tag)).filter(Boolean);
                Array.from(el.querySelectorAll(tag)).filter(Boolean).filter(function(e) {
                    return !1 === ignoredElements.includes(e);
                }).forEach(function(formattingEl) {
                    var values = Array.from(formattingEl.children).map(function(x) {
                        return x.innerText || x.textContent;
                    }).filter(Boolean).filter(function(x) {
                        return null !== x && "\n" !== x;
                    });
                    editor.api.sendEmailFormatting(formattingListElement[tag], values);
                });
            });
        }
        EmailData.addSendEventListener = function(editor) {
            var sendBtn = dom_1.closestEl(editor.el, email_selectors_1.sendBtnSelector);
            sendBtn && sendBtn.addEventListener("click", function(editor) {
                try {
                    !function(editor) {
                        var subjectInput = dom_1.closestEl(editor.el, email_selectors_1.subjectInputSelector);
                        if (subjectInput) {
                            var value = subjectInput.value;
                            value && value.length > 0 && editor.api.sendEmailSubject(value);
                        }
                    }(editor), sendEmailFormatting(editor);
                } catch (err) {
                    log.error("fail by parsing gmail email info"), tracking_1.felog.errorBySendEmailData();
                }
            }.bind(null, editor));
        }, EmailData.sendEmailFormatting = sendEmailFormatting;
    }(exports.EmailData || (exports.EmailData = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var dom_1 = __webpack_require__(3), util_1 = __webpack_require__(2), location_1 = __webpack_require__(15), ghost_1 = __webpack_require__(1043), textdiff_1 = __webpack_require__(201), emitter = __webpack_require__(18), Wrap = __webpack_require__(153);
    exports.createGhostArea = function(createEditor, el, id) {
        var gh, firstTime, scroll, editor, doc = el.ownerDocument, win = doc.defaultView, blured = !1, hotKey = !1, active = !1, valueBeforeBlur = getValue();
        el.setAttribute("data-gramm", ""), el.setAttribute("data-txt_gramm_id", id);
        var facebookUserItem = "div[role=navigation] li[role=listitem] *", me = emitter({
            el: el,
            id: id,
            hideClone: hideClone,
            showClone: function() {
                active = !0, gh && gh.show();
            },
            insertGhost: insertGhost,
            remove: remove,
            run: run
        });
        return (editor = createEditor(me.el, me.id)).on("exit", remove), editor.dom.insertGhost = insertGhost, 
        gh = ghost_1.createGhost({
            id: id,
            el: el,
            editor: editor
        }), me.gh = gh, editor.ghostarea = me, editor._run = editor.run, editor.run = run, 
        editor;
        function run() {
            listeners("on"), active = !0, valueBeforeBlur = getValue(), editor._run(), gh && gh.show();
        }
        function listeners(method) {
            void 0 === method && (method = "on"), "on" === method ? (dom_1.listen(el, "input", onchange), 
            dom_1.listen(el, "keyup", onTextareaKeyup), dom_1.listen(el, "keydown", onTextareaKeydown), 
            dom_1.listen(win, "click", onclick, void 0, !0)) : (dom_1.unlisten(el, "input", onchange), 
            dom_1.unlisten(el, "keyup", onTextareaKeyup), dom_1.unlisten(el, "keydown", onTextareaKeydown), 
            dom_1.unlisten(win, "click", onclick)), gh && gh[method]("render", checkSubmit), 
            editor[method]("rendered", afterRender), editor.isHtmlGhost || (editor[method]("beforeReplace", beforeReplace), 
            editor[method]("afterReplace", onAfterReplace));
        }
        function getValue() {
            return "TEXTAREA" === el.tagName ? el.value : el.parentNode ? Wrap.getText(el) : "";
        }
        function onchange() {
            active && (valueBeforeBlur = getValue());
        }
        function beforeReplace() {
            scroll = el.scrollTop;
        }
        function onclick(e) {
            if (location_1.isFacebookSite() && dom_1.matchesSelector(e.target, facebookUserItem)) return cleanup();
        }
        function afterReplace() {
            var textEvent = doc.createEvent("TextEvent");
            textEvent.initTextEvent ? editor.latestCursor.s === editor.latestCursor.e && (textEvent.initTextEvent("textInput", !0, !0, null, String.fromCharCode(8203), 1, "en-US"), 
            setTimeout(function() {
                editor.saveCursor(), editor.skipInputEvents(), el.dispatchEvent(textEvent), setTimeout(function() {
                    var value;
                    value = getValue().replace(String.fromCharCode(8203), ""), el.value = value, editor.restoreCursor(), 
                    editor.skipInputEvents(!1);
                }, 50);
            }, 50)) : (dom_1.runKeyEvent({
                el: el,
                type: "keydown"
            }), dom_1.runKeyEvent({
                el: el,
                type: "keyup"
            })), el.scrollTop = scroll, valueBeforeBlur = getValue();
        }
        function checkSubmit() {
            if ((0 === valueBeforeBlur.length && getValue().length > 0 || firstTime) && (valueBeforeBlur = getValue(), 
            firstTime = !1), active) {
                valueBeforeBlur = valueBeforeBlur.replace(new RegExp(String.fromCharCode(8203), "g"), "");
                var diff = textdiff_1.diffPos(valueBeforeBlur, getValue()), insertedFacebookName = 1 !== valueBeforeBlur.indexOf("@") && -1 === getValue().indexOf("@");
                diff.delta >= 2 && 0 === diff.s && (blured || hotKey) && !insertedFacebookName && cleanup();
            }
        }
        function cleanup() {
            active && (hideClone(), editor.clearData());
        }
        function onTextareaKeyup(_) {
            editor.camouflage();
        }
        function onTextareaKeydown(e) {
            hotKey = 13 === util_1.keyCode(e);
        }
        function insertGhost() {
            return gh.render(), {
                clone: gh.clone,
                cloneVal: gh.cloneVal
            };
        }
        function onAfterReplace() {
            setTimeout(afterReplace, 50);
        }
        function afterRender() {
            gh && gh.generateAlertPositions();
        }
        function hideClone() {
            active && gh && gh.hide();
        }
        function remove() {
            listeners("off"), editor && (editor.off("exit", remove), editor.remove(), editor = null), 
            me.emit("exit"), el.removeAttribute("data-gramm"), el.removeAttribute("data-txt_gramm_id"), 
            gh && (gh.remove(), gh = null);
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    }), __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var emitter = __webpack_require__(18), React = __webpack_require__(5), ReactDOM = __webpack_require__(19), merge = __webpack_require__(170), extend = __webpack_require__(38), map = __webpack_require__(367), util_1 = __webpack_require__(2), location_1 = __webpack_require__(15), position_1 = __webpack_require__(101), dom_1 = __webpack_require__(3), sites_1 = __webpack_require__(67), defaultProps = {
        style: {
            child: {
                display: "inline-block",
                "line-height": "initial",
                color: "transparent",
                overflow: "hidden",
                "text-align": "left",
                float: "initial",
                clear: "none",
                "box-sizing": "border-box",
                "vertical-align": "baseline",
                "white-space": "pre-wrap",
                width: "100%",
                margin: 0,
                padding: 0,
                border: 0
            },
            parent: {
                position: "absolute",
                color: "transparent",
                "border-color": "transparent !important",
                overflow: "hidden",
                "white-space": "pre-wrap"
            },
            src: {}
        },
        attrs: {},
        val: ""
    }, GhostComponent = function(_super) {
        function GhostComponent() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends(GhostComponent, _super), GhostComponent.prototype.render = function() {
            var style = merge(defaultProps.style, this.props.style), attrs = this.props.attrs, parentStyle = dom_1.camelizeAttrs(style.parent), childStyle = dom_1.camelizeAttrs(style.child), val = this.props.val;
            return attrs.gramm = "true", React.createElement("div", __assign({
                style: parentStyle
            }, attrs), React.createElement("span", {
                style: childStyle,
                dangerouslySetInnerHTML: {
                    __html: val
                }
            }), React.createElement("br", null));
        }, GhostComponent.defaultProps = defaultProps, GhostComponent;
    }(React.Component);
    exports.createGhost = function(obj) {
        var container, clone, cloneVal, listening, defaultBg, onScrollTimer, el = obj.el, insertBeforeEl = location_1.isFacebookSite() ? el.parentNode : el, doc = el.ownerDocument, win = doc.defaultView, editor = obj.editor || {
            current: function() {
                return [];
            }
        }, id = obj.id, calculatedStyle = {
            parent: {},
            child: {}
        }, calculatedAttrs = {}, initialized = !1, value = "", floated = !1, alertPositions = [], fixes = sites_1.pageStyles(doc).getFixesForCurrentDomain(), me = emitter({
            render: render,
            getStyle: getStyle,
            setText: function(_value) {
                value = _value, render();
            },
            generateAlertPositions: generateAlertPositions,
            remove: function() {
                clearTimeout(onScrollTimer), util_1.cancelInterval(render), dom_1.unlisten(el, txtEvents), 
                hide();
            },
            hide: hide,
            show: show
        }), onTextareaScroll = function() {
            try {
                calculatedStyle.child.height = el.scrollHeight, clone.scrollTop = el.scrollTop, 
                clearTimeout(onScrollTimer), onScrollTimer = setTimeout(onTextareaScroll, 100);
            } catch (e) {
                onTextareaScroll = util_1._f;
            }
        }, txtEvents = {
            mousemove: function(e) {
                var pos = el.getBoundingClientRect(), alert = function(x, y, xP, yP) {
                    for (var scrollTop = clone.scrollTop, i = 0; i < alertPositions.length; i++) {
                        var alert_2 = alertPositions[i], b = alert_2.box;
                        if (x >= b.x1 && x <= b.x2 && y >= b.y1 - scrollTop && y <= b.y2 - scrollTop) return alert_2;
                        if (alert_2.rects) for (var j = 0; j < alert_2.rects.length; j++) {
                            var b_1 = alert_2.rects[j], nX = x + xP, nY = y + yP;
                            if (nX >= b_1.x1 && nX <= b_1.x2 && nY >= b_1.y1 - scrollTop && nY <= b_1.y2 - scrollTop) return alert_2;
                        }
                    }
                }(e.clientX - pos.left, e.clientY - pos.top, pos.left, pos.top);
                if (alert) {
                    alert.e = {
                        clientX: e.clientX,
                        clientY: e.clientY
                    }, e.stopPropagation();
                    var ev = document.createEvent("CustomEvent");
                    delete alert.el, delete alert.match, ev.initCustomEvent("gramMouse", !0, !0, alert), 
                    doc.dispatchEvent(ev);
                }
            },
            mouseenter: function() {
                generateAlertPositions();
            },
            keyup: onTextareaScroll,
            scroll: onTextareaScroll
        };
        return me;
        function roundComposedStyle(s) {
            return s ? s.toString().split(" ").map(function(value) {
                return isNaN(parseFloat(value)) && -1 === value.indexOf("px") ? value : Math.floor(parseFloat(value)) + "px";
            }).join(" ") : s + "";
        }
        function getStyle() {
            var style = win.getComputedStyle(el);
            if (!style) return {};
            var prop = function(p) {
                return style.getPropertyValue(p);
            }, s = function(props) {
                var r = {};
                return props.map(function(p) {
                    r[p] = prop(p), "z-index" === p && "auto" === r[p] && el.style.zIndex && (r[p] = el.style.zIndex);
                }), r;
            }, result = {
                parent: s([ "border", "border-radius", "box-sizing", "height", "width", "margin", "padding", "z-index", "border-top-width", "border-right-width", "border-left-width", "border-bottom-width", "border-top-style", "border-right-style", "border-left-style", "border-bottom-style", "padding-top", "padding-left", "padding-bottom", "padding-right", "margin-top", "margin-left", "margin-bottom", "margin-right" ]),
                child: s([ "font", "font-size", "font-family", "text-align", "line-height", "letter-spacing", "text-shadow", "text-indent" ]),
                src: s([ "position", "margin-top", "line-height", "font-size", "font-family", "z-index" ])
            };
            result.child["text-indent"] = el.style.textIndent ? el.style.textIndent : "";
            var z = result.parent["z-index"];
            if (result.parent["z-index"] = z && "auto" !== z ? (parseInt(z, 10) - 1).toString() : "0", 
            result.parent.marginTop = roundComposedStyle(result.parent.marginTop), result.src.marginTop = roundComposedStyle(result.src.marginTop), 
            result.parent.margin = roundComposedStyle(result.parent.margin), result.parent.padding = roundComposedStyle(result.parent.padding), 
            (result.parent["border-top-width"] || result.parent["border-left-width"]) && (result.parent["border-style"] = "solid"), 
            result.parent.border) {
                var border = result.parent.border.split(" ");
                result.parent["border-width"] = border[0], border.length > 1 && (result.parent["border-style"] = border[1]), 
                delete result.parent.border;
            }
            if (result.parent["border-color"] = "transparent !important", "absolute" === result.src.position || "relative" === result.src.position ? result.parent = extend(result.parent, s([ "top", "left" ])) : result.src.position = "relative", 
            defaultBg = fixes.customDefaultBg && fixes.customDefaultBg(el) || defaultBg || prop("background"), 
            !util_1.isFF() && !util_1.isEdge() || defaultBg || (defaultBg = [ "background-color", "background-image", "background-repeat", "background-attachment", "background-position" ].map(prop).join(" ")), 
            result.parent.background = defaultBg, util_1.isFF()) {
                var bd = parseInt(prop("border-right-width"), 10) - parseInt(prop("border-left-width"), 10), scrollWidth = el.offsetWidth - el.clientWidth - bd;
                result.child["padding-right"] = scrollWidth - 1 + "px";
            }
            return "start" === prop("text-align") && (result.child["text-align"] = "ltr" === prop("direction") ? "left" : "right"), 
            util_1.isEdge() && (result.parent["line-height"] = result.src["line-height"], result.src["font-family"] = prop("font-family")), 
            result;
        }
        function render() {
            var s = getStyle();
            initialized || (function(s) {
                var style = {
                    background: "transparent !important",
                    "z-index": s["z-index"] || 1,
                    position: s.position,
                    "line-height": s["line-height"],
                    "font-size": s["font-size"],
                    "-webkit-transition": "none",
                    transition: "none"
                };
                if (fixes.removeContainerFontSize && fixes.removeContainerFontSize(el) && delete style["font-size"], 
                parseInt(s["margin-top"], 10) > 0 && dom_1.css(el.parentNode, {
                    width: "auto",
                    overflow: "hidden"
                }), win.devicePixelRatio > 1) {
                    var font = s["font-family"];
                    0 === font.indexOf("Consolas") && (font = font.replace("Consolas,", "Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif"), 
                    calculatedStyle.child["font-family"] = font, style["font-family"] = font);
                }
                util_1.isEdge() && ("auto" === calculatedStyle.parent.top && (calculatedStyle.parent.top = "0px"), 
                style["-ms-overflow-style"] = "-ms-autohiding-scrollbar", style["box-sizing"] = "border-box", 
                style["font-family"] = s["font-family"]), dom_1.css(el, style);
            }(s.src), floated = !!el.previousElementSibling && "left" === dom_1.css(el.previousElementSibling, "float"), 
            util_1.interval(render, 500), listening || (listening = !0, dom_1.listen(el, txtEvents)), 
            initialized = !0), calculatedStyle.parent.marginTop = roundComposedStyle(calculatedStyle.parent.marginTop), 
            (s = merge(s, calculatedStyle)).child.height = el.scrollHeight, fixes.fieldRestoreInlineStyles && fixes.fieldRestoreInlineStyles(el, s), 
            fixes.ghostHeight && (s.child.height = fixes.ghostHeight(s.child.height)), fixes.setContainerLineHeight && fixes.setContainerLineHeight(el, s.child["font-size"]), 
            fixes.getContainerTextAlign && (s.child.textAlign = fixes.getContainerTextAlign(el)), 
            fixes.setZindexInTwitterReplyOnZendesk && fixes.setZindexInTwitterReplyOnZendesk(el);
            var attrs = merge(calculatedAttrs, {
                "data-id": id,
                "data-gramm_id": id,
                "data-gramm": "gramm",
                "data-gramm_editor": "true",
                dir: el.getAttribute("dir")
            });
            container || ((container = doc.createElement("grammarly-ghost")).setAttribute("spellcheck", "false"), 
            dom_1.insertBefore(container, insertBeforeEl)), editor.matchPrefix && (attrs.className = editor.matchPrefix), 
            fixes.ghostHeight && (s.parent.height = fixes.ghostHeight(s.parent.height));
            var contains, component = ReactDOM.render(React.createElement(GhostComponent, {
                style: s,
                attrs: attrs,
                val: value
            }), container);
            clone = ReactDOM.findDOMNode(component), cloneVal = clone.firstElementChild, clone.contentEditable = "true", 
            me.clone = clone, me.cloneVal = cloneVal, function() {
                if (floated) {
                    if (el.getBoundingClientRect().left === clone.getBoundingClientRect().left && el.getBoundingClientRect().top === clone.getBoundingClientRect().top) return floated = !1;
                    var elRect = el.getBoundingClientRect(), parentRect = el.parentNode.getBoundingClientRect(), x = elRect.left - parentRect.left, y = elRect.top - parentRect.top, translate = "translate(" + x + "px, " + y + "px)";
                    calculatedStyle.parent["-webkit-transform"] = translate, calculatedStyle.parent.transform = translate;
                }
            }(), function() {
                var src = position_1.getAbsRect(el), pos = position_1.getAbsRect(clone);
                function posElUpdateStyle(source, target, isSrc) {
                    var srcPos = isSrc ? [ el, clone ] : [ src, pos ];
                    calculatedStyle.parent[target] = parseInt((parseInt(clone.style[target], 10) + srcPos[0][source] - srcPos[1][source]).toString(), 10) + "px";
                }
                if (pos.left !== src.left && posElUpdateStyle("left", "marginLeft", !1), pos.top !== src.top && posElUpdateStyle("top", "marginTop", !1), 
                clone.clientWidth === el.clientWidth || util_1.isFF() ? pos.width !== src.width && (calculatedAttrs.width = src.width) : pos.width !== src.width ? clone.style.width = src.width.toString() : posElUpdateStyle("clientWidth", "width", !0), 
                util_1.isFF()) {
                    var parentStyle = dom_1.css(el.parentNode, [ "margin-left", "margin-top", "position" ]);
                    parentStyle && (parentStyle.marginLeft || parentStyle.marginTop) && "static" === parentStyle.position && (el.parentNode.style.position = "relative", 
                    el.parentNode.style.overflow = "");
                }
                pos.height !== src.height && (calculatedStyle.parent.height = src.height);
            }(), contains = function(el) {
                return doc.contains && doc.contains(el) || dom_1.elementInDocument(el, doc);
            }, container && contains(el) && (!function(container, el) {
                return location_1.isFacebookSite() ? container.nextElementSibling && container.nextElementSibling.childNodes[0] !== el : container.nextElementSibling !== el;
            }(container, el) && contains(container) || dom_1.insertBefore(container, insertBeforeEl)), 
            0 === el.offsetHeight ? hide() : show(), me.emit("render");
        }
        function generateAlertPositions() {
            var matches = editor.current();
            alertPositions = [];
            for (var id, scrollTop = clone.scrollTop, i = 0; i < matches.length; i++) {
                var m = matches[i], alertEl = (id = m.id, clone.querySelector(".gr_" + id));
                if (alertEl) {
                    updateAlertStyles(alertEl);
                    var pos = position_1.getPos(alertEl, clone), box = {
                        x1: pos.x,
                        x2: pos.x + alertEl.offsetWidth,
                        y1: pos.y,
                        y2: pos.y + alertEl.offsetHeight + 5
                    }, alert_1 = {
                        match: m,
                        el: alertEl,
                        id: alertEl.id,
                        box: box
                    };
                    alertPositions.push(alert_1);
                    var textContent = alertEl.textContent;
                    if (textContent && textContent.trim().split(" ").length > 1) {
                        var rects = alertEl.getClientRects();
                        rects.length < 2 || (alert_1.rects = map(rects, function(r) {
                            return {
                                x1: r.left,
                                x2: r.right,
                                y1: r.top + scrollTop,
                                y2: r.bottom + scrollTop
                            };
                        }));
                    }
                }
            }
        }
        function updateAlertStyles(el) {
            if (el) {
                var parent = el.parentNode;
                if (parent) {
                    var style = parent.getAttribute("style");
                    style && el.setAttribute("style", style);
                }
                el.classList.contains("gr_disable_anim_appear") || el.addEventListener("animationend", function() {
                    return el.classList.add("gr_disable_anim_appear");
                }), dom_1.css(el, {
                    display: "",
                    padding: "",
                    margin: "",
                    width: ""
                });
            }
        }
        function hide() {
            container.style.display = "none", util_1.isSafari() && (el.style.background = "", 
            el.style.backgroundColor = ""), el.style.background = defaultBg, util_1.cancelInterval(render), 
            setTimeout(function() {
                return me.emit("render");
            }, 300), initialized = !1, container.parentNode && container.parentNode.removeChild(container);
        }
        function show() {
            initialized || (container.style.display = "", container.parentNode || dom_1.insertBefore(container, insertBeforeEl), 
            render(), onTextareaScroll());
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var tracking_1 = __webpack_require__(8), log = __webpack_require__(1).Logger.create("lib.infinity-checker"), INFINITY_CHECK_TIME = 2e4, INFINITY_CHECK_RETRY = 3;
    exports.infinityChecker = function(reset, __offline, delay, watchers) {
        void 0 === delay && (delay = INFINITY_CHECK_TIME), void 0 === watchers && (watchers = [ 30, 60, 120 ]);
        var infCheckReconnectCount = 0, infCheckTimeout = null, infCheckTimeout2 = null, infCheckTimeout3 = null, infCheckTimeout4 = null, infCheckHandler = function() {
            if (infCheckReconnectCount < INFINITY_CHECK_RETRY) return delay === INFINITY_CHECK_TIME && reset(), 
            void infCheckReconnectCount++;
            tracking_1.felog.infinityCheckResetFail(delay), log.error("Infinity check reset fails, change to the offline state.");
        };
        function finish() {
            infCheckReconnectCount = 0, infCheckTimeout && clearTimeout(infCheckTimeout), infCheckTimeout2 && clearTimeout(infCheckTimeout2), 
            infCheckTimeout3 && clearTimeout(infCheckTimeout3), infCheckTimeout4 && clearTimeout(infCheckTimeout4);
        }
        return {
            start: function() {
                finish(), infCheckTimeout = setTimeout(infCheckHandler, delay), infCheckTimeout2 = setTimeout(infCheckHandler, 1e3 * watchers[0]), 
                infCheckTimeout3 = setTimeout(infCheckHandler, 1e3 * watchers[1]), infCheckTimeout4 = setTimeout(infCheckHandler, 1e3 * watchers[2]);
            },
            finish: finish
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var tooltip_1 = __webpack_require__(412), dom_1 = __webpack_require__(3), tracking_1 = __webpack_require__(8);
    exports.createErrorTooltip = function(_a) {
        var el = _a.el, win = _a.win, outerIframe = _a.outerIframe, tooltip = tooltip_1.createTooltip({
            posEl: el,
            html: "<span class='fr-tooltip-title'>Cannot connect to Grammarly.</span> Please <span class='fr-reload-tab'>reload</span> the browser tab and check your internet connection. <span class='fr-dialog-br'></span>Don't lose your work! Copy any unsaved text before you reload the tab.",
            doc: el.ownerDocument,
            cls: "fr-btn-offline-tooltip",
            outerIframe: outerIframe,
            enabled: !1
        });
        dom_1.listen(win, "click", winClick);
        var remove = tooltip.remove;
        return tooltip.remove = function() {
            remove(), dom_1.unlisten(win, "click", winClick);
        }, tooltip;
        function winClick(e) {
            dom_1.hasClass(e.target, "fr-reload-tab") && (tracking_1.felog.tabReloadClick(), 
            setTimeout(function() {
                return window.location.reload(!0);
            }, 200));
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var debounce = __webpack_require__(53), window_events_1 = __webpack_require__(352), util_1 = __webpack_require__(2), dom_1 = __webpack_require__(3), position_1 = __webpack_require__(1047), condition_1 = __webpack_require__(1048), log = __webpack_require__(1).Logger.create("lib.button.pos"), Pos = function() {
        function Pos(_a, _onPosUpdate, _onStateChange) {
            var btnEl = _a.btnEl, fieldEl = _a.fieldEl, sourceEl = _a.sourceEl, custom = _a.custom, isTextarea = _a.isTextarea, initCondition = _a.initCondition, _this = this;
            this._onPosUpdate = _onPosUpdate, this._onStateChange = _onStateChange, this.state = {
                minimize: !1,
                maximize: !0,
                editor: null,
                show: !1
            }, this.max = !0, this.windowEvents = {
                paste: function() {
                    return _this.debouncedUpdate();
                },
                resize: function() {
                    return _this.update();
                },
                keyup: function() {
                    dom_1.isFocused(_this.fieldEl) && _this.debouncedUpdate();
                }
            }, this.checkResize = function() {
                try {
                    if (_this.position) _this.position.resize() && _this.debouncedUpdate();
                } catch (e) {
                    log.error("", e), util_1.cancelInterval(_this.checkResize);
                }
            }, this.debouncedUpdate = debounce(function() {
                return _this.update();
            }, 50), this.update = function() {
                if (_this.state.show && _this.position) {
                    _this._onPosUpdate({
                        visibility: "hidden"
                    }), _this._onPosUpdate(_this.position.get(_this.max));
                    var editor = _this.state.editor;
                    if (editor) {
                        var el = editor.ghostarea ? editor.ghostarea.gh.clone.firstChild : _this.fieldEl, textLength = editor.getText().trim().length, cond = _this.minimizer && _this.minimizer.getStateIfChanged(_this.state, _this.btnEl, el, _this.fieldEl, textLength, _this.max);
                        void 0 !== cond && (_this.max = "maximize" === cond, _this._onStateChange(), _this.update());
                    }
                }
            }, this.remove = function() {
                _this.listeners("off"), _this.minimizer = null, _this.position && _this.position.remove(), 
                _this.position = null;
            }, this.fieldEl = fieldEl, this.btnEl = btnEl, this.max = initCondition, this.state.minimize = !initCondition, 
            this.state.maximize = initCondition, this.position = position_1.createPositioner(btnEl, sourceEl, custom, isTextarea), 
            this.minimizer = new condition_1.Minimizer(), this.listeners();
        }
        return Pos.prototype.set = function(key, value) {
            this.state[key] = value, this.update();
        }, Pos.prototype.listeners = function(method) {
            void 0 === method && (method = "on"), "on" === method ? (window_events_1.on(this.windowEvents, null, !0), 
            dom_1.on.call(this.fieldEl, "scroll", this.debouncedUpdate), util_1.interval(this.checkResize, 200)) : (window_events_1.off(this.windowEvents, null, !0), 
            dom_1.off.call(this.fieldEl, "scroll", this.debouncedUpdate), util_1.cancelInterval(this.checkResize));
        }, Pos;
    }();
    exports.Pos = Pos;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var sites_1 = __webpack_require__(67), position_1 = __webpack_require__(101), dom_1 = __webpack_require__(3);
    exports.createPositioner = function(btnEl, sourceEl, custom, isTextarea) {
        void 0 === custom && (custom = !1), void 0 === isTextarea && (isTextarea = !1);
        var targetFieldStyle, MIN_HEIGHT = 25, transitionEndEvent = dom_1.transitionEndEventName(), btnMaxBox = 22, btnMinBox = 8, doc = btnEl.ownerDocument, transform = dom_1.transformProp(doc), fixes = sites_1.pageStyles(doc).getFixesForCurrentDomain(), changeStateInProgress = !1, cachedPos = position_1.getPos(sourceEl, void 0), x = 0, y = 0, transitionEnd = function() {
            changeStateInProgress = !1, update();
        };
        return dom_1.on.call(btnEl, transitionEndEvent, transitionEnd), update(), {
            get: function(max) {
                void 0 === max && (max = !0);
                var style = {
                    visibility: ""
                };
                if (custom) return Object.assign(style, fixes.btnCustomStyles ? fixes.btnCustomStyles(max, sourceEl) : {});
                update();
                var _b, diffByResize = !max && targetFieldStyle.canBeResized ? -10 : 0, min = targetFieldStyle.clientHeight < MIN_HEIGHT, diffByPosition = function(max, min) {
                    return max ? min ? ((max ? btnMaxBox : btnMinBox) - targetFieldStyle.height) / 2 : -8 : 0;
                }(max, min) + function(max) {
                    if (max) return 0;
                    var diffByPadding = parseInt(targetFieldStyle["padding-right"], 10);
                    return diffByPadding > 0 ? -diffByPadding / 2 + 2 : -5;
                }(max), diffYByPosition = max || min ? 0 : -7, btnBox = max ? btnMaxBox : btnMinBox, _a = __read(fixes.btnDiff ? fixes.btnDiff(sourceEl) : [ 0, 0 ], 2), diffXByDomain = _a[0], diffYByDomain = _a[1], nx = targetFieldStyle.left + targetFieldStyle.width - parseInt(targetFieldStyle["border-right-width"], 10) - btnBox + diffByPosition + diffXByDomain, ny = targetFieldStyle.top + targetFieldStyle.height - parseInt(targetFieldStyle["border-bottom-width"], 10) - btnBox + diffByPosition + diffYByPosition + diffYByDomain + diffByResize;
                return nx === x && ny === y ? style : (Object.assign(style, transform ? ((_b = {})[transform] = "translate(" + nx + "px, " + ny + "px)", 
                _b) : {}), changeStateInProgress = !0, x = nx, y = ny, style);
            },
            resize: function() {
                var p = position_1.getPos(sourceEl, void 0), changedPos = p.x !== cachedPos.x || p.y !== cachedPos.y;
                return !(targetFieldStyle.clientWidth === sourceEl.clientWidth && targetFieldStyle.clientHeight === sourceEl.clientHeight && !changedPos || (cachedPos = p, 
                0));
            },
            remove: function() {
                dom_1.off.call(btnEl, transitionEndEvent, transitionEnd);
            }
        };
        function update() {
            if (!changeStateInProgress) {
                (targetFieldStyle = Object.assign({
                    offsetHeight: sourceEl.offsetHeight,
                    clientWidth: sourceEl.clientWidth,
                    clientHeight: sourceEl.clientHeight
                }, dom_1.compStyle(sourceEl, "border-bottom-width", "border-right-width", "resize", "padding-top", "padding-bottom", "overflowX", "overflow", "padding-right"), position_1.getAbsRect(sourceEl))).canBeResized = [ "both", "horizontal", "vertical" ].includes(targetFieldStyle.resize);
                var _a = position_1.getAbsRect(btnEl), left = _a.left, top = _a.top;
                targetFieldStyle.left += x - left, targetFieldStyle.top += y - top, isTextarea || "scroll" === targetFieldStyle.overflowX || "scroll" === targetFieldStyle.overflow || (targetFieldStyle.height = Math.max(targetFieldStyle.height, targetFieldStyle.offsetHeight));
            }
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var sites_1 = __webpack_require__(67), intersect_1 = __webpack_require__(1049), Minimizer = function() {
        function Minimizer() {
            this._check = function(current, future) {
                return future && current !== future ? future : void 0;
            };
        }
        return Minimizer.prototype.getStateIfChanged = function(_a, btnEl, el, fieldEl, t, max) {
            var minimize = _a.minimize, maximize = _a.maximize, textLength = t || 0, doc = btnEl.ownerDocument, fixes = sites_1.pageStyles(doc).getFixesForCurrentDomain(), currentState = max ? "maximize" : "minimize";
            if (minimize || maximize) {
                var newState;
                if (fixes.forceMinimize && fixes.forceMinimize(fieldEl) || minimize && !maximize) return this._check(currentState, "minimize");
                if (!el || !minimize && maximize) return this._check(currentState, "maximize");
                intersect_1.getIntersect(btnEl, el) && textLength && textLength > 0 && (this.textLengthWhenMinimized = textLength, 
                newState = "minimize");
                var removedEnoughTextToMaximizeBtn = this.textLengthWhenMinimized && this.textLengthWhenMinimized - textLength > 200;
                return newState = !this.textLengthWhenMinimized || removedEnoughTextToMaximizeBtn || 0 === textLength ? "maximize" : "minimize", 
                this._check(currentState, newState);
            }
        }, Minimizer;
    }();
    exports.Minimizer = Minimizer;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var debug = !1, intersectionPadding = 2;
    function iterateIntersect(rects, btnRect) {
        var scrollTop = document.body.scrollTop;
        return debug && Array.from(document.querySelectorAll(".gr-evade")).forEach(function(node) {
            return node.parentElement && node.parentElement.removeChild(node);
        }), rects.map(function(rect) {
            return {
                top: rect.top + scrollTop,
                bottom: rect.bottom + scrollTop,
                left: rect.left,
                width: rect.width,
                height: rect.height
            };
        }).some(function(lineRect) {
            var rect, className, d, line, btn;
            return debug && (rect = lineRect, className = "gr-evade", (d = document.createElement("div")).className = className, 
            d.style.top = rect.top + "px", d.style.left = rect.left + "px", d.style.height = rect.height + "px", 
            d.style.width = rect.width + "px", d.style.position = "absolute", d.style.border = "1px dashed red", 
            d.style.zIndex = "1000000", d.style.pointerEvents = "none", document.body.appendChild(d)), 
            btn = btnRect, (line = lineRect).left + line.width > btn.left && (line.bottom > btn.top && line.bottom < btn.bottom || line.top < btn.bottom && line.top > btn.top);
        });
    }
    exports.getIntersect = function(btnEl, fieldEl, offset) {
        void 0 === offset && (offset = 0);
        var btnRect = btnEl.getBoundingClientRect();
        if (!btnRect) return !1;
        btnRect = {
            top: btnRect.top + document.body.scrollTop - intersectionPadding + offset,
            bottom: btnRect.bottom + document.body.scrollTop + intersectionPadding + offset,
            left: btnRect.left - intersectionPadding + offset,
            width: btnRect.width,
            height: btnRect.height
        };
        var range = document.createRange();
        range.selectNodeContents(fieldEl);
        var maxWidth = fieldEl.clientWidth;
        return iterateIntersect(Array.from(range.getClientRects()).filter(function(_a) {
            return _a.width < maxWidth;
        }), btnRect);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.getWithinButtonPath = function(config) {
        var editorEl = config.editorEl, btnEl = config.btnEl, padding = config.padding;
        return function(e) {
            var posEl = getPos(editorEl), posBtn = getPos(btnEl);
            return function(c, event, posEl, posBtn) {
                var btnRight = posBtn.left + posBtn.width + padding, btnLeft = posBtn.left - padding, btnBottom = posBtn.top + posBtn.height + padding, btnTop = posBtn.top - padding, textareaLeft = posEl.left - padding, textareaRight = posEl.left + posEl.width + padding, textareaTop = posEl.top - padding, textareaBottom = posEl.top + posEl.height + padding, boundaryRight = textareaRight > btnRight ? textareaRight : btnRight;
                return "se" === c && event.x >= textareaLeft && event.x <= boundaryRight && event.y >= textareaTop && event.y <= btnBottom || ("ne" === c && event.x >= textareaLeft && event.x <= boundaryRight && event.y >= btnTop && event.y <= textareaBottom || ("nw" === c && event.x >= btnLeft && event.x <= textareaRight && event.y >= btnTop && event.y <= textareaBottom || "sw" === c && event.x >= btnLeft && event.x <= textareaRight && event.y >= textareaTop && event.y <= btnBottom));
            }(function(posEl, posBtn) {
                return posBtn.left >= posEl.left && posBtn.top >= posEl.top ? "se" : posBtn.left >= posEl.left && posBtn.top <= posEl.top ? "ne" : posBtn.left <= posEl.left && posBtn.top <= posEl.top ? "nw" : posBtn.left <= posEl.left && posBtn.top >= posEl.top ? "sw" : void 0;
            }(posEl, posBtn), e, posEl, posBtn);
        };
        function getPos(el) {
            var p = el.getBoundingClientRect();
            return {
                height: p.height,
                width: p.width,
                top: p.top,
                left: p.left
            };
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), grammarly_editor_1 = __webpack_require__(506), dom_1 = __webpack_require__(3), position_1 = __webpack_require__(101), config_1 = __webpack_require__(10), url_1 = __webpack_require__(90), message = __webpack_require__(16), timers_1 = __webpack_require__(102), location_1 = __webpack_require__(15), view_1 = __webpack_require__(1052), tracking_1 = __webpack_require__(8), tracking_2 = __webpack_require__(20), sites_1 = __webpack_require__(67), style = __webpack_require__(370), BtnStyle = __webpack_require__(357);
    exports.createMenu = function(config, onStateChanged) {
        var el = config.el, btn = config.btn, o = config.gButtonPopup, doc = el.ownerDocument, fixes = sites_1.pageStyles(doc).getFixesForCurrentDomain(), container = doc.createElement("div"), measureEl = doc.createElement("div"), tooltipEl = doc.createElement("div"), transform = dom_1.transformProp(doc), user = config.user, editor = config.editor, gButtonPopup = o, enabled = !0, opened = !1, currentState = {
            critical: 0,
            plus: 0,
            offline: !1,
            enabled: config.enabled,
            initial: !1,
            checking: !1,
            fieldWasFocused: !!config.fieldWasFocused
        }, menuEl = ReactDOM.findDOMNode(render()), LEFT_OFFSET = -26, TOP_OFFSET = 11, LEFT_OFFSET_SMALL = -13, TOP_OFFSET_SMALL = 2, containerClickHandler = function(e) {
            e.stopPropagation(), e.stopImmediatePropagation();
        };
        return dom_1.addClass(container, "gr-top-z-index"), dom_1.addClass(container, "gr-top-zero"), 
        container.setAttribute("tabindex", "-1"), container.addEventListener("click", containerClickHandler), 
        measureEl.style.cssText = "visibility: hidden;top: -9999px;position: absolute;opacity: 0", 
        tooltipEl.style.cssText = "visibility: hidden;top: -9999px;position: absolute;opacity: 0", 
        doc.documentElement.insertBefore(container, doc.body), doc.documentElement.insertBefore(measureEl, doc.body), 
        doc.documentElement.insertBefore(tooltipEl, doc.body), {
            show: show,
            hide: hide,
            bind: function() {
                dom_1.listen(doc.documentElement, "mousemove", mousemove), editor && editor.on("iframe-mousemove", mousemove);
            },
            unbind: unbind,
            remove: function() {
                unbind(), container.removeEventListener("click", containerClickHandler), container.parentNode && container.parentNode.removeChild(container), 
                measureEl.parentNode && measureEl.parentNode.removeChild(measureEl), tooltipEl.parentNode && tooltipEl.parentNode.removeChild(tooltipEl);
            },
            render: render,
            menuEl: menuEl,
            update: function(data) {
                currentState = data, user = data.user, render();
            },
            onclick: onclick,
            updateEditor: function(newEditor) {
                editor = newEditor;
            },
            isOpened: function() {
                return opened;
            },
            isEnabled: function() {
                return enabled;
            },
            disable: function() {
                enabled = !1;
            },
            enable: function() {
                enabled = !0;
            },
            getState: function() {
                return currentState;
            },
            setGbuttonPopup: function(_gButtonPopup) {
                gButtonPopup = _gButtonPopup;
            }
        };
        function onclick(e) {
            if (!editor.isOffline()) {
                var url, target = e.target;
                location_1.isGdocsSite() && user.experiments && user.experiments.googleDocsBeta ? gButtonPopup.showGdocsPopupUnavailable() : (dom_1.hasClass(target, style.btn_premium) ? currentState.premium ? openEditor() : (tracking_2.gnar.getPremiumButtonClick("buttonHover"), 
                tracking_1.felog.userUpgradeClick("buttonHover"), url = grammarly_editor_1.getUpgradeUrlFromMatches({
                    baseUrl: config_1.URLS.upgrade,
                    returnUrl: "",
                    appType: "popup",
                    matches: editor.getMatches()
                }), url = url_1.addParamsToUpgradeURL(url, !0 === user.anonymous ? "signupHook" : "upHook", !0 === user.anonymous ? "extensionPremiumCta" : "buttonHover"), 
                message.emitBackground("open-url", url)) : dom_1.hasClass(target, style.btn_grammarly) && openEditor(), 
                setTimeout(hide, 200));
            }
            function openEditor() {
                var loginReminder = config.btn.getState().loginReminder;
                editor.showDialog({
                    caller: "gButton",
                    shouldOpenLoginView: loginReminder
                }), tracking_2.gnar.gButtonClick(editor.id, currentState.plus, currentState.critical, "gButton"), 
                tracking_1.felog.gButtonClick(), timers_1.timers.start("open_editor");
            }
        }
        function disableClick() {
            gButtonPopup.showDisable(), hide(), render(), tracking_2.gnar.disableButtonClick("gButton"), 
            tracking_1.felog.disableButtonClick();
        }
        function feedbackClick() {
            gButtonPopup.showGdocsFeedbackUI(), hide(), render(), tracking_2.gnar.feedbackPopupShow();
        }
        function getPosition(sizeNode) {
            var _b, _a = position_1.getAbsRect(el), top = _a.top, left = _a.left, isSmall = !btn.getPosState() && currentState.enabled;
            return sizeNode && (left -= sizeNode.clientWidth, top -= sizeNode.clientHeight / 2), 
            top += isSmall ? TOP_OFFSET_SMALL : TOP_OFFSET, left -= isSmall ? LEFT_OFFSET_SMALL : LEFT_OFFSET, 
            !isSmall && fixes.menuPosLeft && (left = fixes.menuPosLeft(editor, left, currentState)), 
            (_b = {})[transform] = "translate(" + left + "px, " + top + "px)", _b;
        }
        function render() {
            var measureComponent = renderComponent(currentState, getPosition(), measureEl), measureNode = ReactDOM.findDOMNode(measureComponent);
            return renderComponent(currentState, getPosition(measureNode), container);
        }
        function renderComponent(state, style, toEl) {
            return ReactDOM.render(React.createElement(view_1.HoverMenuView, {
                style: style,
                click: onclick,
                disableClick: disableClick,
                feedbackClick: feedbackClick,
                state: state,
                opened: opened,
                el: tooltipEl,
                hide: hide
            }), toEl);
        }
        function unbind(force) {
            void 0 === force && (force = !1), opened && !force || (dom_1.unlisten(doc.documentElement, "mousemove", mousemove), 
            editor && editor.off("iframe-mousemove", mousemove));
        }
        function mousemove(e) {
            var btnEl = dom_1.resolveEl(e.target, BtnStyle.textarea_btn);
            if (btnEl && btnEl !== el) return hide();
            if (dom_1.hasClass(el, BtnStyle.offline)) return hide();
            var m = dom_1.resolveEl(e.target, style.hoverMenu);
            return btnEl || m === menuEl ? e.target.classList.contains(BtnStyle.btn_text) ? hide() : void show() : hide();
        }
        function show(force) {
            void 0 === force && (force = !1), gButtonPopup && gButtonPopup.isActive && "onboarding" === gButtonPopup.type || (enabled && !currentState.offline && currentState.fieldWasFocused || force) && (opened || (opened = !0, 
            onStateChanged(!0), render()));
        }
        function hide() {
            opened && (opened = !1, onStateChanged(!1), render());
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), location_1 = __webpack_require__(15), action_1 = __webpack_require__(1053), tooltip_1 = __webpack_require__(1054), dom_1 = __webpack_require__(3), style = __webpack_require__(370), HoverMenuView = function(_super) {
        function HoverMenuView() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.state = {
                tooltip: {
                    active: !1,
                    text: "",
                    cls: ""
                }
            }, _this.onTooltip = function(data) {
                var component = ReactDOM.render(React.createElement(tooltip_1.Tooltip, {
                    data: data,
                    measure: !0
                }), _this.props.el);
                setTimeout(function() {
                    data.width = ReactDOM.findDOMNode(component).clientWidth, _this.setState({
                        tooltip: data
                    });
                }, 10);
            }, _this;
        }
        return __extends(HoverMenuView, _super), HoverMenuView.prototype.getTooltipText = function(state) {
            return state.enabled ? "Disable on this website" : "Enable Grammarly here";
        }, HoverMenuView.prototype.render = function() {
            var _a, data = this.props, state = data.state, critical = state.critical, plus = state.plus, classes = dom_1.cs(((_a = {})[style.hoverMenu] = !0, 
            _a[style.initial] = state.initial, _a[style.premium] = state.premium, _a[style.anonymous] = state.anonymous, 
            _a[style.checking] = state.checking, _a[style.disabled] = !1 === state.enabled, 
            _a[style.critical] = !!critical, _a[style.plus] = !!plus, _a[style.opened] = data.opened, 
            _a)), gBtnText = state.anonymous ? "Log in to enable personalized<br/>checks and other features" : "Edit in Grammarly", premiumText = state.premium ? "See advanced corrections" : "Upgrade to make advanced corrections", disableText = this.getTooltipText(state);
            return React.createElement("div", {
                className: classes,
                style: data.style
            }, React.createElement("div", {
                className: style.panel
            }, React.createElement(tooltip_1.Tooltip, {
                data: this.state.tooltip
            }), React.createElement(action_1.MenuBtn, {
                data: {
                    type: "disable",
                    size: "small",
                    text: disableText,
                    hasTooltip: !0,
                    click: data.disableClick,
                    onTooltip: this.onTooltip
                }
            }), React.createElement("div", {
                className: style.line
            }), plus && !location_1.isGdocsSite() ? React.createElement(action_1.MenuBtn, {
                data: {
                    type: "premium",
                    size: "small",
                    text: premiumText,
                    count: plus,
                    hasTooltip: !0,
                    click: data.click,
                    onTooltip: this.onTooltip
                }
            }) : null, location_1.isGdocsSite() ? [ React.createElement(action_1.MenuBtn, {
                key: "feedback",
                data: {
                    type: "feedback",
                    size: "small",
                    hasTooltip: !1,
                    click: data.feedbackClick,
                    label: "Feedback"
                }
            }), React.createElement(action_1.MenuBtn, {
                key: "openOnGrammarly",
                data: {
                    type: "grammarly",
                    size: "small",
                    text: "Protected by Grammarly",
                    hasTooltip: !1,
                    click: data.click,
                    count: critical
                }
            }) ] : React.createElement(action_1.MenuBtn, {
                data: {
                    type: "grammarly",
                    actionType: "editor",
                    size: "small",
                    text: gBtnText,
                    hasTooltip: !0,
                    click: data.click,
                    count: critical,
                    onTooltip: this.onTooltip
                }
            })));
        }, HoverMenuView;
    }(React.Component);
    exports.HoverMenuView = HoverMenuView;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    }), __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), dom_1 = __webpack_require__(3), react_1 = __webpack_require__(22), style = __webpack_require__(370), MenuBtn = function(_super) {
        function MenuBtn(props) {
            var _this = _super.call(this, props) || this;
            return _this.onMouseEnterHandler = _this.onMouseEnterHandler.bind(_this), _this.onMouseLeaveHandler = _this.onMouseLeaveHandler.bind(_this), 
            _this.onMouseClick = _this.onMouseClick.bind(_this), _this;
        }
        return __extends(MenuBtn, _super), MenuBtn.prototype.onMouseEnterHandler = function() {
            var _this = this;
            if (this.props.data.hasTooltip) {
                this.tooltipTimeout = setTimeout(function() {
                    _this.props.data.onTooltip && _this.props.data.onTooltip({
                        active: !0,
                        el: ReactDOM.findDOMNode(_this),
                        text: _this.props.data.text,
                        cls: _this.props.data.type
                    });
                }, 1350);
            }
        }, MenuBtn.prototype.onMouseLeaveHandler = function() {
            this.props.data.hasTooltip && this.props.data.onTooltip && (clearTimeout(this.tooltipTimeout), 
            this.props.data.onTooltip({
                active: !1,
                text: this.props.data.text,
                cls: this.props.data.type
            }));
        }, MenuBtn.prototype.onMouseClick = function(e) {
            this.props.data.click && this.props.data.click(e), "disable" === this.props.data.type && this.onMouseLeaveHandler();
        }, MenuBtn.prototype.render = function() {
            var _a, _this = this, data = this.props.data, classes = dom_1.cs(((_a = {})[style.btn] = !0, 
            _a[style["btn_" + data.type]] = !0, _a[style.counter] = null != data.count && data.count > 0, 
            _a[style.counter100] = null != data.count && data.count > 99, _a)), hasTooltip = {
                data: data
            }, props = __assign({
                className: classes,
                "data-action": data.actionType,
                tabIndex: -1
            }, hasTooltip ? {
                onMouseEnter: this.onMouseEnterHandler,
                onMouseLeave: this.onMouseLeaveHandler
            } : {}), content = data.count && data.count > 0 ? data.count : data.label ? data.label : null;
            return React.createElement("div", {
                className: style.buttonArea
            }, React.createElement(react_1.GenericButton, {
                clickHandler: function(e) {
                    return _this.onMouseClick(e);
                }
            }, React.createElement("div", __assign({}, props), content)));
        }, MenuBtn;
    }(React.Component);
    exports.MenuBtn = MenuBtn;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), dom_1 = __webpack_require__(3), style = __webpack_require__(370), Tooltip = function(_super) {
        function Tooltip() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends(Tooltip, _super), Tooltip.prototype.render = function() {
            var offsetStyle, _a, data = this.props.data || {}, measure = this.props.measure, classes = dom_1.cs(((_a = {})[style.tooltip] = !0, 
            _a[style.tooltip_visible] = data.active && !measure, _a[style.tooltip_hidden] = !data.active && !measure, 
            _a[style["tooltip_" + data.cls]] = !0, _a));
            return data.active && !measure && (offsetStyle = {
                right: 0
            }), React.createElement("div", {
                style: offsetStyle,
                className: classes,
                ref: "tooltip",
                dangerouslySetInnerHTML: {
                    __html: data.text
                }
            });
        }, Tooltip;
    }(React.Component);
    exports.Tooltip = Tooltip;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var sites_1 = __webpack_require__(67), location_1 = __webpack_require__(15);
    exports.State = function(disableFields, toggleField) {
        function getSelector(el, iframe) {
            var fixes = sites_1.pageStyles(el.ownerDocument).getFixesForCurrentDomain(), specificFieldSel = fixes.fieldStateForDomain && fixes.fieldStateForDomain(el);
            if (specificFieldSel) return specificFieldSel;
            var isIframe = iframe && "IFRAME" === iframe.tagName, element = isIframe ? iframe : el, parts = [ element.getAttribute("id") || "", element.getAttribute("name") || "" ].filter(Boolean);
            return parts.length || parts.push(function(element, tree) {
                return element && element.id && !tree ? '//*[@id="' + element.id + '"]' : function(element) {
                    for (var paths = []; element && 1 === element.nodeType; element = element.parentNode) {
                        for (var index = 0, sibling = element.previousSibling; sibling; sibling = sibling.previousSibling) sibling.nodeType !== Node.DOCUMENT_TYPE_NODE && sibling.nodeName === element.nodeName && ++index;
                        var tagName = element.nodeName.toLowerCase(), pathIndex = index ? "[" + (index + 1) + "]" : "";
                        paths.splice(0, 0, tagName + pathIndex);
                    }
                    return paths.length ? "/" + paths.join("/") : null;
                }(element);
            }(element)), isIframe && parts.push(iframe.ownerDocument.location.host || ""), parts.join(":");
        }
        return void 0 === disableFields && (disableFields = {}), {
            getSelector: getSelector,
            isFieldDisabled: function(el, iframe) {
                var fieldSelector = getSelector(el, iframe);
                return disableFields[fieldSelector];
            },
            changeFieldState: function(el, iframe, state) {
                var _a, fieldSelector = getSelector(el, iframe);
                disableFields[fieldSelector] !== state && toggleField(((_a = {})[fieldSelector] = state, 
                _a), location_1.getDomain());
            }
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), dom_1 = __webpack_require__(3), util_1 = __webpack_require__(2), location_1 = __webpack_require__(15), style = __webpack_require__(357), ButtonComponent = function(_super) {
        function ButtonComponent() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends(ButtonComponent, _super), ButtonComponent.prototype.render = function() {
            var _a, _this = this, state = this.props.state, anonymous = state.anonymous, premium = state.premium, count = state.errors.critical, errors = count > 0 && !state.checking, gdocsExperiment = location_1.isGdocsSite() && state.experiments && state.experiments.googleDocsBeta, disabled = !state.enabled, offline = state.offline, classes = [ style.textarea_btn, dom_1.cs((_a = {}, 
            _a[style.show] = state.show, _a[style.minimized] = !gdocsExperiment && state.minimized, 
            _a[style.minimize_transition] = !gdocsExperiment && state.wasMinimized, _a[style.errors] = errors, 
            _a[style.has_errors] = count > 0, _a[style.errors_100] = count > 99, _a[style.offline] = offline, 
            _a[style.checking] = state.checking && !offline && !disabled, _a[style.disabled] = disabled, 
            _a[style.plus_only] = !gdocsExperiment && premium && !errors && state.errors.plus > 0, 
            _a[style.anonymous] = anonymous, _a[style.hovered] = state.hovered, _a[style.field_hovered] = state.isFieldHovered, 
            _a[style.not_focused] = !state.fieldWasFocused, _a[style.login_reminder] = state.loginReminder, 
            _a)) ].join(" "), inlineStyle = dom_1.camelizeAttrs(this.props.inlineStyle), value = errors && count ? count : "", title = count ? "Found " + count + " " + util_1.declension(count, [ "error", "errors" ]) + " in text" : "Protected by Grammarly";
            return React.createElement("div", {
                onClick: function(e) {
                    return _this.props.onViewClick(e);
                },
                style: inlineStyle,
                className: classes
            }, React.createElement("div", {
                className: style.transform_wrap
            }, React.createElement("div", {
                title: title,
                className: style.status
            }, value)));
        }, ButtonComponent;
    }(React.Component);
    exports.ButtonComponent = ButtonComponent;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), ReactDOM = __webpack_require__(19), onboarding_1 = __webpack_require__(604), login_reminder_1 = __webpack_require__(605), disable_1 = __webpack_require__(606), summarize_1 = __webpack_require__(607), position_1 = __webpack_require__(101), location_1 = __webpack_require__(15), dom_1 = __webpack_require__(3), tracking_1 = __webpack_require__(8), tracking_2 = __webpack_require__(20), tracking_3 = __webpack_require__(185), message = __webpack_require__(16), gdocs_opt_in_1 = __webpack_require__(608), feedback_1 = __webpack_require__(609), base_1 = __webpack_require__(610), log = __webpack_require__(1).Logger.create("lib.buttont.popup"), Popup = function() {
        function Popup(_a) {
            var doc = _a.doc, el = _a.el, editor = _a.editor, user = _a.user, actions = _a.actions, notifications = _a.notifications, _this = this;
            this._summarizaPopupView = "default", this.containerClickHandler = function(e) {
                e.stopPropagation(), e.stopImmediatePropagation();
            }, this._getTrasfromValues = function() {
                var _a = position_1.getAbsRect(_this.el), top = _a.top;
                return {
                    xTranslate: _a.left - _this._offsets.left,
                    yTranslate: _this._isFlipped ? top + _this._offsets.topFlip : top - _this._offsets.top
                };
            }, this._getStyles = function(isFirstLoad) {
                var _b, transform = dom_1.transformProp(_this._doc), scale = isFirstLoad ? "scale(.7)" : "scale(1)", _a = _this._getTrasfromValues(), xTranslate = _a.xTranslate, yTranslate = _a.yTranslate;
                return Object.assign({}, ((_b = {})[transform] = "translate(" + xTranslate + "px, " + yTranslate + "px) " + scale, 
                _b));
            }, this._windowResize = function() {
                var styles = _this._getStyles();
                _this._component.setState(function() {
                    return {
                        styles: styles,
                        transformValues: _this._getTrasfromValues()
                    };
                });
            }, this._changeSummarizationViewType = function(nextView) {
                _this._summarizaPopupView = nextView, _this._offsets = base_1.offsetFromGbuttonTopLeft["summarize-" + _this._summarizaPopupView], 
                _this._render(!1);
            }, this._doc = doc, this.el = el, this.editorId = editor.id, this.editor = editor, 
            this.user = user, this.actions = actions, null !== notifications && (this._notifications = notifications);
        }
        return Popup.prototype._openDialog = function() {
            this.hide(), message.emitFocusedTab("show-dialog", {
                data: {},
                editorId: this.editorId,
                user: this.user,
                isOnboarding: !0
            });
        }, Popup.prototype._createDocument = function() {
            message.emitBackground("create-document", this.editor.getText());
        }, Popup.prototype._checkContainer = function() {
            this._container || (this._container = this._doc.createElement("gbutton-popup"), 
            this._container.addEventListener("click", this.containerClickHandler), this._doc.documentElement.appendChild(this._container));
        }, Popup.prototype.showGdocsFeedbackUI = function() {
            this._show("gdocsFeedbackUI");
        }, Popup.prototype.showGdocsPopupUnavailable = function() {
            this._show("gdocsPopupUnavailable");
        }, Popup.prototype.showOnboarding = function() {
            this._show("onboarding");
        }, Popup.prototype.showLoginReminder = function(loginReminderType) {
            this._loginReminderPopupType = loginReminderType, this._show("loginReminder-" + loginReminderType);
        }, Popup.prototype.showDisable = function() {
            this._show("disable");
        }, Popup.prototype.showSummarize = function(summarizationActions) {
            this._summarizationActions = summarizationActions, this._show("summarize-" + this._summarizaPopupView);
        }, Popup.prototype._show = function(type) {
            var _this = this, rects = this.el.getBoundingClientRect();
            this.type = type, this._offsets = base_1.offsetFromGbuttonTopLeft[type], this._isFlipped = rects.top < this._offsets.height, 
            [ "disable", "gdocsFeedbackUI", "summarize-default", "summarize-expanded" ].includes(type) ? this._render(!0) : this._showTimeout = setTimeout(function() {
                return _this._render(!0);
            }, 700), this.isActive = !0, dom_1.listen(window, "resize", this._windowResize, !1);
        }, Popup.prototype.hide = function() {
            this.isActive = !1, this._container && ReactDOM.unmountComponentAtNode(this._container), 
            dom_1.unlisten(window, "resize", this._windowResize, !1), clearTimeout(this._showTimeout);
        }, Popup.prototype._render = function(isFirstLoad) {
            var popup, _this = this;
            this._checkContainer();
            var styles = this._getStyles(isFirstLoad), domain = location_1.getDomain();
            switch (this.type) {
              case "onboarding":
                popup = React.createElement(onboarding_1.OnboardingPopup, {
                    isFlipped: this._isFlipped,
                    styles: styles,
                    openOnboardingDialog: function() {
                        return _this._openDialog();
                    },
                    remove: function() {
                        return _this.hide();
                    }
                });
                break;

              case "disable":
                popup = React.createElement(disable_1.DisablePopup, {
                    domain: domain,
                    styles: styles,
                    remove: function() {
                        return _this.hide();
                    },
                    disableOnTab: function() {
                        _this.actions.disableOnTab(), tracking_2.gnar.disableUntilNextVisitButtonClick("disablePopup", location_1.isGdocsSite() ? tracking_3.SiteCategory.gdocs : tracking_3.SiteCategory.other), 
                        tracking_1.felog.disableUntilNextVisit(), _this.remove(), _this._notifications.showDisableOnTab();
                    },
                    disableSite: function() {
                        _this.actions.toggleSite(!1, domain), tracking_2.gnar.checkingToggleClick("gButton", location_1.isGdocsSite() ? tracking_3.SiteCategory.gdocs : tracking_3.SiteCategory.other, "off"), 
                        tracking_1.felog.toggleExtension(!1, "gButton"), _this.remove(), _this._notifications.showDisable();
                    }
                });
                break;

              case "loginReminder-free":
              case "loginReminder-premium":
                popup = React.createElement(login_reminder_1.LoginReminderPopup, {
                    isFlipped: this._isFlipped,
                    styles: styles,
                    remove: function() {
                        return _this.hide();
                    },
                    reminderType: this._loginReminderPopupType,
                    openSignInDialog: function() {
                        _this.editor.showDialog({
                            caller: "loginReminder",
                            shouldOpenLoginView: !0
                        });
                    },
                    disableLoginReminder: function() {
                        _this.actions.disableLoginReminder(), _this.hide(), tracking_2.gnar.loginReminderDoNotShowThisAgainButtonClick("loginReminder");
                    }
                });
                break;

              case "gdocsFeedbackUI":
                popup = React.createElement(feedback_1.GdocsFeedbackUI, {
                    styles: styles,
                    close: function() {
                        return _this.hide();
                    }
                });
                break;

              case "summarize-default":
              case "summarize-expanded":
                popup = React.createElement(summarize_1.SummarizePopup, {
                    styles: styles,
                    remove: function() {
                        return _this.hide();
                    },
                    actions: this._summarizationActions,
                    editorId: this.editorId,
                    view: this._summarizaPopupView,
                    changeView: this._changeSummarizationViewType
                });
                break;

              case "gdocsPopupUnavailable":
                popup = React.createElement(gdocs_opt_in_1.GdocsPopupEditorUnavailable, {
                    errorData: this.editor.errorData(),
                    docId: String(this.editor.id),
                    styles: styles,
                    close: function() {
                        return _this.hide();
                    },
                    onClick: function() {
                        _this._createDocument(), _this.hide();
                    }
                });
                break;

              default:
                return void log.error("Error: unsupported type of gButton popup");
            }
            this._component = ReactDOM.render(popup, this._container);
        }, Popup.prototype.remove = function() {
            this.hide(), this._container && (ReactDOM.unmountComponentAtNode(this._container), 
            this._container.removeEventListener("click", this.containerClickHandler)), this._container && this._container.parentNode && (this._container.parentNode.removeChild(this._container), 
            this._container = null);
        }, Popup;
    }();
    exports.Popup = Popup;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), focal_1 = __webpack_require__(91), Observable_1 = __webpack_require__(0), position_1 = __webpack_require__(101), tracking_1 = __webpack_require__(20), dom_1 = __webpack_require__(3), viewLoader_1 = __webpack_require__(611), email_selectors_1 = __webpack_require__(444), dom_2 = __webpack_require__(3), logger_1 = __webpack_require__(1), style = __webpack_require__(1059), CONFIDENTIAL_KEYWORDS = [ "confidential", "confidentiality note", "email disclaimer" ], SUMMARY_KEYWORDS = [ "tldr", "tl;dr", "summary", "summarization", "key points" ], log = logger_1.Logger.create("lib.editor.emailSummarization"), EmailSummarization = function() {
        function EmailSummarization(_editor, _gButtonEl, _gButtonPopup, _disableEmailSummarization, _wordLimit, _changeObserver) {
            void 0 === _wordLimit && (_wordLimit = 300), void 0 === _changeObserver && (_changeObserver = new Observable_1.Observable(function(o) {
                var handle = function() {
                    return o.next();
                };
                return _editor.on("change", handle), function() {
                    return _editor.off("change", handle);
                };
            }).debounceTime(200));
            var _this = this;
            this._editor = _editor, this._gButtonEl = _gButtonEl, this._gButtonPopup = _gButtonPopup, 
            this._disableEmailSummarization = _disableEmailSummarization, this._wordLimit = _wordLimit, 
            this._changeObserver = _changeObserver, this._showSummarizationEl = focal_1.Atom.create(!1), 
            this.actions = {
                accept: function() {
                    _this._showSummarizationEl.set(!1), tracking_1.gnar.emailSummarizationAcceptButtonClick(_this._editor.id, "emailSummarizationPopup"), 
                    _this._editor.api.sendEmailSummaryAcknowledget(), _this._addSendEventListener(), 
                    _this.unload();
                },
                ignore: function() {
                    _this._showSummarizationEl.set(!1), tracking_1.gnar.emailSummarizationIgnoreButtonClick(_this._editor.id, "emailSummarizationPopup"), 
                    _this._editor.api.sendEmailSummaryNotHelpful(), _this.unload();
                },
                disable: function() {
                    _this._showSummarizationEl.set(!1), tracking_1.gnar.emailSummarizationDisableButtonClick(_this._editor.id, "emailSummarizationPopup"), 
                    _this._disableEmailSummarization(), _this.unload();
                }
            }, this._getTransformStyles = function() {
                var _b, _a = position_1.getAbsRect(_this._gButtonEl), top = _a.top, left = _a.left, transform = dom_1.transformProp(_this._gButtonEl.ownerDocument), xTranslate = left - 84;
                return Object.assign({}, ((_b = {})[transform] = "translate(" + xTranslate + "px, " + top + "px) scale(1)", 
                _b));
            }, this._resizeObserver = Observable_1.Observable.fromEvent(window, "resize").startWith(function() {
                return _this._getTransformStyles();
            }).map(function() {
                return _this._getTransformStyles();
            }).debounceTime(50), this._view = function() {
                return React.createElement(focal_1.F.div, {
                    style: _this._resizeObserver,
                    className: style.summarizationContainer,
                    onClick: function() {
                        _this._gButtonPopup.showSummarize(_this.actions), tracking_1.gnar.emailSummarizationPopupShow(_this._editor.id);
                    }
                }, _this._showSummarizationEl.view(function(x) {
                    return x ? React.createElement("div", {
                        className: style.errorView
                    }, "Clarity Tip") : null;
                }));
            }, this._viewLoader = new viewLoader_1.ViewLoader(this._editor.el.ownerDocument.body, this._view), 
            this._changeListener = this._changeObserver.subscribe(function() {
                var rawText = _this._editor.currentText.toLowerCase(), confidentialIndexes = CONFIDENTIAL_KEYWORDS.map(function(k) {
                    return rawText.indexOf(k);
                }).filter(function(i) {
                    return i > 0;
                }), lastIndex = confidentialIndexes.length > 0 ? Math.min.apply(Math, __spread(confidentialIndexes)) : rawText.length, len = rawText.substring(0, lastIndex).trim().split(/\s+/).length, showSummarizationEl = _this._showSummarizationEl.get(), shouldShowSummarizationEl = len > _this._wordLimit;
                _this._showSummarizationEl.set(shouldShowSummarizationEl), !1 === showSummarizationEl && !0 === shouldShowSummarizationEl && tracking_1.gnar.emailSummarizationBadgeShow(_this._editor.id);
            }), this._addSendEventListener = function() {
                var sendBtn = dom_2.closestEl(_this._editor.el, email_selectors_1.sendBtnSelector);
                sendBtn && Observable_1.Observable.fromEvent(sendBtn, "click").subscribe(function(_) {
                    return _this._trySendSummary();
                });
            }, this._trySendSummary = function() {
                try {
                    var rawText_1 = _this._editor.currentText.toLowerCase(), possibleSummaryStart = SUMMARY_KEYWORDS.find(function(x) {
                        return rawText_1.indexOf(x) > 0;
                    });
                    if (void 0 !== possibleSummaryStart) {
                        var possibleSummaryStartIndex = rawText_1.indexOf(possibleSummaryStart), summary = rawText_1.substring(possibleSummaryStartIndex).match(/\(?[^\.\?\!]+[\.!\?]\)?/g);
                        null !== summary && _this._editor.api.sendEmailSummary(summary[0]);
                    }
                } catch (err) {
                    log.error("fail by parsing gmail summary");
                }
            };
        }
        return EmailSummarization.prototype.unload = function() {
            this._changeListener.unsubscribe(), this._viewLoader.dispose();
        }, EmailSummarization;
    }();
    exports.EmailSummarization = EmailSummarization;
}, function(module, exports) {
    module.exports = {
        summarizationContainer: "_1xzXq",
        errorView: "ISSU7"
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var extendStatics, __extends = this && this.__extends || (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(d, b) {
        d.__proto__ = b;
    } || function(d, b) {
        for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
    }, function(d, b) {
        function __() {
            this.constructor = d;
        }
        extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
        new __());
    });
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var ContentScriptSocket = function(_super) {
        function ContentScriptSocket(socketId, _send) {
            var _this = _super.call(this) || this;
            return _this.socketId = socketId, _this._send = _send, _this.send = function(message) {
                return _this._send("send", message);
            }, _this.close = function() {
                return _this._send("close");
            }, _this.connect = function(force) {
                return _this._send("connect", force);
            }, _this.reconnect = function(doEmit) {
                return _this._send("reconnect", doEmit);
            }, _this.release = function() {
                return _this._send("release");
            }, _this.wsPlay = function() {
                return _this._send("wsPlay");
            }, _this.wsPause = function() {
                return _this._send("wsPause");
            }, _this.toString = function() {
                return "[object SocketClient]";
            }, _this;
        }
        return __extends(ContentScriptSocket, _super), ContentScriptSocket;
    }(__webpack_require__(603).Emitter);
    exports.ContentScriptSocket = ContentScriptSocket;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var logger_1 = __webpack_require__(1), tracking_1 = __webpack_require__(8), dom_1 = __webpack_require__(3), integration_1 = __webpack_require__(183), GDocsPageIntegration = function() {
        function GDocsPageIntegration(legacyFactory, _user, _log) {
            void 0 === _log && (_log = logger_1.Logger.create("cs.integration.gdocs")), this._user = _user, 
            this._log = _log, this._wasUnlistenFromInjectFailed = !1, this._subscribeToGDocsInjectFailed(), 
            this._addSomethingWentWrongMonitoring(), this._addBloodyBarMonitoring(), this._legacy = legacyFactory(), 
            this._log.debug("Legacy integration for gdocs was created");
        }
        return GDocsPageIntegration.prototype.update = function(state) {
            this._legacy.update(state), this._log.debug("Legacy integration for gdocs was updated");
        }, GDocsPageIntegration.prototype.dispose = function() {
            this._legacy.dispose(), this._log.debug("Legacy integration for gdocs was disposed");
        }, GDocsPageIntegration.prototype._addBloodyBarMonitoring = function() {
            var _this = this;
            this._bloodyBarInterval = setInterval(function() {
                var el = document.querySelector("div.jfk-butterBar.jfk-butterBar-warning.jfk-butterBar-shown");
                el && (el.innerText.includes("Saving your changes is taking longer than usual. Editing is temporarily disabled.") || el.innerText.includes("revert to an earlier revision")) && (_this._bloodyBarInterval && clearInterval(_this._bloodyBarInterval), 
                _this._bloodyBarInterval = null, tracking_1.felog.gdocs.editingDisabledNotification());
            }, 5e3);
        }, GDocsPageIntegration.prototype._addSomethingWentWrongMonitoring = function() {
            var _this = this;
            this._butterBarInterval = setInterval(function() {
                var el = document.querySelector("div.jfk-butterBar.jfk-butterBar-info.jfk-butterBar-shown");
                el && el.innerText.includes("Something went wrong.") && (_this._butterBarInterval && clearInterval(_this._butterBarInterval), 
                _this._butterBarInterval = null, tracking_1.felog.gdocs.somethingWentWrongNotification());
            }, 5e3);
        }, GDocsPageIntegration.prototype._subscribeToGDocsInjectFailed = function() {
            var _this = this;
            if (this._user && this._user.experiments && this._user.experiments.googleDocsBeta) {
                var gdocsInjectFailedHandler_1 = function(_a) {
                    var detail = _a.detail;
                    dom_1.unlisten(window, integration_1.gdocsCustomEvents.injectFailed, gdocsInjectFailedHandler_1), 
                    _this._wasUnlistenFromInjectFailed || (_this._wasUnlistenFromInjectFailed = !0, 
                    _this.dispose(), detail.message && tracking_1.felog.gdocs.injectedSciptRollback(detail.message)), 
                    _this._log.trace("gdocsCompatibilityCrashed", detail && detail.message || detail);
                };
                dom_1.listen(window, integration_1.gdocsCustomEvents.injectFailed, gdocsInjectFailedHandler_1);
            }
        }, GDocsPageIntegration;
    }();
    exports.GDocsPageIntegration = GDocsPageIntegration;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Observable_1 = __webpack_require__(0), Subscription_1 = __webpack_require__(30), asap_1 = __webpack_require__(335), stdlib_1 = __webpack_require__(4), mutationObservable_1 = __webpack_require__(336), field_1 = __webpack_require__(445), logger_1 = __webpack_require__(1), GenericPageIntegration = function() {
        function GenericPageIntegration(_pageContext, _state, _legacyData, _fieldRules, _mutations, _textFieldsObservable, _maxSimultaneousIntegrations, _log) {
            void 0 === _mutations && (_mutations = mutationObservable_1.MutationObservable.createFlattenHot(_pageContext.doc, {
                childList: !0,
                subtree: !0
            })), void 0 === _textFieldsObservable && (_textFieldsObservable = GenericPageIntegration.createFocusObservable(_pageContext.doc, _mutations)), 
            void 0 === _maxSimultaneousIntegrations && (_maxSimultaneousIntegrations = 5), void 0 === _log && (_log = logger_1.Logger.create("universal.cs.integration.generic"));
            var _this = this;
            this._pageContext = _pageContext, this._state = _state, this._legacyData = _legacyData, 
            this._fieldRules = _fieldRules, this._mutations = _mutations, this._textFieldsObservable = _textFieldsObservable, 
            this._maxSimultaneousIntegrations = _maxSimultaneousIntegrations, this._log = _log, 
            this._integrationsBuffer = new stdlib_1.CircularBuffer(this._maxSimultaneousIntegrations), 
            this._subscriptions = new Subscription_1.Subscription(), this._disposed = !1, this._initializeOnNewField = function(field) {
                try {
                    var fieldContext = __assign({
                        field: field,
                        state: _this._state,
                        pageContext: _this._pageContext
                    }, _this._legacyData), fieldIntegrationRule = field_1.chooseRule(_this._fieldRules, fieldContext);
                    fieldIntegrationRule ? (_this._log.debug("creating field integration for field", field), 
                    _this._addIntegration(fieldIntegrationRule.execute(fieldContext)), _this._log.debug("field integration is created for field", field)) : _this._log.debug("no matching integration was found for field", field);
                } catch (err) {
                    _this._log.error("failed to initialize on field", err, field);
                }
            }, this._disposeOnRemovedFields = function(mutation) {
                var affectedIntegrations = stdlib_1.Arr.distinct(stdlib_1.Arr.flatMap(function(removedNode) {
                    return _this._integrationsBuffer.toArray().filter(function(integration) {
                        return removedNode.contains(integration.textField);
                    });
                }, Array.from(mutation.removedNodes)));
                _this._disposeIntegrations(affectedIntegrations);
            };
            var source = this._textFieldsObservable.filter(function(field) {
                return !_this._isAlreadyIntegrated(field);
            });
            this._subscriptions.add(source.subscribe(this._initializeOnNewField)), this._subscriptions.add(this._mutations.subscribe(this._disposeOnRemovedFields)), 
            this._log.debug("generic page integration created");
        }
        return GenericPageIntegration.prototype.update = function(state) {
            try {
                this._state = state, this._integrationsBuffer.toArray().forEach(function(integration) {
                    return integration.update(state);
                });
            } catch (err) {
                this._log.warn("Error while updating generic page integration", err);
            }
        }, GenericPageIntegration.prototype.dispose = function() {
            try {
                this._disposed ? this._log.warn("attempt to dispose already disposed page integration") : (this._disposed = !0, 
                this._subscriptions.unsubscribe(), this._disposeIntegrations(this._integrationsBuffer.toArray()));
            } catch (err) {
                this._log.warn("Error while unloading generic page integration", err);
            }
        }, GenericPageIntegration.prototype._isAlreadyIntegrated = function(field) {
            return !!this._integrationsBuffer.toArray().find(function(i) {
                return i.textField === field;
            });
        }, GenericPageIntegration.prototype._addIntegration = function(integration) {
            this._integrationsBuffer.isFull && this._disposeIntegrations([ this._integrationsBuffer.head ]), 
            this._integrationsBuffer.enqueue(integration);
        }, GenericPageIntegration.prototype._disposeIntegrations = function(integrations) {
            var _this = this;
            try {
                integrations.forEach(function(integration) {
                    try {
                        _this._log.trace("start integration disposing", integration), _this._integrationsBuffer.delete(integration), 
                        integration.dispose();
                    } catch (err) {
                        _this._log.error("Failed to dispose field integration for field", err, integration.textField);
                    }
                });
            } catch (err) {
                this._log.warn("Error while disposing text field integrations", err);
            }
        }, GenericPageIntegration;
    }();
    exports.GenericPageIntegration = GenericPageIntegration, function(GenericPageIntegration) {
        var log = logger_1.Logger.create("universal.cs.integration.observables"), defaultFocusGenerator = function(doc) {
            return Observable_1.Observable.fromEvent(doc, "focus", !0);
        };
        function docInfo(document, frame) {
            return {
                document: document,
                frame: frame
            };
        }
        GenericPageIntegration.createFocusObservable = function(doc, mutations, focusObservableGen) {
            return void 0 === focusObservableGen && (focusObservableGen = defaultFocusGenerator), 
            function(root, mutations) {
                var rootDocument = docInfo(root), existingIFrames = Observable_1.Observable.from(root.getElementsByTagName("iframe")), addedIFrames = mutations.concatMap(function(m) {
                    return Array.from(m.addedNodes);
                }).filter(function(n) {
                    return "IFRAME" === n.nodeName;
                });
                return existingIFrames.concat(addedIFrames).mergeMap(function(frame) {
                    try {
                        var iFrameElement_1 = frame;
                        return function(frame) {
                            var iframeDoc = frame.contentDocument;
                            return iframeDoc && "complete" === iframeDoc.readyState;
                        }(iFrameElement_1) ? Observable_1.Observable.of(iFrameElement_1) : Observable_1.Observable.fromEventPattern(function(handler) {
                            return iFrameElement_1.addEventListener("load", handler, !0);
                        }, function(handler) {
                            return iFrameElement_1.removeEventListener("load", handler);
                        }, function() {
                            return iFrameElement_1;
                        }).take(1);
                    } catch (error) {
                        return log.warn("failed to receive iframes document", error), Observable_1.Observable.of(null);
                    }
                }).map(function(ifr) {
                    try {
                        if (null !== ifr && null !== ifr.contentDocument) return docInfo(ifr.contentDocument, ifr);
                    } catch (error) {
                        log.warn("failed to receive iframes document", error);
                    }
                    return null;
                }).filter(function(x) {
                    return null !== x;
                }).map(function(x) {
                    return x;
                }).startWith(rootDocument);
            }(doc, mutations).mergeMap(function(d) {
                return function(docInfo, focusObservableGen) {
                    var doc = docInfo.document, polling = Observable_1.Observable.interval(stdlib_1.Ms.second), terminate = polling.filter(function(_) {
                        return !doc.defaultView;
                    }), initialFocus = Observable_1.Observable.defer(function() {
                        return Observable_1.Observable.of(doc.activeElement).filter(function(e) {
                            return e && e instanceof HTMLElement;
                        });
                    }), focusedByEvent = focusObservableGen(doc).map(function(e) {
                        return e.target;
                    }), focusBackup = polling.filter(function(_) {
                        return !!doc.defaultView && "visible" === doc.visibilityState && !!doc.activeElement;
                    }).map(function(_) {
                        return doc.activeElement;
                    }), focus = focusedByEvent.merge(focusBackup).filter(function(el) {
                        return doc.defaultView && doc.defaultView.HTMLElement && el instanceof doc.defaultView.HTMLElement;
                    }).map(function(el) {
                        return el;
                    }).distinctUntilChanged();
                    return initialFocus.concat(focus).map(function(element) {
                        return docInfo.frame ? docInfo.frame : element;
                    }).takeUntil(terminate);
                }(d, focusObservableGen);
            }).distinctUntilChanged().observeOn(asap_1.asap);
        };
    }(GenericPageIntegration = exports.GenericPageIntegration || (exports.GenericPageIntegration = {})), 
    exports.GenericPageIntegration = GenericPageIntegration;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var logger_1 = __webpack_require__(1);
    !function(LoggingDecorator) {
        var FieldIntegrationLoggingDecorator = function() {
            function FieldIntegrationLoggingDecorator(integrationFactory, _integrationName, _log) {
                void 0 === _log && (_log = logger_1.Logger.create("universal.cs.integration.field." + _integrationName)), 
                this._integrationName = _integrationName, this._log = _log, this._disposed = !1, 
                this._log.trace(this._integrationName + " creation started");
                try {
                    this.integration = integrationFactory(), this._log.trace(this._integrationName + " creation finished", this.textField);
                } catch (err) {
                    throw this._log.error(this._integrationName + " creation failed", err), err;
                }
            }
            return Object.defineProperty(FieldIntegrationLoggingDecorator.prototype, "textField", {
                get: function() {
                    return this.integration.textField;
                },
                enumerable: !0,
                configurable: !0
            }), FieldIntegrationLoggingDecorator.prototype.update = function(newState) {
                if (this._log.trace(this._integrationName + " updating state", {
                    element: this.textField,
                    state: newState
                }), this._disposed) this._log.warn("Trying to update already unloaded " + this._integrationName + " integration", this.textField); else try {
                    this.integration.update(newState);
                } catch (err) {
                    throw this._log.error(this._integrationName + " update failed", err), err;
                }
            }, FieldIntegrationLoggingDecorator.prototype.dispose = function() {
                if (this._log.trace(this._integrationName + " disposing", this.textField), this._disposed) this._log.warn("Trying to dispose already disposed " + this._integrationName + " integration", this.textField); else {
                    this._disposed = !0;
                    try {
                        this.integration.dispose();
                    } catch (err) {
                        throw this._log.error(this._integrationName + " dispose failed", err), err;
                    }
                }
            }, FieldIntegrationLoggingDecorator;
        }();
        LoggingDecorator.decorate = function(integrationFactory, integrationName) {
            return new FieldIntegrationLoggingDecorator(integrationFactory, integrationName);
        };
    }(exports.LoggingDecorator || (exports.LoggingDecorator = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var abstractRules_1 = __webpack_require__(502);
    exports.chooseRule = function(rules, context) {
        return abstractRules_1.firstMatchRule(context, rules);
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var list_1 = __webpack_require__(1066);
    exports.getFieldIntegrationRules = list_1.getFieldIntegrationRules;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var textarea_1 = __webpack_require__(1067), contenteditable_1 = __webpack_require__(1071), iframe_1 = __webpack_require__(1072), gdocs_1 = __webpack_require__(1073), htmlghost_1 = __webpack_require__(1074);
    exports.getFieldIntegrationRules = function() {
        return [ gdocs_1.gDocs, iframe_1.iframe, textarea_1.textarea, contenteditable_1.contenteditable, htmlghost_1.htmlghost ];
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var _1 = __webpack_require__(337), validation_1 = __webpack_require__(338), textareaImpl = {
        type: "textarea",
        canExecute: function(context) {
            return "TEXTAREA" === context.field.tagName;
        },
        execute: function(context) {
            return _1.textAreaIntegration(context);
        }
    };
    exports.textarea = new validation_1.SimpleFieldValidationDecorator(textareaImpl);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var button_1 = __webpack_require__(505), LegacyIntegration = function() {
        function LegacyIntegration(_context, _buttonType) {
            this._context = _context, this._buttonType = _buttonType, this.textField = _context.field, 
            this._button = button_1.Button(__assign({
                app: this._context.app
            }, this._context.state, {
                field: this.textField,
                type: this._buttonType,
                actions: this._context.actions,
                createSocket: this._context.createSocket
            }));
        }
        return LegacyIntegration.prototype.update = function(newState) {
            this._button.updateState(newState);
        }, LegacyIntegration.prototype.dispose = function() {
            this._button.remove();
        }, LegacyIntegration;
    }();
    exports.LegacyIntegration = LegacyIntegration;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var legacyFieldValidator_1 = __webpack_require__(1070), logger_1 = __webpack_require__(1), tracking_1 = __webpack_require__(8), field_type_detect_1 = __webpack_require__(204), location_1 = __webpack_require__(15), util_1 = __webpack_require__(2), SimpleFieldValidationDecorator = function() {
        function SimpleFieldValidationDecorator(_rule, _validator, _log) {
            void 0 === _validator && (_validator = new legacyFieldValidator_1.LegacyFieldValidator()), 
            void 0 === _log && (_log = logger_1.Logger.create("universal.cs.integration.fields.textarea")), 
            this._rule = _rule, this._validator = _validator, this._log = _log;
        }
        return Object.defineProperty(SimpleFieldValidationDecorator.prototype, "type", {
            get: function() {
                return this._rule.type;
            },
            enumerable: !0,
            configurable: !0
        }), SimpleFieldValidationDecorator.prototype._isContentEditable = function() {
            return "contenteditable" === this.type;
        }, SimpleFieldValidationDecorator.prototype.canExecute = function(context) {
            if (this._rule.canExecute(context)) {
                if (this._validator.validate(context, this._isContentEditable())) return !0;
                this._log.trace("In spite of basic match field integration was not applied            as it does not pass validation", context.field), 
                this._validator.shouldTrackNonValid(context, this._isContentEditable()) && function(context) {
                    var field = context.field, state = context.state;
                    new Promise(function(resolve) {
                        util_1.asyncCall(function() {
                            try {
                                tracking_1.felog.initSession(location_1.getDomain(field), state.user.type, field_type_detect_1.getFieldType(field), !1);
                            } catch (err) {}
                            resolve();
                        });
                    });
                }(context);
            }
            return !1;
        }, SimpleFieldValidationDecorator.prototype.execute = function(context) {
            return this._rule.execute(context);
        }, SimpleFieldValidationDecorator;
    }();
    exports.SimpleFieldValidationDecorator = SimpleFieldValidationDecorator;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var config_1 = __webpack_require__(10), location_1 = __webpack_require__(15), dom_1 = __webpack_require__(3), field_type_detect_1 = __webpack_require__(204), util_1 = __webpack_require__(613), LegacyFieldValidator = function() {
        function LegacyFieldValidator(_isFbSite) {
            void 0 === _isFbSite && (_isFbSite = location_1.isFacebookSite), this._isFbSite = _isFbSite;
        }
        return LegacyFieldValidator.prototype.validate = function(context, isContenteditable) {
            var el = context.field, util = new util_1.ValidatorUtil(context.state.page), restricted = checkRestrictionByAttributes(el, isContenteditable, config_1.restrictedAttrs), isFieldEnabled = util.isFieldEnabled(el);
            return function(el, isFb) {
                var forceEnabled = hasForceEnableAttr(el), draftjs = field_type_detect_1.isDraftJsField(el);
                return forceEnabled || !draftjs || isFb;
            }(el, this._isFbSite()) && !restricted && !restrictedByCustomAttr(el, isContenteditable) && !util.isFieldIsSmall(el) && (isFieldEnabled || dom_1.hasClass(el, "grammDemo"));
        }, LegacyFieldValidator.prototype.shouldTrackNonValid = function(context, isContenteditable) {
            var el = context.field, util = new util_1.ValidatorUtil(context.state.page);
            return restrictedByCustomAttr(el, isContenteditable) || !util.isFieldEnabled(el);
        }, LegacyFieldValidator;
    }();
    function restrictedByCustomAttr(el, isContenteditable) {
        return checkRestrictionByAttributes(el, isContenteditable, config_1.customFieldsRestrictedAttrs) && !hasForceEnableAttr(el);
    }
    function hasForceEnableAttr(el) {
        return el.hasAttribute(config_1.forceEnableAttr.name) && el.getAttribute(config_1.forceEnableAttr.name) === config_1.forceEnableAttr.value;
    }
    function checkRestrictionByAttributes(el, isContenteditable, attrs) {
        return attrs.filter(function(attr) {
            return !isContenteditable || "readonly" !== attr;
        }).some(function(attr) {
            return Array.isArray(attr) ? el.hasAttribute(attr[0]) && el.getAttribute(attr[0]).includes(attr[1]) : el.hasAttribute(attr);
        }) || "rtl" === el.getAttribute("dir");
    }
    exports.LegacyFieldValidator = LegacyFieldValidator;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var _1 = __webpack_require__(337), dom_1 = __webpack_require__(3), config_1 = __webpack_require__(10), validation_1 = __webpack_require__(338), html_ghost_locator_1 = __webpack_require__(327), contenteditableImpl = {
        type: "contenteditable",
        canExecute: function(context) {
            var el, field = context.field, contenteditableAttr = field.getAttribute("contenteditable"), isFieldAppropriate = !(!contenteditableAttr || "false" === contenteditableAttr || field.getAttribute("data-reactid")), hasRestrictedAncestor = (el = field, 
            !!dom_1.getParentBySel(el, config_1.restrictedParentAttrs));
            return isFieldAppropriate && !hasRestrictedAncestor && !html_ghost_locator_1.isHtmlGhostSite();
        },
        execute: function(context) {
            return _1.contentEditableIntegration(context);
        }
    };
    exports.contenteditable = new validation_1.SimpleFieldValidationDecorator(contenteditableImpl);
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var _1 = __webpack_require__(337), validation_1 = __webpack_require__(338), dom_1 = __webpack_require__(3), iframe_1 = __webpack_require__(353), config_1 = __webpack_require__(10), util_1 = __webpack_require__(2);
    function checkRestrictionByAttributes(el, isContenteditable, attrs) {
        return attrs.filter(function(attr) {
            return !isContenteditable || "readonly" !== attr;
        }).some(function(attr) {
            return Array.isArray(attr) ? el.hasAttribute(attr[0]) && el.getAttribute(attr[0]).includes(attr[1]) : el.hasAttribute(attr);
        }) || "rtl" === el.getAttribute("dir");
    }
    exports.iframe = {
        type: "iframe",
        canExecute: function(context) {
            var field = context.field;
            return !("IFRAME" !== field.tagName || !function(frame, doc, state) {
                var page = state.page, util = new validation_1.ValidatorUtil(page), domainTester = doc.createElement("a"), host = doc.location.hostname, frameRe = new RegExp("://" + host);
                if (domainTester.href = frame.src, 0 === frame.src.indexOf("http") && !frameRe.test(frame.src) || "about:blank" === frame.src) return;
                if (frame.src && -1 === frame.src.indexOf("javascript:") && (domainTester.protocol !== document.location.protocol || domainTester.hostname !== document.location.hostname || domainTester.port !== document.location.port)) return;
                if (dom_1.hasClass(frame, iframe_1.baseCls)) return;
                var frameDoc = null;
                try {
                    frameDoc = frame.contentDocument;
                } catch (e) {
                    return;
                }
                if (frameDoc && !frameDoc.body) return;
                if (!frameDoc || checkRestrictionByAttributes(frame, !1, config_1.allRestrictedAttrs) || checkRestrictionByAttributes(frameDoc.body, !1, config_1.allRestrictedAttrs) || !util.isFieldEnabled(frame)) return;
                var html = frameDoc.querySelector("html") || {
                    hasAttribute: function(_) {
                        return !1;
                    }
                };
                if ("on" !== frameDoc.designMode && !frameDoc.body.hasAttribute("contenteditable") && "false" !== frameDoc.body.getAttribute("contenteditable") && !html.hasAttribute("contenteditable") && "false" !== html.getAttribute("contenteditable")) return;
                if (util.isFieldIsSmall(frame)) return;
                util_1.isFF() && "on" === frameDoc.designMode && (frameDoc.designMode = "off", frameDoc.body.setAttribute("contenteditable", "true"));
                return !0;
            }(field, context.pageContext.doc, context.state));
        },
        execute: function(context) {
            return _1.iframeIntegration(context);
        }
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var _1 = __webpack_require__(337), validation_1 = __webpack_require__(338), integration_1 = __webpack_require__(183), location_1 = __webpack_require__(15), gDocsImpl = {
        type: "gdocs",
        canExecute: function(context) {
            var user = context.state.user;
            return !!(location_1.isGdocsSite() && user && user.experiments && user.experiments.googleDocsBeta && context.field.matches("." + integration_1.gDocsEditorElementClassName));
        },
        execute: function(context) {
            return _1.gDocsIntegration(context);
        }
    };
    exports.gDocs = new validation_1.SimpleFieldValidationDecorator(gDocsImpl);
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var _1 = __webpack_require__(337), validation_1 = __webpack_require__(338), html_ghost_locator_1 = __webpack_require__(327), htmlghostImpl = {
        type: "htmlghost",
        canExecute: function(context) {
            return html_ghost_locator_1.isHtmlGhostSite() && context.field.matches(html_ghost_locator_1.getHtmlGhostSelector());
        },
        execute: function(context) {
            return _1.htmlGhostIntegration(context);
        }
    };
    exports.htmlghost = new validation_1.SimpleFieldValidationDecorator(htmlghostImpl);
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var generic_1 = __webpack_require__(1076);
    exports.Generic = generic_1.Generic;
    var slack_1 = __webpack_require__(1108);
    exports.Slack = slack_1.Slack;
    var medium_1 = __webpack_require__(1109);
    exports.Medium = medium_1.Medium;
    var superhuman_1 = __webpack_require__(1110);
    exports.Superhuman = superhuman_1.Superhuman;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var base_1 = __webpack_require__(371);
    !function(Generic) {
        Generic.contentEditable = function(createCheckingService) {
            return void 0 === createCheckingService && (createCheckingService = base_1.createDefaultCheckingService), 
            {
                type: "contenteditable",
                canExecute: function(ctx) {
                    return base_1.isContentEditable(ctx.field);
                },
                execute: function(ctx) {
                    return base_1.IntegrationFactory.createContentEditable(ctx, createCheckingService);
                }
            };
        }, Generic.iframe = function(createCheckingService) {
            return void 0 === createCheckingService && (createCheckingService = base_1.createDefaultCheckingService), 
            {
                type: "iframe",
                canExecute: function(ctx) {
                    if ("IFRAME" === ctx.field.tagName) {
                        var body = ctx.field.contentDocument.body;
                        return base_1.isContentEditable(body);
                    }
                    return !1;
                },
                execute: function(ctx) {
                    return base_1.IntegrationFactory.createIframe(ctx, createCheckingService);
                }
            };
        };
    }(exports.Generic || (exports.Generic = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __values = this && this.__values || function(o) {
        var m = "function" == typeof Symbol && o[Symbol.iterator], i = 0;
        return m ? m.call(o) : {
            next: function() {
                return o && i >= o.length && (o = void 0), {
                    value: o && o[i++],
                    done: !o
                };
            }
        };
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Changesets = __webpack_require__(423), base_1 = __webpack_require__(616), stdlib_1 = __webpack_require__(4);
    !function(LegacyTextChangeImpl) {
        LegacyTextChangeImpl.fromDiff = function(oldText, newText) {
            var e_1, _a, cs = Changesets.diff(oldText, newText), r = [];
            try {
                for (var cs_1 = __values(cs), cs_1_1 = cs_1.next(); !cs_1_1.done; cs_1_1 = cs_1.next()) {
                    var x = cs_1_1.value;
                    "=" !== x.type && r.push("+" === x.type ? base_1.TextChange.ins(x.pos, x.text) : "-" === x.type ? base_1.TextChange.del(x.pos, x.text.length) : stdlib_1.assertNever(x.type));
                }
            } catch (e_1_1) {
                e_1 = {
                    error: e_1_1
                };
            } finally {
                try {
                    cs_1_1 && !cs_1_1.done && (_a = cs_1.return) && _a.call(cs_1);
                } finally {
                    if (e_1) throw e_1.error;
                }
            }
            return r;
        };
    }(exports.LegacyTextChangeImpl || (exports.LegacyTextChangeImpl = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Observable_1 = __webpack_require__(0), Subject_1 = __webpack_require__(27), focal_1 = __webpack_require__(91), capi_1 = __webpack_require__(438), text_api_1 = __webpack_require__(602), logger_1 = __webpack_require__(1), ot_1 = __webpack_require__(339), base_1 = __webpack_require__(615), Config = __webpack_require__(11), stdlib_1 = __webpack_require__(4), alertTypeMap = {
        Spelling: "contextualSpelling",
        ContextualSpelling: "contextualSpelling",
        Grammar: "grammar",
        Style: "style",
        SentenceStructure: "sentenceStructure",
        Punctuation: "punctuation"
    };
    function alertTypeFromGroupString(group) {
        return alertTypeMap[group] || "other";
    }
    exports.alertTypeFromGroupString = alertTypeFromGroupString;
    var LegacyCheckingService = function() {
        function LegacyCheckingService(_docId, _dialect, _domainName, _createSocket, _capiUrl, _capiToken, _clientName, _clientVersion, _checkingStatusTimeoutMs, _log) {
            void 0 === _capiUrl && (_capiUrl = Config.getGlobal().appConfig.url.capi), void 0 === _capiToken && (_capiToken = null), 
            void 0 === _clientName && (_clientName = "extension_" + (_a = {}, _a.chrome = "chrome", 
            _a.firefox = "firefox", _a.safari = "safari", _a.edge = "edge", _a)[Config.getGlobal().bundleInfo.browser]), 
            void 0 === _clientVersion && (_clientVersion = Config.getGlobal().buildInfo.version), 
            void 0 === _checkingStatusTimeoutMs && (_checkingStatusTimeoutMs = stdlib_1.Ms.seconds(20)), 
            void 0 === _log && (_log = logger_1.Logger.create(LegacyCheckingService.name));
            var _a, _this = this;
            this._docId = _docId, this._dialect = _dialect, this._domainName = _domainName, 
            this._createSocket = _createSocket, this._capiUrl = _capiUrl, this._capiToken = _capiToken, 
            this._clientName = _clientName, this._clientVersion = _clientVersion, this._checkingStatusTimeoutMs = _checkingStatusTimeoutMs, 
            this._log = _log, this._api = text_api_1.createTextApi({
                createWs: this._createSocket,
                docid: this._docId,
                dialect: this._dialect,
                capiUrl: this._capiUrl,
                getContainerId: function() {
                    return Promise.reject(void 0);
                },
                extendParams: function(x) {
                    return x;
                },
                capi: function(opts) {
                    return capi_1.capi.createClient(__assign({}, opts, {
                        token: null !== _this._capiToken ? _this._capiToken : void 0,
                        clientName: _this._clientName,
                        clientVersion: _this._clientVersion,
                        extDomain: _this._domainName
                    }));
                }
            }), this._onAdd = new Observable_1.Observable(function(o) {
                var handle = function(a) {
                    return o.next(a);
                };
                return _this._api.on("add", handle), function() {
                    return _this._api.off("add", handle);
                };
            }).share(), this._onRemove = new Observable_1.Observable(function(o) {
                var handle = function(a) {
                    "number" == typeof a ? o.next(a) : "object" == typeof a && "remove" === a.action ? o.next(a.id) : _this._log.warn("unrecognized capi onRemove message", a);
                };
                return _this._api.on("remove", handle), function() {
                    return _this._api.off("remove", handle);
                };
            }).share(), this._onFinish = new Observable_1.Observable(function(o) {
                var handle = function(a) {
                    return o.next(a);
                };
                return _this._api.on("finish", handle), function() {
                    return _this._api.off("finish", handle);
                };
            }).share(), this._onSending = new Observable_1.Observable(function(o) {
                var handle = function() {
                    return o.next();
                };
                return _this._api.on("sending", handle), function() {
                    return _this._api.off("sending", handle);
                };
            }).share(), this._setTextSubject = new Subject_1.Subject(), this._checkingStatusChanged = Observable_1.Observable.merge(this._onSending, this._onAdd, this._onRemove, this._setTextSubject).mapTo(Observable_1.Observable.of("idle").delay(this._checkingStatusTimeoutMs).startWith("inProgress")).merge(this._onFinish.mapTo(Observable_1.Observable.of("idle"))).switch(), 
            this._checkingStatus = focal_1.Atom.create("idle"), this._subs = [ this._checkingStatusChanged.subscribe(function(x) {
                return _this._checkingStatus.set(x);
            }) ], this._currentText = null, this.messages = Observable_1.Observable.merge(this._onAdd.map(function(x) {
                var alert = {
                    id: String(x.id),
                    highlightRange: {
                        start: x.highlightBegin,
                        end: x.highlightEnd
                    },
                    highlightText: x.highlightText,
                    transformRange: {
                        start: x.begin,
                        end: x.end
                    },
                    transformText: x.text,
                    revision: x.rev,
                    priority: x.extra_properties.priority || "",
                    isFree: !!x.free,
                    isHidden: !!x.hidden,
                    group: x.group || "synonyms" !== x.action ? alertTypeFromGroupString(x.group) : "synonym",
                    legacyAlert: x
                };
                return base_1.CheckingServiceMessage.add(alert);
            }), this._onRemove.map(function(x) {
                return base_1.CheckingServiceMessage.remove(String(x));
            })).share(), this.checkingStatus = this._checkingStatus.view();
        }
        return LegacyCheckingService.prototype.setText = function(newText) {
            this._currentText = newText, this._api.update(newText), this._api.send(), this._log.debug("SENDING text for checking!", newText), 
            this._setTextSubject.next();
        }, LegacyCheckingService.prototype.onTextChanged = function(changes) {
            this.setText(ot_1.TextChange.applyChanges(this._currentText || "", changes));
        }, LegacyCheckingService.prototype.onAlertApplied = function(alert) {
            this._api.fluidEx.feedback(alert.legacyAlert, "accepted");
        }, LegacyCheckingService.prototype.onAlertIgnored = function(alert) {
            this._api.fluidEx.feedback(alert.legacyAlert, "ignore");
        }, LegacyCheckingService.prototype.onAddToDictionary = function(word) {
            this._api.fluidEx.addToDictionary(word);
        }, LegacyCheckingService.prototype.onAlertDisplayed = function(alert) {
            this._api.fluidEx.feedback(alert.legacyAlert, "looked");
        }, LegacyCheckingService.prototype.dispose = function() {
            this._subs.forEach(function(x) {
                return x.unsubscribe();
            }), this._subs = [], this._api.close(), this._api.stop();
        }, LegacyCheckingService;
    }();
    exports.LegacyCheckingService = LegacyCheckingService;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var IntersectionObservable, stdlib_1 = __webpack_require__(4), Observable_1 = __webpack_require__(0), BehaviorSubject_1 = __webpack_require__(334);
    !function(IntersectionObservable) {
        IntersectionObservable.isSupported = "undefined" != typeof IntersectionObserver, 
        IntersectionObservable.create = function(target, options) {
            return IntersectionObservable.isSupported ? new Observable_1.Observable(function(o) {
                var io = new IntersectionObserver(function(es) {
                    return o.next(es);
                }, options);
                return io.observe(target), function() {
                    return io.unobserve(target);
                };
            }) : null;
        };
    }(IntersectionObservable = exports.IntersectionObservable || (exports.IntersectionObservable = {})), 
    function(ClientRectObservable) {
        ClientRectObservable.create = function(target, windowSizeBehavior, precisionPx_, ioGridSampleTimeMs, cellOverlapPx, maxCells, minCellSize) {
            var win;
            return void 0 === windowSizeBehavior && (win = target.ownerDocument.defaultView, 
            windowSizeBehavior = Observable_1.Observable.fromEvent(win, "resize").startWith(void 0).map(function(_) {
                return {
                    width: win.innerWidth,
                    height: win.innerHeight
                };
            })), void 0 === precisionPx_ && (precisionPx_ = 1), void 0 === ioGridSampleTimeMs && (ioGridSampleTimeMs = stdlib_1.Ms.hertz(30)), 
            void 0 === cellOverlapPx && (cellOverlapPx = 1), void 0 === maxCells && (maxCells = 500), 
            void 0 === minCellSize && (minCellSize = {
                width: 1,
                height: 1
            }), IntersectionObservable.isSupported ? Observable_1.Observable.defer(function() {
                var precisionPx = Math.max(1, precisionPx_), elementSizeSubject = new BehaviorSubject_1.BehaviorSubject({
                    width: target.clientWidth,
                    height: target.clientHeight
                }), elemClientRect = function(target, elementSizeBehavior, windowSizeBehavior, minCellSize, cellOverlapPx, maxCells, sampleTimeMs, precisionPx) {
                    return Observable_1.Observable.combineLatest(elementSizeBehavior, windowSizeBehavior, function(elSize, winSize) {
                        var cellWidth_ = Math.max(minCellSize.width, elSize.width - cellOverlapPx), cellHeight_ = Math.max(minCellSize.height, elSize.height - cellOverlapPx), xCells_ = Math.ceil(winSize.width / cellWidth_), yCells_ = Math.ceil(winSize.height / cellHeight_), cellCountFactor = Math.sqrt(Math.min(1, maxCells / (xCells_ * yCells_)));
                        return {
                            xCells: Math.floor(xCells_ * cellCountFactor),
                            yCells: Math.floor(yCells_ * cellCountFactor),
                            cellWidth: Math.ceil(cellWidth_ / cellCountFactor),
                            cellHeight: Math.ceil(cellHeight_ / cellCountFactor)
                        };
                    }).distinctUntilChanged(function(x, y) {
                        return x.cellHeight === y.cellHeight && x.cellWidth === y.cellWidth && x.xCells === y.xCells && x.yCells === y.yCells;
                    }).sampleTime(sampleTimeMs).map(function(_a) {
                        var _b, xCells = _a.xCells, yCells = _a.yCells, cellWidth = _a.cellWidth, cellHeight = _a.cellHeight, grid = (_b = []).concat.apply(_b, __spread(Array.from(Array(xCells), function(_, xi) {
                            return Array.from(Array(yCells), function(_, yi) {
                                return {
                                    right: xi * cellWidth,
                                    bottom: yi * cellHeight
                                };
                            });
                        }))), thresholdCount = Math.max(cellWidth / precisionPx, cellHeight / precisionPx), thresholds = thresholdCount ? Array.from(new Array(thresholdCount), function(_, i) {
                            return i / thresholdCount;
                        }) : null;
                        return grid.map(function(_a) {
                            var right = _a.right, bottom = _a.bottom;
                            return IntersectionObservable.create(target, {
                                rootMargin: -bottom + "px 0px 0px " + -right + "px",
                                threshold: thresholds || void 0
                            }) || Observable_1.Observable.empty();
                        });
                    });
                }(target, elementSizeSubject, windowSizeBehavior, minCellSize, cellOverlapPx, maxCells, ioGridSampleTimeMs, precisionPx).switchMap(function(ios) {
                    return Observable_1.Observable.merge.apply(Observable_1.Observable, __spread(ios));
                }).map(function(es) {
                    return es[es.length - 1].boundingClientRect;
                }).distinctUntilChanged(function(x, y) {
                    return x.top === y.top && x.left === y.left && x.width === y.width && x.height === y.height;
                }), elemSizeFeedbackSub = elemClientRect.subscribe(function(cr) {
                    elementSizeSubject.next({
                        width: cr.width,
                        height: cr.height
                    });
                });
                return Observable_1.Observable.using(function() {
                    return elemSizeFeedbackSub;
                }, function(_) {
                    return elemClientRect;
                });
            }) : null;
        };
    }(exports.ClientRectObservable || (exports.ClientRectObservable = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Observable_1 = __webpack_require__(0), base_1 = __webpack_require__(446);
    exports.createIframe = function(target, targetContainerIframe, highlightDomDocument) {
        var iframeContent = targetContainerIframe.contentDocument, highlightWindow = highlightDomDocument.defaultView, getIframeClientPos = function() {
            var iframeRect = targetContainerIframe.getBoundingClientRect();
            return {
                x: iframeRect.left,
                y: iframeRect.top
            };
        }, highlightsLayout = {
            rect: base_1.ApproximateValue.create(function() {
                var clientPos = getIframeClientPos();
                return {
                    pageTop: clientPos.y + highlightWindow.scrollY,
                    pageLeft: clientPos.x + highlightWindow.scrollX,
                    clientTop: clientPos.y,
                    clientLeft: clientPos.x,
                    width: targetContainerIframe.clientWidth,
                    height: targetContainerIframe.clientHeight,
                    padding: base_1.getPadding(targetContainerIframe)
                };
            }, Observable_1.Observable.merge(Observable_1.Observable.interval(base_1.idleRecalcIntervalMs), Observable_1.Observable.fromEvent(highlightWindow, "resize"), Observable_1.Observable.fromEvent(highlightWindow, "keydown"), Observable_1.Observable.fromEvent(highlightWindow, "mousedown"), Observable_1.Observable.fromEvent(iframeContent.defaultView, "resize")).bufferTime(base_1.recalcThrottleIntervalMs).filter(function(x) {
                return x.length > 0;
            }), base_1.equals),
            scroll: base_1.ApproximateValue.create(function() {
                return {
                    left: iframeContent.defaultView.scrollX,
                    top: iframeContent.defaultView.scrollY,
                    width: iframeContent.documentElement.scrollWidth,
                    height: iframeContent.documentElement.scrollHeight
                };
            }, Observable_1.Observable.merge(Observable_1.Observable.fromEvent(iframeContent.defaultView, "scroll"), base_1.getPossibleScrollChange(target)), base_1.equals),
            zIndex: base_1.genericHighlightZIndex(target),
            getHighlightTranslation: getIframeClientPos,
            highlightHeightOffset: 0
        };
        return {
            highlights: highlightsLayout,
            gbutton: base_1.genericGbuttonLayout(highlightsLayout),
            mousePosition: Observable_1.Observable.merge(Observable_1.Observable.fromEvent(target.ownerDocument, "mousemove").sampleTime(base_1.mouseMoveSampleTimeMs).map(function(x) {
                var p = getIframeClientPos();
                return {
                    left: x.clientX + p.x,
                    top: x.clientY + p.y
                };
            }), Observable_1.Observable.fromEvent(targetContainerIframe.ownerDocument, "mousemove").sampleTime(base_1.mouseMoveSampleTimeMs).map(function(x) {
                return {
                    left: x.clientX,
                    top: x.clientY
                };
            })).share()
        };
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Generic = __webpack_require__(617);
    exports.create = function(target) {
        return Generic.create(target, function(target, ownerWindow) {
            var contentDiv = target.querySelector("section > div.section-content > div.section-inner");
            return Generic.getHighlightRectForTextField(contentDiv && contentDiv.nodeType === Node.ELEMENT_NODE ? contentDiv : target, ownerWindow);
        });
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __values = this && this.__values || function(o) {
        var m = "function" == typeof Symbol && o[Symbol.iterator], i = 0;
        return m ? m.call(o) : {
            next: function() {
                return o && i >= o.length && (o = void 0), {
                    value: o && o[i++],
                    done: !o
                };
            }
        };
    }, __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), Observable_1 = __webpack_require__(0), stdlib_1 = __webpack_require__(4), logger_1 = __webpack_require__(1), tracking_1 = __webpack_require__(185), mutationObservable_1 = __webpack_require__(336), location_1 = __webpack_require__(15), popup_1 = __webpack_require__(1083), highlights_1 = __webpack_require__(1086), ot_1 = __webpack_require__(339), alertProcessor_1 = __webpack_require__(1089), textChangeBuffer_1 = __webpack_require__(1091), textMap_1 = __webpack_require__(1092), viewLoader_1 = __webpack_require__(611), gbutton_1 = __webpack_require__(1095), fieldIntegrationController_1 = __webpack_require__(1102), inlineCards_1 = __webpack_require__(624), replacement_1 = __webpack_require__(1107), AquaFieldIntegration = function() {
        function AquaFieldIntegration(textField, _domain, _targetAuxDomContainer, _layout, _checkingService, _inlineCardView, _state, _actions, _notifications, _gnar, _felog, _highlightedAlertFilter, _textObserver, _replacementService, _log) {
            void 0 === _highlightedAlertFilter && (_highlightedAlertFilter = function(a) {
                return a.isFree;
            }), void 0 === _textObserver && (_textObserver = new textMap_1.ContentEditableTextObserver(textField, ot_1.LegacyTextChangeImpl.fromDiff)), 
            void 0 === _replacementService && (_replacementService = new replacement_1.ExecCommandReplacementService()), 
            void 0 === _log && (_log = logger_1.Logger.create(AquaFieldIntegration.name));
            var _this = this;
            this.textField = textField, this._domain = _domain, this._targetAuxDomContainer = _targetAuxDomContainer, 
            this._layout = _layout, this._checkingService = _checkingService, this._inlineCardView = _inlineCardView, 
            this._state = _state, this._actions = _actions, this._notifications = _notifications, 
            this._gnar = _gnar, this._felog = _felog, this._highlightedAlertFilter = _highlightedAlertFilter, 
            this._textObserver = _textObserver, this._replacementService = _replacementService, 
            this._log = _log, this._geometryProvider = highlights_1.RangeHighlightGeometry.provider, 
            this._highlights = new highlights_1.AquaHighlightCollectionGeometry(this._geometryProvider, this._layout, highlights_1.RangeHighlightGeometry.provider.getClientRects), 
            this._alertProcessor = new alertProcessor_1.LiquidAlertProcessor(this._textObserver.getCurrentTextMap().getPlainText()), 
            this._textFieldFocusChanged = Observable_1.Observable.merge(Observable_1.Observable.fromEvent(this.textField, "focus").mapTo(!0), Observable_1.Observable.fromEvent(this.textField, "blur").mapTo(!1)).share(), 
            this._textChangeBuffer = new textChangeBuffer_1.TextChangeBufferImpl(this._textObserver.contentChanges.async, this._textFieldFocusChanged), 
            this._fieldIntegrationController = new fieldIntegrationController_1.FieldIntegrationController(this._state, this._checkingService.checkingStatus, this._alertProcessor.alerts.atom.view(function(alertMap) {
                var alerts = stdlib_1.Obj.values(alertMap).filter(function(x) {
                    return void 0 !== x;
                }).map(function(x) {
                    return x;
                }), alertsWithoutSynonyms = alerts.filter(function(x) {
                    return "synonym" !== x.group;
                }), plagiarismAlertsCount = alerts.filter(function(x) {
                    return "plagiarism" === x.group;
                }).length;
                return {
                    critical: alertsWithoutSynonyms.filter(function(x) {
                        return x.isFree;
                    }).length,
                    plus: alertsWithoutSynonyms.filter(function(x) {
                        return !x.isFree;
                    }).length - plagiarismAlertsCount
                };
            })), this._minimizeState = new gbutton_1.GButtonMinimizeState(this._textObserver, this._layout, this.textField), 
            this._viewState = this._fieldIntegrationController.viewState, this._viewActions = {
                showDisablePopup: function() {
                    _this._fieldIntegrationController.updatePopupType("disable");
                },
                closePopup: function() {
                    _this._fieldIntegrationController.updatePopupType("none");
                },
                disableOnTab: function() {
                    _this._actions.disableOnTab(), _this._gnar.disableUntilNextVisitButtonClick("disablePopup", location_1.isGdocsSite() ? tracking_1.SiteCategory.gdocs : tracking_1.SiteCategory.other), 
                    _this._felog.disableUntilNextVisit(), _this._viewActions.closePopup(), _this._notifications.showDisableOnTab();
                },
                disableSite: function() {
                    _this._actions.toggleSite(!1, _this._domain), _this._gnar.checkingToggleClick("gButton", location_1.isGdocsSite() ? tracking_1.SiteCategory.gdocs : tracking_1.SiteCategory.other, "off"), 
                    _this._felog.toggleExtension(!1, "gButton"), _this._viewActions.closePopup(), _this._notifications.showDisable();
                }
            }, this._inlineCardController = new inlineCards_1.InlineCardControllerImpl(this._layout, this._highlights, this._inlineCardView, this._textObserver, this._alertProcessor.alerts, this._layout.mousePosition, function(textMap, textRange) {
                return _this._replacementService.canPerformReplacement(textMap, textRange);
            }, function(alert) {
                return new inlineCards_1.InlineCardModelImpl(alert, _this._replacementService, function() {
                    return _this._textObserver.getCurrentTextMap();
                }, _this._alertProcessor, _this._checkingService);
            }), this._view = function() {
                return React.createElement("div", null, React.createElement(highlights_1.AquaHighlights, {
                    layout: _this._layout,
                    state: _this._highlights.geometry,
                    hovered: _this._inlineCardController.hoveredHighlightBehavior.map(function(x) {
                        return x && x.alertId;
                    })
                }), React.createElement(gbutton_1.FluidGButton, {
                    layout: _this._layout.gbutton,
                    state: _this._viewState.view("gbutton"),
                    actions: _this._viewActions,
                    isMinimized: _this._minimizeState.minimized
                }), React.createElement(popup_1.Popup, {
                    layout: _this._layout,
                    state: _this._viewState.view("popup"),
                    domain: _this._domain,
                    actions: _this._viewActions
                }));
            }, this._viewLoader = new viewLoader_1.ViewLoader(this._targetAuxDomContainer, this._view), 
            this._subs = [ this._updateAlertsOnTextChange(), this._processCheckingServiceMessages(), this._sendTextToCheckingServiceOnTextChange(), this._updateHighlightsOnAlertChange(), this._maintainTextFieldAttrs() ], 
            this._checkingService.setText(this._textObserver.getCurrentTextMap().getPlainText());
        }
        return AquaFieldIntegration.prototype._updateAlertsOnTextChange = function() {
            var _this = this;
            return this._textObserver.contentChanges.immediate.subscribe(function(textChanges) {
                var alertUpdates = stdlib_1.try_(function() {
                    return _this._alertProcessor.onTextChanged(textChanges);
                }, function(err) {
                    return _this._log.warn("alertProcessor.onTextChanged failed", err), null;
                });
                try {
                    var textMap = _this._textObserver.getCurrentTextMap(), updatedAlerts = alertUpdates && alertUpdates.transformedAlerts.map(function(t) {
                        return _this._alertProcessor.alerts.getAlertById(t.id);
                    }).filter(function(x) {
                        return null !== x;
                    }).map(function(x) {
                        return x;
                    }) || [];
                    try {
                        _this._highlights.maintainConsistency(updatedAlerts.map(function(x) {
                            return x.id;
                        }), textMap);
                    } catch (err) {
                        _this._log.error("_updateHighlightsOnTextChange: error maintaining highlight consistency", err);
                    }
                } catch (err) {
                    _this._log.error("_updateHighlightsOnTextChange: failed on update/maintain", err);
                }
                try {
                    _this._highlights.recalculateAllHighlights();
                } catch (err) {
                    _this._log.error("_updateHighlightsOnTextChange: error recalculating highlights", err);
                }
            });
        }, AquaFieldIntegration.prototype._processCheckingServiceMessages = function() {
            var _this = this;
            return this._checkingService.messages.subscribe(function(msg) {
                try {
                    _this._alertProcessor.onCheckingServiceMessagesReceived([ msg ]);
                } catch (err) {
                    _this._log.error("error calling alert processor", err);
                }
            });
        }, AquaFieldIntegration.prototype._sendTextToCheckingServiceOnTextChange = function() {
            var _this = this;
            return this._textChangeBuffer.output.subscribe(function(cs) {
                _this._checkingService.onTextChanged(cs);
            });
        }, AquaFieldIntegration.prototype._updateHighlightsOnAlertChange = function() {
            var _this = this;
            return this._alertProcessor.changes.map(function(_a) {
                var addedAlerts = _a.addedAlerts, removedAlerts = _a.removedAlerts, transformedAlerts = _a.transformedAlerts, updatedAlerts = _a.updatedAlerts;
                return {
                    addedAlerts: addedAlerts.filter(function(a) {
                        return !a.isHidden && _this._highlightedAlertFilter(a);
                    }),
                    updatedAlerts: updatedAlerts.filter(function(a) {
                        return !a.isHidden && _this._highlightedAlertFilter(a);
                    }),
                    transformedAlerts: transformedAlerts.filter(function(t) {
                        var a = _this._alertProcessor.alerts.getAlertById(t.id);
                        return !!a && (!a.isHidden && _this._highlightedAlertFilter(a));
                    }),
                    removedAlerts: removedAlerts
                };
            }).subscribe(function(cs) {
                try {
                    try {
                        for (var _a = __values(cs.removedAlerts), _b = _a.next(); !_b.done; _b = _a.next()) {
                            var id = _b.value;
                            _this._highlights.removeHighlight(id);
                        }
                    } catch (e_1_1) {
                        e_1 = {
                            error: e_1_1
                        };
                    } finally {
                        try {
                            _b && !_b.done && (_c = _a.return) && _c.call(_a);
                        } finally {
                            if (e_1) throw e_1.error;
                        }
                    }
                } catch (err) {
                    _this._log.error("failed to remove highlights", err);
                }
                if (cs.addedAlerts || cs.updatedAlerts || cs.transformedAlerts) {
                    var textMap = _this._textObserver.getCurrentTextMap();
                    try {
                        for (var _d = __values(cs.addedAlerts), _e = _d.next(); !_e.done; _e = _d.next()) {
                            var a = _e.value;
                            try {
                                _this._highlights.addHighlight(a.id, a.highlightRange, textMap);
                            } catch (err) {
                                _this._log.warn("failed to add highlight for #" + a.id, err);
                            }
                        }
                    } catch (e_2_1) {
                        e_2 = {
                            error: e_2_1
                        };
                    } finally {
                        try {
                            _e && !_e.done && (_f = _d.return) && _f.call(_d);
                        } finally {
                            if (e_2) throw e_2.error;
                        }
                    }
                    try {
                        for (var _g = __values(cs.updatedAlerts), _h = _g.next(); !_h.done; _h = _g.next()) {
                            a = _h.value;
                            try {
                                _this._highlights.updateHighlight(a.id, a.highlightRange, textMap);
                            } catch (err) {
                                _this._log.error("failed to update highlight for #" + a.id, err);
                            }
                        }
                    } catch (e_3_1) {
                        e_3 = {
                            error: e_3_1
                        };
                    } finally {
                        try {
                            _h && !_h.done && (_j = _g.return) && _j.call(_g);
                        } finally {
                            if (e_3) throw e_3.error;
                        }
                    }
                    try {
                        for (var _k = __values(cs.transformedAlerts), _l = _k.next(); !_l.done; _l = _k.next()) {
                            var t = _l.value;
                            try {
                                (a = _this._alertProcessor.alerts.getAlertById(t.id)) && _this._highlights.updateHighlight(a.id, a.highlightRange, textMap);
                            } catch (err) {
                                _this._log.error("failed to update highlight geometry for #" + t.id, err);
                            }
                        }
                    } catch (e_4_1) {
                        e_4 = {
                            error: e_4_1
                        };
                    } finally {
                        try {
                            _l && !_l.done && (_m = _k.return) && _m.call(_k);
                        } finally {
                            if (e_4) throw e_4.error;
                        }
                    }
                }
                var e_1, _c, e_2, _f, e_3, _j, e_4, _m;
            });
        }, AquaFieldIntegration.prototype._maintainTextFieldAttrs = function() {
            var _this = this, attrs = {
                spellcheck: "false"
            }, failedTimes = 0;
            return Observable_1.Observable.merge(mutationObservable_1.MutationObservable.createRaw(this.textField, {
                attributes: !0,
                attributeFilter: Object.keys(attrs),
                subtree: !1,
                childList: !1
            }).sampleTime(200), Observable_1.Observable.timer(100, 5e3).startWith(0)).takeWhile(function(_) {
                return failedTimes < 3;
            }).subscribe(function(_) {
                try {
                    stdlib_1.Obj.pairs(attrs).forEach(function(_a) {
                        var _b = __read(_a, 2), k = _b[0], v = _b[1], current = _this.textField.attributes.getNamedItem(k);
                        current && current.value === v || (_this._log.trace(k + " is not " + v + ", setting"), 
                        _this.textField.setAttribute(k, v));
                    });
                } catch (err) {
                    failedTimes++, _this._log.warn("failed to maintain text field attributes " + failedTimes + " time(s)", err);
                }
            });
        }, AquaFieldIntegration.prototype.update = function(state) {
            this._state.set(state);
        }, AquaFieldIntegration.prototype.dispose = function() {
            var _this = this;
            this._subs.forEach(function(x) {
                return x.unsubscribe();
            }), this._subs = [], [ function() {
                return _this._inlineCardController.dispose();
            }, function() {
                return _this._inlineCardView.dispose();
            }, function() {
                return _this._viewLoader.dispose();
            }, function() {
                return _this._highlights.dispose();
            }, function() {
                return _this._textObserver.dispose();
            }, function() {
                return _this._checkingService.dispose();
            } ].forEach(function(step, i) {
                try {
                    step();
                } catch (err) {
                    _this._log.error("error at integration dispose step #" + i, err);
                }
            });
        }, AquaFieldIntegration;
    }();
    exports.AquaFieldIntegration = AquaFieldIntegration;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var popupContainer_1 = __webpack_require__(1084);
    exports.Popup = popupContainer_1.PopupContainer;
    var types_1 = __webpack_require__(618);
    exports.FluidPopupState = types_1.FluidPopupState;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    }, __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), Observable_1 = __webpack_require__(0), layout_1 = __webpack_require__(340), base_1 = __webpack_require__(610), focal_1 = __webpack_require__(91), popupSelector_1 = __webpack_require__(1085);
    function offsetFromGbuttonBottomRight(type) {
        if ("none" === type) return base_1.Offsets.zero;
        var topLeftOffset = base_1.offsetFromGbuttonTopLeft[type];
        return {
            height: topLeftOffset.height,
            left: topLeftOffset.left + 30,
            top: topLeftOffset.top + 30,
            topFlip: topLeftOffset.topFlip - 30
        };
    }
    exports.PopupContainer = function(props) {
        var layout = props.layout, stateAtom = props.state, domain = props.domain, actions = props.actions, typeObs = stateAtom.view(function(s) {
            return s.type;
        }), positionObs = layout.gbutton.position.behavior, zIndexObs = layout.gbutton.zIndex.behavior, isFlippedObs = Observable_1.Observable.combineLatest(positionObs, typeObs, function(position, type) {
            return position.top < offsetFromGbuttonBottomRight(type).top;
        }).distinctUntilChanged().share(), positionStyles = function(positionObs, zIndexObs, typeObs, isFlippedObs) {
            return Observable_1.Observable.combineLatest(positionObs, zIndexObs, typeObs, isFlippedObs, function(position, zIndexGButton, type, isFlipped) {
                return {
                    position: position,
                    zIndexGButton: zIndexGButton,
                    type: type,
                    isFlipped: isFlipped
                };
            }).startWith({
                position: layout_1.Point.zero,
                zIndexGButton: 0,
                type: "none",
                isFlipped: !1
            }).pairwise().map(function(_a) {
                var _b = __read(_a, 2), previous = _b[0], current = _b[1], _c = current.position, top = _c.top, left = _c.left, zIndexGButton = current.zIndexGButton, type = current.type, isFlipped = current.isFlipped, offset = offsetFromGbuttonBottomRight(type);
                return {
                    position: "absolute",
                    top: "0px",
                    left: "0px",
                    zIndex: zIndexGButton + 1,
                    transform: "translate(" + (left - offset.left) + "px, " + (isFlipped ? top + offset.topFlip : top - offset.top) + "px) " + (previous.type !== type ? "scale(.7)" : "scale(1)")
                };
            });
        }(positionObs, zIndexObs, typeObs, isFlippedObs);
        return React.createElement(focal_1.F.div, {
            style: positionStyles
        }, Observable_1.Observable.combineLatest(stateAtom, isFlippedObs, function(state, isFlipped) {
            return React.createElement(popupSelector_1.PopupSelector, __assign({}, {
                state: state,
                isFlipped: isFlipped,
                domain: domain,
                actions: actions
            }));
        }));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), stdlib_1 = __webpack_require__(4), disable_1 = __webpack_require__(606), onboarding_1 = __webpack_require__(604), summarize_1 = __webpack_require__(607), login_reminder_1 = __webpack_require__(605), gdocs_opt_in_1 = __webpack_require__(608), feedback_1 = __webpack_require__(609);
    exports.PopupSelector = function(props) {
        var state = props.state, isFlipped = props.isFlipped, domain = props.domain, actions = props.actions, loginReminder = function(type) {
            return React.createElement(login_reminder_1.LoginReminderPopup, {
                styles: {},
                isFlipped: isFlipped,
                reminderType: type,
                remove: actions.closePopup,
                openSignInDialog: stdlib_1.noOp,
                disableLoginReminder: stdlib_1.noOp
            });
        }, summarize = function(view) {
            return React.createElement(summarize_1.SummarizePopup, {
                styles: {},
                remove: actions.closePopup,
                view: view,
                changeView: stdlib_1.noOp,
                editorId: "",
                actions: {
                    accept: stdlib_1.noOp,
                    disable: stdlib_1.noOp,
                    ignore: stdlib_1.noOp
                }
            });
        };
        return {
            disable: function() {
                return React.createElement(disable_1.DisablePopup, {
                    styles: {},
                    domain: domain,
                    remove: actions.closePopup,
                    disableOnTab: actions.disableOnTab,
                    disableSite: actions.disableSite
                });
            },
            onboarding: function() {
                return React.createElement(onboarding_1.OnboardingPopup, {
                    isFlipped: isFlipped,
                    styles: {},
                    openOnboardingDialog: stdlib_1.noOp,
                    remove: actions.closePopup
                });
            },
            "summarize-default": function() {
                return summarize("default");
            },
            "summarize-expanded": function() {
                return summarize("expanded");
            },
            "loginReminder-free": function() {
                return loginReminder("free");
            },
            "loginReminder-premium": function() {
                return loginReminder("premium");
            },
            gdocsPopupUnavailable: function() {
                return React.createElement(gdocs_opt_in_1.GdocsPopupEditorUnavailable, {
                    styles: {},
                    errorData: {
                        plus: 0,
                        critical: 0
                    },
                    close: actions.closePopup,
                    onClick: stdlib_1.noOp,
                    docId: ""
                });
            },
            gdocsFeedbackUI: function() {
                return React.createElement(feedback_1.GdocsFeedbackUI, {
                    styles: {},
                    close: actions.closePopup
                });
            },
            none: function() {
                return null;
            }
        }[state.type]();
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var aquaHighlightCollection_1 = __webpack_require__(1087);
    exports.AquaHighlightCollectionGeometry = aquaHighlightCollection_1.AquaHighlightCollectionGeometry;
    var aquaHighlights_1 = __webpack_require__(1088);
    exports.AquaHighlights = aquaHighlights_1.AquaHighlights;
    var rangeHighlightGeometry_1 = __webpack_require__(619);
    exports.RangeHighlightGeometry = rangeHighlightGeometry_1.RangeHighlightGeometry;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    }, __values = this && this.__values || function(o) {
        var m = "function" == typeof Symbol && o[Symbol.iterator], i = 0;
        return m ? m.call(o) : {
            next: function() {
                return o && i >= o.length && (o = void 0), {
                    value: o && o[i++],
                    done: !o
                };
            }
        };
    }, __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Subject_1 = __webpack_require__(27), focal_1 = __webpack_require__(91), logger_1 = __webpack_require__(1), stdlib_1 = __webpack_require__(4), AquaHighlightCollectionGeometry = function() {
        function AquaHighlightCollectionGeometry(_geometryProvider, _integrationLayout, _getClientRects, _updateLayoutTimeMs, _updateGeometryTimeMs, _updateStateTimeMs, _log) {
            void 0 === _updateLayoutTimeMs && (_updateLayoutTimeMs = stdlib_1.Ms.hertz(10)), 
            void 0 === _updateGeometryTimeMs && (_updateGeometryTimeMs = stdlib_1.Ms.hertz(45)), 
            void 0 === _updateStateTimeMs && (_updateStateTimeMs = stdlib_1.Ms.hertz(45)), void 0 === _log && (_log = logger_1.Logger.create(AquaHighlightCollectionGeometry.name));
            var _this = this;
            this._geometryProvider = _geometryProvider, this._integrationLayout = _integrationLayout, 
            this._getClientRects = _getClientRects, this._updateLayoutTimeMs = _updateLayoutTimeMs, 
            this._updateGeometryTimeMs = _updateGeometryTimeMs, this._updateStateTimeMs = _updateStateTimeMs, 
            this._log = _log, this._highlights = new Map(), this._highlightsState = focal_1.Atom.create({}), 
            this._updateStateForAllQueue = new Subject_1.Subject(), this._updateGeometryAndStateQueue = new Subject_1.Subject(), 
            this._subs = [ this._updateGeometryAndStateQueue.bufferTime(this._updateGeometryTimeMs).filter(function(x) {
                return x.length > 0;
            }).subscribe(function(alertIdBuffers) {
                var e_2, _b, e_1, _a, uniqueAlertIds = new Set();
                try {
                    for (var alertIdBuffers_1 = __values(alertIdBuffers), alertIdBuffers_1_1 = alertIdBuffers_1.next(); !alertIdBuffers_1_1.done; alertIdBuffers_1_1 = alertIdBuffers_1.next()) {
                        var alertIds = alertIdBuffers_1_1.value;
                        try {
                            for (var alertIds_1 = __values(alertIds), alertIds_1_1 = alertIds_1.next(); !alertIds_1_1.done; alertIds_1_1 = alertIds_1.next()) {
                                var id = alertIds_1_1.value;
                                uniqueAlertIds.add(id);
                            }
                        } catch (e_1_1) {
                            e_1 = {
                                error: e_1_1
                            };
                        } finally {
                            try {
                                alertIds_1_1 && !alertIds_1_1.done && (_a = alertIds_1.return) && _a.call(alertIds_1);
                            } finally {
                                if (e_1) throw e_1.error;
                            }
                        }
                    }
                } catch (e_2_1) {
                    e_2 = {
                        error: e_2_1
                    };
                } finally {
                    try {
                        alertIdBuffers_1_1 && !alertIdBuffers_1_1.done && (_b = alertIdBuffers_1.return) && _b.call(alertIdBuffers_1);
                    } finally {
                        if (e_2) throw e_2.error;
                    }
                }
                _this._updateGeometry(uniqueAlertIds), _this._queueUpdateStateFor(uniqueAlertIds);
            }), this._updateStateForAllQueue.sampleTime(this._updateStateTimeMs).subscribe(function() {
                _this._updateStateForAll();
            }), this._integrationLayout.highlights.rect.behavior.distinctUntilChanged(function(a, b) {
                return a.pageLeft === b.pageLeft && a.pageTop === b.pageTop && a.height === b.height && a.width === b.width;
            }).sampleTime(this._updateLayoutTimeMs).subscribe(function(_) {
                _this.recalculateAllHighlights();
            }) ], this.geometry = this._highlightsState.view();
        }
        return AquaHighlightCollectionGeometry.prototype._updateStateForAll = function() {
            this._highlightsState.set(stdlib_1.Obj.create(Array.from(this._highlights.entries()).filter(function(_a) {
                var _b = __read(_a, 2), hl = (_b[0], _b[1]);
                return hl.rects && hl.rects.length > 0;
            }).map(function(_a) {
                var _b = __read(_a, 2), k = _b[0], hl = _b[1];
                return [ k, {
                    alertId: hl.alertId,
                    rects: hl.rects || []
                } ];
            })));
        }, AquaHighlightCollectionGeometry.prototype._queueUpdateStateFor = function(_alertIds) {
            this._updateStateForAllQueue.next();
        }, AquaHighlightCollectionGeometry.prototype._getInvalidHighlights = function(alertsToSkip, textMap) {
            var _this = this, updatedAlertIds = new Set(alertsToSkip);
            return Array.from(this._highlights.keys()).filter(function(id) {
                if (updatedAlertIds.has(id)) return !1;
                var hla = _this._highlights.get(id);
                return !!hla && (!_this._geometryProvider.getIsConsistent(hla.geometrySource, hla.textRange, textMap) || _this._geometryProvider.getIsInvalid(hla.geometrySource));
            });
        }, AquaHighlightCollectionGeometry.prototype._createAlertGeometry = function(id, range, textMap) {
            try {
                var geo = this._geometryProvider.create(range, textMap);
                return null === geo && this._log.warn("geometry source for #" + id + " broken immediately"), 
                geo;
            } catch (err) {
                return this._log.warn("error creating geometry source for #" + id, err), null;
            }
        }, AquaHighlightCollectionGeometry.prototype._updateGeometry = function(alertIds) {
            var e_3, _a, targetRect = this._integrationLayout.highlights.rect.getImmediate(), translation = this._integrationLayout.highlights.getHighlightTranslation(), immediateScroll = this._integrationLayout.highlights.scroll.getImmediate();
            try {
                for (var alertIds_2 = __values(alertIds), alertIds_2_1 = alertIds_2.next(); !alertIds_2_1.done; alertIds_2_1 = alertIds_2.next()) {
                    var alertId = alertIds_2_1.value, hl = this._highlights.get(alertId);
                    if (hl) {
                        var absoluteRects = this._getClientRects(hl.geometrySource);
                        if (null !== absoluteRects) {
                            var nonDegenerateRects = Array.from(absoluteRects).filter(function(r) {
                                return r.height > 0 && r.width > 0;
                            });
                            if (0 === nonDegenerateRects.length) this._log.warn("Degenerate geometry for #" + alertId, absoluteRects), 
                            this._highlights.set(alertId, __assign({}, hl, {
                                rects: null
                            })); else {
                                var relativeRects = nonDegenerateRects.map(function(r) {
                                    return {
                                        top: r.top - targetRect.clientTop + immediateScroll.top + translation.y,
                                        left: r.left - targetRect.clientLeft + immediateScroll.left + translation.x,
                                        width: r.width,
                                        height: r.height
                                    };
                                });
                                this._highlights.set(alertId, __assign({}, hl, {
                                    rects: relativeRects
                                }));
                            }
                        } else this._log.warn("#" + alertId + " has null geometry"), this._highlights.set(alertId, __assign({}, hl, {
                            rects: null
                        }));
                    } else this._log.warn("couldn't recalculate #" + alertId + ", doesn't exist");
                }
            } catch (e_3_1) {
                e_3 = {
                    error: e_3_1
                };
            } finally {
                try {
                    alertIds_2_1 && !alertIds_2_1.done && (_a = alertIds_2.return) && _a.call(alertIds_2);
                } finally {
                    if (e_3) throw e_3.error;
                }
            }
        }, AquaHighlightCollectionGeometry.prototype._removeHighlight = function(alertId) {
            var existing = this._highlights.get(alertId);
            existing ? (this._highlights.delete(alertId), this._safeDisposeGeometry(existing.geometrySource)) : this._log.warn("can't remove #" + alertId + ", doesn't exist");
        }, AquaHighlightCollectionGeometry.prototype._safeDisposeGeometry = function(g) {
            try {
                this._geometryProvider.dispose(g);
            } catch (err) {
                this._log.warn("error disposing geometry source", err);
            }
        }, AquaHighlightCollectionGeometry.prototype.recalculateHighlight = function(alertId) {
            this._updateGeometry([ alertId ]), this._queueUpdateStateFor([ alertId ]);
        }, AquaHighlightCollectionGeometry.prototype.recalculateAllHighlights = function() {
            var allIds = this._highlights.keys();
            this._updateGeometry(allIds), this._queueUpdateStateFor(allIds);
        }, AquaHighlightCollectionGeometry.prototype.addHighlight = function(alertId, range, textMap) {
            this._log.trace("adding highlight #" + alertId), this._highlights.has(alertId) && (this._log.warn("#" + alertId + " already exists, overwriting"), 
            this._removeHighlight(alertId));
            var geoSource = this._createAlertGeometry(alertId, range, textMap);
            if (geoSource) {
                var hl = {
                    alertId: alertId,
                    textRange: range,
                    geometrySource: geoSource,
                    rects: null
                };
                this._highlights.set(alertId, hl), this._updateGeometryAndStateQueue.next([ alertId ]);
            } else this._log.warn("addHighlight: couldn't create geometry for #" + alertId + " -- dropping");
        }, AquaHighlightCollectionGeometry.prototype.updateHighlight = function(alertId, newRange, textMap) {
            var hl = this._highlights.get(alertId);
            if (void 0 !== hl) {
                this._safeDisposeGeometry(hl.geometrySource);
                var newGeoSource = this._createAlertGeometry(alertId, newRange, textMap);
                newGeoSource ? (this._highlights.set(alertId, {
                    alertId: hl.alertId,
                    textRange: newRange,
                    geometrySource: newGeoSource,
                    rects: null
                }), this._updateGeometryAndStateQueue.next([ alertId ])) : (this._log.warn("updateHighlight: couldn't create geometry for #" + alertId + ", removing"), 
                this.removeHighlight(alertId));
            } else this._log.warn("updateHighlight: can't update #" + alertId + ", doesn't exist -- creating"), 
            this.addHighlight(alertId, newRange, textMap);
        }, AquaHighlightCollectionGeometry.prototype.removeHighlight = function(alertId) {
            this._removeHighlight(alertId), this._queueUpdateStateFor([ alertId ]);
        }, AquaHighlightCollectionGeometry.prototype.getCurrentHighlightIds = function() {
            return Array.from(this._highlights.keys());
        }, AquaHighlightCollectionGeometry.prototype.maintainConsistency = function(alertsToSkip, textMap) {
            var _this = this;
            this._getInvalidHighlights(alertsToSkip, textMap).forEach(function(id) {
                return _this.updateHighlight(id, _this._highlights.get(id).textRange, textMap);
            });
        }, AquaHighlightCollectionGeometry.prototype.dispose = function() {
            this._subs.forEach(function(x) {
                return x.unsubscribe();
            }), this._subs = [];
            try {
                for (var _a = __values(this._highlights.values()), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var hl = _b.value;
                    this._safeDisposeGeometry(hl.geometrySource);
                }
            } catch (e_4_1) {
                e_4 = {
                    error: e_4_1
                };
            } finally {
                try {
                    _b && !_b.done && (_c = _a.return) && _c.call(_a);
                } finally {
                    if (e_4) throw e_4.error;
                }
            }
            var e_4, _c;
            this._highlights.clear();
        }, AquaHighlightCollectionGeometry;
    }();
    exports.AquaHighlightCollectionGeometry = AquaHighlightCollectionGeometry;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    }, __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), focal_1 = __webpack_require__(91), react_1 = __webpack_require__(437), stdlib_1 = __webpack_require__(4);
    exports.AquaHighlights = function(_a) {
        var layout = _a.layout, state = _a.state, hovered = _a.hovered;
        return React.createElement(focal_1.F.div, {
            style: layout.highlights.rect.behavior.combineLatest(layout.highlights.zIndex.behavior, function(rect, zIndex) {
                return {
                    top: rect.pageTop,
                    left: rect.pageLeft,
                    width: rect.width,
                    height: rect.height,
                    overflow: "hidden",
                    position: "absolute",
                    pointerEvents: "none",
                    zIndex: zIndex,
                    border: 0,
                    padding: 0,
                    margin: 0
                };
            }),
            mount: react_1.setElementProps({
                scrollTop: layout.highlights.scroll.behavior.map(function(x) {
                    return x.top;
                }).distinctUntilChanged(),
                scrollLeft: layout.highlights.scroll.behavior.map(function(x) {
                    return x.left;
                }).distinctUntilChanged()
            })
        }, React.createElement(focal_1.F.div, __assign({}, {
            "data-gramm": "gramm",
            "data-gramm_editor": "true"
        }, {
            style: layout.highlights.scroll.behavior.map(function(x) {
                return {
                    height: x.height,
                    width: x.width
                };
            })
        }), state.map(function(highlightsDict) {
            return (_a = []).concat.apply(_a, __spread(stdlib_1.Obj.values(highlightsDict).filter(function(x) {
                return void 0 !== x;
            }).map(function(highlightState) {
                return _a = {
                    state: highlightState,
                    isHovered: hovered.map(function(x) {
                        return x === highlightState.alertId;
                    }).distinctUntilChanged(),
                    heightOffset: layout.highlights.highlightHeightOffset
                }, state = _a.state, isHovered = _a.isHovered, heightOffset = _a.heightOffset, state.rects.map(function(rect, rectIndex) {
                    return React.createElement(focal_1.F.div, __assign({
                        key: state.alertId + "-" + rectIndex,
                        style: {
                            position: "absolute",
                            top: rect.top,
                            left: rect.left,
                            width: rect.width,
                            height: rect.height + heightOffset,
                            margin: 0,
                            padding: 0
                        }
                    }, focal_1.classes("gr_ gr-alert gr_spell gr_inline_cards", isHovered.map(function(hovered, i) {
                        return hovered ? "gr_disable_anim_appear gr-progress-overlay sel" : 0 === i ? "gr_run_anim" : "gr_disable_anim_appear";
                    }))));
                });
                var _a, state, isHovered, heightOffset;
            })));
            var _a;
        })));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var liquid_1 = __webpack_require__(1090);
    exports.LiquidAlertProcessor = liquid_1.LiquidAlertProcessor;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __values = this && this.__values || function(o) {
        var m = "function" == typeof Symbol && o[Symbol.iterator], i = 0;
        return m ? m.call(o) : {
            next: function() {
                return o && i >= o.length && (o = void 0), {
                    value: o && o[i++],
                    done: !o
                };
            }
        };
    }, __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Subject_1 = __webpack_require__(27), focal_1 = __webpack_require__(91), stdlib_1 = __webpack_require__(4), logger_1 = __webpack_require__(1), stdlib_2 = __webpack_require__(4), checkingService_1 = __webpack_require__(614), ot_1 = __webpack_require__(339), fragmentMap_1 = __webpack_require__(620);
    exports.renderTextWithAlerts = function(text, alerts) {
        var e_1, _a, r = text.split("");
        try {
            for (var alerts_1 = __values(alerts), alerts_1_1 = alerts_1.next(); !alerts_1_1.done; alerts_1_1 = alerts_1.next()) for (var a = alerts_1_1.value, k = a.highlightRange.start; k < a.highlightRange.end; k++) r[k] = "_";
        } catch (e_1_1) {
            e_1 = {
                error: e_1_1
            };
        } finally {
            try {
                alerts_1_1 && !alerts_1_1.done && (_a = alerts_1.return) && _a.call(alerts_1);
            } finally {
                if (e_1) throw e_1.error;
            }
        }
        return r.join("");
    };
    var LiquidAlertProcessor = function() {
        function LiquidAlertProcessor(initialText, _tokenSeparatorStringRe, _log) {
            void 0 === _tokenSeparatorStringRe && (_tokenSeparatorStringRe = new RegExp("^[,.;:()&$%!@#?*~+}{\\[\\]|/-<>`\"'\\u001c\\u0011" + fragmentMap_1.commonWhitespaceCharsWithNbsp + "]*$")), 
            void 0 === _log && (_log = logger_1.Logger.create(LiquidAlertProcessor.name));
            var _this = this;
            this._tokenSeparatorStringRe = _tokenSeparatorStringRe, this._log = _log, this._alertMap = new Map(), 
            this._text = "", this._alertChangeSubject = new Subject_1.Subject(), this._alertMapAtom = focal_1.Atom.create({}), 
            this.alerts = {
                getAlertById: function(id) {
                    return _this._alertMap.get(id) || null;
                },
                getAll: function() {
                    return _this._alertMap.values();
                },
                atom: this._alertMapAtom.view()
            }, this.changes = this._alertChangeSubject.asObservable(), this._text = initialText;
        }
        return LiquidAlertProcessor.prototype.getText = function() {
            return this._text;
        }, LiquidAlertProcessor.prototype._removeAlert = function(removedId) {
            return this._alertMap.has(removedId) ? (this._log.trace("removing alert #" + removedId), 
            this._alertMap.delete(removedId), !0) : (this._log.debug("not removing #" + removedId + " -- does not exist"), 
            !1);
        }, LiquidAlertProcessor.prototype._addAlert = function(alert) {
            var addedAlerts = [], removedAlerts = [], updatedAlerts = [], rebased = alert, wholeTextRange = {
                start: 0,
                end: this._text.length
            };
            if (checkingService_1.TextRange.contains(wholeTextRange, rebased.highlightRange) && checkingService_1.TextRange.contains(wholeTextRange, rebased.transformRange)) if (checkingService_1.CheckingAlert.isConsistentWithText(rebased, this._text)) {
                var equalRangeAlert = stdlib_1.MapEx.find(this._alertMap, function(a) {
                    return checkingService_1.TextRange.equals(a.transformRange, rebased.transformRange) || checkingService_1.TextRange.equals(a.highlightRange, rebased.highlightRange);
                });
                equalRangeAlert && equalRangeAlert.priority <= rebased.priority ? (this._log.trace("replacing #" + equalRangeAlert.id + " with #" + rebased.id + " (priority)"), 
                removedAlerts.push(equalRangeAlert.id), addedAlerts.push(rebased), this._alertMap.delete(equalRangeAlert.id), 
                this._alertMap.set(rebased.id, rebased)) : this._alertMap.has(rebased.id) ? (this._log.trace("updating #" + rebased.id), 
                updatedAlerts.push(rebased), this._alertMap.set(rebased.id, rebased)) : (this._log.trace("adding #" + rebased.id), 
                addedAlerts.push(rebased), this._alertMap.set(rebased.id, rebased));
            } else this._log.warn("alert #" + rebased.id + " inconsistent with document text: alert (" + rebased.transformText + ", " + rebased.highlightText + ") vs text (" + this._text.slice(rebased.transformRange.start, rebased.transformRange.end) + ", " + this._text.slice(rebased.highlightRange.start, rebased.highlightRange.end) + ") -- dropping"); else this._log.warn("alert #" + rebased.id + " is out of bounds: " + checkingService_1.TextRange.toString(rebased.highlightRange) + ", " + checkingService_1.TextRange.toString(rebased.transformRange) + " vs " + checkingService_1.TextRange.toString(wholeTextRange) + " -- dropping");
            return {
                addedAlerts: addedAlerts,
                removedAlerts: removedAlerts,
                updatedAlerts: updatedAlerts
            };
        }, LiquidAlertProcessor.prototype._onAlertsChanged = function(changes) {
            this._alertChangeSubject.next(changes), this._alertMapAtom.set(stdlib_2.Obj.create(this._alertMap.entries()));
        }, LiquidAlertProcessor.prototype.addAlert = function(alert) {
            var r = this._addAlert(alert);
            this._onAlertsChanged({
                addedAlerts: r.addedAlerts,
                removedAlerts: r.removedAlerts,
                updatedAlerts: r.updatedAlerts,
                transformedAlerts: []
            });
        }, LiquidAlertProcessor.prototype.removeAlert = function(id) {
            this._removeAlert(id) && this._onAlertsChanged({
                removedAlerts: [ id ],
                addedAlerts: [],
                updatedAlerts: [],
                transformedAlerts: []
            });
        }, LiquidAlertProcessor.prototype.onCheckingServiceMessagesReceived = function(messages) {
            var e_2, _a, addedAlerts = [], removedAlerts = [], updatedAlerts = [];
            try {
                for (var messages_1 = __values(messages), messages_1_1 = messages_1.next(); !messages_1_1.done; messages_1_1 = messages_1.next()) {
                    var m = messages_1_1.value;
                    if ("add" === m._tag) {
                        var r = this._addAlert(m.alert);
                        addedAlerts.push.apply(addedAlerts, __spread(r.addedAlerts)), removedAlerts.push.apply(removedAlerts, __spread(r.removedAlerts)), 
                        updatedAlerts.push.apply(updatedAlerts, __spread(r.updatedAlerts));
                    } else "remove" === m._tag ? this._removeAlert(m.removedId) && removedAlerts.push(m.removedId) : stdlib_1.assertNever(m);
                }
            } catch (e_2_1) {
                e_2 = {
                    error: e_2_1
                };
            } finally {
                try {
                    messages_1_1 && !messages_1_1.done && (_a = messages_1.return) && _a.call(messages_1);
                } finally {
                    if (e_2) throw e_2.error;
                }
            }
            return this._onAlertsChanged({
                addedAlerts: addedAlerts,
                removedAlerts: removedAlerts,
                updatedAlerts: updatedAlerts,
                transformedAlerts: []
            }), {
                addedAlerts: addedAlerts,
                removedAlerts: removedAlerts,
                updatedAlerts: updatedAlerts
            };
        }, LiquidAlertProcessor.prototype._updateAlerts = function(remove, transform) {
            try {
                for (var _a = __values(remove.values()), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var id = _b.value;
                    this._alertMap.delete(id);
                }
            } catch (e_3_1) {
                e_3 = {
                    error: e_3_1
                };
            } finally {
                try {
                    _b && !_b.done && (_c = _a.return) && _c.call(_a);
                } finally {
                    if (e_3) throw e_3.error;
                }
            }
            try {
                for (var _d = __values(this._alertMap.values()), _e = _d.next(); !_e.done; _e = _d.next()) {
                    var a = _e.value, transformOffset = transform.get(a.id);
                    if (void 0 !== transformOffset && 0 !== transformOffset) {
                        var transformed = Object.assign({}, a, {
                            highlightRange: checkingService_1.TextRange.transform(a.highlightRange, transformOffset),
                            transformRange: checkingService_1.TextRange.transform(a.transformRange, transformOffset)
                        });
                        checkingService_1.CheckingAlert.isConsistentWithText(transformed, this._text) ? this._alertMap.set(a.id, transformed) : (this._log.warn("alert #" + a.id + " is inconsistent with text after transform by " + transformOffset + " -- dropping"), 
                        this._alertMap.delete(a.id));
                    }
                }
            } catch (e_4_1) {
                e_4 = {
                    error: e_4_1
                };
            } finally {
                try {
                    _e && !_e.done && (_f = _d.return) && _f.call(_d);
                } finally {
                    if (e_4) throw e_4.error;
                }
            }
            var e_3, _c, e_4, _f;
        }, LiquidAlertProcessor.prototype._isAlertBreakingChange = function(change, changeRange, stagedTransformRange, stagedHighlightRange, stagedText) {
            var wordBreakingChange = (checkingService_1.TextRange.intersects(changeRange, stagedTransformRange) || checkingService_1.TextRange.intersects(changeRange, stagedHighlightRange)) && !(changeRange.start === stagedHighlightRange.start && "ins" === change._tag && this._tokenSeparatorStringRe.test(change.text)), nonSeparatorAppend = changeRange.start === stagedHighlightRange.end && !this._tokenSeparatorStringRe.test(stagedText[changeRange.start]);
            return wordBreakingChange || nonSeparatorAppend;
        }, LiquidAlertProcessor.prototype._isValidAlertTransform = function(alert, currentTransformOffset, changeTransformOffset, stagedText) {
            return this._tokenSeparatorStringRe.test(stagedText[alert.highlightRange.start + currentTransformOffset + changeTransformOffset - 1]) && this._tokenSeparatorStringRe.test(stagedText[alert.highlightRange.end + currentTransformOffset + changeTransformOffset]);
        }, LiquidAlertProcessor.prototype.onTextChanged = function(changes) {
            var toRemove = new Set(), toTransform = new Map(), stagedText = this._text;
            try {
                for (var changes_1 = __values(changes), changes_1_1 = changes_1.next(); !changes_1_1.done; changes_1_1 = changes_1.next()) {
                    var c = changes_1_1.value, changeRange = checkingService_1.TextRange.ofTextChange(c), changeTfOffset = "ins" === c._tag ? c.text.length : "del" === c._tag ? -c.length : stdlib_1.assertNever(c);
                    stagedText = ot_1.TextChange.applyChanges(stagedText, [ c ]);
                    try {
                        for (var _a = __values(this._alertMap.values()), _b = _a.next(); !_b.done; _b = _a.next()) {
                            var a = _b.value;
                            if (!toRemove.has(a.id)) {
                                var curTfOffset = toTransform.get(a.id) || 0, stagedTfRange = checkingService_1.TextRange.transform(a.transformRange, curTfOffset), stagedHlRange = checkingService_1.TextRange.transform(a.highlightRange, curTfOffset);
                                this._isAlertBreakingChange(c, changeRange, stagedTfRange, stagedHlRange, stagedText) ? (toRemove.add(a.id), 
                                toTransform.delete(a.id)) : (stagedTfRange.start >= changeRange.start || stagedHlRange.start >= changeRange.start) && (this._isValidAlertTransform(a, curTfOffset, changeTfOffset, stagedText) ? toTransform.set(a.id, curTfOffset + changeTfOffset) : (toRemove.add(a.id), 
                                toTransform.delete(a.id)));
                            }
                        }
                    } catch (e_5_1) {
                        e_5 = {
                            error: e_5_1
                        };
                    } finally {
                        try {
                            _b && !_b.done && (_c = _a.return) && _c.call(_a);
                        } finally {
                            if (e_5) throw e_5.error;
                        }
                    }
                }
            } catch (e_6_1) {
                e_6 = {
                    error: e_6_1
                };
            } finally {
                try {
                    changes_1_1 && !changes_1_1.done && (_d = changes_1.return) && _d.call(changes_1);
                } finally {
                    if (e_6) throw e_6.error;
                }
            }
            this._text = stagedText, this._updateAlerts(toRemove, toTransform), this._log.debug("processed text changes", {
                changes: changes,
                toRemove: toRemove,
                toTransform: toTransform,
                alerts: this._alertMap.values()
            });
            var e_6, _d, e_5, _c, removedAlerts = Array.from(toRemove.keys()), transformedAlerts = Array.from(toTransform.entries()).filter(function(_a) {
                var _b = __read(_a, 2);
                _b[0];
                return 0 !== _b[1];
            }).map(function(_a) {
                var _b = __read(_a, 2);
                return {
                    id: _b[0],
                    offsetShift: _b[1]
                };
            });
            return this._onAlertsChanged({
                removedAlerts: removedAlerts,
                transformedAlerts: transformedAlerts,
                addedAlerts: [],
                updatedAlerts: []
            }), {
                removedAlerts: removedAlerts,
                transformedAlerts: transformedAlerts
            };
        }, LiquidAlertProcessor;
    }();
    exports.LiquidAlertProcessor = LiquidAlertProcessor;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __read = this && this.__read || function(o, n) {
        var m = "function" == typeof Symbol && o[Symbol.iterator];
        if (!m) return o;
        var r, e, i = m.call(o), ar = [];
        try {
            for (;(void 0 === n || n-- > 0) && !(r = i.next()).done; ) ar.push(r.value);
        } catch (error) {
            e = {
                error: error
            };
        } finally {
            try {
                r && !r.done && (m = i.return) && m.call(i);
            } finally {
                if (e) throw e.error;
            }
        }
        return ar;
    }, __spread = this && this.__spread || function() {
        for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
        return ar;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var stdlib_1 = __webpack_require__(4), Observable_1 = __webpack_require__(0), TextChangeBufferImpl = (__webpack_require__(339), 
    function() {
        return function(_textChanges, _textFieldFocusChanged, _outputThrottleTimeMs, _idleOutputTimeMs, _triggerCharRe) {
            void 0 === _outputThrottleTimeMs && (_outputThrottleTimeMs = stdlib_1.Ms.hertz(10)), 
            void 0 === _idleOutputTimeMs && (_idleOutputTimeMs = stdlib_1.Ms.seconds(4)), void 0 === _triggerCharRe && (_triggerCharRe = /\s|\W|\n|\r/);
            var _this = this;
            this._textChanges = _textChanges, this._textFieldFocusChanged = _textFieldFocusChanged, 
            this._outputThrottleTimeMs = _outputThrottleTimeMs, this._idleOutputTimeMs = _idleOutputTimeMs, 
            this._triggerCharRe = _triggerCharRe, this.output = this._textChanges.buffer(Observable_1.Observable.merge(this._textChanges.switchMap(function(cs) {
                return cs.find(function(c) {
                    return "ins" === c._tag ? _this._triggerCharRe.test(c.text) : "del" === c._tag;
                }) ? Observable_1.Observable.of(0).delay(0) : Observable_1.Observable.timer(_this._idleOutputTimeMs);
            }), this._textFieldFocusChanged)).map(function(css) {
                return (_a = []).concat.apply(_a, __spread(css));
                var _a;
            }).filter(function(cs) {
                return cs.length > 0;
            }).bufferTime(this._outputThrottleTimeMs).map(function(css) {
                return (_a = []).concat.apply(_a, __spread(css));
                var _a;
            }).filter(function(cs) {
                return cs.length > 0;
            }).share();
        };
    }());
    exports.TextChangeBufferImpl = TextChangeBufferImpl;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var textObserver_1 = __webpack_require__(1093);
    exports.ContentEditableTextObserver = textObserver_1.ContentEditableTextObserver;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Observable_1 = __webpack_require__(0), Subject_1 = __webpack_require__(27), asap_1 = __webpack_require__(335), logger_1 = __webpack_require__(1), mutationObservable_1 = __webpack_require__(336), hydro_1 = __webpack_require__(1094), ContentEditableTextObserver = function() {
        function ContentEditableTextObserver(_root, _diffText, _contentMutationObservable, _createTextMap, _log) {
            void 0 === _contentMutationObservable && (_contentMutationObservable = mutationObservable_1.MutationObservable.createRaw(_root, ContentEditableTextObserver._mutObsOptions)), 
            void 0 === _createTextMap && (_createTextMap = function(root) {
                return new hydro_1.HydroTextMap(root);
            }), void 0 === _log && (_log = logger_1.Logger.create(ContentEditableTextObserver.name));
            var _this = this;
            this._root = _root, this._diffText = _diffText, this._contentMutationObservable = _contentMutationObservable, 
            this._createTextMap = _createTextMap, this._log = _log, this._textMapDirty = !0, 
            this._cachedTextMap = null, this._contentChangeSubject = new Subject_1.Subject(), 
            this._sub = this._contentMutationObservable.subscribe(function(_) {
                _this._textMapDirty = !0, _this._contentChangeSubject.next();
            }), this._changes = Observable_1.Observable.defer(function() {
                _this.getCurrentTextMap();
                return _this._contentChangeSubject;
            }).map(function(_) {
                if (_this._cachedTextMap) {
                    var oldMap = _this._cachedTextMap, newMap = _this.getCurrentTextMap();
                    return _this._diffText(oldMap.getPlainText(), newMap.getPlainText());
                }
                _this._log.warn("no text map cache on text change -- forcing");
                _this.getCurrentTextMap();
                return [];
            }).share(), this.contentChanges = {
                immediate: this._changes,
                async: this._changes.observeOn(asap_1.asap)
            };
        }
        return ContentEditableTextObserver.prototype.getCurrentTextMap = function() {
            return (this._textMapDirty || null === this._cachedTextMap) && (this._cachedTextMap = this._createTextMap(this._root), 
            this._textMapDirty = !1), this._cachedTextMap;
        }, ContentEditableTextObserver.prototype.dispose = function() {
            this._sub.unsubscribe();
        }, ContentEditableTextObserver._mutObsOptions = {
            subtree: !0,
            childList: !0,
            characterData: !0
        }, ContentEditableTextObserver;
    }();
    exports.ContentEditableTextObserver = ContentEditableTextObserver;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var stdlib_1 = __webpack_require__(4), blockMap_1 = __webpack_require__(621), FragmentMap = __webpack_require__(620), HydroTextMap = function() {
        function HydroTextMap(_root, _ignoredClasses, _ignoredTags, _blockTags) {
            void 0 === _ignoredClasses && (_ignoredClasses = blockMap_1.BlockMap.defaultIgnoredClasses), 
            void 0 === _ignoredTags && (_ignoredTags = blockMap_1.BlockMap.defaultIgnoredTags), 
            void 0 === _blockTags && (_blockTags = blockMap_1.BlockMap.defaultBlockTags);
            var _this = this;
            this._root = _root, this._ignoredClasses = _ignoredClasses, this._ignoredTags = _ignoredTags, 
            this._blockTags = _blockTags, this._fragmentSeparator = "", this._newLineChar = "\n", 
            this._blockSeparator = this._newLineChar, this._blockMap = new blockMap_1.BlockMap(this._root, this._ignoredClasses, this._ignoredTags, this._blockTags), 
            this._fragmentGroups = FragmentMap.buildFragmentGroupMap(this._blockMap.blocks, this._fragmentSeparator, this._blockSeparator, this._newLineChar), 
            this._charMap = stdlib_1.lazy(function() {
                return FragmentMap.buildCharMap(_this._fragmentGroups, _this._fragmentSeparator, _this._blockSeparator);
            }), this._plainText = stdlib_1.lazy(function() {
                return FragmentMap.buildPlainText(_this._fragmentGroups, _this._fragmentSeparator, _this._blockSeparator);
            });
        }
        return HydroTextMap.prototype.getFragmentAtOffset = function(offset) {
            return this._charMap.get()[offset] || null;
        }, HydroTextMap.prototype.getFragmentAtOrBeforeOffset = function(offset) {
            return this._charMap.get()[offset] || this._charMap.get()[offset - 1] || null;
        }, HydroTextMap.prototype.getPlainText = function() {
            return this._plainText.get();
        }, HydroTextMap;
    }();
    exports.HydroTextMap = HydroTextMap;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var minimize_1 = __webpack_require__(1096);
    exports.GButtonMinimizeState = minimize_1.GButtonMinimizeState;
    var types_1 = __webpack_require__(622);
    exports.FluidGButtonState = types_1.FluidGButtonState;
    var gbutton_1 = __webpack_require__(1097);
    exports.FluidGButton = gbutton_1.FluidGButton;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Observable_1 = __webpack_require__(0), stdlib_1 = __webpack_require__(4), GButtonMinimizeState = function() {
        return function(_textObserver, _integrationLayout, _target, _yPointOffsets, _xLeftPointOffset, _xRightPointOffset, _gButtonSize, _layoutSampleTimeMs, _unminimizeDebounceTimeMs, _caretRangeFromPoint, _getViewportScroll) {
            void 0 === _yPointOffsets && (_yPointOffsets = [ 31, 18, 8 ]), void 0 === _xLeftPointOffset && (_xLeftPointOffset = 31), 
            void 0 === _xRightPointOffset && (_xRightPointOffset = 8), void 0 === _gButtonSize && (_gButtonSize = 33), 
            void 0 === _layoutSampleTimeMs && (_layoutSampleTimeMs = stdlib_1.Ms.hertz(4)), 
            void 0 === _unminimizeDebounceTimeMs && (_unminimizeDebounceTimeMs = stdlib_1.Ms.seconds(5)), 
            void 0 === _caretRangeFromPoint && (_caretRangeFromPoint = _target.ownerDocument.caretRangeFromPoint ? function(x, y) {
                return _target.ownerDocument.caretRangeFromPoint(x, y);
            } : _target.ownerDocument.caretPositionFromPoint ? function(x, y) {
                var r = _target.ownerDocument.caretPositionFromPoint(x, y);
                return {
                    startContainer: r.offsetNode,
                    getClientRects: function() {
                        return [ r.getClientRect() ];
                    }
                };
            } : function(_x, _y) {
                return null;
            }), void 0 === _getViewportScroll && (_getViewportScroll = function() {
                return _target.ownerDocument.defaultView;
            });
            var _this = this;
            this._textObserver = _textObserver, this._integrationLayout = _integrationLayout, 
            this._target = _target, this._yPointOffsets = _yPointOffsets, this._xLeftPointOffset = _xLeftPointOffset, 
            this._xRightPointOffset = _xRightPointOffset, this._gButtonSize = _gButtonSize, 
            this._layoutSampleTimeMs = _layoutSampleTimeMs, this._unminimizeDebounceTimeMs = _unminimizeDebounceTimeMs, 
            this._caretRangeFromPoint = _caretRangeFromPoint, this._getViewportScroll = _getViewportScroll, 
            this._getRightmostRangeRectFromPoint = function(x, y) {
                var range = stdlib_1.try_(function() {
                    return _this._caretRangeFromPoint(x, y);
                }, function(_) {
                    return null;
                }), rects = stdlib_1.try_(function() {
                    return range && _this._target.contains(range.startContainer) && range.getClientRects();
                }, function(_) {
                    return null;
                });
                return rects && rects.length > 0 ? Array.from(rects).reduce(function(prev, current) {
                    return prev.right > current.right ? prev : current;
                }) : null;
            }, this._getRightmostTextBoundFromPoint = function(x, y) {
                var rect = _this._getRightmostRangeRectFromPoint(x, y);
                return rect ? rect.right : null;
            }, this._checkIntersection = function(rect, offsetBeforeRect, gButtonTopOffset, gButtonLeftOffset) {
                return !!rect && (rect.right > gButtonLeftOffset && rect.bottom > gButtonTopOffset || null !== offsetBeforeRect && offsetBeforeRect !== rect.right);
            }, this.minimized = Observable_1.Observable.combineLatest(this._integrationLayout.gbutton.position.behavior.sampleTime(this._layoutSampleTimeMs), this._textObserver.contentChanges.async.startWith([]), this._integrationLayout.highlights.scroll.behavior.sampleTime(this._layoutSampleTimeMs), function(_a, _, __) {
                var top = _a.top, left = _a.left, textFieldHeight = _a.textFieldHeight, textFieldWidth = _a.textFieldWidth, effectivePadding = _a.effectivePadding;
                if (textFieldHeight >= effectivePadding.bottom + _this._gButtonSize - effectivePadding.top && textFieldWidth >= effectivePadding.right + _this._gButtonSize - effectivePadding.left) {
                    var _b = _this._getViewportScroll(), scrollX_1 = _b.scrollX, scrollY_1 = _b.scrollY, controlLeft_1 = left - _this._xLeftPointOffset - scrollX_1, controlRight_1 = left - _this._xRightPointOffset - scrollX_1, minimizeLeftTreshhold_1 = left - _this._gButtonSize, minimizeTopTreshhold_1 = top - _this._gButtonSize;
                    return _this._yPointOffsets.map(function(o) {
                        return top - o - scrollY_1;
                    }).some(function(y) {
                        return _this._checkIntersection(_this._getRightmostRangeRectFromPoint(controlRight_1, y), _this._getRightmostTextBoundFromPoint(controlLeft_1, y), minimizeTopTreshhold_1, minimizeLeftTreshhold_1);
                    });
                }
                return !0;
            }).distinctUntilChanged().debounce(function(x) {
                return Observable_1.Observable.timer(x ? 0 : _this._unminimizeDebounceTimeMs);
            }).share().startWith(!1);
        };
    }();
    exports.GButtonMinimizeState = GButtonMinimizeState;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), Observable_1 = __webpack_require__(0), focal_1 = __webpack_require__(91), passiveButton_1 = __webpack_require__(1098), menu_1 = __webpack_require__(1100);
    exports.FluidGButton = function(_a) {
        var layout = _a.layout, state = _a.state, actions = _a.actions, isMinimized = _a.isMinimized, hovered = focal_1.Atom.create(!1), positioningStyle = Observable_1.Observable.combineLatest(layout.zIndex.behavior, layout.position.behavior, function(zIndex, pos) {
            return {
                position: "absolute",
                top: pos.top,
                left: pos.left,
                zIndex: zIndex,
                transform: "translate(-100%, -100%)"
            };
        }), customizations = {
            supportPremium: !0,
            supportMinimization: !0
        };
        return React.createElement(focal_1.F.div, {
            style: positioningStyle,
            onMouseLeave: function() {
                return hovered.set(!1);
            },
            onMouseEnter: function() {
                return hovered.set(!0);
            }
        }, Observable_1.Observable.combineLatest(hovered, state, isMinimized, state.view(function(x) {
            return x.checking;
        }).debounceTime(200), function(activated, _a, minimized, checking) {
            var offline = _a.offline, userType = _a.userType, wasMinimized = _a.wasMinimized, errors = _a.errors;
            return activated ? React.createElement(menu_1.ButtonMenu, __assign({}, {
                state: {
                    offline: offline,
                    checking: checking,
                    userType: userType,
                    errors: errors
                },
                customView: customizations,
                showDisablePopup: actions.showDisablePopup
            })) : React.createElement(passiveButton_1.PassiveButton, __assign({}, {
                state: {
                    offline: offline,
                    checking: checking,
                    userType: userType,
                    wasMinimized: wasMinimized,
                    minimized: minimized,
                    errors: errors
                },
                customView: customizations,
                inlineStyle: {}
            }));
        }));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), style = __webpack_require__(1099), dom_1 = __webpack_require__(3), util_1 = __webpack_require__(2), defaultView = {
        supportMinimization: !0,
        supportPremium: !0
    };
    exports.PassiveButton = function(props) {
        var _a, state = props.state, viewSettings = __assign({}, defaultView, props.customView || {}), premium = "premium" === state.userType, count = state.errors.critical, errors = count > 0 && !state.checking, offline = state.offline, classes = [ style.gbutton, dom_1.cs((_a = {}, 
        _a[style.minimized] = viewSettings.supportMinimization && state.minimized, _a[style.minimize_transition] = viewSettings.supportMinimization && state.wasMinimized, 
        _a[style.errors] = errors, _a[style.has_errors] = count > 0, _a[style.errors_100] = count > 99, 
        _a[style.offline] = offline, _a[style.checking] = state.checking && !offline, _a[style.plus_only] = viewSettings.supportPremium && premium && !errors && state.errors.plus > 0, 
        _a)) ].join(" "), value = errors && count ? count : "", title = count ? "Found " + count + " " + util_1.declension(count, [ "error", "errors" ]) + " in text" : "Protected by Grammarly", inlineStyle = dom_1.camelizeAttrs(props.inlineStyle || {});
        return React.createElement("div", {
            style: inlineStyle,
            className: classes
        }, React.createElement("div", {
            className: style.transform_wrap
        }, React.createElement("div", {
            title: title,
            className: style.status
        }, value)));
    };
}, function(module, exports) {
    module.exports = {
        gbutton: "_8kySt",
        status: "_3kCD8",
        errors_100: "_1qHG4",
        errors: "_1A-5q",
        checking: "_2mObW",
        gr__spin: "CoENh",
        has_errors: "_2TZgI",
        offline: "_2WyFq",
        plus_only: "mnpZH",
        minimized: "_2AkEP",
        minimize_transition: "_3EMsW",
        transform_wrap: "_3BHfs"
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), focal_1 = __webpack_require__(91), Observable_1 = __webpack_require__(0), Subject_1 = __webpack_require__(27), dom_1 = __webpack_require__(3), style = __webpack_require__(623), menuItem_1 = __webpack_require__(1101), defaultView = {
        supportPremium: !0,
        supportGBtnMenuTooltip: !0
    };
    exports.ButtonMenu = function(props) {
        var viewSettings = __assign({}, defaultView, props.customView || {}), gBtnToolTip = "anonymous" === props.state.userType ? "Log in to enable personalized\nchecks and other features" : "Edit in Grammarly", toolTipSubj = new Subject_1.Subject(), tooltip = function(text) {
            return {
                text: text,
                subject: toolTipSubj
            };
        }, toolTipObs = toolTipSubj.switchMap(function(x) {
            return x ? Observable_1.Observable.of(x).delay(1350) : Observable_1.Observable.of(x);
        }).startWith(null), toolTipText = toolTipObs.map(function(v) {
            return v ? v.text : "";
        }), showPremium = viewSettings.supportPremium && props.state.errors.plus > 0;
        return React.createElement("div", {
            className: function(props) {
                var _a, state = props.state, premium = "premium" === state.userType, anonymous = "anonymous" === state.userType;
                return dom_1.cs(((_a = {})[style.hoverMenu] = !0, _a[style.premium] = premium, _a[style.anonymous] = anonymous, 
                _a[style.checking] = state.checking, _a[style.critical] = !!state.errors.critical, 
                _a[style.plus] = !!state.errors.plus, _a));
            }(props)
        }, React.createElement(focal_1.F.div, {
            className: function(toolTipObs) {
                return toolTipObs.map(function(toolTip) {
                    return dom_1.cs(((_a = {})[style.tooltip] = !0, _a[style.tooltip_visible] = !!toolTip, 
                    _a[style.tooltip_hidden] = !toolTip, _a), toolTip ? style["tooltip_" + toolTip.type] : null);
                    var _a;
                });
            }(toolTipObs)
        }, toolTipText), React.createElement("div", {
            className: style.panel
        }, React.createElement(menuItem_1.MenuItem, {
            type: "disable",
            toolTip: tooltip("Disable on this website"),
            onClick: function(_e) {
                props.showDisablePopup();
            }
        }), React.createElement("div", {
            className: style.line
        }), showPremium ? React.createElement(menuItem_1.MenuItem, {
            type: "premium",
            count: props.state.errors.plus,
            toolTip: tooltip("See advanced corrections")
        }) : null, React.createElement(menuItem_1.MenuItem, {
            type: "grammarly",
            count: props.state.errors.critical,
            toolTip: viewSettings.supportGBtnMenuTooltip ? tooltip(gBtnToolTip) : void 0
        })));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var React = __webpack_require__(5), dom_1 = __webpack_require__(3), style = __webpack_require__(623), react_1 = __webpack_require__(22), stdlib_1 = __webpack_require__(4);
    exports.MenuItem = function(_a) {
        var _b, count = _a.count, type = _a.type, toolTip = _a.toolTip, onClick = _a.onClick, errorCount = count && count > 0 ? count : 0, classes = dom_1.cs(((_b = {})[style.btn] = !0, 
        _b[style["btn_" + type]] = !0, _b[style.counter] = errorCount > 0, _b[style.counter100] = errorCount > 99, 
        _b));
        return React.createElement("div", {
            className: style.buttonArea
        }, React.createElement(react_1.GenericButton, {
            clickHandler: onClick || stdlib_1.noOp
        }, React.createElement("div", {
            className: classes,
            tabIndex: -1,
            onMouseOver: function() {
                toolTip && toolTip.subject.next({
                    text: toolTip.text,
                    type: type
                });
            },
            onMouseLeave: function() {
                toolTip && toolTip.subject.next(null);
            }
        }, errorCount > 0 ? errorCount : null)));
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var focal_1 = __webpack_require__(91), types_1 = __webpack_require__(622), types_2 = __webpack_require__(618), user_1 = __webpack_require__(1103), FieldIntegrationController = function() {
        function FieldIntegrationController(_csState, _checkingStatus, _alertCount) {
            this._csState = _csState, this._checkingStatus = _checkingStatus, this._alertCount = _alertCount, 
            this._gbuttonState = focal_1.Atom.combine(this._csState, this._checkingStatus, this._alertCount, function(csState, checkingStatus, alertCount) {
                return __assign({}, types_1.FluidGButtonState.initial, {
                    errors: {
                        critical: alertCount.critical,
                        plus: alertCount.plus
                    },
                    checking: "inProgress" === checkingStatus,
                    userType: user_1.User.getType(csState.user),
                    offline: !csState.connection.online
                });
            }), this._popupState = focal_1.Atom.create(types_2.FluidPopupState.initial), this._popupType = this._popupState.lens("type"), 
            this._viewState = focal_1.Atom.combine(this._gbuttonState, this._popupState, function(gbutton, popup) {
                return {
                    gbutton: gbutton,
                    popup: popup
                };
            }), this.viewState = this._viewState.view();
        }
        return FieldIntegrationController.prototype.updatePopupType = function(type) {
            this._popupType.set(type);
        }, FieldIntegrationController;
    }();
    exports.FieldIntegrationController = FieldIntegrationController;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), function(User) {
        User.getType = function(user) {
            return user.premium ? "premium" : user.anonymous ? "anonymous" : "registered";
        };
    }(exports.User || (exports.User = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var logger_1 = __webpack_require__(1), InlineCardModelImpl = function() {
        function InlineCardModelImpl(alert, _replacementService, _getCurrentTextMap, _alerts, _checkingService, _log) {
            void 0 === _log && (_log = logger_1.Logger.create(InlineCardModelImpl.name)), this.alert = alert, 
            this._replacementService = _replacementService, this._getCurrentTextMap = _getCurrentTextMap, 
            this._alerts = _alerts, this._checkingService = _checkingService, this._log = _log, 
            this._wasShown = !1, this._wasReplaced = !1, this._wasIgnored = !1, this._wasAddedToDictionary = !1;
        }
        return Object.defineProperty(InlineCardModelImpl.prototype, "wasAddedToDictionary", {
            get: function() {
                return this._wasAddedToDictionary;
            },
            enumerable: !0,
            configurable: !0
        }), InlineCardModelImpl.prototype.onShown = function() {
            this._wasShown || (this._checkingService.onAlertDisplayed(this.alert), this._wasShown = !0);
        }, InlineCardModelImpl.prototype.onReplace = function(newText) {
            if (this._wasReplaced) this._log.warn("onReplace called more than once for #" + this.alert.id); else {
                var textMapOnReplace = this._getCurrentTextMap();
                if (this._replacementService.canPerformReplacement(textMapOnReplace, this.alert.transformRange)) {
                    this._log.debug("replacing", [ this.alert.transformRange, newText ]);
                    try {
                        this._replacementService.performReplacement(textMapOnReplace, this.alert.transformRange, newText), 
                        this._wasReplaced = !0, this._checkingService.onAlertApplied(this.alert), this._alerts.removeAlert(this.alert.id);
                    } catch (e) {
                        this._log.error("failed to perform replacement for #" + this.alert.id);
                    }
                } else this._log.error("can't perform replacement for #" + this.alert.id + " upon replace click");
            }
        }, InlineCardModelImpl.prototype.onIgnore = function() {
            this._wasIgnored ? this._log.warn("onIgnore called more than once for #" + this.alert.id) : (this._checkingService.onAlertIgnored(this.alert), 
            this._alerts.removeAlert(this.alert.id), this._wasIgnored = !0);
        }, InlineCardModelImpl.prototype.onAddToDictionary = function() {
            this._wasAddedToDictionary ? this._log.warn("onAddToDictionary called more than once for #" + this.alert.id) : (this._checkingService.onAddToDictionary(this.alert.highlightText), 
            this._alerts.removeAlert(this.alert.id), this._wasAddedToDictionary = !0);
        }, InlineCardModelImpl;
    }();
    exports.InlineCardModelImpl = InlineCardModelImpl;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Observable_1 = __webpack_require__(0), logger_1 = __webpack_require__(1), LegacyInlineCardView = function() {
        function LegacyInlineCardView(_legacyInlineCards, _doc, _editorId, _underlineThicknessOffset, _log) {
            void 0 === _underlineThicknessOffset && (_underlineThicknessOffset = 3), void 0 === _log && (_log = logger_1.Logger.create(LegacyInlineCardView.name)), 
            this._legacyInlineCards = _legacyInlineCards, this._doc = _doc, this._editorId = _editorId, 
            this._underlineThicknessOffset = _underlineThicknessOffset, this._log = _log, this._addToDictSub = null, 
            this._model = null, this._legacyInlineCards.render(void 0, this._doc);
        }
        return Object.defineProperty(LegacyInlineCardView.prototype, "model", {
            get: function() {
                return this._model;
            },
            enumerable: !0,
            configurable: !0
        }), LegacyInlineCardView.prototype.show = function(model, hovered) {
            var _this = this;
            this._model = model, this._legacyInlineCards.setData({
                id: parseInt(model.alert.id, 10),
                editorId: this._editorId,
                rawMatch: model.alert.legacyAlert,
                replace: function(text, _isUndo) {
                    model.onReplace(text), _this.hide();
                },
                ignore: function() {
                    model.onIgnore(), _this.hide();
                },
                addToDict: function() {}
            }), this._addToDictSub = new Observable_1.Observable(function(o) {
                var handle = function() {
                    return o.next();
                };
                return _this._legacyInlineCards.on("addtodict", handle), function() {
                    return _this._legacyInlineCards.off("addtodict", handle);
                };
            }).take(1).subscribe(function(_) {
                model.onAddToDictionary();
            }), this._legacyInlineCards.fluidShow(hovered, this._underlineThicknessOffset), 
            model.onShown();
        }, LegacyInlineCardView.prototype.hide = function() {
            this._model = null, this._log.info("hiding inline card"), this._addToDictSub && (this._addToDictSub.unsubscribe(), 
            this._addToDictSub = null), this._legacyInlineCards.hide(void 0, !0);
        }, LegacyInlineCardView.prototype.dispose = function() {}, LegacyInlineCardView;
    }();
    exports.LegacyInlineCardView = LegacyInlineCardView;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Observable_1 = __webpack_require__(0), BehaviorSubject_1 = __webpack_require__(334), logger_1 = __webpack_require__(1), layout_1 = __webpack_require__(340), InlineCardControllerImpl = function() {
        function InlineCardControllerImpl(_integrationLayout, _highlightGeometry, _view, _textObserver, _alertCollection, _mouseClientPosition, _canPerformReplacementAt, _createInlineCardModel, _cardShowDelayMs, _cardHideDelayMs, _log) {
            void 0 === _cardShowDelayMs && (_cardShowDelayMs = 200), void 0 === _cardHideDelayMs && (_cardHideDelayMs = 500), 
            void 0 === _log && (_log = logger_1.Logger.create(InlineCardControllerImpl.name));
            var _this = this;
            this._integrationLayout = _integrationLayout, this._highlightGeometry = _highlightGeometry, 
            this._view = _view, this._textObserver = _textObserver, this._alertCollection = _alertCollection, 
            this._mouseClientPosition = _mouseClientPosition, this._canPerformReplacementAt = _canPerformReplacementAt, 
            this._createInlineCardModel = _createInlineCardModel, this._cardShowDelayMs = _cardShowDelayMs, 
            this._cardHideDelayMs = _cardHideDelayMs, this._log = _log, this._hovered = Observable_1.Observable.combineLatest(this._integrationLayout.highlights.rect.behavior, this._integrationLayout.highlights.scroll.behavior, function(fieldRect, scroll) {
                return _this._mouseClientPosition.switchMap(function(e) {
                    if (layout_1.ViewportRect.containsClientPoint(e, fieldRect)) {
                        var mouseInField_1 = {
                            left: e.left - fieldRect.clientLeft + scroll.left,
                            top: e.top - fieldRect.clientTop + scroll.top
                        }, hls_1 = _this._highlightGeometry.geometry.get();
                        return Observable_1.Observable.of(Object.keys(hls_1).map(function(k) {
                            return hls_1[k];
                        }).map(function(hl) {
                            var rect = hl && hl.rects.find(function(r) {
                                return layout_1.Rect.contains(mouseInField_1, r);
                            });
                            return rect && hl ? {
                                value: {
                                    clientRect: __assign({}, rect, {
                                        top: rect.top + fieldRect.pageTop - scroll.top,
                                        left: rect.left + fieldRect.pageLeft - scroll.left
                                    }),
                                    alertId: hl.alertId
                                },
                                fromMouse: !0
                            } : null;
                        }).find(function(x) {
                            return null !== x;
                        }) || {
                            value: null,
                            fromMouse: !0
                        }).concatMap(function(initial) {
                            return initial.value ? Observable_1.Observable.merge(_this._highlightGeometry.geometry.map(function(hls) {
                                return initial.value && hls.hasOwnProperty(initial.value.alertId) ? initial : null;
                            }).filter(function(x) {
                                return null === x;
                            }), _this._textObserver.contentChanges.async).take(1).mapTo({
                                value: null,
                                fromMouse: !1
                            }).startWith(initial) : Observable_1.Observable.of(initial);
                        });
                    }
                    return Observable_1.Observable.of({
                        value: null,
                        fromMouse: !0
                    });
                }).startWith({
                    value: null,
                    fromMouse: !1
                });
            }).switch().distinctUntilChanged(function(a, b) {
                return (a.value && b.value ? a.value.alertId === b.value.alertId : a.value === b.value) && a.fromMouse === b.fromMouse;
            }).multicast(new BehaviorSubject_1.BehaviorSubject({
                value: null,
                fromMouse: !1
            })).refCount(), this.hoveredHighlightBehavior = this._hovered.map(function(x) {
                return x.value;
            }), this._subs = [ this._hovered.switchMap(function(x) {
                return Observable_1.Observable.of(x).delay(x.fromMouse ? x.value ? _this._cardShowDelayMs : _this._cardHideDelayMs : 0);
            }).subscribe(function(hl) {
                return _this._onHoveredHighlightChanged(hl);
            }) ];
        }
        return InlineCardControllerImpl.prototype._onHoveredHighlightChanged = function(hovered) {
            if (this._log.debug("hovered highlight", hovered), hovered.value) {
                var alert_1 = this._alertCollection.getAlertById(hovered.value.alertId);
                if (alert_1) {
                    var textMap = this._textObserver.getCurrentTextMap(), actualText = textMap.getPlainText().slice(alert_1.transformRange.start, alert_1.transformRange.end);
                    actualText === alert_1.transformText ? this._canPerformReplacementAt(textMap, alert_1.transformRange) ? this._view.show(this._createInlineCardModel(alert_1), hovered.value.clientRect) : (this._log.warn("couldn't create transform range for #" + alert_1.id + ", text range is [" + alert_1.transformRange.start + "; " + alert_1.transformRange.end + '] = "' + actualText + '"'), 
                    this._view.hide()) : (this._log.warn('transform text mismatch, actual "' + actualText + '" vs "' + alert_1.transformText + '"'), 
                    this._view.hide());
                } else this._log.warn("no existing alert for #" + hovered.value.alertId), this._view.hide();
            } else !hovered.fromMouse && this._view.model && this._view.model.wasAddedToDictionary ? this._log.info("not hiding inline card -- addtodict") : this._view.hide();
        }, InlineCardControllerImpl.prototype.dispose = function() {
            this._subs.forEach(function(x) {
                return x.unsubscribe();
            }), this._subs = [];
        }, InlineCardControllerImpl;
    }();
    exports.InlineCardControllerImpl = InlineCardControllerImpl;
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var rangeHighlightGeometry_1 = __webpack_require__(619), ExecCommandReplacementService = function() {
        function ExecCommandReplacementService() {}
        return ExecCommandReplacementService.prototype._createRange = function(textMap, textRange) {
            return rangeHighlightGeometry_1.RangeUtils.createRange(textMap, textRange.start, textRange.end, !0);
        }, ExecCommandReplacementService.prototype.canPerformReplacement = function(textMap, textRange) {
            var range = this._createRange(textMap, textRange), r = null !== range;
            return range && range.detach(), r;
        }, ExecCommandReplacementService.prototype.performReplacement = function(textMap, textRange, val) {
            var range = this._createRange(textMap, textRange);
            if (!range) throw new Error("Can not perform replacement, range not created");
            try {
                var doc = range.startContainer.ownerDocument, selection = doc.defaultView.getSelection();
                selection.removeAllRanges(), selection.addRange(range), doc.execCommand("insertText", !1, val);
            } finally {
                range.detach();
            }
        }, ExecCommandReplacementService;
    }();
    exports.ExecCommandReplacementService = ExecCommandReplacementService;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __assign = this && this.__assign || Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) for (var p in s = arguments[i]) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        return t;
    };
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Layout = __webpack_require__(340), base_1 = __webpack_require__(371);
    !function(Slack) {
        var highlightHeightOffset = 2;
        function createSlackLayout(tgt, gbuttonXOffset, gbuttonYOffset, multilineStateXOffset, multilineStateThreshold) {
            void 0 === gbuttonXOffset && (gbuttonXOffset = 0), void 0 === gbuttonYOffset && (gbuttonYOffset = 0), 
            void 0 === multilineStateXOffset && (multilineStateXOffset = 0), void 0 === multilineStateThreshold && (multilineStateThreshold = 41);
            var gen = Layout.GenericLayout.create(tgt, void 0, highlightHeightOffset);
            return __assign({}, gen, {
                gbutton: __assign({}, gen.gbutton, {
                    position: gen.gbutton.position.map(function(p) {
                        return __assign({}, p, {
                            top: p.top + gbuttonYOffset,
                            left: p.left + gbuttonXOffset + (p.textFieldHeight - p.effectivePadding.bottom - p.effectivePadding.top >= multilineStateThreshold ? multilineStateXOffset : 0)
                        });
                    }, Layout.equals)
                })
            });
        }
        Slack.messageInput = function(createCheckingService) {
            return void 0 === createCheckingService && (createCheckingService = base_1.createDefaultCheckingService), 
            {
                type: "contenteditable",
                canExecute: function(ctx) {
                    return base_1.isContentEditable(ctx.field) && !!base_1.parent(ctx.field, function(p) {
                        return "msg_input" === p.getAttribute("id");
                    });
                },
                execute: function(ctx) {
                    return base_1.IntegrationFactory.createContentEditable(ctx, createCheckingService, function(tgt) {
                        return createSlackLayout(tgt, -6, 0);
                    });
                }
            };
        }, Slack.messageEditInput = function(createCheckingService) {
            return void 0 === createCheckingService && (createCheckingService = base_1.createDefaultCheckingService), 
            {
                type: "contenteditable",
                canExecute: function(ctx) {
                    return base_1.isContentEditable(ctx.field) && !!base_1.parent(ctx.field, function(p) {
                        return "message_pane_edit_input" === p.getAttribute("id");
                    });
                },
                execute: function(ctx) {
                    return base_1.IntegrationFactory.createContentEditable(ctx, createCheckingService, function(tgt) {
                        return createSlackLayout(tgt, -4, 0, 29);
                    });
                }
            };
        }, Slack.threadMessageInput = function(createCheckingService) {
            return void 0 === createCheckingService && (createCheckingService = base_1.createDefaultCheckingService), 
            {
                type: "contenteditable",
                canExecute: function(ctx) {
                    return base_1.isContentEditable(ctx.field) && !!base_1.parent(ctx.field, function(p) {
                        return p.classList.contains("message_input");
                    });
                },
                execute: function(ctx) {
                    return base_1.IntegrationFactory.createContentEditable(ctx, createCheckingService, function(tgt) {
                        return createSlackLayout(tgt, -4, 0, 29);
                    });
                }
            };
        }, Slack.attachmentCommentInput = function(createCheckingService) {
            return void 0 === createCheckingService && (createCheckingService = base_1.createDefaultCheckingService), 
            {
                type: "contenteditable",
                canExecute: function(ctx) {
                    return base_1.isContentEditable(ctx.field) && !!base_1.parent(ctx.field, function(p) {
                        return p.classList.contains("comment_input");
                    });
                },
                execute: function(ctx) {
                    return base_1.IntegrationFactory.createContentEditable(ctx, createCheckingService, function(tgt) {
                        return createSlackLayout(tgt, 25, 0);
                    });
                }
            };
        }, Slack.tsRocketPostEditor = function(createCheckingService) {
            void 0 === createCheckingService && (createCheckingService = base_1.createDefaultCheckingService);
            var getRoot = function(current, iters) {
                return void 0 === iters && (iters = 100), "TS-ROCKET" === current.tagName ? current : current.parentElement && iters > 0 ? getRoot(current.parentElement, iters - 1) : null;
            };
            return {
                type: "contenteditable",
                canExecute: function(ctx) {
                    return ctx.field.matches("TS-ROCKET *") || "TS-ROCKET" === ctx.field.tagName;
                },
                execute: function(ctx) {
                    if (getRoot(ctx.field)) return base_1.IntegrationFactory.createContentEditable(ctx, createCheckingService);
                    throw new Error("could not locate ts-rocket root node");
                }
            };
        }, Slack.genericQuillEditorInput = function(createCheckingService) {
            return void 0 === createCheckingService && (createCheckingService = base_1.createDefaultCheckingService), 
            {
                type: "contenteditable",
                canExecute: function(ctx) {
                    return base_1.isContentEditable(ctx.field) && ctx.field.classList.contains("ql-editor");
                },
                execute: function(ctx) {
                    return base_1.IntegrationFactory.createContentEditable(ctx, createCheckingService);
                }
            };
        }, Slack.all = function(createCheckingService) {
            return void 0 === createCheckingService && (createCheckingService = base_1.createDefaultCheckingService), 
            [ Slack.messageInput, Slack.threadMessageInput, Slack.messageEditInput, Slack.attachmentCommentInput, Slack.genericQuillEditorInput ].map(function(x) {
                return x(createCheckingService);
            });
        };
    }(exports.Slack || (exports.Slack = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var Layout = __webpack_require__(340), base_1 = __webpack_require__(371);
    !function(Medium) {
        Medium.storyEditor = function(createCheckingService) {
            return void 0 === createCheckingService && (createCheckingService = base_1.createDefaultCheckingService), 
            {
                type: "contenteditable",
                canExecute: function(ctx) {
                    return base_1.isContentEditable(ctx.field) && ctx.field.classList.contains("postArticle-content");
                },
                execute: function(ctx) {
                    return base_1.IntegrationFactory.createContentEditable(ctx, createCheckingService, Layout.MediumLayout.create);
                }
            };
        };
    }(exports.Medium || (exports.Medium = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var base_1 = __webpack_require__(371);
    !function(Superhuman) {
        Superhuman.newMessage = function(createCheckingService) {
            void 0 === createCheckingService && (createCheckingService = base_1.createDefaultCheckingService);
            var getTarget = function(el) {
                return "IFRAME" === el.tagName ? el.contentDocument.querySelector('.frame-content .Editor-inner div.Squire[contenteditable="true"]') : null;
            };
            return {
                type: "iframe",
                canExecute: function(ctx) {
                    var f = getTarget(ctx.field);
                    return !!f && base_1.isContentEditable(f);
                },
                execute: function(ctx) {
                    var f = getTarget(ctx.field);
                    if (f) return base_1.IntegrationFactory.createIframe(ctx, createCheckingService, f);
                    throw new Error(ctx.field + " is not a valid target");
                }
            };
        }, Superhuman.all = function(createCheckingService) {
            return void 0 === createCheckingService && (createCheckingService = base_1.createDefaultCheckingService), 
            [ Superhuman.newMessage(createCheckingService) ];
        };
    }(exports.Superhuman || (exports.Superhuman = {}));
}, function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
    });
    var timers_1 = __webpack_require__(102), tracking_1 = __webpack_require__(8), BGConnectionTracking = function() {
        function BGConnectionTracking(_bgConnected) {
            void 0 === _bgConnected && (_bgConnected = !0), this._bgConnected = _bgConnected;
        }
        return BGConnectionTracking.prototype.trackBgConnectionError = function(bgNotConnected) {
            if (bgNotConnected && this._bgConnected) timers_1.timers.start("life_without_bg_connection"), 
            tracking_1.felog.lostBgPageConnection(); else if (!bgNotConnected && !this._bgConnected) {
                var time = timers_1.timers.stop("life_without_bg_connection");
                tracking_1.felog.restoreBgPageConnection(time);
            }
            this._bgConnected = !bgNotConnected;
        }, BGConnectionTracking;
    }();
    exports.BGConnectionTracking = BGConnectionTracking;
}, function(module, exports) {} ]);