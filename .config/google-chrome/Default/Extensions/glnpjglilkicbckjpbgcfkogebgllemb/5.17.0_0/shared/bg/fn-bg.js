(function t(){var t=Okta.fn.bg={},n=_okta.find,a=_okta.pick,e=_okta.each,r=_okta.isEmpty,u=Okta.fn.storage.wrapVal,i=Okta.fn.storage.unwrapVal,o="AUTH_SITES",c="OKTA_DOMAIN",s="OKTA_ACCOUNT_WHITELIST",f="DBG_PLUGIN_SETTINGS";t.findAuthSite=function(t,a){var e=i(t.get(o));return n(e,function(t){return a.matches(t.authURL)})};t.getLastAuthTimestamp=function(t,n){return i(t.get("basicAuth-"+n))||0};t.setLastAuthTimestamp=function(t,n,a){var e=u(a);return t.set("basicAuth-"+n,e)};t.getBasicAuthCreds=function(t,n,a){var e=i(n.get(c)),r={type:"get",url:e+a,headers:{Accept:"application/json;charset=utf-8"}};return t.ajax(r)};t.getPendingConsentAccount=function(t){var n=i(t.get(f));var u=n&&n.enablePluginAccountChooser;if(!u){return""}var o=[];var c=i(t.get(s));e(c,function(t){t=a(t,"login","orgDomainUrl");if(!r(t)){o.push(t)}});if(r(o)){return""}return JSON.stringify(o)}})();