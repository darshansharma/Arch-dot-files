var SpinnerFactory=function(t){"use strict";var e=["webkit","Moz","ms","O"],i={},o;function n(e,i){var o=t.createElement(e||"div"),n;for(n in i)o[n]=i[n];return o}function r(t){for(var e=1,i=arguments.length;e<i;e++)t.appendChild(arguments[e]);return t}var s=function(){var e="okta_spinner_styles";var i=t.getElementById(e);if(!i)i=n("style",{type:"text/css",id:e});r(t.getElementsByTagName("head")[0],i);return i.sheet||i.styleSheet}();function a(t,e,n,r){var a=["opacity",e,~~(t*100),n,r].join("-"),l=.01+n/r*100,f=Math.max(1-(1-t)/e*(100-l),t),d=o.substring(0,o.indexOf("Animation")).toLowerCase(),p=d&&"-"+d+"-"||"";if(!i[a]){s.insertRule("@"+p+"keyframes "+a+"{"+"0%{opacity:"+f+"}"+l+"%{opacity:"+t+"}"+(l+.01)+"%{opacity:1}"+(l+e)%100+"%{opacity:"+t+"}"+"100%{opacity:"+f+"}"+"}",s.cssRules.length);i[a]=1}return a}function l(t,i){var o=t.style,n,r;if(o[i]!==undefined)return i;i=i.charAt(0).toUpperCase()+i.slice(1);for(r=0;r<e.length;r++){n=e[r]+i;if(o[n]!==undefined)return n}}function f(t,e){for(var i in e)t.style[l(t,i)||i]=e[i];return t}function d(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)if(t[o]===undefined)t[o]=i[o]}return t}function p(t){var e={x:t.offsetLeft,y:t.offsetTop};while(t=t.offsetParent)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}var c={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};function u(t){if(typeof this=="undefined")return new u(t);this.opts=d(t||{},u.defaults,c)}u.defaults={};d(u.prototype,{spin:function(t){this.stop();var e=this,i=e.opts,r=e.el=f(n(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex}),s=i.radius+i.length+i.width,a,l;if(t){t.insertBefore(r,t.firstChild||null);l=p(t);a=p(r);f(r,{left:(i.left=="auto"?l.x-a.x+(t.offsetWidth>>1):parseInt(i.left,10)+s)+"px",top:(i.top=="auto"?l.y-a.y+(t.offsetHeight>>1):parseInt(i.top,10)+s)+"px"})}r.setAttribute("role","progressbar");e.lines(r,e.opts);if(!o){var d=0,c=(i.lines-1)*(1-i.direction)/2,u,h=i.fps,y=h/i.speed,m=(1-i.opacity)/(y*i.trail/100),v=y/i.lines;(function g(){d++;for(var t=0;t<i.lines;t++){u=Math.max(1-(d+(i.lines-t)*v)%y*m,i.opacity);e.opacity(r,t*i.direction+c,u,i)}e.timeout=e.el&&Okta.WindowUtil.setTimeout(g,~~(1e3/h))})()}return e},stop:function(){var t=this.el;if(t){clearTimeout(this.timeout);if(t.parentNode)t.parentNode.removeChild(t);this.el=undefined}return this},lines:function(t,e){var i=0,s=(e.lines-1)*(1-e.direction)/2,l;function d(t,o){return f(n(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:o,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*i+e.rotate)+"deg) translate("+e.radius+"px"+",0)",borderRadius:(e.corners*e.width>>1)+"px"})}for(;i<e.lines;i++){l=f(n(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:o&&a(e.opacity,e.trail,s+i*e.direction,e.lines)+" "+1/e.speed+"s linear infinite"});if(e.shadow)r(l,f(d("#000","0 0 4px "+"#000"),{top:2+"px"}));r(t,r(l,d(e.color,"0 0 1px rgba(0,0,0,.1)")))}return t},opacity:function(t,e,i){if(e<t.childNodes.length)t.childNodes[e].style.opacity=i}});function h(){function t(t,e){return n("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}s.addRule(".spin-vml","behavior:url(#default#VML)");u.prototype.lines=function(e,i){var o=i.length+i.width,n=2*o;function s(){return f(t("group",{coordsize:n+" "+n,coordorigin:-o+" "+-o}),{width:n,height:n})}var a=-(i.width+i.length)*2+"px",l=f(s(),{position:"absolute",top:a,left:a}),d;function p(e,n,a){r(l,r(f(s(),{rotation:360/i.lines*e+"deg",left:~~n}),r(f(t("roundrect",{arcsize:i.corners}),{width:o,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),t("fill",{color:i.color,opacity:i.opacity}),t("stroke",{opacity:0}))))}if(i.shadow)for(d=1;d<=i.lines;d++)p(d,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(d=1;d<=i.lines;d++)p(d);return r(e,l)};u.prototype.opacity=function(t,e,i,o){var n=t.firstChild;o=o.shadow&&o.lines||0;if(n&&e+o<n.childNodes.length){n=n.childNodes[e+o];n=n&&n.firstChild;n=n&&n.firstChild;if(n)n.opacity=i}}}var y=f(n("group"),{behavior:"url(#default#VML)"});if(!l(y,"transform")&&y.adj)h();else o=l(y,"animation");return u};