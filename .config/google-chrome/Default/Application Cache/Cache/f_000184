ONa.prototype.Dt=ZO(34,g("C"));qz.prototype.Dt=ZO(33,function(){return V(this,2)});function RWd(a){a.O=!0;return a}var SWd=[2];function TWd(a){Tf(this,a,0,-1,SWd,null)}x(TWd,Sf);function C3(a){Tf(this,a,0,-1,null,null)}x(C3,Sf);C3.prototype.Dt=function(){return F(this,1)};C3.prototype.NX=function(){return F(this,2)};function UWd(){try{return!!la.localStorage.getItem("docs-uoo")}catch(a){return!0}}
function VWd(a){a?la.localStorage.setItem("docs-wownoi","true"):la.localStorage.removeItem("docs-wownoi")}function WWd(a){a?la.localStorage.setItem("docs-rops","true"):la.localStorage.removeItem("docs-rops")}function XWd(a){a?la.localStorage.setItem("docs-ropd","true"):la.localStorage.removeItem("docs-ropd")}function YWd(a){Tf(this,a,0,-1,null,null)}x(YWd,Sf);YWd.prototype.P5=function(){return F(this,1)};YWd.prototype.NX=function(){return F(this,2)};
function ZWd(){return P('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password-protected account. Enabling offline access on public or shared computers can put your data at risk, as others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')};function $Wd(a){At.call(this);this.O=a;zq(this,"Turn on offline for all files?");a=new Lq;Qq(a,{key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);Qq(a,{key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);Oq(this,a);Nq(this,!1);this.Ci=this.Or=!0;a=new RR;Aq(this,fr(Pzc(a,ZWd)));this.C=this.F=null}x($Wd,At);
$Wd.prototype.Za=function(){$Wd.oa.Za.call(this);br(this,this.D.Qu);this.F=Ee(this.qa(),"docs-offline-optindialog-disclaimer-link");this.C=Ee(this.qa(),"docs-offline-optindialog-disclaimer");this.getHandler().R(this,"dialogselect",this.J).Sc(this.F,"click",this.L)};$Wd.prototype.J=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key&&this.O();this.setVisible(!1)};$Wd.prototype.L=function(){Kh(this.F,"docs-offline-optindialog-disclaimer-link-disabled");L(this.C,!0);this.C.focus()};function aXd(a,b,c){E.call(this);this.F=a;this.Aa=b;this.O=c;this.V=new oq(this.O,aBa(),this);this.V.R(oya,this.$).R(cya,this.ma).R(fya,this.D);this.L=wf();this.J=this.C=null;this.H=!1;this.D()}x(aXd,E);aXd.prototype.$=function(a){a=Zf(a,mya,1);for(var b=0;b<a.length;b++){var c=a[b].Cz(sya);if(c&&F(c,1)==this.F){this.D();break}}};aXd.prototype.ma=function(a){F(a,1)==this.F&&this.D()};
aXd.prototype.D=function(){bXd(this.Aa,[this.F]).then(function(a){var b=!1,c=!1;1==a.length&&(c=a[0],b=c.uDa(),c=F(c,8));var d=a=!1;this.H&&(a=this.C!=b,d=this.J!=c);this.C=b;this.J=c;a&&this.dispatchEvent("Cf");d&&this.dispatchEvent("Df");this.H||(this.H=!0,this.L.resolve())}.bind(this))};function cXd(){E.call(this);this.C=3;this.D=null;this.F=!1;this.H=wf()}x(cXd,E);cXd.prototype.uB=g("D");function dXd(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.H.resolve();a.dispatchEvent("Ef")}function eXd(a){if(!a.D)return!1;a=a.D.Dt();return 1==a||6==a}cXd.prototype.P5=g("C");function D3(a){Tf(this,a,0,-1,null,null)}x(D3,Sf);D3.prototype.getType=function(){return F(this,1)};D3.prototype.setType=function(a){G(this,1,a)};function fXd(a){Tf(this,a,0,-1,null,null)}x(fXd,Sf);fXd.prototype.getType=function(){return F(this,1)};fXd.prototype.setType=function(a){G(this,1,a)};fXd.prototype.bK=function(){return Yf(this,gXd,2)};function gXd(a){Tf(this,a,0,-1,null,null)}x(gXd,Sf);gXd.prototype.getType=function(){return F(this,1)};gXd.prototype.setType=function(a){G(this,1,a)};
gXd.prototype.getErrorMessage=function(){return F(this,2)};function hXd(a){Tf(this,a,0,-1,iXd,null)}x(hXd,Sf);var iXd=[1];function jXd(a){Tf(this,a,0,-1,kXd,null)}x(jXd,Sf);var kXd=[1];function lXd(a){Tf(this,a,0,-1,null,null)}x(lXd,Sf);lXd.prototype.H=function(){return Yf(this,YWd,1)};function mXd(a){Tf(this,a,0,-1,null,null)}x(mXd,Sf);mXd.prototype.uB=function(){return Yf(this,C3,1)};function nXd(a){Tf(this,a,0,-1,null,null)}x(nXd,Sf);function oXd(a){Tf(this,a,0,-1,null,null)}x(oXd,Sf);
oXd.prototype.uB=function(){return Yf(this,C3,1)};function pXd(a){Tf(this,a,0,-1,null,null)}x(pXd,Sf);p=pXd.prototype;p.getId=function(){return F(this,1)};p.vf=function(a){G(this,1,a)};p.getTitle=function(){return F(this,2)};p.Tp=function(){return F(this,3)};p.uDa=function(){return F(this,7)};function qXd(a){Tf(this,a,0,-1,rXd,null)}x(qXd,Sf);var rXd=[1];qXd.prototype.uDa=function(){return F(this,2)};function sXd(a){Tf(this,a,0,-1,null,null)}x(sXd,Sf);
sXd.prototype.getId=function(){return F(this,1)};sXd.prototype.vf=function(a){G(this,1,a)};sXd.prototype.getType=function(){return F(this,2)};sXd.prototype.setType=function(a){G(this,2,a)};function tXd(a,b,c,d,e,f,h,k,l){A.call(this);this.Ra=a;this.Wa=b;this.jb=c;this.H=d;this.D=e;this.wb=k;this.Aa=new Qp;this.cb=new Rh(this);this.xa(this.cb);this.bb=a.C;this.$=f;this.ib=h;this.J=this.C=null;this.F=l;this.O=wu(this.F,"Document now available offline",void 0,!1,3E3,!1,void 0,!0);this.ma=wu(this.F,"Document no longer available offline",void 0,!1,3E3,!1,void 0,!0);this.V=wu(this.F,"Could not make the document available offline.",void 0,!1,3E3,!1,void 0,!0);this.L=wu(this.F,"Could not enable offline access.",
void 0,!1,3E3,!1,void 0,!0);uXd(this)}x(tXd,A);function uXd(a){vf([a.D.H.C,a.H.L.C]).then(function(){K.Zv.subscribe("action",a.hHa,a);a.cb.R(a.H,"Cf",a.lxb).R(a.H,"Df",a.Gvb).R(a.D,"Ef",a.Ivb);vXd(a);K.Zv.setVisible(Nf)})}p=tXd.prototype;p.hHa=function(){wXd(this)};
function wXd(a){return qxa(a.Aa).then(function(){if(Jp()){if(1==a.D.C)return xXd(a);eXd(a.D)?yXd(a):zXd(a,a.L)}else{a.J&&a.J.setVisible(!1);var b=Qq(Qq(new Lq,{key:"ok",caption:"Install"},!0),Tq,!1,!0),c=a.$,d=ezc("Extension needed","To make this document available offline, install the Docs Offline Chrome extension in your browser.",a.D7a,null,a,void 0,b,void 0);c.Eh(d);d.focus();a.J=d;br(a.J,b.Qu)}})}
p.D7a=function(){var a=this;this.Aa.install().then(function(){return wXd(a)},function(b){b=Ye(b);a.wb.hd(b);Vwa(b)})};function xXd(a){var b=!K.Zv.Ld();return yf((new qf(function(b){var c=a.bb;Sl(c.C,8192)?b():(bo(c.J,c.Aa,Re(b)),c.create())})).then(function(){var c=new sXd;c.vf(a.Ra.tc());c.setType(a.Wa);return AXd(a.jb,[c],b)}),function(b){zXd(a,a.V);a.wb.log(Ye(b))})}function BXd(a){yf(CXd(a.ib),function(b){a.wb.log(Ye(b))}).then(function(){if(1==a.D.C)return xXd(a);zXd(a,a.L)})}
function yXd(a){a.C||(a.C=new $Wd(function(){return BXd(a)}),a.$.Eh(a.C),a.cb.R(a.C,"hide",function(){a.C=null}),a.C.setVisible(!0))}p.lxb=function(){vXd(this);DXd(this);this.H.C||zXd(this,this.ma)};p.Gvb=function(){DXd(this)};p.Ivb=function(){vXd(this)};function DXd(a){var b;if(b=1==a.D.C)b=a.H.J;b&&a.H.C&&zXd(a,a.O)}function zXd(a,b){b.Sb()||b.render();a.O.setVisible(!1);a.ma.setVisible(!1);a.V.setVisible(!1);a.L.setVisible(!1);b.setVisible(!0)}
function vXd(a){K.Zv.mb(1==a.D.C||eXd(a.D));K.Zv.wc(a.H.C)}p.Xa=function(){K.Zv.unsubscribe("action",this.hHa,this);this.C&&(yG(this.$,this.C),C(this.C));this.J&&(yG(this.$,this.J),C(this.J));tXd.oa.Xa.call(this);yu(this.F,this.O);yu(this.F,this.ma);yu(this.F,this.V);yu(this.F,this.L);Db(this.O,this.ma,this.V,this.L)};function EXd(a,b){this.c9=a;this.jN=b};function FXd(a,b,c,d,e){A.call(this);this.wb=a;this.H=b;this.O=d?d:"DefaultLocalStoreSessionId";this.L=e||new EAa;this.J=c;this.D=null;this.F=new $n;this.xa(this.F);this.C=GXd(this)}x(FXd,A);function GXd(a){a.C&&C(a.C);var b=xh(H(),"lssv");return new JAa(a.wb,a.O,0,a.O4a.bind(a),b,!0,a.J,new Aza)}function HXd(a){a.D||(a.D=IXd(a),yf(a.D,function(a){this.I$();throw a;}.bind(a)));return a.D}
function JXd(a){return HXd(a).then(function(a){return(new qf(function(b,d){Xva(a.pQ(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==yh(H(),"docs-offline-lsuid")?new EXd(a,b[0]):null}.bind(this))}.bind(a))}p=FXd.prototype;p.get=function(){return JXd(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.c9})};function IXd(a){return(new qf(function(a,c){Cf(this.C.create(this.I$.bind(this)),a,c)}.bind(a))).then(a.wtb.bind(a))}
p.wtb=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.H){var c=new uya(a,this.H);this.xa(c)}Jua(a);ao(this.F,a.C.C.H,function(){b.I$()});ao(this.F,a.C.O,function(){b.I$()});return a};p.I$=function(){C(this.C);this.C=GXd(this);this.D=null};p.O4a=function(a){return $ya(this.L,a)};p.Xa=function(){C(this.C);FXd.oa.Xa.call(this)};function KXd(a){this.D=a}KXd.prototype.C=function(a){var b=new fKc;hKc(b,a.serialize());this.D.log(b);this.D.H()};function LXd(a){this.D=a}LXd.prototype.C=function(a){var b=new fKc;hKc(b,a.serialize());this.D.log(b);return new qf(function(a,b){this.D.flush(a,b)}.bind(this))};function MXd(a){this.D=a}MXd.prototype.C=function(a,b,c){JXd(this.D).then(v(function(d){d?(new Jac(d.c9,"offline",null)).C(a,b,c):b()},this))};function NXd(a,b,c){a='<div><div id="docs-offline-optinpromo-title">You\'re ready</div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline. Sweet.</div><div class="docs-offline-optinpromo-confirm-buttons">'+O(xr({id:"docs-offline-optinpromo-confirm-close",content:pr("Close")},c||b));return P(a+"</div></div>")};function OXd(a){E.call(this);this.Db=a||Qd();this.cb=new Rh(this);this.xa(this.cb);this.C=new Tr(a);this.C.Yz(!1);Xk(this.C.D,!1);this.C.Gd("docs-offline-optinpromo");this.C.render();a=this.C.qb();ye(a,!0);Ch(a,"dialog");Dh(a,"labelledby","docs-offline-optinpromo-title");Dh(a,"describedby","docs-offline-optinpromo-description");this.xa(this.C);this.L=new yr(null);this.xa(this.L);this.J=new yr(null);this.xa(this.J);this.H=new yr(null);this.xa(this.H);this.O=this.F=this.D=null;PXd(this,QXd)}x(OXd,E);
function QXd(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title">Work offline and don\'t miss a beat</div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline or your Internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn more</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password-protected account. Enabling offline access on public or shared computers can put your data at risk, as others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br>'+
O(xr({id:"docs-offline-optinpromo-optin",content:pr("Turn on offline access"),style:2},b));a+=O(xr({id:"docs-offline-optinpromo-decline",content:pr("No, thanks"),style:0},b));return P(a+"</div>")}
function PXd(a,b){var c=N(b);a.C.setContent(c);switch(b){case QXd:a.cb.R(a.C,"show",a.Axb);b=a.Db.getElement("docs-offline-optinpromo-optin");a.L.yb(b);a.cb.Sc(a.L,"action",v(a.hwb,a));b=a.Db.getElement("docs-offline-optinpromo-decline");a.J.yb(b);a.cb.Sc(a.J,"action",v(a.onb,a));a.D=a.Db.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.Db.getElement("docs-offline-optinpromo-link-show-less");a.O=a.Db.getElement("docs-offline-optinpromo-learn-more-container");a.cb.R(a.D,"click",v(a.IQa,
a,!0)).R(a.F,"click",v(a.IQa,a,!1));break;case NXd:b=a.Db.getElement("docs-offline-optinpromo-confirm-close");a.H.yb(b);a.cb.Sc(a.H,"action",v(a.show,a,!1));a.C.qb().focus();break;default:throw Error("Cannot handle state "+b);}a.Db.getElement("docs-offline-optinpromo-title");a.Db.getElement("docs-offline-optinpromo-description")}p=OXd.prototype;p.IQa=function(a){L(this.D,!a);L(this.F,a);L(this.O,a);(a?this.F:this.D).focus();return!1};p.hwb=function(){this.dispatchEvent(new D("Gf"))};p.onb=function(){this.dispatchEvent(new D("Hf"))};
p.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new D("If"))};p.Axb=function(){this.C.qb().focus();this.dispatchEvent(new D("Ff"))};function RXd(a,b){this.L=a;this.H=b}function SXd(a){return TXd(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){var a=new C3;G(a,1,1);return a},a.J.bind(a))}RXd.prototype.J=function(a){if(a instanceof C3)return a;if(a instanceof Error)throw a;throw Error(a);};
function TXd(a){var b=new C3;return a.L.get().then(function(a){var c=a.D;switch(c){case 3:case 2:return tf();case 4:return G(b,1,3),a=a.NX(),G(b,2,a),uf(b);case 1:return G(b,1,2),uf(b);case 5:return G(b,1,4),uf(b);default:throw Error("Unexpected enabled state: "+c);}})}RXd.prototype.D=function(){return(new qf(function(a,b){this.H.C(a,b)}.bind(this))).then(function(a){if(a)return tf();a=new C3;G(a,1,5);return uf(a)})};RXd.prototype.C=function(){if(Jp())return tf();var a=new C3;G(a,1,6);return uf(a)};
RXd.prototype.F=function(){var a=xh(H(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new qf(function(b,c){xTa(function(d,e){e>a?b():(d=new C3,G(d,1,7),G(d,3,a),G(d,4,e),c(d))},c)})};function UXd(a,b,c){this.D=a;this.C=c||null}UXd.prototype.NX=g("C");function VXd(a,b){this.C=a;this.wb=b}VXd.prototype.get=function(){return JXd(this.C).then(function(a){return a?new UXd(1,a.jN.getId(),a.jN.xF(),WXd(this)):HXd(this.C).then(function(a){return(new qf(function(b,d){Xva(a.pQ(),b,d)})).then(function(a){if(a.length)if(1==a.length)a=a[0],a=new UXd(4,a.getId(),a.xF());else throw Error("More than one user in store: "+a.length);else a=UWd()?new UXd(2):eq()?new UXd(5):new UXd(3);return a}.bind(this))}.bind(this))}.bind(this))};
function WXd(a){a=new dUa(a.wb);var b=H(),c=I(b,"docs-dbsw"),d=[];c&&I(b,"docs-offline-esmst")&&d.push(new cv("metadata-sync",0,!0,new bv(1,pq(),ev("metadata"),3E5,!0,!0)));c&&I(b,"docs-offline-esbst")&&d.push(new cv("service-worker-update",0,!0,new bv(2,jBa(),ev("service_worker_update"),3E5,!0,!1)),sTa());I(b,"docs-offline-edswut")&&d.push(new cv("drive-service-worker",0,!0,new bv(2,kBa(yh(H(),"drdn"),"/drive/serviceworker/update",!0),ev("drive_service_worker_update"),3E5,!0,!0)));I(b,"docs-offline-eshcst")&&
d.push(new cv("homescreen-cello-sync",xh(H(),"docs-offline-scstpim"),!0,new bv(2,kBa(ll(la.location.href),"/document/backgroundsync"),new dv,3E5,!0,!0)));I(b,"docs-offline-esdcst")&&d.push(new cv("drive-cello-sync",xh(H(),"docs-offline-scstpim"),!0,new bv(2,kBa(yh(H(),"drdn"),"/drive/_/dataservice/backgroundsync",!0),new dv,3E5,!0,!0)));c&&I(b,"docs-offline-eslcst")&&d.push(new cv("local-changes-sync",0,!1,new bv(1,pq(),ev("local_changes_sync"),3E5,!0,!1)));c&&I(b,"docs-offline-esast")&&!I(b,"docs-offline-eoasks")&&
d.push(new cv("auto-sync",xh(H(),"docs-offline-sastpim"),!1,new bv(1,pq(),ev("auto_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-eswst")&&d.push(new cv("webfonts-sync",0,!0,new bv(1,pq(),ev("webfonts_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-esist")&&d.push(new cv("impression-sync",0,!1,new bv(1,pq(),ev("impressionSync"),3E5,!0,!1)));c&&I(b,"docs-offline-esddt")&&d.push(new cv("document-deletion",0,!1,new bv(1,pq(),ev("doc_deletion"),3E5,!1,!1)));c&&I(b,"docs-offline-esuuct")&&d.push(new cv("update-unsaved-changes",
0,!1,new bv(2,jBa(),ev("update_unsaved_changes"),3E5,!1,!1)));c&&I(b,"docs-offline-esct")&&d.push(new cv("cleanup-task",0,!1,new bv(2,jBa(),ev("cleanup"),3E5,!1,!1)));c&&I(b,"docs-offline-esrt")&&d.push(new cv("report-task",0,!1,new bv(2,jBa(),ev("report"),3E5,!1,!1)));c&&I(b,"docs-offline-eskst")&&d.push(new cv("kix-snapshot",0,!1,new bv(1,kBa(ll(la.location.href),"/document/snapshot.js"),new dv,3E5,!1,!1)));c&&I(b,"docs-offline-esost")&&d.push(new cv("sync-objects-sync",0,!0,new bv(1,pq(),ev("sync_objects_sync"),
3E5,!0,!0)));b=[];for(c=0;c<d.length;c++){var e=d[c];e.C&&b.push(e)}for(d=0;d<b.length;d++)if(c=MTa(a,b[d].getId()),!c||!Xf(c,5,!1))return!1;return!0};function XXd(a){this.C=a}function YXd(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Fa()});a.C.setItem("optInLog",bm(c))}function ZXd(){var a=la.localStorage;if(!a)throw Error("Local storage not available");return new XXd(a)};function $Xd(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function aYd(a){return HXd(a.H).then(function(a){return bYd(this,a).then(function(){var b=XAa();if(!b)throw Error("Missing user info for enabling offline in flags.");return cYd(this,a,b)}.bind(this))}.bind(a)).then(function(a){return dYd(this,a)}.bind(a))}function bYd(a,b){return(new qf(function(a,d){Xva(b.pQ(),a,d)}.bind(a))).then(function(a){if(a&&a.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function cYd(a,b,c){var d=new yua(F(c,1),!0);zua(d,c.xF());Aua(d,F(c,3));Bua(d,!!F(c,4));Cua(d,!!F(c,6));d.setProperty("optInReasons",a.C);return(new qf(function(a,c){b.write([d],a,c)}.bind(a))).then(function(){return d})}
function dYd(a,b){YXd(ZXd(),b.xF()||"");la.localStorage&&(la.localStorage.removeItem("docs-uoo"),la.localStorage.setItem("docs-oiouid",b.getId()));b=new Zp;var c=new dya;dg(b,aq,c);tya(a.F,b);b=new Qp;var d=new YAa(b);return mxa(b).then(function(){return new qf(function(a,b){d.C(a,b)})}.bind(a)).then(function(a){var b=ZAa(),c=new TWd;this.C[0]&&G(c,1,Sva(this.C[0]));G(c,10,a);G(c,11,b);a=this.D.tC(81E3,0);b=TO(a);$f(b,34,c);this.D.vC(a)}.bind(a))};function eYd(a,b,c,d,e,f,h){A.call(this);this.Db=h||Qd();this.D=a;this.wb=b;this.J=c;this.Nb=d;a=new mBa;this.xa(a);this.F=new bq(a,aBa());this.xa(this.F);this.rb=new oq(this.F,aBa(),this);this.xa(this.rb);this.ib=new oq(this.F,null,this);this.xa(this.ib);this.$=new FXd(this.wb,this.F,e,"OfflinePromoControllerLockSessionId");this.xa(this.$);e=new VXd(this.$,this.wb);a=new Qp;this.Kb=new RXd(e,new YAa(a));e=this.$;b=H();a=I(b,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0;b=yh(b,"gaia_session_id");
a=new AKc(306,b||null,a,!(ya(la)&&la.window==la)||!la.document||!la.document.documentElement,!0);b=new LXd(a);e=Nf&&Bza&&(dBa()||eBa())?new MXd(e):new Iac;e=new Gac(b,null,e);a=new KXd(a);b=dAa();e=Bac(Aac(RWd(yac(xac(new wac,e),a)),b),84).build();a=uac(e.uC());b=(new Fac(!1)).get();a.H=b;this.ub=e;this.ub.WG();this.zb=oCa(this.Db);this.C=null;this.cb=new Rh(this);this.xa(this.cb);this.Ra=new aj(this.Iqb,6E4,this);this.xa(this.Ra);this.Cb=!1;this.O=this.Wa=this.L=null;this.H=new We("docs-offline-promo-reload-butter-dismisss");
this.xa(this.H);this.H.setProperty("label","Dismiss");this.H.mb(!0);this.H.Tb(Pa,this.Onb.bind(this));this.V=Ap.getInstance();this.ma=this.jb=this.Aa=this.Gb=!1;this.bb=Nf&&cj("56.0.2924.87");this.sb=!1;this.Jb=f}x(eYd,A);p=eYd.prototype;p.init=function(){I(H(),"docs-offline-eeooip")&&Jp()&&(fYd(this),gYd(this),this.F.connect(),this.cb.R(this.D,"r",this.Jqb).R(this.D,"q",this.Vjb).R(this.zb,"change",this.G7a),this.rb.R(aq,this.F7a),this.ib.R(aq,this.E7a).R(hya,this.jjb),E3(this))};
function E3(a){SXd(a.Kb).then(function(a){var b=1==a.Dt()&&!this.Aa,d=this.D.Zi(),e;if(!(e=this.ma)&&(e=!UWd())){try{var f=!!la.localStorage.getItem("docs-urop")}catch(k){f=!0}e=!f}f=I(H(),"promo_show_on_load");if((b=b&&this.bb&&e)&&!(b=!d)){try{var h=!!la.localStorage.getItem("docs-wownoi")}catch(k){h=!1}b=h&&!f}h=b;this.Gb||(h?this.C||(this.C=new OXd(this.Db),this.xa(this.C),this.cb.R(this.C,"Gf",this.iwb).R(this.C,"Hf",this.ewb).R(this.C,"If",this.M5a),this.C.show(!0),hYd(this)):this.C&&this.C.show(!1));
if(this.Nb){if(2==a.Dt()||d||h)iYd(this);else if(this.Wa&&!eg(a,this.Wa)&&iYd(this),null==this.L){h=jYd(a);if(!this.sb)switch(a.Dt()){case 1:break;case 3:kYd(this,"Offline ineligible, other user enabled");break;case 7:kYd(this,"Offline ineligible, insufficient disk space");break;case 5:kYd(this,"Offline ineligible, policy disallows");break;case 6:kYd(this,"Offline ineligible, no extension");break;case 4:kYd(this,"Offline ineligible, invalid db state");break;default:kYd(this,"Offline ineligible, unknown reason")}a=
1==a.Dt()&&this.bb?Dp(h,"Turn on...",this.Zxb.bind(this),"info",!1):Cp(h,"info",!1);this.L=this.V.postMessage(a)}d&&this.Aa&&!this.jb?null==this.O&&(d=Dp("Reload to start editing even when offline.","Reload",this.$xb.bind(this),"info",!0,void 0,this.H),this.O=this.V.postMessage(d)):null!=this.O&&(Bp(this.V,this.O),this.O=null)}}.bind(a))}p.Jqb=function(){this.Ra.start();E3(this)};p.Iqb=function(){Hya()||VWd(!0)};p.Vjb=function(){this.Ra.stop();fYd(this);gYd(this);E3(this)};
p.jwb=function(){if(this.D.Zi()){var a=yh(H(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit "+('<a href="//'+Q(a)+'">'+(O(a)+("</a> to create and edit without interruption. "+('<a href="'+Q(ur("https://support.google.com/docs/answer/2375012?hl=en-GB"))+'">Learn more</a>'))));b=P(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=ADa("Your documents are syncing",fr(b),void 0,
this,"Got it!","docs-offline-welcomepromo",this.Db);Kh(b.Rq(),"docs-offline-welcomepromo-bg");this.xa(b);this.C&&this.C.show(!1)}else this.Gb=!0,PXd(this.C,NXd);this.Aa=!0;E3(this)};p.F7a=function(){this.Aa=!0;E3(this)};p.E7a=function(){E3(this)};p.jjb=function(){this.ma=!1;E3(this)};
p.gwb=function(a){this.wb.hd(a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=wu(this.Jb,"Failed to turn on offline access. Please try again later.",this.Db);a.D=!0;a.render();a.setVisible(!0);this.xa(a)};p.iwb=function(){this.J.Yb(2054);VWd(!1);aYd(new $Xd(this.$,this.F,this.ub)).then(v(this.jwb,this),v(this.gwb,this))};
p.ewb=function(){this.D.Zi()?this.J.Yb(2055):XWd(!0);VWd(!1);la.localStorage.setItem("docs-urop","true");this.ma=!1;E3(this);var a=new Zp,b=new gya;dg(a,hya,b);tya(this.F,a)};
function jYd(a){switch(a.Dt()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(a.NX()+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync has been disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function kYd(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";vm(a.wb,Error("Offline editing disabled: "+b),c);a.sb=!0}function iYd(a){null!=a.L&&(Bp(a.V,a.L),a.L=null,a.Wa=null)}p.Zxb=function(){this.ma=!0;E3(this)};p.$xb=function(){la.location.reload()};p.Onb=function(){this.jb=!0};p.G7a=function(){hYd(this)};p.M5a=function(){C(this.C);this.C=null};function hYd(a){!a.Cb&&a.C&&"hidden"!=a.zb.getState()&&(a.D.Zi()?a.J.Yb(2847):WWd(!0),a.Cb=!0)}
function fYd(a){try{var b=!!la.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.Zi()&&(WWd(!1),a.J.Yb(2847))}function gYd(a){try{var b=!!la.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.Zi()&&(XWd(!1),a.J.Yb(2055))};function lYd(a,b,c,d,e,f,h){A.call(this);this.C=b;this.J=wf();mYd(this);this.F=this.H=null;this.L=a;this.D=c;this.cb=new Rh(this);this.xa(this.cb);this.O=d;this.V=e;this.ma=f;this.$=h}x(lYd,A);p=lYd.prototype;p.start=function(){nYd(this.C).then(function(a){a.connect();this.J.resolve(a)}.bind(this));oYd(this);this.cb.R(this.L,"q",this.$jb)};
function CXd(a){if(2!=a.D.P5())throw Error("Cannot enable offline when it is not disabled. Current state:"+a.D.P5());dXd(a.D,4);return pYd(a.C,10).then(function(a){var b=a.Dt();return tf().then(function(){return 1==b||2==b?F3(this,1):F3(this,2)}.bind(this)).then(function(){return a})}.bind(a))}p.uB=function(){return this.C.uB()};
function oYd(a){yf(a.C.H().then(function(a){switch(a.P5()){case 1:return qYd(this.C).then(function(){return F3(this,1)}.bind(this)).then(function(){rYd(this)}.bind(this));case 2:return F3(this,2);case 4:return sYd(this,a.NX());case 3:return a=F(a,3),null!=a?tYd(this,a):F3(this,2);case 5:return uYd(this)}}.bind(a)),ba().bind(a))}p.OCb=function(a){1==this.D.C&&!this.D.F&&0==F(a,2)&&yf(this.C.H().then(function(a){var b=this.D;a=F(a,5);b.F=a;b.dispatchEvent("Ef")}.bind(this)),ba().bind(this))};
function sYd(a){return F3(a,2)}function tYd(a,b){return a.V?pYd(a.C,b).then(function(a){switch(a.Dt()){case 1:return F3(this,1);case 2:return F3(this,1);default:return F3(this,2)}}.bind(a)):tf()}function uYd(a){return a.ma?pYd(a.C,2).then(function(a){switch(a.Dt()){case 1:case 2:return F3(this,1);default:return F3(this,2)}}.bind(a)):tf()}
function mYd(a){a.J.C.then(function(a){this.H=new oq(a,"user_"+this.O,this);this.xa(this.H);this.F=new oq(a,null,this);this.xa(this.F);this.H.R(aq,this.I7a).R(fya,this.xvb).R(jya,this.OCb);this.F.R(aq,this.H7a).R(fya,this.ijb)}.bind(a))}p.I7a=function(){yf(F3(this,1),ba().bind(this))};p.xvb=function(){yf(F3(this,2),ba().bind(this))};p.H7a=function(){vYd(this)};p.ijb=function(){vYd(this)};
function F3(a,b){return a.uB().then(function(a){dXd(this.D,b,a)}.bind(a)).then(function(){return this.C.H().then(function(a){var b=this.D;a=F(a,5);b.F=a;b.dispatchEvent("Ef")}.bind(this))}.bind(a)).then(ba().bind(a))}function vYd(a){a.uB().then(function(a){var b=this.D;b.D=a;b.dispatchEvent("Ef")}.bind(a))}p.$jb=function(){rYd(this)};function rYd(a){a.$&&1==a.D.C&&yf(wYd(a.C),ba().bind(a))};function xYd(a){this.D=a}xYd.prototype.C=g("D");function G3(a,b,c,d){A.call(this);this.F=wf();this.Db=d||Qd();this.cb=new Rh(this);this.xa(this.cb);this.J=a;a=new Cl(b);a.gc("ouid",this.J);lBa()&&a.gc("Debug","true");Il(a,"cd="+c);if(Kb(a.C))throw Error("Url contains invalid domain: "+b);this.L=Fl(El(Dl(new Cl,a.H),a.C),a.J).toString();this.C=this.Db.Ma("IFRAME",{style:"display:none"});zd(this.C,Np(a.toString()));this.cb.R(He(this.Db),"message",this.O);this.Db.Vb().body.appendChild(this.C);this.D=!1}x(G3,A);
function nYd(a){var b=new D3;b.setType(1);return H3(a,b).then(function(a){a=new bq(new xYd(a.port),"user_"+this.J);this.xa(a);return a}.bind(a))}function bXd(a,b){var c=new D3;c.setType(2);var d=new hXd;G(d,1,b||[]);$f(c,2,d);return H3(a,c).then(function(a){return Zf(Yf(a.response,jXd,3),pXd,1)}.bind(a))}G3.prototype.H=function(){var a=new D3;a.setType(4);return H3(this,a).then(function(a){return Yf(a.response,lXd,4).H()}.bind(this))};
G3.prototype.uB=function(){var a=new D3;a.setType(10);return H3(this,a).then(function(a){return Yf(a.response,mXd,7).uB()}.bind(this))};function AXd(a,b,c){var d=new D3;d.setType(5);var e=new qXd;ag(e,1,b);G(e,2,c);$f(d,3,e);return H3(a,d).then(ba())}function pYd(a,b){var c=new D3;c.setType(6);var d=new nXd;G(d,1,b);$f(c,4,d);return H3(a,c).then(function(a){return Yf(a.response,oXd,5).uB()})}function qYd(a){var b=new D3;b.setType(9);return H3(a,b).then(ba())}
function wYd(a){var b=new D3;b.setType(11);return H3(a,b).then(ba())}
function H3(a,b){return a.F.C.then(function(a){var c=new MessageChannel;a.postMessage(b.Zf(),[c.port2]);var e=wf();c.port1.onmessage=v(function(a){a=new yYd(a);a.response&&a.response.bK()?(a=a.response.bK(),e.reject(Error("Iframe api request failed (type "+a.getType()+"): "+a.getErrorMessage()))):e.resolve(a)},this);var f=t(void 0)?void 0:3E4,h=Wi(function(){e.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+f+"ms."))},f);xf(e.C,function(){c.port1.close();Zi(h)});return e.C}.bind(a))}
G3.prototype.O=function(a){(a=a.ue)&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.D&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],Cb(this,a.close,a),this.F.resolve(a),this.D=!0),C(this.cb))};G3.prototype.Xa=function(){this.Db.xf(this.C);G3.oa.Xa.call(this)};function yYd(a){this.response=a.data?new fXd(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function zYd(a,b,c,d,e,f,h,k,l,m){A.call(this);this.F=yh(H(),"docs-offline-lsuid");this.H=new eYd(a,b,c,d,h,l,m);this.xa(this.H);this.H.init();this.J=new mBa;this.C=new bq(this.J,aBa());this.xa(this.C);this.C.connect();this.D=new cXd;this.xa(this.D);!I(H(),"docs-offline-eiedp")||I(H(),"docs-isd")&&!I(H(),"docs-offline-esdp")||(c=iBa("/iframeapi",void 0),c=new G3(this.F,c,1),this.xa(c),a=new lYd(a,c,this.D,this.F,!1,!1,!1),this.xa(a),a.start(),d=new aXd(e.tc(),c,this.C),this.xa(d),b=new tXd(e,f,c,
d,this.D,k,a,b,l),this.xa(b))}x(zYd,A);function AYd(){A.call(this)}x(AYd,Zz);AYd.prototype.C=function(a,b,c,d,e,f,h,k,l){return new zYd(a,b,c,!0,d,e,f,h,k,l)};eA("offline",AYd);
