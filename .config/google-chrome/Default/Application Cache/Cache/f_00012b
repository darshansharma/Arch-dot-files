var JOf="cj-delete-recording",KOf="cj-finish-recording",LOf="docs-conjure-playback-bar-overflow-button",MOf="docs-conjure-playback-bar-paused",NOf="docs-conjure-playback-bar-play-button",OOf="docs-conjure-playback-bar-playing",POf="docs-conjure-recording-bar-cancel-button",QOf="docs-conjure-recording-bar-no-thanks-button",ROf="docs-conjure-recording-bar-start-button",SOf="docs-conjure-recording-bar-stop-button",TOf="not-recording",UOf="playback",L6="recording";jq.prototype.zma=Y(2,v(Kh));
function VOf(a){Q(this,a,0,-1,null,null)}H(VOf,P);VOf.prototype.getSeconds=function(){return S(this,1,0)};var WOf=[[1]];function XOf(a){Q(this,a,0,-1,null,WOf)}H(XOf,P);function YOf(a){Q(this,a,0,-1,null,null)}H(YOf,P);function ZOf(a){Q(this,a,0,-1,null,null)}H(ZOf,P);function $Of(a){Q(this,a,0,-1,null,null)}H($Of,P);function aPf(a){Q(this,a,0,-1,null,null)}H(aPf,P);function bPf(a){Q(this,a,0,-1,null,null)}H(bPf,P);function cPf(a){Q(this,a,0,-1,null,null)}H(cPf,P);
function dPf(a){Q(this,a,0,-1,null,null)}H(dPf,P);function ePf(a){Q(this,a,0,-1,null,null)}H(ePf,P);function fPf(a,b){Tq(a,1,b)}function gPf(a){Q(this,a,0,-1,null,null)}H(gPf,P);function hPf(a){var b=Math.floor(a/1E3);a=b%60;var c=Math.floor(b/60)%60;b=Math.floor(b/3600);return(b?b+":":"")+(c?9<c?c:"0"+c:"00")+":"+(9<a?a:"0"+a)}function iPf(a){return a.getSeconds()+S(a,2,0)/1E9};function jPf(a){this.C=a}function kPf(a){R(a,1);return new jPf(R(a,1))}function lPf(a){var b=new ZOf;T(b,1,a.C);return b}jPf.prototype.eb=function(a){return this.C==a.C};jPf.prototype.value=v("C");function mPf(a,b,c){this.H=a;this.F=b;this.C=c}
function nPf(a,b){function c(a,b){for(var c=0;c<b.length;c++)h.setUint8(a+c,b.charCodeAt(c))}var d=new Uint8Array(b),e=new ArrayBuffer(b.byteLength+44),f=new Uint8Array(e),h=new DataView(e);c(0,"RIFF");h.setUint32(4,36+b.byteLength*a.C,!0);c(8,"WAVE");c(12,"fmt ");h.setUint32(16,16,!0);h.setUint16(20,1,!0);h.setUint16(22,a.F,!0);h.setUint32(24,a.H,!0);h.setUint32(28,a.H*a.C,!0);h.setUint16(32,a.F*a.C,!0);h.setUint16(34,8*a.C,!0);c(36,wd);h.setUint32(40,d.length,!0);for(a=0;a<d.length;a++)f[a+44]=
d[a];return e}function oPf(){this.C=this.F=this.H=null}oPf.prototype.build=function(){return new mPf(this.H,this.F,this.C)};function pPf(a,b){a.H=b;return a}function qPf(a,b){a.F=b;return a}function rPf(a,b){a.C=b;return a};function sPf(a){switch(TBa(a,WOf[0])){case 1:return a=Rq(a,YOf,1),rPf(qPf(pPf(new oPf,R(a,1)),R(a,2)),R(a,3)).build();default:throw Error("IC`"+TBa(a,WOf[0]));}};function tPf(a,b,c){this.F=a;this.C=b;this.H=c}function uPf(a){return vPf(wPf(xPf(new yPf,kPf(Rq(a,ZOf,1))),iPf(Rq(Rq(a,aPf,2),VOf,2))),sPf(Rq(a,XOf,5))).build()}function yPf(){this.C=this.F=this.H=null}yPf.prototype.build=function(){return new tPf(this.H,this.F,this.C)};function xPf(a,b){a.H=b;return a}function wPf(a,b){a.F=b;return a}function vPf(a,b){a.C=b;return a};function zPf(a,b,c){I.call(this);this.N=a;this.O=b;this.ga=c;this.H="not recording";this.L=this.R=this.J=this.F=this.C=null}H(zPf,I);
zPf.prototype.jm=function(){var a=this;return this.H==L6?Promise.resolve(void 0):xxa().mediaDevices.getUserMedia({audio:!0}).then(function(b){a.J=b.getAudioTracks()[0];a.R=new Date;a.W=Ep();a.C=new AudioContext;a.L=rPf(qPf(pPf(new oPf,a.C.sampleRate),1),2).build();a.F=a.C.createScriptProcessor(16384,1,1);a.F.onaudioprocess=function(c){c=c.inputBuffer.getChannelData(0);var d=new ArrayBuffer(2*c.length);d=new DataView(d);for(var e=0,f=0;e<c.length;e++,f+=2)d.setInt16(f,32767*Math.max(-1,Math.min(1,
c[e])),!0);c=new Uint8Array(d.buffer);"ended"==a.J.readyState?(a.W.resolve(a.N.J.execute(a.O,a.L,c)),a.F.disconnect(a.C.destination)):b.active?a.H==L6&&a.N.F.execute(a.O,c):(APf(a),a.F.disconnect(a.C.destination))};a.C.createMediaStreamSource(b).connect(a.F);a.F.connect(a.C.destination);return a.N.L.execute(a.ga,a.O,a.R,a.L).then(function(){a.H=L6})})};function APf(a){if(a.H!=L6)return Promise.reject(Error("JC"));BPf(a);return Promise.resolve(a.W.qf)}
function BPf(a){a.J&&a.J.stop();a.H="not recording"}zPf.prototype.cancel=function(){BPf(this);this.F.disconnect(this.C.destination)};zPf.prototype.getState=v("H");function CPf(a){this.C=a}function DPf(){this.C=null;this.F=Rk}DPf.prototype.build=function(){return new CPf(this.C)};function EPf(a){var b=new DPf;b.C=a;return b};function FPf(a){this.C=a};function GPf(a,b){I.call(this);this.F=a;this.C=b;this.ha(this.C)}H(GPf,I);function HPf(a,b,c){return b.F.execute().then(function(b){var d=EPf(b);d.F=L6;return new GPf(d.build(),new zPf(a,b,c))})};function IPf(a,b,c,d){this.ga=a;this.H=b;this.ia=c;this.L=d;this.R=this.C=null;this.W=this.N=this.J=this.F=0;this.O=new Js}IPf.prototype.play=function(a){a=void 0===a?0:a;JPf(this)&&(this.H.resume(),a&&this.stop());return!JPf(this)||a?(this.J+=a,this.F+=a,this.W=a,KPf(this,LPf(this,a))):Promise.resolve()};
function MPf(a){JPf(a)||(a.C=a.H.createBufferSource(),a.C.buffer=a.R,a.C.connect(a.H.destination),a.C.onended=function(){a.J>=a.L.C?(a.N=0,a.J=0,a.F=0,a.C=null,a.O.dispatchEvent("cj-audio-playback-stopped")):a.C&&MPf(a)},a.J=a.F,a.C.start(),KPf(a,LPf(a,a.F)))}function LPf(a,b){a=a.L.C;a=Math.min(a,b+10);var c={};c.start=b;c.chunkDuration=a-b;return c}
function KPf(a,b){return 0>=b.chunkDuration?Promise.resolve():a.ga.download(a.ia,a.L.F,b.start,b.start+b.chunkDuration).then(function(c){c=nPf(a.L.H,c);a.H.decodeAudioData(c).then(function(c){a.R=c;a.F+=b.chunkDuration;a.J=b.start;a.C||(a.N=a.H.currentTime,MPf(a))})})}IPf.prototype.stop=function(){this.C.stop();this.F=this.J=this.N=0;this.C=null};function JPf(a){return"suspended"==a.H.state};function NPf(a,b,c){this.F=c;this.C=new IPf(a,new AudioContext,b,c)};function OPf(a,b,c){I.call(this);this.H=a;this.J=b;this.L=c;this.F=null;this.C=[]}H(OPf,I);function PPf(a){return a.J.H.execute().then(function(b){a.F=null;a.C.length=0;b.C.forEach(function(b){a.C.push(new NPf(a.H,a.L,b))})})}function QPf(a){return HPf(a.H,a.J,a.L).then(function(b){a.F=b;a.ha(a.F);return a.F})}function RPf(a){a.F.C.cancel();return a.H.C.execute().then(function(){a.J.C.execute(a.F.F.C);a.F=null})}
function SPf(a,b){return-1==TPf(a,b)?Promise.reject(Error("KC")):a.J.C.execute(b.F).then(function(){var c=TPf(a,b);-1!=c&&Jn(a.C,c);return Promise.resolve()})}function TPf(a,b){for(var c=0;c<a.C.length;c++)if(a.C[c].F==b)return c;return-1};function UPf(){var a=void 0===a?null:a;this.F=null;a&&(tG(a,nG),this.F=a);this.C=[]}UPf.prototype.size=function(){return this.C.map(function(a){return a.buffer.byteLength}).reduce(function(a,b){return a+b},0)};function VPf(a){var b=mG(a.size());return 0<=tG(b,a.F)}
function WPf(a){VPf(a);var b=kCb(mG(a.size()),a.F);b=iCb(pG(a.F,b));for(var c=[],d=0;d<b;){var e=a.C.shift(),f=e.buffer.byteLength;if(d+f>b){var h=f-(d+f-b);a.C.unshift(e.slice(h,f));e=e.slice(0,h)}c.push(e);d+=e.buffer.byteLength}return c}function XPf(a){var b=a.C;a.C=[];return b}function YPf(a,b){return new Blob(a,{type:b})};function ZPf(a){N.call(this,a)}H(ZPf,N);function $Pf(a,b,c,d){this.kqa=a;this.BQa=b;this.XXa=c;this.q9=d}function aQf(a){return(a=bQf(Y5b,a.kqa))?parseInt(a,10):null}$Pf.prototype.getError=function(){return 500<=this.q9?"Od":"Qd"};function cQf(a){if(!a)return Rk;switch(a){case jc:return jc;case $cc:return $cc;case "cancelled":return"cancelled";default:throw Error("LC`"+a);}}function bQf(a,b){for(var c in b)if(c.toLowerCase()===a.toLowerCase())return b[c];return null};function dQf(a,b){I.call(this);this.O=a||0;this.H=b||10;if(this.O>this.H)throw Error("MC");this.C=new vAe;this.F=new bt;this.$k=0;this.L=null;this.x3()}H(dQf,I);z=dQf.prototype;z.Gg=function(){var a=Sl();if(!(null!=this.L&&a-this.L<this.$k)){for(var b;0<this.C.Dd()&&(b=wAe(this.C),!this.Xqa(b));)this.x3();!b&&this.Dd()<this.H&&(b=this.Fia());b&&(this.L=a,this.F.add(b));return b}};z.hU=function(a){this.F.remove(a);this.Xqa(a)&&this.Dd()<this.H?this.C.C.push(a):eQf(a)};
z.x3=function(){for(var a=this.C;this.Dd()<this.O;){var b=this.Fia();a.C.push(b)}for(;this.Dd()>this.H&&0<this.C.Dd();)eQf(wAe(a))};z.Fia=function(){return{}};function eQf(a){if(typeof a.dispose==cf)a.dispose();else for(var b in a)a[b]=null}z.Xqa=function(a){return typeof a.N8a==cf?a.N8a():!0};z.contains=function(a){return this.C.contains(a)||this.F.contains(a)};z.Dd=function(){return this.C.Dd()+this.F.Dd()};z.isEmpty=function(){return this.C.isEmpty()&&this.F.isEmpty()};
z.va=function(){dQf.aa.va.call(this);if(0<this.F.Dd())throw Error("NC");delete this.F;for(var a=this.C;!a.isEmpty();)eQf(wAe(a));delete this.C};function fQf(a,b){this.N=void 0;this.J=new hge;dQf.call(this,a,b)}H(fQf,dQf);z=fQf.prototype;z.Gg=function(a,b){if(!a)return(a=fQf.aa.Gg.call(this))&&this.$k&&(this.N=Bl.setTimeout(F(this.d9,this),this.$k)),a;fge(this.J,E(b)?b:100,a);this.d9()};z.d9=function(){for(var a=this.J;0<a.Dd();){var b=this.Gg();if(b)a.remove().apply(this,[b]);else break}};z.hU=function(a){fQf.aa.hU.call(this,a);this.d9()};z.x3=function(){fQf.aa.x3.call(this);this.d9()};
z.va=function(){fQf.aa.va.call(this);Bl.clearTimeout(this.N);Fn(this.J.C);this.J=null};function gQf(a,b,c,d){this.R=a;this.W=!!d;fQf.call(this,b,c)}H(gQf,fQf);gQf.prototype.Fia=function(){var a=new jq,b=this.R;b&&b.forEach(function(b,d){a.headers.set(d,b)});this.W&&a.Cs(!0);return a};gQf.prototype.Xqa=function(a){return!a.isDisposed()&&!a.gG()};function hQf(a,b,c,d,e,f){O.call(this);this.H=E(a)?a:1;this.J=E(e)?Math.max(0,e):0;this.L=!!f;this.F=new gQf(b,c,d,f);this.C=new hq;this.za=new Zp(this)}H(hQf,O);var iQf=[Ni,id,Jj,Ne,ec,zra];z=hQf.prototype;z.send=function(a,b,c,d,e,f,h,k,l,m){if(this.C.get(a))throw Error("OC");b=new jQf(b,F(this.hqb,this,a),c,d,e,h,E(k)?k:this.H,l,E(m)?m:this.L);this.C.set(a,b);a=F(this.Irb,this,a);this.F.Gg(a,f);return b};
z.abort=function(a,b){var c=this.C.get(a);if(c){var d=c.Fda;c.pr=!0;b&&(d&&(this.za.fc(d,iQf,c.Rua),Mp(d,Ni,function(){var a=this.F;a.F.remove(d)&&a.hU(d)},!1,this)),this.C.remove(a));d&&d.abort()}};z.Irb=function(a,b){var c=this.C.get(a);if(c&&!c.Fda){this.za.ea(b,iQf,c.Rua);FAa(b,this.J);var d=c.Gu();b.H=d;b.Cs(c.zma());c.Fda=b;this.dispatchEvent(new kQf(Ni,this,a,b));lQf(this,a,b);c.pr&&b.abort()}else a=this.F,a.F.remove(b)&&a.hU(b)};
z.hqb=function(a,b){var c=b.target;switch(b.type){case Ni:lQf(this,a,c);break;case id:a:{var d=this.C.get(a);if(7==c.QF()||c.fk()||d.R3>d.Nma)if(this.dispatchEvent(new kQf(id,this,a,c)),d&&(d.HJa=!0,d.tBa)){a=d.tBa.call(c,b);break a}a=null}return a;case Jj:this.dispatchEvent(new kQf(Jj,this,a,c));break;case zra:case Ne:b=this.C.get(a);b.R3>b.Nma&&this.dispatchEvent(new kQf(Ne,this,a,c));break;case ec:this.dispatchEvent(new kQf(ec,this,a,c))}return null};
function lQf(a,b,c){var d=a.C.get(b);!d||d.HJa||d.R3>d.Nma?(d&&(a.za.fc(c,iQf,d.Rua),a.C.remove(b)),a=a.F,a.F.remove(c)&&a.hU(c)):(d.R3++,c.send(d.dc(),d.QJ(),d.Wc(),d.Fx()))}z.va=function(){hQf.aa.va.call(this);this.F.dispose();this.F=null;this.za.dispose();this.za=null;this.C.gn();this.C=null};function kQf(a,b,c,d){N.call(this,a,b);this.id=c;this.Fda=d}H(kQf,N);
function jQf(a,b,c,d,e,f,h,k,l){this.J=a;this.F=c||gb;this.$d=d;this.C=e||null;this.Nma=E(h)?h:1;this.R3=0;this.pr=this.HJa=!1;this.Rua=b;this.tBa=f;this.H=k||"";this.L=!!l;this.Fda=null}z=jQf.prototype;z.dc=v("J");z.QJ=v("F");z.Wc=v("$d");z.Fx=v("C");z.zma=v("L");z.Gu=v("H");function mQf(a,b,c,d,e,f){this.C=a;this.F=b;this.H=c;this.qe=function(a){a=a.target;for(var b={},c=a.getAllResponseHeaders().split(aa),e=0;e<c.length;e++)if(!ao(c[e])){var f=pqc(c[e],Fa,2);b[f[0]]=b[f[0]]?b[f[0]]+(ua+f[1]):f[1]}c=a.Pd();e=bQf(a6b,b);a=new $Pf(b,a.hj(),cQf(e),c);d(a)};this.J=e;this.L=f}mQf.prototype.execute=function(){this.J.send(this.L,this.H,Hb,this.F,this.C,void 0,this.qe)};function nQf(){this.W={};this.J=this.F=this.qe=this.L=null}nQf.prototype.build=function(){this.J||(this.J=(new Date).getTime().toString());this.F||(this.F=new hQf(6,void 0,0,1,void 0,!0));var a=this.C(this.W);return new mQf(a,this.H(),this.L,this.qe,this.F,this.J)};function oQf(a,b){a.L=b;return a}function pQf(a,b){a.qe=b;return a}function qQf(a,b){a.F=b;return a};function rQf(){nQf.call(this)}H(rQf,nQf);rQf.prototype.C=function(a){a=Object.assign({},a);a[Z5b]=Lc;return a};rQf.prototype.H=y(null);function sQf(){nQf.call(this);this.R=this.O=null}H(sQf,nQf);function tQf(a,b){a.O=b;return a}sQf.prototype.qH=function(a){this.R=a;return this};sQf.prototype.C=function(a){a=Object.assign({},a||{});a[Z5b]=bnc;a["X-Goog-Upload-Offset"]=this.R.toString();return a};sQf.prototype.H=v("O");function uQf(){sQf.call(this);this.N=null}H(uQf,sQf);function vQf(a,b){a.N=b;return a}uQf.prototype.C=function(a){a=uQf.aa.C.call(this,a);a[Z5b]="upload, finalize";a["X-Goog-Upload-Header-Content-Length"]=this.N.toString();return a};function wQf(){nQf.call(this);this.N=null}H(wQf,nQf);function xQf(a,b){a.N=b;return a}wQf.prototype.C=function(a){a=Object.assign({},a);a[Z5b]=Cj;a[$5b]="resumable";return a};wQf.prototype.H=v("N");function yQf(a,b,c){b=void 0===b?null:b;c=void 0===c?null:c;O.call(this);this.ga=a;this.N=b;this.W=c;this.C="not-started";this.J=!1;this.F=mm(0);this.L=null;this.H=new UPf;this.R=Ep();this.O=Ep()}H(yQf,O);
yQf.prototype.start=function(a,b){function c(a){var b=aQf(a);b=!isNaN(b)&&0<b;var c=!!bQf(b6b,a.kqa);200==a.q9&&a.XXa==jc&&c&&b?(b=d.H,c=mG(aQf(a)),tG(c,nG),b.F=c,d.L=bQf(b6b,a.kqa),e.resolve(a.BQa),a=!0):(zQf(d,"Nd",e),a=!1);return a}var d=this;this.C=Cj;var e=Ep();AQf(this,xQf(pQf(oQf(qQf(new wQf,this.N),a),function(a){return BQf(d,a,c,e)}),b).build());return e.qf};yQf.prototype.upload=function(a){this.C=bnc;CQf(this,a)};function DQf(a,b){a.C="finalize";CQf(a,b);return a.R.qf}
yQf.prototype.cancel=function(){this.C=Lc;this.J||EQf(this);return this.O.qf};yQf.prototype.resume=function(){return Bp()};function CQf(a,b){a.H.C.push(b);if(b=a.W)b=mm(a.H.size()),b=0<=Gta(b,a.W);b&&a.dispatchEvent("Pd");FQf(a)}
function FQf(a){if(!a.J){if("finalize"==a.C){var b=YPf(XPf(a.H),a.ga),c=function(c){var d=b.size;200==c.q9&&c.XXa==$cc?(a.F=a.F.add(mm(d)),a.R.resolve(c.BQa),c=!0):(zQf(a,"Md",a.R),c=!1);return c};AQf(a,vQf(tQf(pQf(oQf(qQf(new uQf,a.N),a.L),function(b){return BQf(a,b,c)}),b).qH(a.F),a.F.add(mm(b.size))).build())}if(VPf(a.H)){var d=YPf(WPf(a.H),a.ga),e=function(){a.F=a.F.add(mm(d.size));return!0};AQf(a,tQf(pQf(oQf(qQf(new sQf,a.N),a.L),function(b){return BQf(a,b,e)}),d).qH(a.F).build())}}}
function AQf(a,b){a.J=!0;b.execute()}function EQf(a){function b(){a.O.resolve();return!0}AQf(a,pQf(oQf(qQf(new rQf,a.N),a.L),function(c){return BQf(a,c,b,a.O)}).build())}function BQf(a,b,c,d){a.J=!1;400<=b.q9?zQf(a,b.getError(),d):c(b)&&a.C==bnc?FQf(a):a.C==Lc&&EQf(a)}function zQf(a,b,c){a.C=Ne;c?c.reject(b):a.dispatchEvent(new ZPf(b))};function GQf(a,b,c){b=void 0===b?null:b;c=void 0===c?mm(1831E4):c;I.call(this);this.C=new yQf(a,b,c);this.ha(this.C)}H(GQf,I);GQf.prototype.start=function(a,b,c){return Promise.resolve(this.C.start(yo(a,{authuser:QQ()}),HQf(b,c)).then(sl()))};function HQf(a,b){a=[{external:{name:Se}},{inlined:{name:"conjure-request",content:b.Ra(),contentType:rk}},{inlined:{name:kNd,content:a,contentType:rk}}];return aq({protocolVersion:"0.8",createSessionRequest:{fields:a}})}GQf.prototype.upload=function(a){this.C.upload(a)};
function IQf(a,b){return Promise.resolve(DQf(a.C,b).then(function(a){a:{a=JSON.parse(a);for(var b=["sessionStatus","additionalInfo",cnc,"completionInfo","customerSpecificInfo","response"],c=0;c<b.length;c++)if(b[c]in a)a=a[b[c]];else{a="";break a}}return Wq(gPf,a)}))}GQf.prototype.cancel=function(){return Promise.resolve(this.C.cancel())};GQf.prototype.resume=function(a){return Promise.resolve(this.C.resume(a))};function JQf(a){I.call(this);this.C=a}H(JQf,I);JQf.prototype.execute=function(){return Promise.resolve(this.C.cancel())};function KQf(a){I.call(this);this.C=a}H(KQf,I);KQf.prototype.execute=function(a,b){this.C.upload(b)};function LQf(a){this.H=a}LQf.prototype.C=function(){var a=this.H.uaa("/upload/download/voice-notes/audio/document");a.qa=Yda;return a};LQf.prototype.F=function(a){return a.F};function MQf(a,b){I.call(this);this.C=new Q1(6E4,2,gb,new LQf(a),100);this.ha(this.C);this.Ba=b||null}H(MQf,I);MQf.prototype.execute=function(a,b,c,d){var e=this,f=[kNd,a,"recordingId",b.value(),"beginTimeOffsetSeconds",c,"endTimeOffsetSeconds",d];return Promise.resolve(Gp(R1(this.C,f).then(rl()),function(a){wJe(e.Ba,"downloadAudio",f,a);throw a;}))};function NQf(a){I.call(this);this.C=a}H(NQf,I);NQf.prototype.execute=function(a,b,c){return IQf(this.C,c).then(function(c){return wPf(vPf(xPf(new yPf,a),b),iPf(Rq(c,VOf,1))).build()})};function OQf(a){I.call(this);this.C=a}H(OQf,I);OQf.prototype.execute=function(a,b,c,d){var e=new bPf,f=new Q3d;kY(f,1,Math.floor(c.getTime()/1E3),0);c=1E6*c.getMilliseconds();kY(f,2,c,0);Tq(e,1,f);f=new dPf;b=lPf(b);Tq(f,1,b);Tq(f,2,e);e=new YOf;T(e,1,d.H);T(e,2,d.F);T(e,3,d.C);d=new XOf;BY(d,1,WOf[0],e);Tq(f,3,d);return this.C.start("/upload/voice-notes/audio/document",a,f)};function PQf(a,b,c){I.call(this);this.L=new OQf(a);this.ha(this.L);this.F=new KQf(a);this.ha(this.F);this.J=new NQf(a);this.ha(this.J);this.H=new MQf(b,c);this.ha(this.H);this.C=new JQf(a);this.ha(this.C)}H(PQf,I);PQf.prototype.download=function(a,b,c,d){return this.H.execute(a,b,c,d)};function QQf(a,b){I.call(this);this.C=new Q1(1E4,2,Hb,new S1(a,"/voice-notes/recordings/create"));this.ha(this.C);this.Ba=b||null}H(QQf,I);QQf.prototype.execute=function(){var a=this,b=[BYd,(new cPf).Ra()];return Promise.resolve(Gp(R1(this.C,b).then(function(a){a=F0d(a[0]);return Promise.resolve(kPf(Rq(a,ZOf,1)))}),function(c){wJe(a.Ba,"createRecording",b,c);return Promise.reject(c)}))};function RQf(a,b){I.call(this);this.C=new Q1(1E4,2,gb,new S1(a,"/voice-notes/recordings/list"));this.ha(this.C);this.Ba=b||null}H(RQf,I);RQf.prototype.execute=function(){var a=this;return Promise.resolve(Gp(R1(this.C,[]).then(function(a){a=F0d(a[0]);return Promise.resolve(SQf(a))}),function(b){wJe(a.Ba,"listRecordings",[],b);return Promise.reject(b)}))};
function SQf(a){var b=[];Sq(a,$Of,1).forEach(function(a){var c=R(a,3);if(1===c){c=EPf(kPf(Rq(a,ZOf,1)));a:switch(R(a,3)){case 1:a=L6;break a;case 2:a=spa;break a;default:a=Rk}c.F=a;c.build()}else 2===c&&b.push(uPf(a))});return new FPf(b)};function TQf(a,b){I.call(this);this.C=new Q1(1E4,2,Hb,new S1(a,"/voice-notes/recordings/trash"));this.ha(this.C);this.Ba=b||null}H(TQf,I);TQf.prototype.execute=function(a){var b=this,c=new ePf;fPf(c,lPf(a));var d=[BYd,c.Ra()];return Promise.resolve(Gp(R1(this.C,d).then(function(){return Promise.resolve()}),function(a){wJe(b.Ba,"deleteRecording",d,a);return Promise.reject(a)}))};function UQf(a,b){I.call(this);this.F=new QQf(a,b);this.ha(this.F);this.H=new RQf(a,b);this.ha(this.H);this.C=new TQf(a,b);this.ha(this.C)}H(UQf,I);function VQf(a,b,c){b=c||b;a='<div class="docs-conjure-playback-bar" tabindex="-1"><div class="docs-conjure-playback-bar-play-button" role="button" tabindex="0" title="'+PC("Play");a=a+'"></div><div class="docs-conjure-playback-bar-timestamps"></div><div class="docs-conjure-playback-bar-flex-separator"></div>'+Z(dQ({Wb:LC(LOf),content:MC(""+Z(EQ({icon:"docs-icon-img docs-icon-overflow-three-dots"},b))),style:4,title:LC(mca)},b));return W(a+'<progress class="docs-conjure-playback-bar-seek-bar" value="0" max="100"></progress></div>')}
;function WQf(a,b){HC.call(this,b);this.ga=new uP(void 0,new MQ);this.ha(this.ga);this.N=this.ia=null;this.F=!1;this.C=null;this.H=new Pp(500);this.L=0;this.J=new pP;this.ha(this.J);this.W=new yP(void 0,this.J,new MQ);this.Ka(this.W);this.O=new dP("Delete audio");this.J.Ka(this.O,!0);this.R=new dP("Hide audio notes");this.J.Ka(this.R,!0);this.wa=a}H(WQf,HC);WQf.prototype.ua=function(){WQf.aa.ua.call(this);var a=SC(VQf,void 0,void 0,this.oa());this.Db(a)};
WQf.prototype.Fa=function(){var a=this;WQf.aa.Fa.call(this);var b=this.sb(NOf);this.ga.bb(b);ov(b,MOf,OOf);this.Ha().ve(b,Kv,this.na);this.ia=this.sb("docs-conjure-playback-bar-timestamps");this.N=this.sb("docs-conjure-playback-bar-seek-bar");b=this.sb(LOf);this.W.bb(b);this.Ha().ea(this.H,sk,function(){var b=a.C,d=b.H.currentTime-b.N;XQf(a,b.N?b.W+d:0)}).ve(this.N,Kv,function(b){a.H.stop();a.L=b.offsetX/b.target.offsetWidth*a.C.L.C;XQf(a,a.L);a.F&&(a.C.stop(),YQf(a,a.L))}).ve(this.O.Za(),Kv,function(){return ZQf(a)}).ve(this.R.Za(),
Kv,function(){return U.RH.hb()})};function $Qf(a,b){a.C=b;XQf(a,0);Ks(a.C.O,function(){a.F=!1;aRf(a);a.N.setAttribute($k,pX);a.H.stop()})}function XQf(a,b){var c=a.C?1E3*a.C.L.C:0;fs(a.ia,hPf(1E3*b)+" / "+hPf(c));a.N.setAttribute($k,Math.floor(1E3*b/c*100).toString())}WQf.prototype.na=function(){if(this.F){var a=this.C;a.C&&!JPf(a)&&a.H.suspend();this.F=!1}else this.F=!0,YQf(this,this.L);aRf(this)};function YQf(a,b){a.C.play(Math.floor(b)).then(function(){a.H.enabled||a.H.start()})}
function ZQf(a){var b=VP(VP(new QP,YP,!1,!0),{key:Ed,caption:Za},!0);return z5d(a.wa,"Delete audio recording?","",function(){return a.dispatchEvent(JOf)},void 0,b,a.oa())}function aRf(a){var b=a.sb(NOf);a.F?ov(b,OOf,MOf):ov(b,MOf,OOf)};function bRf(){this.$d=this.C=null}H(bRf,I);function cRf(a,b){a.C&&a.C.Ua()&&a.$d==b||(a.C=new NQ(b),a.$d=b,a.C.Xa(),a.C.xa(!0),a.ha(a.C))};function dRf(){var a='<div class="docs-conjure-recording-bar"><div class="docs-conjure-recording-bar-mic-button" role="button" tabindex="0" title="'+PC("Record");a=a+'"></div><div class="docs-conjure-recording-bar-timestamp"></div><div class="docs-conjure-recording-bar-text"></div><div class="docs-conjure-recording-bar-flex-separator"></div>'+Z(GQ({enabled:!0,Cn:LC(QOf),Yo:MC(l4b)}));a+=Z(GQ({enabled:!0,Cn:LC(POf),Yo:MC(WJ)}));a+=Z(GQ({enabled:!0,Cn:LC(ROf),Yo:MC("Start recording")}));a+=Z(GQ({enabled:!0,
Cn:LC(SOf),Yo:MC("End recording")}));return W(a+Ga)};function eRf(a,b,c,d,e){HC.call(this,e);this.W=a;this.wa=b;this.F=TOf;this.N=new uP(void 0,new MQ);this.ha(this.N);this.C=new uP(void 0,new MQ);this.ha(this.C);this.J=new uP(void 0,new MQ);this.ha(this.J);this.L=new uP(void 0,new MQ);this.ha(this.L);this.ia=this.R=this.ga=null;this.O=new Pp(500);this.H=null;this.na=d;this.Ca=c}H(eRf,HC);z=eRf.prototype;z.ua=function(){eRf.aa.ua.call(this);var a=SC(dRf,void 0,void 0,this.oa());this.Db(a)};
z.Fa=function(){var a=this;eRf.aa.Fa.call(this);var b=this.sb(ROf);this.N.bb(b);this.N.xa(!0);var c=this.sb(SOf);this.C.bb(c);this.C.xa(!1);this.C.Ya(!1);var d=this.sb(QOf);this.wa.C(this.J,U.RH);this.J.bb(d);this.J.xa(!0);d=this.sb(POf);this.L.bb(d);this.L.xa(!1);this.ga=this.sb("docs-conjure-recording-bar-text");this.R=this.sb("docs-conjure-recording-bar-mic-button");this.ia=this.sb("docs-conjure-recording-bar-timestamp");fRf(this);gRf(this);this.Ha().ve(b,Kv,this.ZDb).ve(c,Kv,this.aEb).ve(d,Kv,
this.O9a).ea(this.O,sk,function(){fRf(a)})};z.ZDb=function(){var a=this;return this.F!=TOf?Promise.reject():QPf(this.W).then(function(b){a.H=b;return a.H.C.jm().then(function(){a.O.start();a.H.C.getState();a.F=L6;a.C.Ya(!0);gRf(a)})}).catch(function(b){cRf(a.na,"Audio Notes is currently unavailable.");return Promise.reject(b)})};
z.aEb=function(){var a=this;if(this.F!=L6||!this.C.isEnabled())return Promise.reject();this.O.stop();return APf(this.H.C).then(function(b){var c=a.W;c.F=null;c.C.push(new NPf(c.H,c.L,b));a.F=TOf;gRf(a);a.dispatchEvent(KOf)}).catch(function(b){cRf(a.na,"Unfortunately, the recording failed to save.");a.C.Ya(!1);return Promise.reject(b)})};z.O9a=function(){var a=VP(VP(new QP,YP,!1,!0),{key:"discard",caption:"Discard"},!0);return z5d(this.Ca,"Cancel and discard unsaved audio?","",this.JKb,this,a)};
z.JKb=function(){this.O.stop();this.F=TOf;gRf(this);RPf(this.W).then(function(){U.RH.hb()})};function gRf(a){a.F==L6?(ov(a.R,TOf,L6),a.C.xa(!0),a.N.xa(!1),a.J.xa(!1),a.L.xa(!0),fs(a.ga,"Recording... click the mic to pause.")):a.F==TOf&&(ov(a.R,L6,TOf),a.C.xa(!1),a.N.xa(!0),a.J.xa(!0),a.L.xa(!1),fs(a.ga,"Before recording, ask for permission from everyone in the room"),fs(a.ia,hPf(0)))}function fRf(a){fs(a.ia,hPf(a.H?new Date-a.H.C.R:0))};function hRf(a,b,c,d){HC.call(this,d);this.L=new bRf;this.ha(this.L);this.F=new eRf(a,b,c,this.L);this.Ka(this.F);this.C=new WQf(c);this.Ka(this.C);this.H=null;this.J=a}H(hRf,HC);z=hRf.prototype;z.ua=function(){hRf.aa.ua.call(this);this.H=Ur(Xa);iv(this.H,"docs-conjure-audio-bar");this.Db(this.H);this.F.ua();this.F.xa(!1);this.H.appendChild(this.F.X());this.C.ua();this.C.xa(!1);this.H.appendChild(this.C.X())};
z.Fa=function(){var a=this;hRf.aa.Fa.call(this);this.Ha().ea(this.F,KOf,function(){$Qf(a.C,a.J.C.slice().slice().pop().C);iRf(a,UOf)}).ea(this.C,JOf,function(){jRf(a,a.C.C.L)})};z.WJb=function(){var a=this;PPf(this.J).then(function(){0<a.J.C.slice().length?($Qf(a.C,a.J.C.slice().slice().pop().C),iRf(a,UOf)):iRf(a,L6)})};function jRf(a,b){SPf(a.J,b).then(function(){iRf(a,L6);U.RH.hb()}).catch(function(){cRf(a.L,"Unable to delete recording.")})}z.$e=function(){this.xa(!1)};z.IKb=function(){this.xa(!0)};
function iRf(a,b){b==L6?(a.F.xa(!0),a.C.xa(!1)):b==UOf&&(a.C.xa(!0),a.F.xa(!1))};lN(gXd);function kRf(){I.call(this)}H(kRf,HD);z=kRf.prototype;z.Ilb=function(){return hRf};z.rmb=function(){return GQf};z.Vob=function(){return PQf};z.bnb=function(){return UQf};z.Oob=function(){return OPf};jN(KD(gXd),kRf);LD(ID(),gXd);kN();
