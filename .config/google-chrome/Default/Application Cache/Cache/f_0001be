Yx.prototype.Hj=ZO(70,function(){return V(this,2)});CH.prototype.Hj=ZO(69,g("F"));Sfa.prototype.Ao=ZO(6,function(){return null!=F(this,5)});bn.prototype.Ao=ZO(5,function(){return null!=F(this,1)});zv.prototype.Ao=ZO(4,function(){return mv(this,2)});function F1(a){W(a,2,1)}function NGd(a){Eb(a,"google::")||(a="google::"+a);a=Ob(a);return Il(Gl(El(Dl(new Cl,"https"),"plx.corp.google.com"),"/script/"),"a=qo|i="+a).toString()}
function OGd(){var a='<div class="'+Q("waffle-dataconnector-bigquery-consent-screen-content")+'"><p>';a=a+"Sheets requires authorisation to connect to your BigQuery projects."+('</p><div class="'+Q("waffle-dataconnector-bigquery-consent-screen-authorize-button-wrapper")+'"></div></div>');return P(a)}
function PGd(){var a='<div class="'+Q("waffle-dataconnector-footer-sharing-message")+'">';return P(a+"Your authentication credentials are always private and are never shared with other users.</div>")};function QGd(){var a=P,b='<div class="'+Q("waffle-dataconnector-modal-header")+'"><div class="'+Q("waffle-dataconnector-modal-title")+'"></div><div class="'+Q("waffle-dataconnector-modal-close-button")+'" tabindex="0" role="button">';var c=P('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path d="M0,0 L18,0 L18,18 L0,18 L0,0 Z M0,0 L18,0 L18,18 L0,18 L0,0 Z"/><polygon fill="#000" points="14.53 4.53 13.47 3.47 9 7.94 4.53 3.47 3.47 4.53 7.94 9 3.47 13.47 4.53 14.53 9 10.06 13.47 14.53 14.53 13.47 10.06 9"/></g></svg>');
return a(b+c+'</div></div><div class="'+Q("waffle-dataconnector-modal-body")+'"></div><div class="'+Q("waffle-dataconnector-modal-footer")+'"></div>')};function G1(a,b){a=void 0===a?"":a;xq.call(this,!1,b);this.Gb=a;this.C=new kr(void 0,RGd.getInstance());this.Ya(this.C);this.ub=null;this.sb=!0}q(G1,xq);p=G1.prototype;p.Ma=function(){xq.prototype.Ma.call(this);Kh(this.getElement(),"waffle-dataconnector-modal");this.Gb&&Kh(this.getElement(),this.Gb);hr(this.getElement(),QGd);var a=this.Rq();Kh(a,"waffle-dataconnector-modal-bg");L(a,this.sb);this.C.yb(this.$a("waffle-dataconnector-modal-close-button"));this.ub&&SGd(this)};
p.Za=function(){xq.prototype.Za.call(this);TGd(this);this.getHandler().R(this.C,"action",this.v7);this.getHandler().R(this.qb(),["keydown","keypress"],this.ZJb)};p.Ob=function(){return this.Hb("waffle-dataconnector-modal-body")};function UGd(a){return a.Hb("waffle-dataconnector-modal-footer")}function VGd(a,b){a.ub=b;a.Sb()&&SGd(a)}function TGd(a){var b=a.qa(),c=a.Rq(),d=a.Uo;a.sb?(d&&b.Qt(d,a.getElement()),b.Qt(c,a.getElement())):(b.xf(d),b.xf(c))}p.v7=function(){n7a.dc()};p.A7=function(){n7a.dc()};
p.ZJb=function(a){"keydown"==a.type?27==a.keyCode?this.A7():9==a.keyCode&&a.shiftKey&&a.target==this.getElement()&&cDa(this):this.aHa(a)};function SGd(a){Oi.getInstance().setContent(a.$a("waffle-dataconnector-modal-title"),a.ub)}p.aHa=ba();function RGd(){}q(RGd,jr);RGd.prototype.ep=n("waffle-dataconnector-modal-close-button");ta(RGd);function H1(a,b){G1.call(this,a,b);this.H=wf()}q(H1,G1);p=H1.prototype;p.getResult=function(){return this.H.C};p.resolve=function(a){this.H.resolve(a)};p.reject=function(a){this.H.reject(a)};p.Xa=function(){G1.prototype.Xa.call(this);this.H.reject()};p.A7=function(){this.reject()};p.v7=function(){this.reject()};function WGd(a){H1.call(this,"waffle-dataconnector-bigquery-consent-screen",a);VGd(this,"Authorise");this.D=new uU("Authorise");this.Ya(this.D);this.D.Gd("waffle-dataconnector-bigquery-consent-screen-authorize-button")}q(WGd,H1);WGd.prototype.Ma=function(){H1.prototype.Ma.call(this);hr(this.Ob(),OGd);hr(UGd(this),PGd);this.D.render(this.$a("waffle-dataconnector-bigquery-consent-screen-authorize-button-wrapper"))};
WGd.prototype.Za=function(){var a=this;H1.prototype.Za.call(this);this.getHandler().R(this.D,"action",function(){return a.resolve(!0)})};WGd.prototype.A7=function(){this.resolve(!1)};WGd.prototype.v7=function(){this.resolve(!1)};function I1(){T.call(this)}x(I1,T);var XGd=null;I1.prototype.$w=function(){return mv(this,1)};function J1(){T.call(this)}x(J1,T);var YGd=null;J1.prototype.$w=function(){return mv(this,1)};J1.prototype.wn=function(){return V(this,2)};J1.prototype.gR=function(){return mv(this,2)};function K1(){T.call(this)}x(K1,T);var ZGd=null;K1.prototype.getName=function(){return V(this,1)};K1.prototype.Ke=function(a){W(this,1,a)};function L1(){T.call(this)}x(L1,T);var $Gd=null;p=L1.prototype;
p.Ib=function(){return V(this,1)};p.Yf=function(){return mv(this,1)};p.Xp=function(){return V(this,2)};p.getColumnIndex=function(){return V(this,3)};p.$u=function(){return uv(this,3)};function M1(){T.call(this)}x(M1,T);var aHd=null;I1.prototype.Ba=function(){var a=XGd;a||(XGd=a=vv(I1,{0:{name:"PlxQuery",Ab:"ritzproto.PlxQuery"},1:{name:"query",va:9,type:String},2:{name:"engine",va:9,type:String},3:{name:"script_id",va:9,type:String}}));return a};I1.Ba=I1.prototype.Ba;
J1.prototype.Ba=function(){var a=YGd;a||(YGd=a=vv(J1,{0:{name:"BigQueryQuery",Ab:"ritzproto.BigQueryQuery"},1:{name:"query",va:9,type:String},2:{name:"project_id",va:9,type:String}}));return a};J1.Ba=J1.prototype.Ba;K1.prototype.Ba=function(){var a=ZGd;a||(ZGd=a=vv(K1,{0:{name:"QueryParameter",Ab:"ritzproto.QueryParameter"},1:{name:"name",va:9,type:String},2:{name:"constant_value",va:9,type:String},3:{name:"workbookrange_id",va:9,type:String},4:{name:"cell_coordinate",va:11,type:L1}}));return a};
K1.Ba=K1.prototype.Ba;L1.prototype.Ba=function(){var a=$Gd;a||($Gd=a=vv(L1,{0:{name:"CellCoordinate",Ab:"ritzproto.CellCoordinate"},1:{name:"sheet_id",va:9,type:String},2:{name:"row_index",va:5,type:Number},3:{name:"column_index",va:5,type:Number}}));return a};L1.Ba=L1.prototype.Ba;
M1.prototype.Ba=function(){var a=aHd;a||(aHd=a=vv(M1,{0:{name:"QueryProto",Ab:"ritzproto.QueryProto"},1:{name:"sql_query",va:9,type:String},2:{name:"plx_query",va:11,type:I1},4:{name:"bigquery_query",va:11,type:J1},3:{name:"parameters",fc:!0,va:11,type:K1}}));return a};M1.Ba=M1.prototype.Ba;var bHd={BBc:0,Sqc:1,quc:2,F6b:3,Nyc:4};function N1(){T.call(this)}x(N1,T);var cHd=null;N1.prototype.getName=function(){return V(this,1)};N1.prototype.Ke=function(a){W(this,1,a)};function O1(){T.call(this)}x(O1,T);var dHd=null;p=O1.prototype;p.getId=function(){return V(this,1)};p.vn=function(){return uv(this,1)};p.vf=function(a){W(this,1,a)};p.getType=function(){return V(this,2)};p.setType=function(a){W(this,2,a)};function P1(){T.call(this)}x(P1,T);var eHd=null;function Q1(){T.call(this)}x(Q1,T);
var fHd=null;Q1.prototype.Ao=function(){return mv(this,3)};function R1(){T.call(this)}x(R1,T);var gHd=null;R1.prototype.$w=function(){return mv(this,2)};function S1(){T.call(this)}x(S1,T);var hHd=null;S1.prototype.Hj=function(){return V(this,1)};S1.prototype.Ib=function(){return V(this,3)};S1.prototype.Yf=function(){return mv(this,3)};function T1(){T.call(this)}x(T1,T);var iHd=null;T1.prototype.$w=function(){return mv(this,2)};T1.prototype.getToken=function(){return V(this,4)};
T1.prototype.setToken=function(a){W(this,4,a)};function U1(){T.call(this)}x(U1,T);var jHd=null;U1.prototype.Hj=function(){return V(this,1)};function V1(){T.call(this)}x(V1,T);var kHd=null;V1.prototype.zI=function(a){rv(this,2,a)};function lHd(){T.call(this)}x(lHd,T);var mHd=null;function nHd(){T.call(this)}x(nHd,T);var oHd=null;function W1(){T.call(this)}x(W1,T);var pHd=null;W1.prototype.Ib=function(){return V(this,1)};W1.prototype.Yf=function(){return mv(this,1)};function X1(){T.call(this)}
x(X1,T);var qHd=null;X1.prototype.Hj=function(){return V(this,1)};function Y1(){T.call(this)}x(Y1,T);var rHd=null;Y1.prototype.wn=function(){return V(this,2)};Y1.prototype.gR=function(){return mv(this,2)};function Z1(){T.call(this)}x(Z1,T);var sHd=null;Z1.prototype.Ao=function(){return mv(this,2)};function $1(){T.call(this)}x($1,T);var tHd=null;$1.prototype.getName=function(){return V(this,1)};$1.prototype.Ke=function(a){W(this,1,a)};$1.prototype.wn=function(){return V(this,3)};
function uHd(a,b){W(a,3,b)}$1.prototype.gR=function(){return mv(this,3)};function a2(){T.call(this)}x(a2,T);var vHd=null;a2.prototype.$w=function(){return mv(this,2)};function b2(){T.call(this)}x(b2,T);var wHd=null;b2.prototype.Hj=function(){return V(this,1)};function xHd(){T.call(this)}x(xHd,T);var yHd=null;function c2(){T.call(this)}x(c2,T);var zHd=null;p=c2.prototype;p.getId=function(){return V(this,1)};p.vn=function(){return uv(this,1)};p.vf=function(a){W(this,1,a)};
p.getName=function(){return V(this,2)};p.Ke=function(a){W(this,2,a)};function d2(){T.call(this)}x(d2,T);var AHd=null;function f2(){T.call(this)}x(f2,T);var BHd=null;f2.prototype.Ao=function(){return mv(this,2)};function g2(){T.call(this)}x(g2,T);var CHd=null;g2.prototype.wn=function(){return V(this,2)};g2.prototype.gR=function(){return mv(this,2)};function h2(){T.call(this)}x(h2,T);var DHd=null;h2.prototype.Ao=function(){return mv(this,2)};function EHd(){T.call(this)}x(EHd,T);var FHd=null;
function i2(){T.call(this)}x(i2,T);var GHd=null;i2.prototype.Ao=function(){return mv(this,2)};function j2(){T.call(this)}x(j2,T);var HHd=null;p=j2.prototype;p.getId=function(){return V(this,1)};p.vn=function(){return uv(this,1)};p.vf=function(a){W(this,1,a)};p.getName=function(){return V(this,2)};p.Ke=function(a){W(this,2,a)};function IHd(){T.call(this)}x(IHd,T);var JHd=null;function k2(){T.call(this)}x(k2,T);var KHd=null;k2.prototype.$w=function(){return mv(this,2)};function LHd(){T.call(this)}
x(LHd,T);var MHd=null;function l2(){T.call(this)}x(l2,T);var NHd=null;l2.prototype.Hj=function(){return V(this,1)};N1.prototype.Ba=function(){var a=cHd;a||(cHd=a=vv(N1,{0:{name:"CreateConnectionRequest",Ab:"ritzproto.CreateConnectionRequest"},1:{name:"name",va:9,type:String},2:{name:"connection_type",va:14,defaultValue:0,type:FVa},3:{name:"jdbc_connection_info",va:11,type:P1}}));return a};N1.Ba=N1.prototype.Ba;
O1.prototype.Ba=function(){var a=dHd;a||(dHd=a=vv(O1,{0:{name:"ImportConnectionRequest",Ab:"ritzproto.ImportConnectionRequest"},1:{name:"id",va:9,type:String},2:{name:"type",va:14,defaultValue:0,type:FVa}}));return a};O1.Ba=O1.prototype.Ba;
P1.prototype.Ba=function(){var a=eHd;a||(eHd=a=vv(P1,{0:{name:"JdbcConnectionInfo",Ab:"ritzproto.JdbcConnectionInfo"},1:{name:"database_type",va:14,defaultValue:0,type:bHd},2:{name:"hostname",va:9,type:String},3:{name:"db_name",va:9,type:String},4:{name:"username",va:9,type:String},5:{name:"password",va:9,type:String},6:{name:"use_ssl",va:8,type:Boolean},7:{name:"client_key",va:9,type:String},8:{name:"client_cert",va:9,type:String},9:{name:"server_ca",va:9,type:String},10:{name:"jdbc_url",va:9,type:String}}));
return a};P1.Ba=P1.prototype.Ba;Q1.prototype.Ba=function(){var a=fHd;a||(fHd=a=vv(Q1,{0:{name:"CreateConnectionResponse",Ab:"ritzproto.CreateConnectionResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"connection_id",va:9,type:String},3:{name:"error_code",va:14,defaultValue:0,type:GVa},4:{name:"error_text",va:9,type:String}}));return a};Q1.Ba=Q1.prototype.Ba;
R1.prototype.Ba=function(){var a=gHd;a||(gHd=a=vv(R1,{0:{name:"CreateQueryRequest",Ab:"ritzproto.CreateQueryRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"query",va:11,type:M1}}));return a};R1.Ba=R1.prototype.Ba;S1.prototype.Ba=function(){var a=hHd;a||(hHd=a=vv(S1,{0:{name:"CreateQueryResponse",Ab:"ritzproto.CreateQueryResponse"},1:{name:"execution_status",va:11,type:zv},2:{name:"query_id",va:9,type:String},3:{name:"sheet_id",va:9,type:String}}));return a};S1.Ba=S1.prototype.Ba;
T1.prototype.Ba=function(){var a=iHd;a||(iHd=a=vv(T1,{0:{name:"PreviewQueryRequest",Ab:"ritzproto.PreviewQueryRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"query",va:11,type:M1},3:{name:"max_rows",va:5,type:Number},4:{name:"token",va:9,type:String},5:{name:"dry_run",va:8,type:Boolean}}));return a};T1.Ba=T1.prototype.Ba;
U1.prototype.Ba=function(){var a=jHd;a||(jHd=a=vv(U1,{0:{name:"PreviewQueryResponse",Ab:"ritzproto.PreviewQueryResponse"},1:{name:"execution_status",va:11,type:zv},2:{name:"query_result",va:11,type:V1},3:{name:"total_rows",va:5,type:Number},4:{name:"has_more",va:8,type:Boolean},5:{name:"metadata",va:11,type:nHd}}));return a};U1.Ba=U1.prototype.Ba;
V1.prototype.Ba=function(){var a=kHd;a||(kHd=a=vv(V1,{0:{name:"QueryResult",Ab:"ritzproto.QueryResult"},1:{name:"column_names",fc:!0,va:9,type:String},2:{name:"rows",fc:!0,va:11,type:lHd}}));return a};V1.Ba=V1.prototype.Ba;lHd.prototype.Ba=function(){var a=mHd;a||(mHd=a=vv(lHd,{0:{name:"QueryResultRow",Ab:"ritzproto.QueryResultRow"},1:{name:"formatted_values",fc:!0,va:11,type:Gv}}));return a};lHd.Ba=lHd.prototype.Ba;
nHd.prototype.Ba=function(){var a=oHd;a||(oHd=a=vv(nHd,{0:{name:"QueryExecutionMetadata",Ab:"ritzproto.QueryExecutionMetadata"},1:{name:"bytes_processed",va:9,type:String}}));return a};nHd.Ba=nHd.prototype.Ba;W1.prototype.Ba=function(){var a=pHd;a||(pHd=a=vv(W1,{0:{name:"RefreshSheetRequest",Ab:"ritzproto.RefreshSheetRequest"},1:{name:"sheet_id",va:9,type:String}}));return a};W1.Ba=W1.prototype.Ba;
X1.prototype.Ba=function(){var a=qHd;a||(qHd=a=vv(X1,{0:{name:"RefreshSheetResponse",Ab:"ritzproto.RefreshSheetResponse"},1:{name:"execution_status",va:11,type:zv}}));return a};X1.Ba=X1.prototype.Ba;Y1.prototype.Ba=function(){var a=rHd;a||(rHd=a=vv(Y1,{0:{name:"GetTablesRequest",Ab:"ritzproto.GetTablesRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"project_id",va:9,type:String},3:{name:"schema_name",va:9,type:String}}));return a};Y1.Ba=Y1.prototype.Ba;
Z1.prototype.Ba=function(){var a=sHd;a||(sHd=a=vv(Z1,{0:{name:"GetTablesResponse",Ab:"ritzproto.GetTablesResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"error_code",va:14,defaultValue:0,type:GVa},3:{name:"error_text",va:9,type:String},4:{name:"tables",fc:!0,va:11,type:$1}}));return a};Z1.Ba=Z1.prototype.Ba;
$1.prototype.Ba=function(){var a=tHd;a||(tHd=a=vv($1,{0:{name:"Table",Ab:"ritzproto.Table"},1:{name:"name",va:9,type:String},2:{name:"schema",va:9,type:String},3:{name:"project_id",va:9,type:String}}));return a};$1.Ba=$1.prototype.Ba;a2.prototype.Ba=function(){var a=vHd;a||(vHd=a=vv(a2,{0:{name:"EditQueryRequest",Ab:"ritzproto.EditQueryRequest"},1:{name:"query_id",va:9,type:String},2:{name:"query",va:11,type:M1}}));return a};a2.Ba=a2.prototype.Ba;
b2.prototype.Ba=function(){var a=wHd;a||(wHd=a=vv(b2,{0:{name:"EditQueryResponse",Ab:"ritzproto.EditQueryResponse"},1:{name:"execution_status",va:11,type:zv}}));return a};b2.Ba=b2.prototype.Ba;xHd.prototype.Ba=function(){var a=yHd;a||(yHd=a=vv(xHd,{0:{name:"ListConnectionsResponse",Ab:"ritzproto.ListConnectionsResponse"},1:{name:"connections",fc:!0,va:11,type:c2}}));return a};xHd.Ba=xHd.prototype.Ba;
c2.prototype.Ba=function(){var a=zHd;a||(zHd=a=vv(c2,{0:{name:"Connection",Ab:"ritzproto.Connection"},1:{name:"id",va:9,type:String},2:{name:"name",va:9,type:String},3:{name:"connection_type",va:14,defaultValue:0,type:FVa},4:{name:"jdbc_connection_info",va:11,type:P1}}));return a};c2.Ba=c2.prototype.Ba;d2.prototype.Ba=function(){var a=AHd;a||(AHd=a=vv(d2,{0:{name:"GetColumnsRequest",Ab:"ritzproto.GetColumnsRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"table",va:11,type:$1}}));return a};
d2.Ba=d2.prototype.Ba;f2.prototype.Ba=function(){var a=BHd;a||(BHd=a=vv(f2,{0:{name:"GetColumnsResponse",Ab:"ritzproto.GetColumnsResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"error_code",va:14,defaultValue:0,type:GVa},3:{name:"error_text",va:9,type:String},4:{name:"column_names",fc:!0,va:9,type:String}}));return a};f2.Ba=f2.prototype.Ba;
g2.prototype.Ba=function(){var a=CHd;a||(CHd=a=vv(g2,{0:{name:"GetDatasetsRequest",Ab:"ritzproto.GetDatasetsRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"project_id",va:9,type:String}}));return a};g2.Ba=g2.prototype.Ba;
h2.prototype.Ba=function(){var a=DHd;a||(DHd=a=vv(h2,{0:{name:"GetDatasetsResponse",Ab:"ritzproto.GetDatasetsResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"error_code",va:14,defaultValue:0,type:GVa},3:{name:"error_text",va:9,type:String},4:{name:"dataset_names",fc:!0,va:9,type:String}}));return a};h2.Ba=h2.prototype.Ba;
EHd.prototype.Ba=function(){var a=FHd;a||(FHd=a=vv(EHd,{0:{name:"GetBigQueryProjectsRequest",Ab:"ritzproto.GetBigQueryProjectsRequest"},1:{name:"connection_id",va:9,type:String}}));return a};EHd.Ba=EHd.prototype.Ba;
i2.prototype.Ba=function(){var a=GHd;a||(GHd=a=vv(i2,{0:{name:"GetBigQueryProjectsResponse",Ab:"ritzproto.GetBigQueryProjectsResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"error_code",va:14,defaultValue:0,type:GVa},3:{name:"error_text",va:9,type:String},4:{name:"projects",fc:!0,va:11,type:j2}}));return a};i2.Ba=i2.prototype.Ba;
j2.prototype.Ba=function(){var a=HHd;a||(HHd=a=vv(j2,{0:{name:"BigQueryProject",Ab:"ritzproto.BigQueryProject"},1:{name:"id",va:9,type:String},2:{name:"name",va:9,type:String}}));return a};j2.Ba=j2.prototype.Ba;IHd.prototype.Ba=function(){var a=JHd;a||(JHd=a=vv(IHd,{0:{name:"GetQueryRequest",Ab:"ritzproto.GetQueryRequest"},1:{name:"query_id",va:9,type:String}}));return a};IHd.Ba=IHd.prototype.Ba;
k2.prototype.Ba=function(){var a=KHd;a||(KHd=a=vv(k2,{0:{name:"GetQueryResponse",Ab:"ritzproto.GetQueryResponse"},1:{name:"found",va:8,type:Boolean},2:{name:"query",va:11,type:M1}}));return a};k2.Ba=k2.prototype.Ba;LHd.prototype.Ba=function(){var a=MHd;a||(MHd=a=vv(LHd,{0:{name:"GetExecutionStatusRequest",Ab:"ritzproto.GetExecutionStatusRequest"},1:{name:"query_id",va:9,type:String}}));return a};LHd.Ba=LHd.prototype.Ba;
l2.prototype.Ba=function(){var a=NHd;a||(NHd=a=vv(l2,{0:{name:"GetExecutionStatusResponse",Ab:"ritzproto.GetExecutionStatusResponse"},1:{name:"execution_status",va:11,type:zv}}));return a};l2.Ba=l2.prototype.Ba;function OHd(a,b){b=void 0===b?"":b;this.C=[];for(var c=0;c<a.length;c++)this.C.push(a[c].clone());this.D=b};function PHd(){return P('<div class="'+Q("waffle-dataconnector-bigqueryquerysettingsdialog-project-section")+'"><div class="'+Q("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-wrapper")+'"></div></div>')}
function QHd(){var a='<div class="'+Q("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-footer-sharing-message")+'">';return P(a+"The data that you query is visible to everyone with view access, but your query is only visible to people with edit access.</div>")};function RHd(){return P('<svg class="waffle-dataconnector-close-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path d="M0,0 L18,0 L18,18 L0,18 L0,0 Z M0,0 L18,0 L18,18 L0,18 L0,0 Z"/><polygon fill="#000" points="14.53 4.53 13.47 3.47 9 7.94 4.53 3.47 3.47 4.53 7.94 9 3.47 13.47 4.53 14.53 9 10.06 13.47 14.53 14.53 13.47 10.06 9"/></g></svg>')}
function SHd(){return P('<svg class="waffle-dataconnector-refresh-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M17.65,7.35 C16.2,5.9 14.21,5 12,5 C7.58,5 4.01,8.58 4.01,13 C4.01,17.42 7.58,21 12,21 C15.73,21 18.84,18.45 19.73,15 L17.65,15 C16.83,17.33 14.61,19 12,19 C8.69,19 6,16.31 6,13 C6,9.69 8.69,7 12,7 C13.66,7 15.14,7.69 16.22,8.78 L13,12 L20,12 L20,5 L17.65,7.35 Z" id="dataconnector-refresh-icon-path-1"></path></defs><g id="icons/refresh" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group" transform="translate(0.000000, -1.000000)"><rect id="Rectangle" x="0" y="1" width="24" height="24"></rect><mask id="dataconnector-refresh-icon-mask-2" fill="white"><use xlink:href="#dataconnector-refresh-icon-path-1"></use></mask><use id="Shape" fill="#4285F4" fill-rule="nonzero" xlink:href="#dataconnector-refresh-icon-path-1"></use><g id="colors/Black---100" mask="url(#dataconnector-refresh-icon-mask-2)" fill="#000000"><polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon></g></g></g></svg>')}
function THd(){return P('<svg class="waffle-dataconnector-error-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M9,13 L11,13 L11,15 L9,15 L9,13 Z M9,5 L11,5 L11,11 L9,11 L9,5 Z M9.99,0 C4.47,0 0,4.48 0,10 C0,15.52 4.47,20 9.99,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 9.99,0 Z M10,18 C5.58,18 2,14.42 2,10 C2,5.58 5.58,2 10,2 C14.42,2 18,5.58 18,10 C18,14.42 14.42,18 10,18 Z" id="dataconnector-error-icon-path-1"></path></defs><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon/error"><g id="ic_error_outline_24px" transform="translate(2.000000, 2.000000)"><mask id="dataconnector-error-icon-mask-2" fill="white"><use xlink:href="#dataconnector-error-icon-path-1"></use></mask><g id="Shape" fill-rule="nonzero"></g><g id="colors/Red" mask="url(#dataconnector-error-icon-mask-2)" fill="#D0021B"><g transform="translate(-2.000000, -2.000000)" id="Shape"><polygon points="0 0 24 0 24 24 0 24"></polygon></g></g></g></g></g></svg>')}
function UHd(a){a=a||{};a=a.color;a='<svg class="waffle-dataconnector-error-icon-filled" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M9,13 L11,13 L11,15 L9,15 L9,13 Z M9,5 L11,5 L11,11 L9,11 L9,5 Z M9.99,0 C4.47,0 0,4.48 0,10 C0,15.52 4.47,20 9.99,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 9.99,0 Z" id="dataconnector-error-filled-icon-path-1"></path></defs><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon/error-filled"><g id="ic_error_outline_24px" transform="translate(2.000000, 2.000000)"><mask id="dataconnector-error-filled-icon-mask-2" fill="white"><use xlink:href="#dataconnector-error-filled-icon-path-1"></use></mask><g id="Shape" fill-rule="nonzero"></g><g id="colors/Red" mask="url(#dataconnector-error-filled-icon-mask-2)" fill="'+
Q(null==a?"#D0021B":a)+'"><g transform="translate(-2.000000, -2.000000)" id="Shape"><polygon points="0 0 24 0 24 24 0 24"></polygon></g></g></g></g></g></svg>';return P(a)}
function VHd(){return P('<svg class="waffle-dataconnector-bigquery-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BigQuery</title><defs><path d="M17.6210231,14.9676464 C17.7267041,14.964158 17.8336481,14.999598 17.9136667,15.0739664 L21.2187334,18.1431672 C21.3715333,18.2853017 21.3715333,18.5181274 21.2187334,18.6604475 L19.8908,19.8929813 C19.7375334,20.0356729 19.4867333,20.0356729 19.3334666,19.8929813 L16.0288667,16.8252043 C15.9483809,16.7504669 15.9100327,16.6511429 15.9138223,16.5530387 C14.5318646,17.5088871 12.8185327,18.0746254 10.962963,18.0746254 C6.38121025,18.0746254 2.66666667,14.6253786 2.66666667,10.3707987 C2.66666667,6.11585235 6.38121025,2.66666667 10.962963,2.66666667 C15.5447814,2.66666667 19.259325,6.11585235 19.2592593,10.3708597 C19.2592593,12.0936892 18.6501585,13.6844725 17.6210231,14.9676464 Z M10.9627632,16.1481946 C14.3991593,16.1481946 17.1851852,13.5615621 17.1851852,10.3706486 C17.1851852,7.17973497 14.3992258,4.59254616 10.9627632,4.59254616 C7.52630064,4.59254616 4.74074074,7.17967314 4.74074074,10.3706486 C4.74074074,13.561624 7.52630064,16.1481946 10.9627632,16.1481946 Z M6.81481481,10.3703704 L8.88888889,10.3703704 L8.88888889,14.0029401 C8.03391111,13.6464441 7.31942754,13.1505168 6.81481481,12.5594013 L6.81481481,10.3703704 Z M9.92592593,8.44442896 L12,8.44442896 L12,14.1665272 C11.6766072,14.200082 11.3475683,14.2222532 11.0093815,14.2222532 C10.6390341,14.2222532 10.2784063,14.1975885 9.92592593,14.1574203 L9.92592593,8.44442896 Z M13.044326,11.3333411 L15.1184,11.3333411 L15.1184,12.4901418 C14.6287957,13.0790718 13.9116201,13.5742789 13.044326,13.933362 L13.044326,11.3333411 Z" id="dataconnector-bigquery-icon-path-1"></path></defs><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon/db/big-query"><g id="Group" transform="translate(0.000000, 1.000000)"><rect id="Rectangle" x="0" y="0" width="24" height="24"></rect><mask id="dataconnector-bigquery-icon-mask-2" fill="white"><use xlink:href="#dataconnector-bigquery-icon-path-1"></use></mask><use id="Shape" fill="#37474F" fill-rule="nonzero" xlink:href="#dataconnector-bigquery-icon-path-1"></use><g id="colors/Black---100" mask="url(#dataconnector-bigquery-icon-mask-2)" fill="#000000"><polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon></g></g></g></g></svg>')}
function WHd(){return P('<svg class="waffle-dataconnector-plx-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Plx</title><defs><path d="M10.9418364,5.81385031 L14.4202032,5.81385031 L15.1116898,1.66493056 L18.8939326,1.66493056 L18.202446,5.81385031 L21.3350694,5.81385031 L21.3350694,8.92554012 L17.683831,8.92554012 L16.9923444,13.0744599 L21.3350694,13.0744599 L21.3350694,16.1861497 L16.4737294,16.1861497 L15.7822428,20.3350694 L12,20.3350694 L12.6914866,16.1861497 L9.21311982,16.1861497 L8.5216332,20.3350694 L4.73939043,20.3350694 L5.43087706,16.1861497 L2.66493056,16.1861497 L2.66493056,13.0744599 L5.94949203,13.0744599 L6.64097865,8.92554012 L2.66493056,8.92554012 L2.66493056,5.81385031 L7.15959362,5.81385031 L7.85108025,1.66493056 L11.633323,1.66493056 L10.9418364,5.81385031 Z M10.4232214,8.92554012 L9.73173479,13.0744599 L13.2101016,13.0744599 L13.9015882,8.92554012 L10.4232214,8.92554012 Z" id="dataconnector-plx-icon-path-1"></path></defs><g id="icons/db/PLX" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group" transform="translate(0.000000, 1.000000)"><rect id="Rectangle" x="0" y="0" width="24" height="24"></rect><mask id="dataconnector-plx-icon-mask-2" fill="white"><use xlink:href="#dataconnector-plx-icon-path-1"></use></mask><g id="Combined-Shape"></g><g id="colors/Black---100" mask="url(#dataconnector-plx-icon-mask-2)" fill="#000000"><polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon></g></g></g></svg>')};function XHd(a,b){H1.call(this,"waffle-dataconnector-bigqueryquerysettingsdialog",b);VGd(this,this.qa().Ma("SPAN",void 0,N(VHd),"BigQuery query settings"));this.J=a.C;this.D=new fU;this.Ya(this.D);this.D.Gd("waffle-dataconnector-bigqueryquerysettingsdialog-project-select");this.D.setContent("Billing project");this.F=new uU("Write query");this.Ya(this.F);this.F.Gd("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button")}q(XHd,H1);
XHd.prototype.Ma=function(){H1.prototype.Ma.call(this);hr(this.Ob(),PHd);hr(UGd(this),QHd);this.D.render(this.$a("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-wrapper"));this.F.render(this.$a("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button-wrapper"))};
XHd.prototype.Za=function(){H1.prototype.Za.call(this);if(0==this.J.length){this.D.mb(!1);var a=this.D;a.F="No billing projects";a.uD();a=this.qa();a.appendChild(this.$a("waffle-dataconnector-bigqueryquerysettingsdialog-project-section"),a.Ma("DIV","waffle-dataconnector-bigqueryquerysettingsdialog-error-caption","Configure a project in the Google Cloud Platform console to continue"))}else{a=this.J;for(var b=0;b<a.length;b++){var c=a[b];this.D.Ad(new Kk(c.getName(),c.getId()))}this.getHandler().R(this.F,
"action",this.O).R(this.D,"change",this.L)}this.L()};XHd.prototype.L=function(){this.F.mb(null!=this.D.Te())};XHd.prototype.O=function(){this.resolve(YHd(this))};function YHd(a){var b=a.D.Te().eb();return new OHd(a.J,b)};function ZHd(){this.C=null;this.Rc=new xv}ZHd.prototype.Ff=ca("C");function $Hd(a,b){a.Rc.Pg=!0;var c=bm(a.Rc.serialize(b));return new qf(function(b,e){lu(Cs(Wu(Zm($u(Ds(a.C.ef("/dbx/createConnection"),"POST")),1).setTimeout(3E4),["data",c]),function(c){a.Rc.Pg=!1;c=a.Rc.kd(Q1.Ba(),c.nf());c.Ao()?e(c):b(c)}),function(){var a=new Q1;W(a,1,!1);W(a,3,1);e(a)}).Ge()})}
function aId(a,b){a.Rc.Pg=!0;var c=a.Rc.serialize(b);return bId(V(b,2))?m2("dbx",c).then(function(b){a.Rc.Pg=!0;b=a.Rc.kd(S1.Ba(),b.result);return 3==b.Hj().getState()?uf(b):b},function(){var a=new S1,b=new zv;W(a,1,b);b.Pb(3);F1(b);return uf(a)}):new qf(function(b,e){n2(a,"/dbx/createQuery",c,function(c){a.Rc.Pg=!1;c=a.Rc.kd(S1.Ba(),c.nf());3==c.Hj().getState()?e(c):b(c)},function(){var a=new S1,b=new zv;W(a,1,b);b.Pb(3);F1(b);e(a)})})}
function cId(a,b){a.Rc.Pg=!0;var c=bm(a.Rc.serialize(b));return new qf(function(b,e){lu(Cs(Wu(Zm($u(Ds(a.C.ef("/dbx/importConnection"),"POST")),1).setTimeout(3E4),["data",c]),function(){b()}),function(){e()}).Ge()})}
function dId(a,b){a.Rc.Pg=!0;var c=a.Rc.serialize(b);return bId(V(b,2))?m2("dbx:previewQuery",c).then(function(b){a.Rc.Pg=!0;b=a.Rc.kd(U1.Ba(),b.result);return 3==b.Hj().getState()?uf(b):b},function(){var a=new U1,b=new zv;W(a,1,b);b.Pb(3);F1(b);return uf(a)}):new qf(function(b,e){n2(a,"/dbx/previewQuery",c,function(c){a.Rc.Pg=!1;c=a.Rc.kd(U1.Ba(),c.nf());3==c.Hj().getState()?e(c):b(c)},function(){var a=new U1,b=new zv;W(a,1,b);b.Pb(3);F1(b);e(a)})})}
function eId(a,b,c){a.Rc.Pg=!0;var d=a.Rc.serialize(b);return 3==c?m2("dbx:refreshSheet",d).then(function(b){a.Rc.Pg=!0;b=a.Rc.kd(X1.Ba(),b.result);return 3==b.Hj().getState()?uf(b):b},function(){var a=new X1,b=new zv;W(a,1,b);b.Pb(3);F1(b);return uf(a)}):new qf(function(b,c){n2(a,"/dbx/refreshSheet",d,function(d){a.Rc.Pg=!1;d=a.Rc.kd(X1.Ba(),d.nf());3==d.Hj().getState()?c(d):b(d)},function(){var a=new X1,b=new zv;W(a,1,b);b.Pb(3);F1(b);c(a)})})}
function fId(a,b){a.Rc.Pg=!0;var c=a.Rc.serialize(b);return bId(V(b,2))?m2("dbx:editQuery",c).then(function(b){a.Rc.Pg=!0;b=a.Rc.kd(b2.Ba(),b.result);return 3==b.Hj().getState()?uf(b):b},function(){var a=new b2,b=new zv;W(a,1,b);b.Pb(3);F1(b);return uf(a)}):new qf(function(b,e){n2(a,"/dbx/editQuery",c,function(c){a.Rc.Pg=!1;c=a.Rc.kd(b2.Ba(),c.nf());3==c.Hj().getState()?e(c):b(c)},function(){var a=new b2,b=new zv;W(a,1,b);b.Pb(3);F1(b);e(a)})})}
function gId(a){return new qf(function(b,c){lu(Cs($m(Zm($u(Ds(a.C.ef("/dbx/listConnections"),"GET")),1).setTimeout(3E4),"currentWorkbookOnly","true"),function(c){a.Rc.Pg=!1;c=a.Rc.kd(xHd.Ba(),c.nf());b(c)}),c).Ge()})}
function hId(a,b,c){a.Rc.Pg=!0;var d=a.Rc.serialize(b);return 3==c?m2("dbx:getTables",d).then(function(b){a.Rc.Pg=!0;b=a.Rc.kd(Z1.Ba(),b.result);return b.Ao()?uf(b):b},function(){var a=new Z1;W(a,1,!1);W(a,2,1);return uf(a)}):new qf(function(b,c){n2(a,"/dbx/getTables",d,function(d){a.Rc.Pg=!1;d=a.Rc.kd(Z1.Ba(),d.nf());d.Ao()?c(d):b(d)},function(){var a=new Z1;W(a,1,!1);W(a,2,1);c(a)})})}
function iId(a,b,c){a.Rc.Pg=!0;var d=a.Rc.serialize(b);return 3==c?m2("dbx:getColumns",d).then(function(b){a.Rc.Pg=!0;b=a.Rc.kd(f2.Ba(),b.result);return b.Ao()?uf(b):b},function(){var a=new f2;W(a,1,!1);W(a,2,1);return uf(a)}):new qf(function(b,c){n2(a,"/dbx/getColumns",d,function(d){a.Rc.Pg=!1;d=a.Rc.kd(f2.Ba(),d.nf());d.Ao()?c(d):b(d)},function(){var a=new f2;W(a,1,!1);W(a,2,1);c(a)})})}
function jId(a,b){a.Rc.Pg=!0;var c=bm(a.Rc.serialize(b));return new qf(function(b,e){lu(Cs(Wu(Zm($u(Ds(a.C.ef("/dbx/getQuery"),"POST")),1).setTimeout(3E4),["data",c]),function(c){a.Rc.Pg=!1;c=a.Rc.kd(k2.Ba(),c.nf());b(c)}),e).Ge()})}function kId(a,b){a.Rc.Pg=!0;b=a.Rc.serialize(b);return m2("dbx:getBigQueryProjects",b).then(function(b){a.Rc.Pg=!0;b=a.Rc.kd(i2.Ba(),b.result);return b.Ao()?uf(b):b},function(){var a=new i2;W(a,1,!1);W(a,2,1);return uf(a)})}
function lId(a,b){a.Rc.Pg=!0;b=a.Rc.serialize(b);return m2("dbx:getDatasets",b).then(function(b){a.Rc.Pg=!0;b=a.Rc.kd(h2.Ba(),b.result);return b.Ao()?uf(b):b},function(){var a=new h2;W(a,1,!1);W(a,2,1);return uf(a)})}function bId(a){return 3==(V(a,4)?3:V(a,2)?2:V(a,1)?1:0)}function n2(a,b,c,d,e){lu(Cs(Wu(Zm($u(Ds(a.C.ef(b),"POST")),1).setTimeout(3E4),["data",bm(c)]),d),e).Ge()}
function m2(a,b){var c=Qz.getInstance(),d=c.C.gaiaSessionId;d&&gapi.config.update("googleapis.config/sessionIndex",d);gapi.config.update("googleapis.config/auth/useFirstPartyAuth",!0);gapi.config.update("googleapis.config/auth/useFirstPartyAuthV2",!0);d=H();var e="https://"+yh(d,"rfpd");c=c.C.cosmoId;b=bm([c,b]);gapi.client.setApiKey(yh(d,"rfpak"));return gapi.client.request({method:"POST",root:e,path:"v4/spreadsheets/"+c+"/"+a,body:b,params:{alt:"protojson"},headers:{"Content-Type":"application/json+protobuf"}})}
ZHd.prototype.Hj=function(a){var b=this;this.Rc.Pg=!0;var c=this.Rc.serialize(a);return new qf(function(a,e){n2(b,"/dbx/getExecutionStatus",c,function(c){b.Rc.Pg=!1;c=b.Rc.kd(l2.Ba(),c.nf());a(c)},function(){e()})})};ta(ZHd);function mId(a,b){this.D=a;this.C=b}function nId(a,b,c){var d=new Y1;W(d,1,a.C);W(d,2,b);W(d,3,c);return hId(a.D,d,3).then(function(a){return tv(a,4)})}function oId(a,b){var c=new d2;W(c,1,a.C);W(c,2,b);return iId(a.D,c,3).then(function(a){return tv(a,4)})}function pId(a,b){var c=new g2;W(c,2,b);W(c,1,a.C);return lId(a.D,c).then(function(a){return tv(a,4)})}function qId(a){var b=new EHd;W(b,1,a.C);return kId(a.D,b).then(function(a){return tv(a,4)})};function o2(a,b){yq.call(this,"waffle-dataconnector-prompt",a,b);this.L=wf();Oq(this,null);Nq(this,!0);this.C=new ZR("Continue");this.Ya(this.C);this.J=new YR("Cancel");this.Ya(this.J);this.O=[]}q(o2,yq);p=o2.prototype;p.Gd=function(a){this.O.push(a);var b=this.getElement();b&&Kh(b,a)};p.getResult=function(){return this.L.C};p.resolve=function(a){this.L.resolve(a)};p.reject=function(){this.L.reject()};
p.Ma=function(){yq.prototype.Ma.call(this);var a=Dq(this);this.J.render(a);this.C.render(a);L(a,!0)};p.Za=function(){var a=this;yq.prototype.Za.call(this);for(var b=ha(this.O),c=b.next();!c.done;c=b.next())Kh(this.qb(),c.value);this.getHandler().R(this.J,"action",function(){return a.reject()})};p.setVisible=function(a){yq.prototype.setVisible.call(this,a);a||this.reject()};p.Xa=function(){yq.prototype.Xa.call(this);this.reject()};function rId(a,b){o2.call(this,a,b)}q(rId,o2);rId.prototype.Za=function(){var a=this;o2.prototype.Za.call(this);this.getHandler().R(this.C,"action",function(){return a.resolve(0)})};function sId(a){var b='<div class="'+Q("waffle-dataconnector-connectionconfirmationscreen-content")+'"><div class="'+Q("waffle-dataconnector-connectionconfirmationscreen-access-security")+'" tabindex="0"><h3>';b+="Access &amp; security.";var c="";c=a.hKa?c+"<p>Plx is an internal-only connection that's visible only to Googlers.</p><p>People outside of google.com will see Plx as an unnamed connection.":c+"<p>Database passwords and user IDs are not shared amongst collaborators.";c=P(c+"</p>");b+="</h3>"+
c+'</div><div class="'+Q("waffle-dataconnector-connectionconfirmationscreen-data-visibility")+'" tabindex="0"><h3>';b+="Who can see data &amp; queries";c="<p>Users who can view the spreadsheet will be able to see the data.</p>";c=a.hKa?c+"<p>Google users who can edit the spreadsheet will be able to view and modify the query.</p><p>Users outside of google.com who can view the spreadsheet will be able to view the data, but will not be able to view or refresh the query.":c+"<p>Users who can edit the spreadsheet can view and modify the query only after they've signed in to the database.";
a=P(c+"</p>");return P(b+("</h3>"+a+"</div></div>"))};function tId(){return P('<div class="'+Q("waffle-dataconnector-dialog-progress-message")+'"><div class="'+Q("waffle-dataconnector-dialog-progress-label")+'"></div><div class="'+Q("waffle-dataconnector-dialog-progress-bar")+'"></div></div>')};function uId(a){XP.call(this,a);this.D=!1}q(uId,XP);uId.prototype.Ma=function(){XP.prototype.Ma.call(this);Kh(this.getElement(),"waffle-progress-bar");Oh(this.getElement(),"waffle-indeterminate-progress-bar",this.D)};function vId(a,b){a.D!=b&&(a.D=b,a.getElement()&&Oh(a.getElement(),"waffle-indeterminate-progress-bar",b))}uId.prototype.ob=function(a){vId(this,!1);XP.prototype.ob.call(this,a)};
function wId(a,b){vId(a,!1);var c={width:a.eb()+"%"},d={width:b+"%"};c=new Zq(a.$a("progress-bar-thumb"),1,c,d,{og:"width",duration:1,timing:"ease-in",Nl:0});c.Sc("end",function(){XP.prototype.ob.call(a,b)});c.play()};function p2(a,b){yq.call(this,"waffle-dataconnector-dialog",a,b);Oq(this,null);this.cz(!1);Nq(this,!0);this.rb=[];this.zb=new ZR("OK");this.Ya(this.zb);this.sb=new YR("Cancel");this.Ya(this.sb);this.ub=new qj;this.Kb=Pj(new Oj,1).build();this.Nb=this.qa().Ma("DIV","waffle-dataconnector-dialog-error-message");this.Qb=this.qa().Ma("DIV","waffle-dataconnector-dialog-info-message");this.Wb=N(tId);this.L=new uId;vId(this.L,!0);this.Ya(this.L)}q(p2,yq);function xId(a,b,c){wj(a.ub,a.zb,b,yj,c,a.Kb)}
function yId(a){wj(a.ub,a.sb,n7a,yj,void 0,a.Kb)}function zId(a){var b=["waffle-dataconnector-queryeditor"];a.Sb()&&(Nh(a.qb(),a.rb),Lh(a.qb(),b));a.rb=b}
p2.prototype.Ma=function(){yq.prototype.Ma.call(this);Lh(this.qb(),this.rb);var a=Dq(this),b=this.qa().Ma("DIV","waffle-dataconnector-dialog-button-wrapper");a.appendChild(b);this.sb.render(b);this.zb.render(b);L(a,!0);b=this.qa().Ma("DIV","waffle-dataconnector-dialog-message-container",this.Nb,this.Qb,this.Wb);a.appendChild(b);this.L.render(this.$a("waffle-dataconnector-dialog-progress-bar"));hr(gDa(this),cAc)};
p2.prototype.Za=function(){yq.prototype.Za.call(this);q2(this);Dh(this.Nb,"live","polite");Dh(this.Qb,"live","polite");Dh(this.Wb,"live","polite")};p2.prototype.cz=function(a){yq.prototype.cz.call(this,a);Jq(this,this.GJ?0:.6)};function AId(a,b){a=a.$a("waffle-dataconnector-dialog-error-message");wd(a,b||od(""));L(a,!!b)}function BId(a,b){a=a.$a("waffle-dataconnector-dialog-info-message");wd(a,b||od(""));L(a,!!b)}
function CId(a,b,c){we(a.$a("waffle-dataconnector-dialog-progress-label"),b);null!=c&&wId(a.L,c);L(a.$a("waffle-dataconnector-dialog-progress-message"),!0)}function q2(a){AId(a,null);BId(a,null);a.L.ob(0);vId(a.L,!0);L(a.$a("waffle-dataconnector-dialog-progress-message"),!1)};function DId(a,b,c,d){p2.call(this,c,d);zq(this,"Connected");this.F=a;this.C=b;yId(this);xId(this,u7a)}q(DId,p2);DId.prototype.Ma=function(){p2.prototype.Ma.call(this);hr(this.Ob(),sId,{hKa:2==this.C})};function EId(a){return P('<div class="'+Q("waffle-dataconnector-connectioncard")+'" role="button" tab-index="0"><div class="'+Q("waffle-dataconnector-connectioncard-icon")+'"></div><div class="'+Q("waffle-dataconnector-connectioncard-body")+'"><div class="'+Q("waffle-dataconnector-connectioncard-header")+'">'+O(a.QO)+"</div></div></div>")};function FId(a,b,c,d){this.Jc=a;this.D=b;this.Dc=c;this.C=d}FId.prototype.getName=g("D");FId.prototype.getId=g("Jc");FId.prototype.getType=g("Dc");function GId(){this.Dc=this.Jc=this.D=null;this.C=!1}GId.prototype.Ke=function(a){this.D=a;return this};GId.prototype.vf=function(a){this.Jc=a;return this};GId.prototype.setType=function(a){this.Dc=a;return this};function HId(a){a.C=!0;return a}GId.prototype.build=function(){return new FId(this.Jc,this.D,this.Dc,this.C)};function IId(){}q(IId,jr);IId.prototype.Ma=function(a){a=a.tb();var b=N(EId,{QO:a.getName()});Oh(b,"waffle-dataconnector-connectioncard-authenticated",a.C);return b};IId.prototype.hc=n("waffle-dataconnector-connectioncard");ta(IId);function JId(a,b){kr.call(this,void 0,IId.getInstance(),b);this.Hc(a);this.We(8,!0)}q(JId,kr);JId.prototype.Hc=function(a){kr.prototype.Hc.call(this,a)};function KId(){return P('<div class="'+Q("waffle-dataconnector-connectionmanager-content")+'"><div class="'+Q("waffle-dataconnector-connectionmanager-connections")+'"><div class="'+Q("waffle-dataconnector-connectionmanager-authorized")+'"></div></div></div>')};function LId(a,b){p2.call(this,a,b);zq(this,"Managed connections");this.C=new Kr;this.xa(this.C);this.F=new M(this.qa());this.Ya(this.F);this.J=new OT;this.Ya(this.J);xId(this,WA);yId(this)}q(LId,p2);LId.prototype.Ma=function(){p2.prototype.Ma.call(this);hr(this.Ob(),KId)};
LId.prototype.Za=function(){p2.prototype.Za.call(this);this.J.render(this.$a("waffle-dataconnector-connectionmanager-content"));this.F.yb(this.$a("waffle-dataconnector-connectionmanager-connections"));this.getHandler().R(this.F,"action",this.O).R(this.C,"select",this.ma);MId(this,!0)};function MId(a,b){Oh(a.qb(),"waffle-dataconnector-connectionmanager-loading",b);PT(a.J,b)}
function NId(a,b){var c=a.$a("waffle-dataconnector-connectionmanager-authorized");b=ha(b);for(var d=b.next();!d.done;d=b.next())d=new JId(d.value),a.F.Ya(d),d.render(c)}LId.prototype.O=function(a){a.stopPropagation();Lr(this.C,a.target)};LId.prototype.ma=function(){var a=(a=(a=this.C.Te())&&a)&&a.tb();WA.ob(a)};function OId(a){var b='<div class="'+Q("waffle-dataconnector-bar")+'"><div class="'+Q("waffle-dataconnector-bar-header")+'" tabindex="0" aria-label="',c="Data connection: "+Q(a.QO);b+=tr(c);b+='">'+O(a.QO)+'</div><div class="'+Q("waffle-dataconnector-bar-editquery-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-bar-error-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-bar-timestamp")+'" tabindex="0"></div><div class="'+Q("waffle-dataconnector-bar-refresh-button-wrapper")+
'"></div><div class="'+Q("waffle-dataconnector-bar-progress")+'"><div class="'+Q("waffle-dataconnector-bar-spinner")+'"></div><span class="'+Q("waffle-dataconnector-bar-progress-message")+'"></span></div></div>';return P(b)};function PId(a,b,c,d){wU.call(this,d);this.V=a;this.O=new qj;this.xa(this.O);this.Ra=c;this.C=new vU;this.Ya(this.C);this.C.Gd("waffle-dataconnector-bar-editquery-button");wj(this.O,this.C,p7a,yj);this.D=new vU;this.Ya(this.D);this.D.Gd("waffle-dataconnector-bar-refresh-button");wj(this.O,this.D,v7a,yj);this.H=new vU(this.qa().Ma("SPAN",void 0,N(UHd,{color:"#FF8897"}),"Error in query execution"));this.Ya(this.H);this.H.Gd("waffle-dataconnector-bar-error-button");wj(this.O,this.H,t7a);this.Aa=new QId}
q(PId,wU);PId.prototype.tsa=function(){return N(OId,{QO:Ub(this.V,64)})};PId.prototype.Za=function(){wU.prototype.Za.call(this);this.C.render(this.$a("waffle-dataconnector-bar-editquery-button-wrapper"));this.D.render(this.$a("waffle-dataconnector-bar-refresh-button-wrapper"));this.H.render(this.$a("waffle-dataconnector-bar-error-button-wrapper"));RId(this,!1,!1)};PId.prototype.Fia=n("waffle-dataconnector-bar-wrapper");PId.prototype.focus=function(){this.qb().focus()};
function SId(a,b){RId(a,!0,!1);null!=b?(b="Executing query - "+(b+"%"),we(a.$a("waffle-dataconnector-bar-progress-message"),b)):we(a.$a("waffle-dataconnector-bar-progress-message"),"Executing query")}
function RId(a,b,c){Oh(a.qb(),"waffle-dataconnector-bar-executing",b);p7a.isEnabled()&&a.C.setVisible(!b);v7a.isEnabled()&&a.D.setVisible(!b);t7a.isEnabled()&&t7a.setVisible(!b&&c);L(a.$a("waffle-dataconnector-bar-timestamp"),!b);if(!(b||(c=ritz_api.DbxApi.getLastExecutionTimeForSheet(a.Ra.toString()),0>=c))){c="Last refreshed "+a.Aa.format(c);var d=a.$a("waffle-dataconnector-bar-timestamp");we(d,c)}L(a.$a("waffle-dataconnector-bar-progress"),b)}
function QId(){this.C=new ct(1);this.D=new ct(ft.MONTH_DAY_MEDIUM);this.F=new ct(7)}QId.prototype.format=function(a){a=new Date(a);var b=new Date,c;0<b.getFullYear()-a.getFullYear()?c=this.C.format(a):a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()?c="Today":c=this.D.format(a);a=this.F.format(a);return c+(", "+a)};function TId(){A.call(this);this.C={};this.Rc=new xv}q(TId,A);function UId(a,b,c){a.C[b]=c}function VId(a,b){var c=ritz_api.DbxApi.getExecutionStatusForQuery(b);c=null==c?null:a.Rc.kd(zv.Ba(),c);var d=a.C[b];return d?c&&d.getToken()==c.getToken()?(xc(a.C,b),c):d:c};function WId(a,b,c,d,e,f){xU.call(this,"waffle-connectionbar-id",f);var h=this;GKc(this,function(){h.C.setVisible(!0,!0);DP()});this.J=a;this.H=b;this.D=c;this.L=d;this.F=e}q(WId,xU);p=WId.prototype;p.Ib=g("H");p.uu=function(){xU.prototype.uu.call(this);this.getHandler().R(this.F,"Jb",this.QAb);this.oB()};p.show=function(){xU.prototype.show.call(this);XId(this)};
function XId(a){var b=VId(a.L,a.D);if(b)switch(b.getState()){case 4:SId(a.C);break;case 1:SId(a.C,V(b,5));break;case 2:RId(a.C,!1,!1);break;case 3:RId(a.C,!1,!0)}}p.cQ=function(){return new PId(this.J,this.D,this.H)};p.QAb=function(a){this.isDisposed()||a.uh!=tA(this.F.C)||XId(this)};function r2(a,b){M.call(this,b);this.D=new cU(a,this.qa());this.Ya(this.D);this.L=!1}q(r2,M);p=r2.prototype;p.Md=function(a){this.L=a;this.D.getHeader().zc(a)};p.refresh=function(){this.D.getHeader().zc(this.L)};p.focus=function(){Si(this.D.getHeader()).focus()};p.setContent=function(a){this.D.setContent(a)};p.Ob=function(){return this.D.Ob()};p.Ma=function(){this.Lb(this.qa().Ma("DIV","waffle-dataconnector-queryeditor-collapsible-sidebar-widget"));this.D.render(this.qb())};
p.Za=function(){M.prototype.Za.call(this);this.getHandler().R(this,["aftershow","afterhide"],function(a){return a.stopPropagation()}).R(this.D.getHeader(),["charteditor-collapsiblesectionheader-opened","charteditor-collapsiblesectionheader-closed"],this.cwb)};p.cwb=function(a){a.stopPropagation();this.L=this.D.getHeader().isChecked();this.dispatchEvent(Hi(64,this.L))};function YId(a,b,c){b=c||b;return P('<div class="'+Q("waffle-dataconnector-draggablebar")+'">'+ZId(null,b)+"</div>")}function ZId(){return P('<div class="'+Q("waffle-dataconnector-draggablebar-handle")+'" tabindex="0"><div class="'+Q("waffle-dataconnector-draggablebar-handle-icon")+'"></div></div>')};function $Id(a,b){M.call(this,b);this.D=a;this.Qc=this.F=null;this.H=new mk;this.xa(this.H);this.H.Od(this);this.C=0}q($Id,M);p=$Id.prototype;p.Ma=function(){this.Lb(N(YId))};p.Wc=function(a){this.Lb(a);Kh(this.qb(),"waffle-dataconnector-draggablebar");hr(a,ZId)};
p.Za=function(){this.F=this.$a("waffle-dataconnector-draggablebar-handle");this.Qc=new tq(this.qb(),this.F);this.xa(this.Qc);this.Qc.C=!0;nk(this.H,this.F);this.getHandler().R(this.Qc,"start",this.aKb).R(this.Qc,"drag",this.zLb).R(this.Qc,"end",this.$Jb);"vertical"==this.D?(qi(this.qb(),8),Kh(this.qb(),"waffle-dataconnector-draggablebar-vertical")):(ui(this.qb(),8),Kh(this.qb(),"waffle-dataconnector-draggablebar-horizontal"))};p.Zc=n(8);p.mb=function(a){this.Qc.mb(a)};
p.aKb=function(){uq(this.Qc,aJd(this));this.dispatchEvent("Ie")};p.zLb=function(a){this.C="vertical"==this.D?a.left:a.top;this.dispatchEvent("Ge")};p.$Jb=function(){this.dispatchEvent("He")};function aJd(a){var b=a.qb().parentElement.getBoundingClientRect(),c=b.height;b=b.width;"horizontal"==a.D?(b=0,c-=a.Zc()):(c=0,b-=a.Zc());return new Wh(0,0,b,c)};function bJd(a,b){var c=V(b,2),d=V(b,3);switch(c){case 20:return cJd(a,d);case 14:return s2("Update parameter '"+(V(b,6).toUpperCase()+"' to reference a cell in the current workbook and try again"));case 15:return s2("Update the cell referenced by parameter '"+(V(b,6).toUpperCase()+"' to be text or a number"));case 16:return s2("Select a parameter name that you haven't used before");case 13:return s2("Define your parameter '"+(V(b,6).toUpperCase()+"' and try again"));case 6:return I(H(),"docs-idu")?
(a=new Ip,b=a.Ce("span",{"class":"waffle-dataconnector-error-message"})+("Query timed out. "+(a.Ce("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",target:"_blank"})+("Learn more"+(a.Je("a")+a.Je("span"))))),a=a.format(b)):a=dJd("Query timed out",d),a;case 8:return I(H(),"docs-idu")?(a=new Ip,b="Results exceed "+(eJd+(" rows. Update query and run again. "+(a.Ce("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",
target:"_blank"})+("Learn more"+a.Je("a"))))),a=a.format(b),a=s2(a)):a=dJd(fJd,d),a;case 18:return s2("The query returns an ARRAY or a STRUCT type, which is currently not supported.");case 9:return a=new Ip,b="Go to Plx to specify an engine other than 'Auto' and try again. "+(a.Ce("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",target:"_blank"})+("Learn more"+a.Je("a"))),a=a.format(b),s2(a)}return gJd(d)}
function hJd(a){var b=new Ip;a=(new kt("To execute this query, {startLink}sign in to your Google account{endLink}")).format({startLink:b.Ce("a",{href:"#",id:a}),endLink:b.Je("a")});return b.format(a)}function cJd(a,b){if(!b)return gJd(b);switch(a){case 2:return s2("Plx error: "+b);case 3:return s2("BigQuery error: "+b);default:return s2("Database error: "+b)}}function gJd(a){return dJd("Something's wrong. Please try again later",a)}var eJd=(new it(1)).format(1E4),fJd="Results exceed "+(eJd+" rows. Update query and run again.");
function s2(a){return sd("span",{"class":"waffle-dataconnector-error-message"},a)}function dJd(a,b){var c=new Ip;b&&(a=a+": "+b);return s2(c.format(a))};function iJd(){var a='<div class="'+Q("waffle-dataconnector-textarea-editor")+'"><div class="'+Q("waffle-dataconnector-textarea-editor-textareawrapper")+'"><div class="'+Q("waffle-dataconnector-textarea-editor-overlay")+'"><div class="'+Q("waffle-dataconnector-textarea-editor-overlay-message")+'"></div></div><textarea class="'+Q("waffle-dataconnector-textarea-editor-textarea")+'" spellcheck="false" aria-label="';a+=tr("Enter your query");a+='"></textarea><div class="'+Q("waffle-dataconnector-textarea-editor-linegutter")+
'"><div class="'+Q("waffle-dataconnector-textarea-editor-linenumber-container")+'"></div></div></div></div>';return P(a)};function t2(a){M.call(this,a);this.Ud=!0}q(t2,M);t2.prototype.J=function(){this.dispatchEvent("Ke")};t2.prototype.mb=function(a){a!=this.Ud&&(this.Ud=a,this.Sb()&&jJd(this))};t2.prototype.isEnabled=g("Ud");function kJd(a,b){a=void 0===a?"":a;t2.call(this,b);this.F=this.C=null;this.H=new OT;this.Ya(this.H);this.D=a}q(kJd,t2);kJd.prototype.Ma=function(){this.Lb(N(iJd))};
kJd.prototype.Za=function(){var a=this;t2.prototype.Za.call(this);this.C=this.$a("waffle-dataconnector-textarea-editor-textarea");this.C.value=this.D;this.F=new os(this.C);this.xa(this.F);this.getHandler().R(this.C,"focus",function(){return lJd(a,!0)}).R(this.C,"blur",function(){return lJd(a,!1)}).R(this.C,"scroll",this.L).R(this.F,"input",this.J);this.H.render(this.$a("waffle-dataconnector-textarea-editor-textareawrapper"));jJd(this);mJd(this,!1)};
kJd.prototype.J=function(){t2.prototype.J.call(this);nJd(this)};function jJd(a){a.C.disabled=!a.isEnabled();Oh(a.qb(),"waffle-dataconnector-textarea-editor-disabled",!a.isEnabled());PT(a.H,!1)}function oJd(a){return a.Sb()?a.C.value:a.D}function mJd(a,b){L(a.$a("waffle-dataconnector-textarea-editor-overlay"),b)}function lJd(a,b){Oh(a.qb(),"waffle-dataconnector-textarea-editor-focused",b)}function pJd(a,b){a.Sb()?(a.C.value=b,jJd(a),nJd(a)):a.D=b}
function nJd(a){var b=oJd(a).split(/\r?\n/).length,c=a.$a("waffle-dataconnector-textarea-editor-linenumber-container"),d=c.childNodes;if(b<d.length)for(;d.item(b);)c.removeChild(d.item(b));else if(b>d.length)for(d=d.length+1;d<=b;d++)c.appendChild(qJd(a,d))}function qJd(a,b){return a.qa().Ma("DIV","waffle-dataconnector-textarea-editor-linenumber",""+b)}kJd.prototype.L=function(){var a=-this.C.scrollTop;gi(this.$a("waffle-dataconnector-textarea-editor-linenumber-container"),0,a)};function rJd(a){M.call(this,a);this.F=this.qa().Ma("DIV","waffle-dataconnector-dialog-error-message");this.H=this.qa().Ma("DIV","waffle-dataconnector-dialog-info-message");this.J=N(tId);this.C=new uId;vId(this.C,!0);this.Ya(this.C);this.D=!0}q(rJd,M);rJd.prototype.Ma=function(){this.Lb(this.qa().Ma("DIV","waffle-dataconnector-dialog-message-container",this.F,this.H,this.J));this.C.render(this.$a("waffle-dataconnector-dialog-progress-bar"))};
rJd.prototype.Za=function(){M.prototype.Za.call(this);u2(this);Dh(this.F,"live","polite");Dh(this.H,"live","polite");Dh(this.J,"live","polite")};function sJd(a,b){var c=a.$a("waffle-dataconnector-dialog-error-message");u2(a);wd(c,b||od(""));L(c,!!b)}function u2(a){var b=a.$a("waffle-dataconnector-dialog-error-message");wd(b,od(""));L(b,!1);b=a.$a("waffle-dataconnector-dialog-info-message");wd(b,od(""));L(b,!1);a.C.ob(0);vId(a.C,!0);L(a.$a("waffle-dataconnector-dialog-progress-message"),!1)}
rJd.prototype.isVisible=g("D");rJd.prototype.setVisible=function(a){this.D=a;this.Sb()&&L(this.qb(),this.D)};function tJd(){return P('<div class="'+Q("waffle-dataconnector-newqueryeditor-content")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-main")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-editor-pane")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-resize-bar")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-pane")+'"></div></div><div class="'+Q("waffle-dataconnector-newqueryeditor-sidebar")+'"></div></div>')}
function uJd(){return P('<div class="'+Q("waffle-dataconnector-newqueryeditor-footer")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-message-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-insert-button-wrapper")+'"></div></div>')};function vJd(a){a=a.jTb;var b='<div class="'+Q("waffle-dataconnector-query-parameter-prompt-input-container")+'"></div>';a&&(b+='<div class="'+Q("waffle-dataconnector-query-parameter-prompt-toggle-row")+'"><div class="'+Q("waffle-dataconnector-query-parameter-prompt-toggle-label")+'">',b+="Reference cell</div></div>");return P(b)};function wJd(a){yU.apply(this,arguments)}q(wJd,yU);wJd.prototype.eb=function(){return this.C.eb()};wJd.prototype.K0=function(a){this.C.ob(a);return!0};function xJd(a,b){G1.call(this,"waffle-dataconnector-query-parameter-prompt",b);VGd(this,"Query parameter");this.Qc=null;this.sb=!1;this.Sb()&&TGd(this);this.J=new ZR;this.xa(this.J);this.J.Gd("waffle-dataconnector-query-parameter-prompt-primary-button");this.H=new wJd("text","Name","float","",void 0);this.Ya(this.H);this.H.Gd("waffle-dataconnector-query-parameter-prompt-name-field");this.H.ma=!0;this.F=new wJd("text","Value","float","",void 0);this.Ya(this.F);this.F.Gd("waffle-dataconnector-query-parameter-prompt-value-field");
this.F.ma=!0;b=this.qa();this.L=new kr(N(NIc),Pi(jr,"waffle-dataconnector-query-parameter-prompt-rangepicker"),b);b=this.F;var c=this.L;C(b.Aa);b.Aa=c;b.Sb()&&b.Aa&&b.Aa.render(b.$a("waffle-material-labeledinput-embeddedcontrol"));this.D=null;a&&(this.D=new RP,this.Ya(this.D),this.D.Gd("waffle-dataconnector-query-parameter-prompt-cell-reference-toggle"))}q(xJd,G1);p=xJd.prototype;p.Ke=function(a){this.H.ob(a)};p.ob=function(a){this.F.ob(a)};p.getName=function(){return this.H.eb()};p.eb=function(){return this.F.eb()};
function yJd(a,b){a.D&&(a.D.zc(b),a.iNa())}function zJd(a){return null==a.D||a.D.isChecked()}p.clear=function(){this.H.ob("");this.F.ob("");zU(this.H,!1);zU(this.F,!1);this.D&&this.D.zc(!1)};
p.Ma=function(){G1.prototype.Ma.call(this);hr(this.Ob(),vJd,{jTb:!!this.D});this.H.render(this.$a("waffle-dataconnector-query-parameter-prompt-input-container"));this.F.render(this.$a("waffle-dataconnector-query-parameter-prompt-input-container"));if(this.D){var a=this.$a("waffle-dataconnector-query-parameter-prompt-toggle-label");Ii(this.D,a);aAc(this.D,a)}this.J.render(UGd(this))};
p.Za=function(){var a=this;G1.prototype.Za.call(this);this.Qc=new tq(this.qb(),this.$a("waffle-dataconnector-modal-header"));this.xa(this.Qc);L(this.Rq(),!1);this.getHandler().R(this.J,"action",this.LHa).R(this.L,"action",function(){return a.dispatchEvent("Me")});this.D&&(this.getHandler().R(this.D,"change",this.iNa),aAc(this.D,this.$a("waffle-dataconnector-query-parameter-prompt-toggle-label")));AJd(this)};p.od=ba();
p.LHa=function(){var a=this.H.eb();(a=Kb(a)?"Please enter a parameter name":null)&&zU(this.H,!0,a);a:{var b=this.F.eb();if(Kb(b))b="Please enter a parameter value";else{if(zJd(this)&&(b=ritz_api.DbxApi.parseQueryParameterRange(b).getErrorMessage()))break a;b=null}}b&&zU(this.F,!0,b);a||b||this.dispatchEvent("Le")};p.iNa=function(){AJd(this);this.L.setVisible(zJd(this))};function AJd(a){var b=zJd(a)?"Cell reference":"Value";a.F.setContent(b)}p.A7=function(){this.dispatchEvent("Ne")};p.v7=function(){this.dispatchEvent("Ne")};
p.aHa=function(a){13==a.keyCode&&this.LHa()};function BJd(a){return P('<span class="'+Q("waffle-dataconnector-queryeditor-queryparameterchip-content")+'"><span class="'+Q("waffle-dataconnector-queryeditor-queryparameterchip-name")+'">'+O(a.name)+':</span>&nbsp;<span class="'+Q("waffle-dataconnector-queryeditor-queryparameterchip-value")+'">'+O(a.value)+"</span></span>")};function v2(a,b){M.call(this,b);this.C=new kr(void 0,CJd.getInstance(),this.qa());this.Ya(this.C,!0);this.C.setContent(a);this.D=new kr(N(RHd),DJd.getInstance(),this.qa());this.Ya(this.D,!0)}q(v2,M);v2.prototype.Ma=function(){this.Lb(this.qa().Ma("DIV","waffle-dataconnector-queryeditor-removable-chip"))};
v2.prototype.Za=function(){var a=this;M.prototype.Za.call(this);Oh(this.qb(),"waffle-dataconnector-queryeditor-removable-chip-error",!1);this.getHandler().R(this.C,"action",function(b){b.stopPropagation();a.dispatchEvent("Oe")}).R(this.D,"action",function(b){b.stopPropagation();a.dispatchEvent("Pe")})};v2.prototype.setContent=function(a){this.C.setContent(a)};v2.prototype.setVisible=function(a){var b=this.getElement();b&&L(b,a)};function DJd(){}q(DJd,jr);DJd.prototype.hc=n("waffle-dataconnector-queryeditor-removable-chip-remove-button");
ta(DJd);function CJd(){}q(CJd,jr);CJd.prototype.Ma=function(a){var b=jr.prototype.Ma.call(this,a);a.qa().appendChild(b,N(UHd));a.qa().appendChild(b,a.qa().Ma("DIV","waffle-dataconnector-queryeditor-removable-chip-chip-content"));return b};CJd.prototype.Ob=function(a){return Xd("waffle-dataconnector-queryeditor-removable-chip-chip-content",a)};CJd.prototype.hc=n("waffle-dataconnector-queryeditor-removable-chip-button");ta(CJd);var EJd=new xv;function FJd(a){var b=V(a,3),c=V(a,4);if(b)a:if(c=ritz_api.RitzModelApi.getWorkbookRangeById(b,!1)){if(b=ritz_api.RitzModelApi.getNamedRangeIdForWorkbookRange(b))if(b=ritz_api.RitzModelApi.getNamedRangeById(b)){c=EJd.kd(vz.Ba(),b).getName();break a}c=EJd.kd(Lv.Ba(),c);c=ritz_api.DbxApi.getA1AddressForCoordinate(c.Ib(),c.yc(),c.xc())||"#REF"}else c="#REF";else c?(b=c.Ib(),a=c.Xp(),c=c.getColumnIndex(),c=ritz_api.DbxApi.getA1AddressForCoordinate(b,a,c)||"#REF"):c=V(a,2);return c};function GJd(a,b){v2.call(this,HJd(a),b);this.Hc(a.clone())}q(GJd,v2);GJd.prototype.Hc=function(a){v2.prototype.Hc.call(this,a.clone());this.setContent(HJd(a))};GJd.prototype.tb=function(){return v2.prototype.tb.call(this).clone()};function HJd(a){var b=a.getName().toUpperCase();a=FJd(a);return N(BJd,{name:b,value:a})};function IJd(){return P('<div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget")+'"><div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget-chip-container")+'"></div><div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button-wrapper")+'"></div></div>')}
function JJd(a){var b=P,c='<div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget-header")+'">';var d=P('<svg class="waffle-dataconnector-query-parameters-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M11.5294118,5.01960784 L11.2941176,4.2745098 C10.9411765,3.21568627 10.1176471,1.33333333 7.80392157,0 L1.80392157,1.96078431 L2.11764706,2.90196078 C3.60784314,2.31372549 3.88235294,2.31372549 4.15686275,2.31372549 C5.68627451,2.31372549 6.47058824,3.64705882 7.29411765,5.88235294 L8.58823529,9.45098039 L6.19607843,13.254902 C5.09803922,14.9803922 4.70588235,15.5686275 4.2745098,15.5686275 C3.56862745,15.5686275 4.19607843,13.8039216 2.35294118,13.8039216 C0.784313725,13.8039216 0,14.8235294 0,16.0784314 C0,17.3333333 1.09803922,18.4313725 3.05882353,18.4313725 C5.64705882,18.4313725 7.1372549,16.4705882 8.15686275,14.745098 L9.56862745,12.3137255 L10.7058824,15.254902 C11.254902,16.7058824 12,18.4313725 14.3137255,18.4313725 C16.745098,18.4313725 18.1568627,15.9215686 18.9803922,12.745098 L18.0392157,12.745098 C17.2156863,15.2156863 16.5490196,15.4117647 15.8823529,15.4117647 C15.0980392,15.4117647 14.8627451,14.0392157 14.5882353,13.2941176 L12.6666667,7.88235294 L14.5098039,4.78431373 C15.2156863,3.60784314 15.4509804,3.21568627 16,3.21568627 C16.5490196,3.21568627 16.3921569,4.54901961 17.5686275,4.54901961 C19.8039216,4.54901961 20,2.82352941 20,1.96078431 C20,1.05882353 19.0196078,0 17.1764706,0 C14.9411765,0 13.254902,2.35294118 12.3921569,3.68627451 L11.5294118,5.01960784 Z" id="dataconnector-parameters-icon-path"></path></defs><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon/parameters"><g id="Group" transform="translate(2.000000, 3.000000)"><mask id="dataconnector-parameters-icon-mask-2" fill="white"><use xlink:href="#dataconnector-parameters-icon-path"></use></mask><g id="\ud835\udc99"></g><g id="colors/Black---100" mask="url(#dataconnector-parameters-icon-mask-2)" fill="#000000"><g transform="translate(-2.857143, -4.285714)" id="Shape"><polygon points="0 0 26 0 26 26 0 26"></polygon></g></g></g></g></g></svg>');return b(c+
O(d)+"<div>"+O(a.title)+"</div></div>")};function KJd(a){r2.call(this,N(JJd,{title:"Parameters"}),a);this.F=new M;this.Ya(this.F);this.C=new LJd;this.H=new ZR("Add");this.Ya(this.H);this.H.Gd("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button")}q(KJd,r2);p=KJd.prototype;
p.Ma=function(){r2.prototype.Ma.call(this);this.setContent(N(IJd));this.F.yb(this.$a("waffle-dataconnector-queryeditor-queryparameterwidget-chip-container"));this.H.render(this.$a("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button-wrapper"));for(var a=ha(this.C.xd()),b=a.next();!b.done;b=a.next())b.value.render(this.F.getElement())};p.Za=function(){r2.prototype.Za.call(this);this.getHandler().R(this.F,"Oe",this.cKb).R(this.F,"Pe",this.Yyb).R(this.H,"action",this.Aib)};
function MJd(a){return a.C.xd().map(function(a){return a.tb()})}function NJd(a,b){OJd(b);var c=b.getName();if(a.C.get(c))throw new PJd("Parameter with name '"+c+"' is\nalready defined.");b=new GJd(b,a.qa());a.C.set(c,b);a.F.Ya(b,a.Sb())}p.cKb=function(a){a.stopPropagation();this.dispatchEvent(new QJd("Se",this,a.target.tb()))};p.Yyb=function(a){a.stopPropagation();this.dispatchEvent(new QJd("Re",this,a.target.tb()))};p.Aib=function(a){a.stopPropagation();this.dispatchEvent(new QJd("Qe",this))};
function LJd(){this.Fb={}}p=LJd.prototype;p.get=function(a){return this.Fb["P_"+a.toUpperCase()]||null};p.has=function(a){return!!this.Fb["P_"+a.toUpperCase()]};p.set=function(a,b){this.Fb["P_"+a.toUpperCase()]=b};p.xd=function(){return Object.values(this.Fb)};p.clear=function(){for(var a=Object.keys(this.Fb),b=0;b<a.length;b++)delete this.Fb[a[b]]};
function OJd(a){var b=a.getName();if(!b)throw new RJd("Parameters must have a name");var c=V(a,2),d=V(a,3);a=V(a,4);if(!c&&!d&&!a)throw new RJd("Parameter '"+b+"'has no value set.");}function RJd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(RJd,Error);function PJd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(PJd,Error);
function SJd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(SJd,Error);function QJd(a,b,c){D.call(this,a,b);this.C=c}q(QJd,D);function TJd(a,b,c,d){E.call(this);this.J=new Rh(this);this.xa(this.J);this.H=new Rh(this);this.xa(this.H);this.D=a;this.C=null;this.V=c;this.O=b;this.F=null;this.L=d;this.J.R(this.D,"Qe",this.KEb).R(this.D,"Re",this.LEb).R(this.D,"Se",this.MEb)}q(TJd,E);p=TJd.prototype;p.Xa=function(){this.F&&this.F.xD();this.F=null;C(this.C)};
p.KEb=function(){this.PO();this.C=new xJd(2==this.L);this.C.render();this.C.J.setContent("Add");yJd(this.C,!1);this.C.setVisible(!0);(new Vj(this.D.Ob(),0)).od(this.C.qb(),0);var a=this.C;this.H.R(a,"Le",this.YHb).R(a,"Ne",this.PO).R(a,"Me",this.ARa)};p.MEb=function(a){a=a.C;this.PO();this.C=new xJd(2==this.L);this.C.render();this.C.Ke(a.getName());this.C.ob(FJd(a));yJd(this.C,!mv(a,2));this.C.J.setContent("Update");this.C.setVisible(!0);(new Vj(this.D.Ob(),0)).od(this.C.qb(),0);UJd(this,a)};
p.PO=function(){C(this.C);this.C=null};p.YHb=function(){var a=this.C,b=a.getName().toUpperCase(),c=a.eb();if(this.D.C.has(b))zU(a.H,!0,"There is already a parameter with this name");else if(a=zJd(a),b=VJd(this,b,c,a))NJd(this.D,b),this.PO(),this.dispatchEvent(new WJd("Te",b))};
function UJd(a,b){var c=b.getName();b=a.C;a.H.R(b,"Le",function(){var b=a.C,e=b.getName().toUpperCase(),f=b.eb();if(e==c||!a.D.C.has(e))if(b=zJd(b),e=VJd(a,e,f,b)){f=a.D;OJd(e);b=e.getName();if(!f.C.get(c))throw new SJd;if(b.toUpperCase()!=c.toUpperCase()&&f.C.get(b))throw new PJd;var h=f.C.get(c);h.Hc(e);b!=c&&(delete f.C.Fb["P_"+c.toUpperCase()],f.C.set(b,h));a.PO();a.dispatchEvent(new WJd("Ve",e))}}).R(b,"Ne",a.PO).R(b,"Me",a.ARa)}
p.LEb=function(a){a=a.C;var b=a.getName();this.D.C.has(b);var c=this.D,d=c.C.get(b);if(!d)throw new SJd;c.F.removeChild(d,c.Sb());delete c.C.Fb["P_"+b.toUpperCase()];C(d);this.dispatchEvent(new WJd("Ue",a))};
function VJd(a,b,c,d){d?(c=ritz_api.DbxApi.parseQueryParameterRange(c),c.getErrorMessage()?(b=a.C,a=c.getErrorMessage(),null==a?zU(b.F,!1):zU(b.F,!0,a),b=null):c.getNamedRangeWorkbookRangeId()?(a=c.getNamedRangeWorkbookRangeId(),c=new K1,c.Ke(b),W(c,3,a),b=c):c.getGridRange()?(c=mP(c.getGridRange()),a=new L1,d=c.Ib(),W(a,1,d),d=c.yc(),W(a,2,d),c=c.xc(),W(a,3,c),c=new K1,c.Ke(b),W(c,4,a),b=c):b=void 0):(a=new K1,a.Ke(b),W(a,2,c),b=a);return b}
p.ARa=function(){var a=this;PR(this.V,null,new XJd(this.C),this.C.eb(),!0,!1,!0,function(b){a.O.setVisible(!1);a.C.setVisible(!1);a.F=b;a.J.Sc(b,"hide",a.hLb)})};p.hLb=function(){this.isDisposed()||(this.F=null,this.O.setVisible(!0),this.C.setVisible(!0))};function XJd(a){this.C=a}XJd.prototype.ob=function(a){this.C.ob(a);yJd(this.C,!0)};function WJd(a,b,c){D.call(this,a,c);this.C=b}q(WJd,D);function YJd(){return P('<div class="'+Q("waffle-dataconnector-querypreviewrenderer")+'"><div class="'+Q("waffle-dataconnector-querypreviewrenderer-canvas-wrapper")+'"><div class="'+Q("waffle-dataconnector-querypreviewrenderer-a11y-table")+'" tabIndex="0"></div><div class="'+Q("waffle-dataconnector-querypreviewrenderer-preview-overlay")+'"></div></div></div>')};function w2(a,b){M.call(this,b);this.J=a;this.D=this.qa().Ma("CANVAS");SJ(this.D);this.F=RJ(this.D);this.L=ritz_api.DbxApi.createGridViewModel(101,24);this.C=ritz_api.DbxApi.createGridView(this.L,this.F,this.J.D,this.J.C);TJ(this.D,this.F,800,243);ZJd(this);this.Rc=new xv;this.H=!0}q(w2,M);w2.prototype.Ma=function(){this.Lb(N(YJd));var a=this.$a("waffle-dataconnector-querypreviewrenderer-canvas-wrapper");a.appendChild(this.D);Kh(a,"native-scrollbar");Kh(a,"native-scrollbar-ltr")};
w2.prototype.Za=function(){M.prototype.Za.call(this);L(this.qb(),this.H)};w2.prototype.Xa=function(){M.prototype.Xa.call(this)};w2.prototype.setVisible=function(a){this.H=a;this.Sb()&&L(this.qb(),this.H)};function $Jd(a,b){Oh(a.$a("waffle-dataconnector-querypreviewrenderer-preview-overlay"),"visible",b)}function aKd(a,b,c){a.D.style.width=b;a.D.style.height=c;TJ(a.D,a.F,b,c);pi(a.$a("waffle-dataconnector-querypreviewrenderer-preview-overlay"),new Nd(b,c));ZJd(a)}
function ZJd(a){a.F.fillStyle="#f3f3f3";a.F.fillRect(0,0,a.D.width,a.D.height)}function bKd(a,b){var c=a.qa().Ma("TR");b=ha(b);for(var d=b.next();!d.done;d=b.next())d=d.value,c.appendChild(a.qa().Ma("TH",{scope:"col"},d));return c}function cKd(a,b){var c=a.qa().Ma("TR");b=tv(b,1);b=ha(b);for(var d=b.next();!d.done;d=b.next())d=d.value,c.appendChild(a.qa().Ma("TH",{scope:"col"},ritz_api.RitzModelApi.renderFormattedValueProtoAsString(a.Rc.serialize(d))));return c};function dKd(a){M.call(this,a);this.C=null}q(dKd,M);p=dKd.prototype;p.Xa=function(){M.prototype.Xa.call(this);this.C=null};p.Ma=function(){this.Lb(this.qa().Ma("DIV",{tabIndex:0,"class":"waffle-dataconnector-queryeditor-sidebaraccordion"}))};p.Za=function(){M.prototype.Za.call(this);this.getHandler().R(this,"open",this.ulb).R(this.qb(),"keyup",this.dKb)};p.Ya=function(a,b){M.prototype.Ya.call(this,a,b)};p.Wf=function(a,b,c){M.prototype.Wf.call(this,a,b,c)};
p.ulb=function(a){a.target instanceof r2&&this.C!=a.target&&(this.C&&this.C.Md(!1),this.C=a.target)};p.dKb=function(a){13==a.keyCode&&a.target==this.qb()&&(a=this.Xc(0))&&a.focus()};function eKd(){A.call(this);this.C=Xz("win")}q(eKd,A);function fKd(a,b){a.C.dataConnectorOnCompleteAuth=b;b=(new Cl(a.C.location.href)).resolve(new Cl("dbx/ssoLogin")).toString();var c=Zd();(a=Kp(b,{target:"google_popup",width:500,height:500,top:Math.floor((c.height-500)/2),left:Math.floor((c.width-500)/2),toolbar:!1,menubar:!1,location:!1,statusbar:!1},a.C))&&a.focus()}eKd.prototype.Xa=function(){delete this.C.dataConnectorOnCompleteAuth;A.prototype.Xa.call(this)};var gKd=new it(1);function hKd(a,b){var c=V(a,3);return b?V(a,4)?"Query returns: more than "+(gKd.format(c)+(" rows of data. Please revise your query to return no more than "+(gKd.format(1E4)+" rows."))):"Query returns: "+(gKd.format(c)+(" rows of data. Please revise your query to return no more than "+(gKd.format(1E4)+" rows."))):(new kt("{TOTAL_ROWS,plural, =0{Query returns no results.}=1{Query returns: 1 row of data.}other{Query returns: # rows of data.}}")).format({TOTAL_ROWS:c})};function x2(a,b,c,d,e,f,h){G1.call(this,"waffle-dataconnector-newqueryeditor",h);this.Wb=a;this.mc=b;this.Gc=c;this.H=new ZR("View results");this.H.Gd("waffle-dataconnector-newqueryeditor-preview-query-button");this.Ya(this.H);this.Aa=new uU("Insert results");this.Aa.Gd("waffle-dataconnector-newqueryeditor-execute-query-button");this.Ya(this.Aa);this.D=new kJd(void 0,this.qa());this.Ya(this.D);this.L=new dKd;this.Ya(this.L);this.rb=new KJd(this.qa());this.L.Ya(this.rb,!0);this.Qb=new TJd(this.rb,
this,e,this.H_());this.xa(this.Qb);this.ib=d;this.Ya(this.ib);this.F=new rJd(this.qa());this.Ya(this.F);this.J=new $Id("horizontal",this.qa());this.xa(this.J);this.Kb=this.Ra=!1;this.Cb=null;this.Nb=f||new eKd;this.xa(this.Nb);this.ma=null}q(x2,G1);
function iKd(a,b){a.D.mb(!1);b.then(function(b){if(b){for(var c=tv(b,3),e=a.rb,f=ha(e.C.xd()),h=f.next();!h.done;h=f.next())h=h.value,e.F.removeChild(h,e.Sb()),C(h);e.C.clear();c=ha(c);for(f=c.next();!f.done;f=c.next())NJd(e,f.value)}a.a9(b);a.E9()},function(){a.a9(null);a.E9()})}function jKd(a){var b=a.nja(),c;if(c=b){a=ha(MJd(a.rb));for(c=a.next();!c.done;c=a.next())rv(b,3,c.value);c=b}return c}p=x2.prototype;p.LNa=function(){this.Ra=!0;u2(this.F);kKd(this,od("Executing query"));y2(this)};
p.HNa=function(a,b){this.Ra=!1;this.Cb=b;this.Kb=lKd(a);mKd(this,a);b=this.ib;a=V(a,2);var c=b.Rc.serialize(a);ritz_api.DbxApi.setQueryResult(b.C,c);c=ritz_api.DbxApi.getWidth(b.C);var d=ritz_api.DbxApi.getHeight(b.C),e=ritz_api.GridViewApi.getHeaderDepth(b.C,"COLUMNS"),f=ritz_api.GridViewApi.getHeaderDepth(b.C,"ROWS");aKd(b,c+f,d+e);ritz_api.GridViewApi.renderOriginView(b.C,0,0);ritz_api.GridViewApi.renderHeaderView(b.C,"ROWS",0,d,0,e,null,null);ritz_api.GridViewApi.renderHeaderView(b.C,"COLUMNS",
0,c,f,0,null,null);ritz_api.GridViewApi.renderGridView(b.C,0,0,c,d,f,e,null,null);$Jd(b,!1);c=b.qa().Ma("TABLE");d=b.qa().Ma("THEAD",void 0,bKd(b,tv(a,1)));e=b.qa().Ma("TBODY");a=tv(a,2);a=ha(a);for(f=a.next();!f.done;f=a.next())e.appendChild(cKd(b,f.value));c.appendChild(d);c.appendChild(e);a=b.Hb("waffle-dataconnector-querypreviewrenderer-a11y-table");b.qa().Dd(a);c&&b.qa().appendChild(a,c);nKd(this);y2(this)};function nKd(a){var b=Math.min(vi(a.ib.D).height+16,240);oKd(a,b)}
p.GNa=function(a){a=a.Hj();kKd(this,od("Executing query"),V(a,5))};p.FNa=function(a){this.Ra=!1;u2(this.F);pKd(this,a);y2(this)};function pKd(a,b){b=b.Hj();10==V(b,2)?qKd(a):(b=bJd(a.H_(),b),sJd(a.F,b))}p.Goa=function(){this.Ra=!0;u2(this.F);kKd(this,od("Updating workbook"));y2(this)};p.Eoa=function(a){this.Ra=!1;u2(this.F);pKd(this,a);y2(this)};p.Ma=function(){G1.prototype.Ma.call(this);hr(this.Ob(),tJd);var a=UGd(this);hr(a,uJd);this.L.render(this.$a("waffle-dataconnector-newqueryeditor-sidebar"))};
p.Za=function(){var a=this;G1.prototype.Za.call(this);this.D.render(this.$a("waffle-dataconnector-newqueryeditor-editor-pane"));this.Aa.render(this.$a("waffle-dataconnector-newqueryeditor-insert-button-wrapper"));this.H.render(this.$a("waffle-dataconnector-newqueryeditor-preview-button-wrapper"));this.F.render(this.$a("waffle-dataconnector-newqueryeditor-message-wrapper"));this.ib.render(this.$a("waffle-dataconnector-newqueryeditor-preview-pane"));this.J.yb(this.$a("waffle-dataconnector-newqueryeditor-preview-resize-bar"));
this.getHandler().R(this.J,["Ge","He"],this.Lxb).R(this.H,"action",this.oOb).R(this.Aa,"action",this.Kcb).R(this.Qb,["Te","Ue","Ve"],this.uMb).R(this.D,"Ke",this.E9).R(this.J,"key",this.Kxb);Wi(function(){if(!a.isDisposed()){var b=a.ib;ritz_api.DbxApi.renderBlankPreview(b.C);var c=ritz_api.DbxApi.getWidth(b.C),d=ritz_api.DbxApi.getHeight(b.C),e=ritz_api.GridViewApi.getHeaderDepth(b.C,"COLUMNS"),f=ritz_api.GridViewApi.getHeaderDepth(b.C,"ROWS");aKd(b,c+f,d+e);ritz_api.GridViewApi.renderOriginView(b.C,
0,0);ritz_api.GridViewApi.renderHeaderView(b.C,"ROWS",0,d,0,e,null,null);ritz_api.GridViewApi.renderHeaderView(b.C,"COLUMNS",0,c,f,0,null,null);ritz_api.GridViewApi.renderGridView(b.C,0,0,c,d,f,e,null,null);$Jd(b,!1)}});oKd(this,0);y2(this)};p.Xa=function(){G1.prototype.Xa.call(this);C(this.ma);this.ma=null};p.E9=function(){y2(this)};p.setVisible=function(a){G1.prototype.setVisible.call(this,a);a&&rKd(this)};function rKd(a){a.L.mf(function(a){a.refresh()})}
function oKd(a,b){var c=void 0===c?!0:c;C(a.ma);a.ma=null;c?(c=sKd(a),a.ma=new tKd(c,b,200,a),a.xa(a.ma),a.ma.play()):uKd(a,b)}function sKd(a){return a.Sb()?vi(a.$a("waffle-dataconnector-newqueryeditor-preview-pane")).height:0}
function uKd(a,b){var c=a.$a("waffle-dataconnector-newqueryeditor-main");b=vi(c).height-a.J.Zc()-b;a=a.J;uq(a.Qc,aJd(a));a.C="vertical"==a.D?NCa(a.Qc,b):OCa(a.Qc,b);c=ha("vertical"==a.D?[a.C,0]:[0,a.C]);b=c.next().value;c=c.next().value;OC(a.qb(),b,c,a.we());a.dispatchEvent("Ge")}p.uMb=function(a){if("Te"==a.type){a=a.C.getName().toUpperCase();a=2==this.H_()?"${"+a+"}":"@"+a;var b=oJd(this.D);gba(b,a)||(/[^\s"']$/.test(b)&&(a=" "+a),pJd(this.D,b+a))}y2(this)};
function y2(a){var b=jKd(a);a.Ra||null==b?(a.Aa.mb(!1),a.H.mb(!1)):(a.H.mb(!0),a.Aa.mb(!0),b=a.Cb&&a.Cb.equals(b),$Jd(a.ib,!b),b?(a.H.setContent(N(SHd)),xk(a.H,"Refresh results")):(a.H.setContent("View results"),xk(a.H,"View results")))}p.oOb=function(){VA.dc(vKd(this))};p.Kcb=function(){var a=jKd(this);this.mc.dc(this.Gc(a))};function vKd(a){var b=new T1;W(b,1,a.Wb);a=jKd(a);W(b,2,a);W(b,3,30);return b}
function mKd(a,b){var c=0;a.F.C.D||(kKd(a,od("Executing query"),100),c=1500);Wi(function(){if(!a.isDisposed()){u2(a.F);var c=od(hKd(b,a.Kb));if(lKd(b))sJd(a.F,c);else{var e=a.F,f=e.$a("waffle-dataconnector-dialog-info-message");u2(e);wd(f,c||od(""));L(f,!!c)}}},c)}function kKd(a,b,c){a=a.F;wd(a.$a("waffle-dataconnector-dialog-progress-label"),b);null!=c&&wId(a.C,c);L(a.$a("waffle-dataconnector-dialog-progress-message"),!0)}
function qKd(a){var b="waffle-dataconnector-ssologin-"+ac(),c=hJd(b);sJd(a.F,c);(b=Td(b))&&a.getHandler().R(b,"click",function(){return wKd(a)})}p.Lxb=function(){var a=this.$a("waffle-dataconnector-newqueryeditor-editor-pane");ui(a,this.J.C);var b=this.$a("waffle-dataconnector-newqueryeditor-main");a=this.$a("waffle-dataconnector-newqueryeditor-preview-pane");b=vi(b).height-this.J.C-this.J.Zc();ui(a,b)};p.Kxb=function(a){13==a.keyCode&&(0==sKd(this)?nKd(this):oKd(this,0));a.stopPropagation()};
function wKd(a){fKd(a.Nb,function(){VA.dc(vKd(a))})}function tKd(a,b,c,d){Us.call(this,[a],[b],c);this.F=d}q(tKd,Us);tKd.prototype.N_=function(){uKd(this.F,this.coords[0])};tKd.prototype.wS=function(){uKd(this.F,this.xP[0])};function lKd(a){return 1E4<V(a,3)||!!V(a,4)};function xKd(a,b,c){b=c||b;a='<div class="'+Q("waffle-dataconnector-pill")+'"><div class="'+Q("waffle-dataconnector-pill-timestamp")+'"></div><div class="'+Q("waffle-dataconnector-pill-progress")+'"><div class="'+Q("waffle-dataconnector-pill-spinner")+'"></div><span class="'+Q("waffle-dataconnector-pill-progress-message")+'">';a=a+"Running query..."+(' </span><span class="'+Q("waffle-dataconnector-pill-progress-timer")+'"></span></div><div class="'+Q("waffle-dataconnector-pill-error")+'">'+O(THd(null,
b)));a=a+"Execution error"+('</div><div class="'+Q("waffle-dataconnector-pill-editquery-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-pill-refresh-button-wrapper")+'"></div></div>');return P(a)};function yKd(a,b,c,d,e){M.call(this,e);this.J=a;this.$=b;this.V=c;this.L=d;this.O=new zKd;this.C=new Vi(100);this.xa(this.C);this.H=new qj;this.xa(this.H);this.D=new YR;this.Ya(this.D);this.D.Gd("waffle-dataconnector-pill-editquery-button");wj(this.H,this.D,p7a,yj);this.F=new YR;this.F.Gd("waffle-dataconnector-pill-refresh-button");this.Ya(this.F);wj(this.H,this.F,v7a,yj)}q(yKd,M);yKd.prototype.Ma=function(){this.Lb(N(xKd))};
yKd.prototype.Za=function(){M.prototype.Za.call(this);this.D.render(this.$a("waffle-dataconnector-pill-editquery-button-wrapper"));this.F.render(this.$a("waffle-dataconnector-pill-refresh-button-wrapper"));this.refresh();this.od()};yKd.prototype.od=function(){this.V.od(this.qb(),1,new Uh(0,0,12,23))};
yKd.prototype.refresh=function(){var a=VId(this.L,this.J);if(a){var b=q7a.isEnabled(),c=a.getState();switch(c){case 4:case 1:L(this.$a("waffle-dataconnector-pill-timestamp"),!1);L(this.$a("waffle-dataconnector-pill-progress"),!0);L(this.$a("waffle-dataconnector-pill-error"),!1);mv(a,7)&&AKd(this,V(a,7));this.D.setVisible(!1);this.F.setVisible(!1);break;case 2:L(this.$a("waffle-dataconnector-pill-timestamp"),!0);L(this.$a("waffle-dataconnector-pill-progress"),!1);L(this.$a("waffle-dataconnector-pill-error"),
!1);this.C.stop();this.C.RC();BKd(this);this.D.setVisible(!1);this.F.setVisible(b);break;case 3:L(this.$a("waffle-dataconnector-pill-timestamp"),!1);L(this.$a("waffle-dataconnector-pill-progress"),!1);L(this.$a("waffle-dataconnector-pill-error"),!0);this.C.stop();this.C.RC();this.D.setVisible(b);this.F.setVisible(!1);b||(L(this.$a("waffle-dataconnector-pill-timestamp"),!0),L(this.$a("waffle-dataconnector-pill-error"),!1),BKd(this));break;default:Ekc("Unrecognized execution state: "+c)}}};
function BKd(a){var b=ritz_api.DbxApi.getLastExecutionTimeForSheet(a.$.toString());0>=b||(b="Updated at "+a.O.format(b),a=a.$a("waffle-dataconnector-pill-timestamp"),we(a,b))}function AKd(a,b){if(!a.C.enabled){var c=(Fa()-b)/1E3,d=a.$a("waffle-dataconnector-pill-progress-timer");we(d,c.toFixed(1)+"s");a.C.R("tick",function(){c+=.1;we(d,c.toFixed(1)+"s")});a.C.start()}}function zKd(){this.C=new ct(1);this.D=new ct(ft.MONTH_DAY_MEDIUM);this.F=new ct(7)}
zKd.prototype.format=function(a){a=new Date(a);var b=new Date,c;0<b.getFullYear()-a.getFullYear()?c=this.C.format(a):a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()?c="Today":c=this.D.format(a);a=this.F.format(a);return c+(", "+a)};function CKd(a,b,c,d,e){A.call(this);this.D=a;this.F=b;this.J=c;this.L=d;this.H=e;this.cb=new Rh(this);this.xa(this.cb);this.C=null;this.cb.R(this.J,"T",this.WJb).R(this.D,"qb",this.XJb).R(this.D,"rb",this.YJb).R(this.L,"db-execution-status-updated",this.VJb)}q(CKd,A);p=CKd.prototype;p.Xa=function(){A.prototype.Xa.call(this);C(this.C)};p.refresh=function(){DKd(this)};p.WJb=function(){this.C&&this.C.od()};p.XJb=function(){DKd(this)};p.YJb=function(){C(this.C);this.C=null};
function DKd(a){var b=a.D.C.C;if(b&&null!=b.F)if(a.C)a.C.refresh();else if(b=rE(a.F)){b=new Vj(b.Wa.J,1);var c=a.D.C.C,d=V(c.F,1);c=c.Ib();a.C=new yKd(d,c,b,a.H);a.C.render()}}p.VJb=function(a){a.D&&0!=a.D.length&&this.C&&cb(a.D,this.C.J)&&this.C.refresh()};function EKd(a,b,c,d){A.call(this);this.$=a;this.ma=b;this.Aa=c;this.O=this.J=this.L=null;this.D=d||null;this.C=3;this.V=new FKd;this.F=this.H=null}q(EKd,A);p=EKd.prototype;p.getId=function(){return Ba(this)};p.Xa=function(){this.stop();A.prototype.Xa.call(this)};p.start=function(){this.C=2;this.F=this.H=null;this.oBa(this.$)};p.stop=function(){2==this.C&&(this.C=3,this.V.stop())};function GKd(a,b){a.L=b;return a}function HKd(a,b){a.J=b;return a}function IKd(a,b){a.O=b;return a}
p.oBa=function(a){var b=this;this.ma.call(this.D,a).then(function(a){if(2==b.C){b.H=a;b.F=null;var c=b.Aa.call(b.D,a);if(c){b.O&&b.O.call(b.D,a);a:{a=b.V;c=v(b.oBa,b,c);if(10>a.F){a.F++;var e=1E3}else if(60>a.D)a.D++,e=5E3;else{a=!1;break a}e+=Math.round(.2*e*(Math.random()-.5)*2);a.C=Wi(c,e);a=!0}a||JKd(b,Error("Polling timed out"))}else b.stop(),b.C=4,b.H=a,b.F=null,b.L&&b.L.call(b.D,a)}},function(a){2==b.C&&JKd(b,a)})};function JKd(a,b){a.stop();a.C=1;a.H=null;a.F=b;a.J&&a.J.call(a.D,b)}
p.getStatus=g("C");p.dK=g("F");function FKd(){this.D=this.F=0;this.C=null}FKd.prototype.stop=function(){this.D=this.F=0;Zi(this.C);this.C=null};function KKd(a){this.C=a}function LKd(a,b){var c=V(b,2);return new EKd(b,function(b){return dId(a.C,b)},function(a){if(1==a.Hj().getState()){var b=new T1;W(b,2,c);b.setToken(a.Hj().getToken());return b}return null})};function MKd(){return P('<div class="'+Q("waffle-dataconnector-queryeditor-content")+'"><div class="'+Q("waffle-dataconnector-queryeditor-editor-pane")+'"></div><div class="'+Q("waffle-dataconnector-queryeditor-preview-pane")+'"><div class="'+Q("waffle-dataconnector-queryeditor-preview-canvas-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-queryeditor-preview-overlay")+'"><div class="'+Q("waffle-dataconnector-queryeditor-preview-overlay-text")+'"></div></div></div></div>')};function NKd(a,b,c,d,e,f,h,k){p2.call(this,f,h);var l=this;zq(this,"Query editor");zId(this);this.Gc=a;this.C=b;this.Ya(this.C);this.Ra=c;this.Yc=d;this.Jb=e;this.J=this.qa().Ma("CANVAS");SJ(this.J);this.Aa=RJ(this.J);this.Cb=ritz_api.DbxApi.createGridViewModel(101,24);this.F=ritz_api.DbxApi.createGridView(this.Cb,this.Aa,this.Jb.D,this.Jb.C);TJ(this.J,this.Aa,800,243);OKd(this);xId(this,this.Ra,function(){return l.Yc(PKd(l.C))});yId(this);this.Rc=new xv;this.O=null;this.ib=!1;this.Gb=k||new eKd;
this.xa(this.Gb);this.ma=!1;this.mc=new QKd(this);this.xa(this.mc)}q(NKd,p2);p=NKd.prototype;p.Ma=function(){p2.prototype.Ma.call(this);hr(this.Ob(),MKd)};
p.Za=function(){var a=this;p2.prototype.Za.call(this);this.C.render(this.$a("waffle-dataconnector-queryeditor-editor-pane"));wj(this.ub,this.C.L,VA,yj,function(){return RKd(a)});this.getHandler().R(this.C,"We",this.Rra);var b=this.$a("waffle-dataconnector-queryeditor-preview-canvas-wrapper");b.appendChild(this.J);Kh(b,"native-scrollbar");Kh(b,"native-scrollbar-ltr");SKd(this,!1);q2(this);this.Rra();TKd(this.C,"Only users with edit access can view and edit the query")};
p.Xa=function(){p2.prototype.Xa.call(this);delete this.Cb;delete this.F};p.LNa=function(){this.ma=!0;L(this.$a("waffle-dataconnector-queryeditor-preview-overlay-text"),!1);q2(this);CId(this,"Executing query");UKd(this)};
p.HNa=function(a,b){this.ma=!1;this.O=b;this.ib=VKd(a);WKd(this,a);a=V(a,2);a=this.Rc.serialize(a);ritz_api.DbxApi.setQueryResult(this.F,a);a=ritz_api.DbxApi.getWidth(this.F);b=ritz_api.DbxApi.getHeight(this.F);var c=ritz_api.GridViewApi.getHeaderDepth(this.F,"COLUMNS"),d=ritz_api.GridViewApi.getHeaderDepth(this.F,"ROWS"),e=a+d,f=b+c;this.J.style.width=e;this.J.style.height=f;TJ(this.J,this.Aa,e,f);OKd(this);ritz_api.GridViewApi.renderOriginView(this.F,0,0);ritz_api.GridViewApi.renderHeaderView(this.F,
"ROWS",0,b,0,c,null,null);ritz_api.GridViewApi.renderHeaderView(this.F,"COLUMNS",0,a,d,0,null,null);ritz_api.GridViewApi.renderGridView(this.F,0,0,a,b,d,c,null,null);XKd(this,!1);UKd(this);TKd(this.C,"All users with view access can view query results in the workbook.");SKd(this,!0)};function WKd(a,b){var c=0;a.L.D||(CId(a,"Executing query",100),c=1500);Wi(function(){if(!a.isDisposed()){q2(a);YKd(a);var c=od(hKd(b,a.ib));VKd(b)?AId(a,c):BId(a,c)}},c)}
p.GNa=function(a){a=a.Hj();CId(this,"Executing query",V(a,5))};p.FNa=function(a){this.ma=!1;q2(this);ZKd(this,a);this.Rra()};function $Kd(a){var b="waffle-dataconnector-ssologin-"+ac(),c=hJd(b);AId(a,c);(b=Td(b))&&a.getHandler().R(b,"click",function(){return aLd(a)})}function aLd(a){fKd(a.Gb,function(){VA.dc(RKd(a))})}
function YKd(a){var b=PKd(a.C);if(b&&a.O&&!b.equals(a.O)){b=new Ip;var c="This preview is out of date."+(b.Ce("br")+"Please re-run your query.");b=b.format(c);XKd(a,!0);wd(a.$a("waffle-dataconnector-queryeditor-preview-overlay-text"),b);L(a.$a("waffle-dataconnector-queryeditor-preview-overlay-text"),!0)}else XKd(a,!1)}p.Rra=function(){YKd(this);UKd(this)};
function UKd(a){var b=PKd(a.C);if(a.ma||null==b)a.Ra.mb(!1),VA.mb(!1);else{VA.mb(!0);var c=!!a.O;b=!!a.O&&a.O.equals(b);var d=!!a.ib;a.Ra.mb(!c||b&&!d)}}function XKd(a,b){Oh(a.$a("waffle-dataconnector-queryeditor-preview-pane"),"waffle-dataconnector-queryeditor-preview-inactive",b)}p.Goa=function(){this.ma=!0;q2(this);CId(this,"Updating workbook");UKd(this)};p.Eoa=function(a){this.ma=!1;q2(this);ZKd(this,a);UKd(this)};function ZKd(a,b){b=b.Hj();10==V(b,2)?$Kd(a):AId(a,bJd(2,b))}
function RKd(a){var b=new T1;W(b,1,a.Gc);a=PKd(a.C);W(b,2,a);W(b,3,30);return b}function OKd(a){a.Aa.fillStyle="#f3f3f3";a.Aa.fillRect(0,0,a.J.width,a.J.height)}function SKd(a,b){b!=yi(a.$a("waffle-dataconnector-queryeditor-preview-pane"))&&(b?a.mc.play():L(a.$a("waffle-dataconnector-queryeditor-preview-pane"),!1))}function VKd(a){return 1E4<V(a,3)||!!V(a,4)}function bLd(a){M.apply(this,arguments)}q(bLd,M);
function TKd(a,b){var c=I(H(),"docs-idu");c&&(b+=" ");var d=a.$a("waffle-dataconnector-queryeditor-sharing-message");je(d);b=a.qa().Ma("SPAN",void 0,b);d.appendChild(b);c&&(a=a.qa().Ma("A",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/sharing",target:"_blank"},"Learn more"),d.appendChild(a))}function QKd(a){Us.call(this,[0],[1],350);this.F=a}q(QKd,Us);QKd.prototype.xS=function(){var a=this.F.$a("waffle-dataconnector-queryeditor-preview-pane");L(a,!0);ui(a,0)};
QKd.prototype.N_=function(){var a=this.fk,b=this.F.$a("waffle-dataconnector-queryeditor-preview-pane");ui(b,243*a);this.F.od()};function cLd(){var a='<div class="'+Q("waffle-dataconnector-bigquery-query-settings-widget")+'"><div class="'+Q("waffle-dataconnector-bigquery-query-settings-widget-project-section")+'"><div class="'+Q("waffle-dataconnector-bigquery-query-settings-widget-project-section-header")+'">';return P(a+"Billing project</div></div></div>")};function dLd(a,b,c){b=c||b;a='<div class="'+Q("waffle-dataconnector-queryeditor-query-settings-header")+'">'+O(qs({icon:pr("docs-icon-img docs-icon-settings")},b))+'<span class="'+Q("waffle-dataconnector-queryeditor-query-settings-title")+'">';return P(a+"Query settings</span></div>")};function eLd(a,b){r2.call(this,N(dLd),b);this.F=a.C;this.H=a.D;this.C=new NT;xk(this.C,"Billing project");this.Ya(this.C)}q(eLd,r2);function fLd(a){a=a.C.Te();return null==a?null:a.eb()}
eLd.prototype.Ma=function(){r2.prototype.Ma.call(this);this.setContent(N(cLd));var a=this.$a("waffle-dataconnector-bigquery-query-settings-widget-project-section");this.C.render(a);if(0==this.F.length){var b=this.qa();b.appendChild(a,b.Ma("DIV","waffle-dataconnector-bigquery-query-settings-widget-alert",N(THd),"No billing projects"));b.appendChild(a,b.Ma("DIV","waffle-dataconnector-bigquery-query-settings-widget-alert-description","Configure a project in the Google Cloud Platform console to continue"))}};
eLd.prototype.Za=function(){var a=this;r2.prototype.Za.call(this);this.getHandler().R(this.C,"change",function(b){b.stopPropagation();a.dispatchEvent("Xe")});gLd(this,this.F,this.H);this.Md(!0);this.C.hp();this.Md(!1)};function gLd(a,b,c){if(0==b.length)a.C.mb(!1),a.C.setVisible(!1);else{for(var d=null,e=0;e<b.length;e++){var f=b[e];a.C.Ad(new Kk(f.getName(),f));null!=c&&f.getId()==c&&(d=e)}null!==d?a.C.Ve(d):Nr(a.C,null)}};function hLd(a){this.Dc=a}hLd.prototype.getType=g("Dc");function iLd(a){this.Dc="cloud-project";this.C=a}q(iLd,hLd);iLd.prototype.wn=g("C");function jLd(a,b){this.Dc="bigquery-dataset";this.C=b;this.D=a}q(jLd,hLd);jLd.prototype.wn=g("C");function kLd(a,b,c){this.Dc="bigquery-table";this.C=c;this.D=b;this.F=a}q(kLd,hLd);kLd.prototype.wn=g("C");function lLd(a){this.Dc="jdbc-table";this.C=a}q(lLd,hLd);function mLd(){this.Dc="column"}q(mLd,hLd);function z2(a,b,c,d){c=void 0===c?!1:c;M.call(this,d);this.Hc(b);this.nextSibling=this.previousSibling=this.parentNode=null;this.F=(this.D=c)?2:0;this.H=this.C=!1;this.wC=new nLd(a,this.qa());this.xa(this.wC);this.D&&this.wC.Gd("waffle-dataconnector-dbschematreenode-control-leaf")}q(z2,M);p=z2.prototype;
p.Ma=function(){Xja(this.qa());var a=this.qa().Ma("DIV","waffle-dataconnector-dbschematreenode-child-container");Ch(a,"group");a=this.qa().Ma("DIV",{"class":"waffle-dataconnector-dbschematreenode",id:this.getId()},this.qa().Ma("DIV","control-container"),a);Ch(a,"treeitem");this.Lb(a);this.wC.render(this.$a("control-container"))};p.Ob=function(){return this.Hb("waffle-dataconnector-dbschematreenode-child-container")};
p.Za=function(){M.prototype.Za.call(this);oLd(this,!1);this.getHandler().R(this.wC,"action",this.zmb)};p.getTitle=function(){return this.wC.getContent()};p.zmb=function(){this.Md(!this.C);this.wc(!0)};p.Md=function(a){if(!this.D&&a!=this.C){var b=Hi(64,a);this.dispatchEvent(b)&&oLd(this,a)}};function pLd(a){var b=a.ad();if(!a.C||0==b)return a;a=a.Xc(b-1);return pLd(a)}
function qLd(a,b){b=void 0===b?!1:b;var c=a.Xc(0);return!b&&a.C&&c?c:a.nextSibling?a.nextSibling:a.parentNode?qLd(a.parentNode,!0):null}function oLd(a,b){a.C=b;a.Sb()&&(L(a.Ob(),b),a.wC.Md(b))}p.wc=function(a){if(a!=this.H){var b=Hi(8,a);this.dispatchEvent(b)&&(this.H=a,this.wC.wc(a))}};function rLd(a,b){a.F=b;b=a.wC;a=1==a.F;b.$j("waffle-dataconnector-dbschematreenode-control-loading",a);PT(b.C,a)}p.ev=g("F");p.Hc=function(a){M.prototype.Hc.call(this,a)};p.tb=function(){return M.prototype.tb.call(this)};
p.qd=function(a){return M.prototype.qd.call(this,a)};p.Xc=function(a){return M.prototype.Xc.call(this,a)};p.Ya=function(a,b){if(this.D)throw Error("Can't add child to leaf node");M.prototype.Ya.call(this,a,b)};function sLd(a){a.parentNode=null;var b=a.previousSibling,c=a.nextSibling;a.previousSibling=null;a.nextSibling=null;b&&(b.nextSibling=c);c&&(c.previousSibling=b)}
p.Wf=function(a,b,c){if(this.D)throw Error("Can't add child to leaf node");var d=this.Xc(b-1),e=this.Xc(b);a.parentNode=this;a.nextSibling=e;if(a.previousSibling=d)d.nextSibling=a;e&&(e.previousSibling=a);M.prototype.Wf.call(this,a,b,c)};p.removeChild=function(a,b){sLd(a);return M.prototype.removeChild.call(this,a,b)};p.Dd=function(){return M.prototype.Dd.call(this,!0)};p.Kn=function(a){return M.prototype.Kn.call(this,a,!0)};
function nLd(a,b){rk.call(this,a,tLd.getInstance(),b);this.We(32,!1);this.We(64,!0);this.We(8,!0);rj(this,64,!1);this.C=new OT}q(nLd,rk);nLd.prototype.Za=function(){rk.prototype.Za.call(this);this.C.render(this.$a("waffle-dataconnector-dbschematreenode-control-icon"))};function tLd(){}q(tLd,Oi);
tLd.prototype.Ma=function(a){var b=a.qa().Ma("DIV","waffle-dataconnector-dbschematreenode-control-label",a.getContent()),c=a.qa().Ma("DIV","waffle-dataconnector-dbschematreenode-control-icon");c=a.qa().Ma("DIV",{"class":this.Sm(a).join(" "),id:a.getId()},c,b);a=a.getContent();pj(b,a,void 0);return c};tLd.prototype.Ob=function(a){return Xd("waffle-dataconnector-dbschematreenode-control-label",a)};tLd.prototype.hc=n("waffle-dataconnector-dbschematreenode-control");ta(tLd);function uLd(a){M.call(this,a);this.C=new vLd(this.qa());this.Ya(this.C,!0);this.D=null;this.getHandler().R(this.C,"open",this.uvb).R(this.C,"select",this.vvb)}q(uLd,M);p=uLd.prototype;p.Ma=function(){this.Lb(this.qa().Ma("DIV","waffle-dataconnector-schema-menu"))};p.Za=function(){M.prototype.Za.call(this);this.getHandler().R(this.C.qb(),"keydown",this.Lsb).R(this.C.qb(),"focus",this.DDb)};p.uvb=function(a){var b=a.target;2!=b.ev()&&a.preventDefault();0==b.ev()&&wLd(this,b).then(function(a){a.Md(!0)})};
p.vvb=function(a){a=a.target;this.D&&this.D.wc(!1);this.D=a;Fh(this.C.qb(),a.wC.qb())};function wLd(a,b){a=a.H(b).then(function(a){return xLd(b,a)},function(){return rLd(b,0)});rLd(b,1);return a}function yLd(a){var b=[];a.C.mf(function(a){b.push(a)});return b}function xLd(a,b){if(a.isDisposed())return Db(b),uf();b.forEach(function(b){a.Ya(b,!0)});rLd(a,2);return tf(a)}
p.Lsb=function(a){switch(a.keyCode){case 36:zLd(this);break;case 35:(a=this.C.Xc(this.C.ad()-1))&&pLd(a).wc(!0);break;case 13:a=this.D;a.Md(!a.C);break;case 37:a=this.D;a.C?a.Md(!1):(a=a.parentNode)&&a.wc(!0);break;case 39:ALd(this);break;case 38:a=this.D;(a=a.previousSibling?pLd(a.previousSibling):a.parentNode)&&a.wc(!0);break;case 40:(a=qLd(this.D))&&a.wc(!0)}};function zLd(a){(a=a.C.Xc(0))&&a.wc(!0)}
function ALd(a){function b(a){a.Md(!0);(a=a.Xc(0))&&a.wc(!0)}var c=a.D;switch(c.ev()){case 2:b(c);break;case 0:wLd(a,c).then(function(a){b(a)})}}p.DDb=function(){this.D||zLd(this)};function vLd(a){M.apply(this,arguments)}q(vLd,M);p=vLd.prototype;p.Ma=function(){var a=this.qa().Ma("DIV",{"class":"waffle-dataconnector-schema-menu-tree-container",tabIndex:0});Ch(a,"tree");this.Lb(a)};p.qd=function(a){return M.prototype.qd.call(this,a)};p.Xc=function(a){return M.prototype.Xc.call(this,a)};
p.Wf=function(a,b,c){var d=this.Xc(b-1),e=this.Xc(b);a.parentNode=null;a.nextSibling=e;if(a.previousSibling=d)d.nextSibling=a;e&&(e.previousSibling=a);M.prototype.Wf.call(this,a,b,c)};p.removeChild=function(a,b){sLd(a);return M.prototype.removeChild.call(this,a,b)};function BLd(a,b){uLd.call(this,b);this.F=a}q(BLd,uLd);function CLd(a,b){var c=!0;c=void 0===c?!1:c;var d=b.getId();a:{var e=yLd(a);e=ha(e);for(var f=e.next();!f.done;f=e.next())if(f.value.tb().wn()==d){e=!0;break a}e=!1}e||(b=b.getName(),d=new z2(b,new iLd(d)),a.C.Ya(d,!0),c&&d.Md(!0))}BLd.prototype.H=function(a){a=a.tb();switch(a.getType()){case "cloud-project":return DLd(this,a);case "bigquery-dataset":return ELd(this,a);case "bigquery-table":return FLd(this,a);default:return a.getType(),uf()}};
function DLd(a,b){var c=b.wn();return pId(a.F,c).then(function(a){return GLd(a,c)})}function ELd(a,b){var c=b.D,d=b.wn();return nId(a.F,d,c).then(function(a){return HLd(a,d,c)})}function FLd(a,b){var c=new $1;c.Ke(b.F);W(c,2,b.D);uHd(c,b.wn());return oId(a.F,c).then(function(a){return ILd(a)})}function GLd(a,b){return a.map(function(a){return new z2(a,new jLd(a,b))})}function HLd(a,b,c){return a.map(function(a){a=a.getName();return new z2(a,new kLd(a,c,b))})}
function ILd(a){return a.map(function(a){return new z2(a,new mLd(a),!0)})};function JLd(a){var b=P,c='<div class="'+Q("waffle-dataconnector-queryeditor-schemamenuwidget-header")+'">';var d=P('<svg class="waffle-dataconnector-database-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="#000" fill-rule="evenodd"><ellipse cx="9" cy="5" rx="7" ry="3"/><path d="M16,7 L16,8.99999983 C16,10.6568542 12.8659932,12 9,12 C5.13400675, 12 2,10.6568542 2,9 L2,7 C2,8.65685425 5.13400675,10 9,10 C12.8659932,10 16,8.65685425 16,7 Z"/><path d="M16,11 L16,12.9999998 C16,14.6568542 12.8659932,16 9,16 C5.13400675,16 2,14.6568542 2,13 L2,11 C2,12.6568542 5.13400675,14 9,14 C12.8659932,14 16,12.6568542 16,11 Z"/></g></svg>');
return b(c+O(d)+"<div>"+O(a.title)+"</div></div>")};function KLd(a,b){r2.call(this,N(JLd,{title:"Schema"}),b);this.C=a;this.Ya(this.C,!0)}q(KLd,r2);function LLd(a,b,c,d,e,f,h,k,l){x2.call(this,b,c,d,e,f,k,l);VGd(this,this.qa().Ma("SPAN",void 0,N(VHd),"BigQuery query editor"));this.O=new eLd(a,this.qa());this.L.Wf(this.O,0,!0);this.zb=new BLd(h,this.qa());this.Jb=new KLd(this.zb);this.L.Ya(this.Jb,!0)}q(LLd,x2);p=LLd.prototype;p.Za=function(){x2.prototype.Za.call(this);this.getHandler().R(this.O,"Xe",this.Yxb);this.Jb.Md(!0);var a=fLd(this.O);a&&CLd(this.zb,a)};
p.nja=function(){var a=oJd(this.D),b=fLd(this.O);if(!a||!b)return null;b=new J1;var c=fLd(this.O).getId();W(b,1,a);W(b,2,c);a=new M1;W(a,4,b);return a};p.a9=function(a){if(a){var b=V(a,4);pJd(this.D,V(b,1));a:{a=this.O;b=b.wn();for(var c=a.C.Yh(),d=0;d<c;d++)if(a.C.Ze(d).eb().getId()==b){a.C.Ve(d);break a}}}else pJd(this.D,"");this.D.mb(!0)};p.H_=n(3);p.Yxb=function(){var a=fLd(this.O);a&&CLd(this.zb,a)};function MLd(a){var b='<div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget")+'"><div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget-connection-name-section")+'"><div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget-connection-name-label")+'">';b=b+"Connection name:"+('</div><div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget-connection-name")+'">'+O(a.QO)+"</div></div></div>");return P(b)};function NLd(a,b){r2.call(this,N(dLd),b);this.C=a}q(NLd,r2);NLd.prototype.Ma=function(){r2.prototype.Ma.call(this);this.setContent(N(MLd,{QO:this.C}))};function OLd(a,b){this.C=a;this.D=b}function PLd(a){var b=new Y1;W(b,1,a.C);return hId(a.D,b,1).then(function(a){return tv(a,4)})}function QLd(a,b){var c=new d2;W(c,1,a.C);W(c,2,b);return iId(a.D,c,1).then(function(a){return tv(a,4)})};function RLd(a,b){uLd.call(this,b);this.F=a}q(RLd,uLd);function SLd(a){PLd(a.F).then(function(b){b.forEach(function(b){b=b.getName();b=new z2(b,new lLd(b));a.C.Ya(b,!0)})},ba())}RLd.prototype.H=function(a){a=a.tb();switch(a.getType()){case "jdbc-table":return TLd(this,a);default:return a.getType(),uf()}};function TLd(a,b){var c=new $1;c.Ke(b.C);return QLd(a.F,c).then(function(a){return ULd(a)})}function ULd(a){return a.map(function(a){return new z2(a,new mLd(a),!0)})};function A2(a,b,c,d,e,f,h,k,l){x2.call(this,a,c,d,e,f,k,l);VGd(this,"Jdbc query editor");this.Jb=new NLd(b);this.L.Wf(this.Jb,0,!0);this.O=new RLd(h,this.qa());SLd(this.O);this.zb=new KLd(this.O,this.qa());this.L.Ya(this.zb,!0)}q(A2,x2);A2.prototype.Za=function(){x2.prototype.Za.call(this);this.zb.Md(!0)};A2.prototype.nja=function(){var a=oJd(this.D);if(!a)return null;var b=new M1;W(b,1,a);return b};A2.prototype.a9=function(a){a=a?V(a,1):"";pJd(this.D,a);this.D.mb(!0)};A2.prototype.H_=n(1);function VLd(){var a='<div class="'+Q("waffle-dataconnector-plx-query-settings-widget")+'"><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-engine-section")+'"></div><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-section")+'"><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-label")+'">';a=a+"External script"+('</div><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-chip-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-button-wrapper")+
'"></div></div></div>');return P(a)};function WLd(a){r2.call(this,N(dLd),a);this.H="";this.F=new v2(this.H);this.Ya(this.F);this.F.C.Qd("Click to open the Plx script editor");this.F.D.Qd("Unlink this Plx script");this.J=new ZR("Add existing script");this.Ya(this.J);this.J.Gd("waffle-dataconnector-plx-query-settings-widget-link-script-button");this.C=new fU;this.C.setContent("Engine");a=ha(qc(XLd));for(var b=a.next();!b.done;b=a.next())b=b.value,this.C.Ad(new Kk(b.caption,b.value));this.C.Ve(0);this.Ya(this.C);this.O=new $n;this.xa(this.O)}
q(WLd,r2);WLd.prototype.Ma=function(){r2.prototype.Ma.call(this);this.setContent(N(VLd));this.C.render(this.$a("waffle-dataconnector-plx-query-settings-widget-engine-section"));this.F.render(this.$a("waffle-dataconnector-plx-query-settings-widget-script-section"));this.J.render(this.$a("waffle-dataconnector-plx-query-settings-widget-script-button-wrapper"))};
WLd.prototype.Za=function(){var a=this;r2.prototype.Za.call(this);this.getHandler().R(this.J,"action",function(b){b.stopPropagation();a.dispatchEvent("Ye")}).R(this.F,"Pe",function(b){b.stopPropagation();a.dispatchEvent("$e")}).R(this.F,"Oe",function(b){b.stopPropagation();Kp(NGd(a.H),{target:"_blank"})}).R(this.C,"change",function(b){b.stopPropagation();a.dispatchEvent("af")});this.Md(!0);this.C.hp();this.Md(!1);YLd(this)};
function YLd(a){var b=!!a.H;b&&a.F.setContent(a.H);a.F.setVisible(b);a.J.setVisible(!b);a.J.mb(!b);a.C.mb(!b)}var ZLd=Object.freeze({caption:"Dremel",value:"DREMEL"}),$Ld=Object.freeze({caption:"F1",value:"F1"}),aMd=Object.freeze({caption:"Procella",value:"PROCELLA"}),XLd={SWa:ZLd,jXa:$Ld,VZa:aMd};function bMd(a,b,c){o2.call(this,b,c);this.F=a?new WGc:new IT;this.Ya(this.F);this.F.Gd("waffle-dataconnector-simple-text-input-prompt-text-field");a&&this.F.setContent(a);this.C.Gd("waffle-dataconnector-simple-text-input-prompt-add-button")}q(bMd,o2);bMd.prototype.Ma=function(){o2.prototype.Ma.call(this);var a=this.qa().Ma("DIV","waffle-dataconnector-simple-text-input-prompt-text-field-wrapper");ie(this.Ob(),a);this.F.render(a)};bMd.prototype.ob=function(a){this.F.ob(a)};
bMd.prototype.Za=function(){var a=this;o2.prototype.Za.call(this);this.getHandler().R(this.C,"action",function(){var b=a.F.eb();""!=b&&a.resolve(b)})};function cMd(a,b,c,d,e,f,h){x2.call(this,a,b,c,d,e,f,h);VGd(this,this.qa().Ma("SPAN",void 0,N(WHd),"Plx query editor"));this.O=new WLd(this.qa());this.L.Wf(this.O,0,!0)}q(cMd,x2);p=cMd.prototype;p.Za=function(){x2.prototype.Za.call(this);this.getHandler().R(this.O,"Ye",this.DNb).R(this.O,"$e",this.bKb)};p.nja=function(){var a=oJd(this.D),b=this.O.H;if(!a&&!b)return null;var c=new M1,d=new I1;b?W(d,3,b):(W(d,1,a),a=this.O.C.Te().eb(),W(d,2,a));W(c,2,d);return c};
p.a9=function(a){this.D.mb(!0);if(a){var b=V(a,2);a=V(b,1);var c=V(b,2);b=V(b,3);if(c)try{a:{for(var d=this.O,e=d.C.Yh(),f=0;f<e;f++)if(d.C.Ze(f).eb()==c){d.C.Ve(f);break a}throw Error("Unrecognized engine type");}}catch(h){}b&&dMd(this,b);a&&pJd(this.D,a)}else pJd(this.D,"")};p.H_=n(2);
p.DNb=function(){var a=this,b=this.O.H,c=new bMd("Script ID");zq(c,"Add existing script");c.C.setContent("Add");c.ob(b);this.xa(c);c.setVisible(!0);xf(c.getResult(),function(){return C(c)}).then(function(b){return dMd(a,b)},ba())};
function dMd(a,b){if(!a.isDisposed()){var c=a.O;c.H=b||"";YLd(c);c=a.D;if(b){c.mb(!1);var d=new Ip;var e=d.Ce("a",{href:NGd(b),target:"_blank"});e=e+"Edit your existing script by viewing it in Plx"+d.Je("a");d=d.format(e);wd(c.$a("waffle-dataconnector-textarea-editor-overlay-message"),d);c.mb(!1);mJd(c,!0)}else c.mb(!0),mJd(c,!1);jA(b?"Script added":"Script removed");a.E9()}}p.bKb=function(){dMd(this,null)};function eMd(){}q(eMd,jr);eMd.prototype.Ma=function(a){a=a.qa().Ma("DIV","waffle-dataconnector-close-badge");hr(a,RHd);return a};eMd.prototype.hc=n("waffle-dataconnector-close-badge");ta(eMd);function fMd(){kr.call(this,void 0,eMd.getInstance())}q(fMd,kr);function gMd(){return P('<div class="'+Q("waffle-dataconnector-linked-script-chip")+'"><div class="'+Q("waffle-dataconnector-linked-script-chip-content")+'" tabindex="0"></div><div class="'+Q("waffle-dataconnector-linked-script-chip-close-badge-wrapper")+'"></div></div>')};function hMd(a,b){M.call(this,b);this.D=a;this.C=new fMd;xk(this.C,"Remove script");this.Ya(this.C)}q(hMd,M);hMd.prototype.Ma=function(){this.Lb(N(gMd));var a=this.$a("waffle-dataconnector-linked-script-chip-content");var b=this.D;b=this.qa().Ma("A",{href:NGd(b),target:"_blank"},b);a.appendChild(b)};
hMd.prototype.Za=function(){var a=this;M.prototype.Za.call(this);this.C.render(this.$a("waffle-dataconnector-linked-script-chip-close-badge-wrapper"));var b="Linked PIX script: "+this.D;Hh(this.$a("waffle-dataconnector-linked-script-chip-content"),b);this.getHandler().R(this.C,"action",function(){return a.dispatchEvent("bf")})};function iMd(){var a=P,b='<div class="'+Q("waffle-dataconnector-plxqueryeditormodule")+'"><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-sidebar")+'"><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-sidebar-header")+'">Plx</div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-link-script-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-script-chip-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-engine-select-wrapper")+
'"></div></div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-main")+'"><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-editor-wrapper")+'"></div>';var c=P('<div class="'+Q("waffle-dataconnector-queryeditor-sharing-message-container")+'"><div class="'+Q("waffle-dataconnector-queryeditor-sharing-message")+'"></div></div>');return a(b+O(c)+"</div></div>")};function jMd(){var a='<div class="'+Q("waffle-dataconnector-sqleditor")+'"><div class="'+Q("waffle-dataconnector-sqleditor-textareawrapper")+'"><div class="'+Q("waffle-dataconnector-sqleditor-overlay")+'"><div class="'+Q("waffle-dataconnector-sqleditor-overlay-message")+'"></div></div><textarea class="'+Q("waffle-dataconnector-sqleditor-textarea")+'" spellcheck="false" aria-label="';a+=tr("Enter your query");a+='"></textarea><div class="'+Q("waffle-dataconnector-sqleditor-linegutter")+'"></div></div></div>';
return P(a)};function kMd(a,b){a=void 0===a?"":a;M.call(this,b);this.Ud=!0;this.D=!1;this.J=a;this.F=this.C=null;this.H=new OT;this.Ya(this.H)}q(kMd,M);kMd.prototype.Ma=function(){this.Lb(N(jMd))};
kMd.prototype.Za=function(){var a=this;M.prototype.Za.call(this);this.C=this.$a("waffle-dataconnector-sqleditor-textarea");this.C.value=this.J;this.F=new os(this.C);this.xa(this.F);this.F.Od(this);this.getHandler().R(this.C,"focus",function(){return lMd(a,!0)}).R(this.C,"blur",function(){return lMd(a,!1)});this.H.render(this.$a("waffle-dataconnector-sqleditor-textareawrapper"));mMd(this);nMd(this,!1)};
function mMd(a){a.C.disabled=!a.Ud||a.D;Oh(a.qb(),"waffle-dataconnector-sqleditor-disabled",!a.Ud||a.D);PT(a.H,a.D)}kMd.prototype.mb=function(a){this.D||a==this.Ud||(this.Ud=a,this.Sb()&&mMd(this))};kMd.prototype.isEnabled=g("Ud");function oMd(a){a.D=!0;a.Sb()&&mMd(a)}function nMd(a,b){L(a.$a("waffle-dataconnector-sqleditor-overlay"),b)}function lMd(a,b){Oh(a.qb(),"waffle-dataconnector-sqleditor-focused",b)};function pMd(a,b,c){bLd.call(this,c);var d=this;this.H=this.J=null;this.F=new ZR("Add existing script");this.Ya(this.F);this.D=new fU;this.D.setContent("Engine");qMd(this);this.D.Ve(0);this.Ya(this.D);this.C=new kMd(void 0,this.qa());this.Ya(this.C);this.L=new ZR;this.L.Gd("waffle-dataconnector-plxqueryeditormodule-preview-button");this.Ya(this.L);this.O=new aj(function(){rMd(d,null)});this.xa(this.O);b&&(this.F.mb(!1),oMd(this.C),xf(b.then(function(a){var b=V(a,2),c=V(b,1);a=V(b,3);b=V(b,2);var e=
d.C;c=c||"";e.isDisposed()||(e.D=!1,e.Sb()?(e.C.value=c,mMd(e)):e.J=c);rMd(d,a);b&&d.D.ob(b);d.F.mb(!0)},ba()),function(){d.dispatchEvent("We")}))}q(pMd,bLd);pMd.prototype.Ma=function(){this.Lb(N(iMd))};
pMd.prototype.Za=function(){var a=this;bLd.prototype.Za.call(this);this.C.render(this.$a("waffle-dataconnector-plxqueryeditormodule-editor-wrapper"));this.L.render(this.$a("waffle-dataconnector-queryeditor-sharing-message-container"));this.F.render(this.$a("waffle-dataconnector-plxqueryeditormodule-link-script-button-wrapper"));this.D.render(this.$a("waffle-dataconnector-plxqueryeditormodule-engine-select-wrapper"));this.getHandler().R(this.C,"input",function(){a.dispatchEvent("We")}).R(this.F,"action",
function(){return sMd(a)}).R(this,"bf",function(){a.O.start()}).R(this.D,"aftershow",function(a){return a.stopPropagation()})};function PKd(a){var b=a.C.C.value;if(!b&&!a.J)return null;var c=new M1,d=new I1;a.J?W(d,3,a.J):(W(d,1,b),a=a.D.Te().eb(),W(d,2,a));W(c,2,d);return c}function qMd(a){for(var b=ha(qc(tMd)),c=b.next();!c.done;c=b.next())c=c.value,a.D.Ad(new Kk(c.caption,c.value))}
function sMd(a){var b=new bMd("Script ID");zq(b,"Add existing script");b.C.setContent("Add");a.xa(b);b.setVisible(!0);xf(xf(b.getResult(),function(){return C(b)}).then(function(b){return rMd(a,b)},ba()),function(){(null!=a.J?a.H.qb():a.D.qb()).focus()})}
function rMd(a,b){if(!a.isDisposed()){a.J=b;var c=!!b;a.C.mb(!c);a.D.mb(!c);a.F.setVisible(!c);a.F.mb(!c);C(a.H);a.H=null;if(b){a.H=new hMd(b);a.Ya(a.H);a.H.render(a.$a("waffle-dataconnector-plxqueryeditormodule-script-chip-wrapper"));c=new Ip;var d=c.Ce("a",{href:NGd(b),target:"_blank"});d=d+"Edit your existing script by viewing it in Plx"+c.Je("a");c=c.format(d);a.C.mb(!1);d=a.C;wd(d.$a("waffle-dataconnector-sqleditor-overlay-message"),c);nMd(d,!0)}else a.C.mb(!0),nMd(a.C,!1);jA(b?"Script added":
"Script removed");a.dispatchEvent("We")}}var uMd=Object.freeze({caption:"Dremel",value:"DREMEL"}),vMd=Object.freeze({caption:"F1",value:"F1"}),wMd=Object.freeze({caption:"Procella",value:"PROCELLA"}),tMd={SWa:uMd,jXa:vMd,VZa:wMd};function xMd(a,b,c){this.C=a;this.F=b;this.Db=new Rd;this.D=c}function yMd(a,b,c){return new A2(b,c,TA,function(a){return zMd(b,a)},new w2(a.C,a.Db),a.D,new OLd(b,a.F),void 0,a.Db)}function AMd(a,b,c,d,e){a=new A2(b,c,UA,function(a){return BMd(d,a)},new w2(a.C,a.Db),a.D,new OLd(b,a.F),void 0,a.Db);iKd(a,e);return a}
function CMd(a,b){if(I(H(),"fenqeu"))return new cMd(b,TA,function(a){return zMd(b,a)},new w2(a.C,a.Db),a.D,void 0,a.Db);var c=new pMd(b,void 0,a.Db);return new NKd(b,c,TA,function(a){return zMd(b,a)},a.C,void 0,a.Db)}function DMd(a,b,c,d){if(I(H(),"fenqeu"))return a=new cMd(b,UA,function(a){return BMd(c,a)},new w2(a.C,a.Db),a.D,void 0,a.Db),iKd(a,d),a;d=new pMd(b,d,a.Db);return new NKd(b,d,UA,function(a){return BMd(c,a)},a.C,void 0,a.Db)}
function EMd(a,b,c){return new LLd(c,b,TA,function(a){return zMd(b,a)},new w2(a.C,a.Db),a.D,new mId(a.F,b),void 0,a.Db)}function FMd(a,b,c,d,e){a=new LLd(c,b,UA,function(a){return BMd(d,a)},new w2(a.C,a.Db),a.D,new mId(a.F,b),void 0,a.Db);iKd(a,e);return a}function zMd(a,b){var c=new R1;W(c,1,a);W(c,2,b);return c}function BMd(a,b){var c=new a2;W(c,1,a);W(c,2,b);return c};function GMd(a,b,c,d){var e="Error in query on "+c;c=new rId;c.Gd("waffle-dataconnector-error-popup");zq(c,e);c.C.setContent("Open query editor");c.J.setContent("OK");a=10==V(a,2)?hJd(d):bJd(b,a);Aq(c,a);return c};function HMd(a,b,c,d,e,f,h,k){A.call(this);this.O=new TId;this.xa(this.O);this.bb=a;this.L=a.Kb;this.H=ZHd.getInstance();this.jb=new KKd(this.H);this.D=b;this.Wa=e;this.$=f;this.V=new xMd(h,this.H,this.$);this.F=null;this.ma=new E;this.xa(this.ma);this.C=null;(this.J=I(H(),"fedcpw")?new CKd(b,c,d,a,this.O):null)&&this.xa(this.J);this.cb=new Rh(this);this.xa(this.cb);this.Aa=new Xe(this);this.xa(this.Aa);this.Ra=new eKd;this.xa(this.Ra);IMd(this,k);this.cb.R(this.ma,["show","hide"],this.Cnb).R(this.D,
"qb",this.pJb).R(this.D,"rb",this.qJb).R(this.D,"Jb",this.PAb).R(this.bb,"db-execution-status-updated",this.oJb);this.Aa.subscribe(n7a,"action",this.Bfa).subscribe(VA,"action",this.Jxb).subscribe(TA,"action",this.Hmb).subscribe(v7a,"action",this.Qyb).subscribe(p7a,"action",this.XNa).subscribe(UA,"action",this.Tob).subscribe(u7a,"action",this.Vxb).subscribe(WA,"action",this.rmb).subscribe(t7a,"action",this.Zvb);JMd(this);this.J&&this.J.refresh()}q(HMd,A);
function IMd(a,b){var c=Yic(),d=new nt(Zic.concat(["waffle-dataconnector-connection-selected"])),e=Zic.concat(["waffle-dataconnector-active-sheet-db-connection","sheet-access-no-protected-range-for-sheet"]);c||e.push("waffle-dataconnector-active-sheet-not-plx");c=new nt(e);b.C(TA,YP).D(TA,YP).C(UA,YP).D(UA,YP).C(u7a,YP).D(u7a,YP).C(n7a,YP).C(v7a,c).C(p7a,c).C(VA,YP).C(WA,d).C(t7a,c);b.C(q7a,c);a.Aa.Tb(q7a,Oa,function(){a.J&&a.J.refresh()})}p=HMd.prototype;p.Ff=function(a){this.H.Ff(a)};
function B2(a,b){C(a.F);a.F=b;a.F.Od(a.ma);b instanceof yq?a.$.Eh(a.F):a.$.Eh(new Qmb(a.F));a.F.render();a.F.setVisible(!0)}p.Bfa=function(){C(this.F);this.F=null};p.pJb=function(){JMd(this)};p.qJb=function(){this.C&&(C(this.C),this.C=null,DP())};p.PAb=function(){JMd(this)};
function JMd(a){var b=a.D.C.C;if(b&&null!=b.F)if(null==a.C){b=a.D.C.C;var c=b.F,d=V(c,2);d=bH(a.L,d);var e;2!=V(d,3)||Yic()?e=d.getName():e="Database connection";a.C=new WId(e,b.Ib(),V(c,1),a.O,a.D,a.Wa);a.xa(a.C);a.C.show()}else XId(a.C)}p.Cnb=function(){this.F&&this.F.isVisible()||(VA.ob(null),WA.ob(null))};
p.CNb=function(){var a=new LId;this.xa(a);B2(this,a);gId(this.H).then(function(b){var c=[];tv(b,1).forEach(function(a){c.push(HId((new GId).vf(a.getId()).Ke(a.getName()).setType(V(a,3))).build())});a.isDisposed()||(NId(a,c),MId(a,!1))})};p.S4a=function(){var a=this,b=KMd("Connecting to PLX...");LMd(this,"Plx",2).then(function(c){c=new DId(c,2);a.xa(c);B2(a,c);Bp(Ap.getInstance(),b)},function(){MMd("Could not connect to PLX");Bp(Ap.getInstance(),b)})};
p.R4a=function(){var a=this,b=new WGd;this.xa(b);B2(this,b);b.getResult().then(function(c){C(b);c&&NMd(a)},function(){C(b)})};function NMd(a){var b=KMd("Connecting to BigQuery..."),c;LMd(a,"BigQuery",3).then(function(b){c=b;return qId(new mId(a.H,b))}).then(function(d){Bp(Ap.getInstance(),b);OMd(a,c,d)},function(){Bp(Ap.getInstance(),b);MMd("Could not connect to BigQuery")})}
function OMd(a,b,c){c=new OHd(c);var d=new XHd(c);a.xa(d);B2(a,d);d.getResult().then(function(c){c=EMd(a.V,b,c);a.xa(c);B2(a,c)},function(){C(d)})}function KMd(a){return Ap.getInstance().postMessage(Cp(a,"info",!0))}function MMd(a){Ap.getInstance().postMessage(Cp(a,"error",!0))}function LMd(a,b,c){var d=new N1;d.Ke(b);W(d,2,c);return $Hd(a.H,d).then(function(a){return V(a,2)})}
function PMd(a,b){var c=KMd("Importing connection..."),d=new O1;d.vf(b);d.setType(1);return cId(a.H,d).then(function(){Bp(Ap.getInstance(),c)},function(){Bp(Ap.getInstance(),c)})}p.Vxb=function(){var a=this.F,b=a.F;switch(a.C){case 2:QMd(this,b);break;case 1:RMd(this,b)}};function RMd(a,b){var c=bH(a.L,b).getName();b=yMd(a.V,b,c);a.xa(b);B2(a,b)}function QMd(a,b){b=CMd(a.V,b);a.xa(b);B2(a,b)}
p.rmb=function(){var a=this,b=WA.eb(),c=b.getId(),d=b.getType();switch(d){case 2:QMd(this,c);break;case 1:bH(this.L,b.getId())?RMd(this,c):PMd(this,c).then(function(){RMd(a,c)},ba());break;default:throw Error("Unsupported connection type: "+d);}};p.Jxb=function(a){var b=this.F;b.LNa();var c=V(a,2);HKd(IKd(GKd(LKd(this.jb,a),function(a){b.isDisposed()||b.HNa(a,c)}),function(a){b.isDisposed()||b.GNa(a)}),function(a){b.isDisposed()||b.FNa(a)}).start()};
p.Hmb=function(a){var b=this,c=this.F;aId(this.H,a).then(function(a){SMd(b,a)},function(a){c.isDisposed()||c.Eoa(a)});c.Goa()};function SMd(a,b){UId(a.O,V(b,2),b.Hj());var c=ec(b.Ib());Number.isNaN(c);a.Bfa();vA(a.D.C,c)?tA(a.D.C)==c?(JMd(a),a.J&&a.J.refresh()):xG(a.D,c):a.cb.Sc(a.D,["Bb","qb"],function(b){"Bb"==b.type&&b.uh==c&&xG(a.D,c)})}p.Qyb=function(){TMd(this,kI(this.D.C))};
function TMd(a,b){var c=vA(a.D.C,b).F,d=V(bH(a.L,V(c,2)),3),e=new W1;W(e,1,b.toString());eId(a.H,e,d).then(function(d){var e=V(c,1);d=d.Hj();a.O.C[e]=d;a.C&&!a.C.isDisposed()&&a.C.Ib()==b&&XId(a.C);a.J&&a.J.refresh()},function(c){c=c.Hj();V(c,2);a.C&&!a.C.isDisposed()&&a.C.Ib()==b&&RId(a.C.C,!1,!0);UMd(a,b,c)});SId(a.C.C)}
function UMd(a,b,c){var d=vA(a.D.C,b),e=d&&d.F;if(e){d=d.Wd();e=VMd(a,e);var f="waffle-dataconnector-ssologin-"+ac(),h=GMd(c,e,d,f);a.xa(h);a.$.Eh(h);h.render();h.setVisible(!0);h.getResult().then(function(){C(h);a.XNa(b)},function(){C(h)});(c=Td(f))&&o2.prototype.getHandler.call(h).R(c,"click",function(){WMd(a,b,h)})}}function WMd(a,b,c){fKd(a.Ra,function(){C(c);TMd(a,b)})}
p.XNa=function(a){if((a=void 0!==a?vA(this.D.C,a):this.D.C.C)&&null!=a.F){var b=a.F;a=V(b,2);b=V(b,1);switch(V(bH(this.L,a),3)){case 2:a=DMd(this.V,a,b,XMd(this,b));this.xa(a);B2(this,a);break;case 1:var c=bH(this.L,a).getName();a=AMd(this.V,a,c,b,XMd(this,b));this.xa(a);B2(this,a);break;case 3:YMd(this,a,b)}}};
function YMd(a,b,c){var d=KMd("Connecting to BigQuery...");qId(new mId(a.H,b)).then(function(e){Bp(Ap.getInstance(),d);e=FMd(a.V,b,new OHd(e),c,XMd(a,c));a.xa(e);B2(a,e)},function(){Bp(Ap.getInstance(),d);MMd("Could not connect to BigQuery")})}function XMd(a,b){var c=wf(),d=new IHd;W(d,1,b);jId(a.H,d).then(function(a){V(a,1)?c.resolve(V(a,2)):c.reject()},function(a){return c.reject(a)});return c.C}
p.Tob=function(a){var b=this,c=V(a,1),d=this.F;fId(this.H,a).then(function(a){a=a.Hj();b.O.C[c]=a;a=ritz_api.DbxApi.getSheetIdForQuery(c);xG(b.D,parseInt(a,10));b.Bfa();XId(b.C);b.J&&b.J.refresh()},function(a){d.isDisposed()||d.Eoa(a)});d.Goa()};function VMd(a,b){b=V(b,2);a=a.L.C[b];b=V(a,3);a.getName();return b}p.oJb=function(a){a.D&&0!=a.D.length&&this.C&&cb(a.D,this.C.D)&&XId(this.C)};
p.Zvb=function(){var a=this,b=this.D.C.C,c=V(b.F,1),d=new LHd;W(d,1,c);this.H.Hj(d).then(function(c){(c=c.Hj())&&3==c.getState()&&UMd(a,b.Ib(),c)})};function ZMd(){A.call(this)}q(ZMd,Zz);ZMd.prototype.C=function(){return HMd};eA("dataconnector",ZMd);
